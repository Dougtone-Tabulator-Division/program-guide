import{s as ke,l as Ee,e as h,t as Y,a as T,c as k,b as C,d as Z,g as N,f as D,m as j,i as z,h as a,r as fe,D as He,j as we,u as Pe,o as Se,p as Te,N as Ne,k as Ue,w as Me,x as je,q as de,B as me,v as Be,n as ue,z as y}from"../chunks/scheduler.Bh2TjGwV.js";import{S as Ie,i as De,t as I,a as P,c as oe,b as B,d as L,m as O,e as q,g as se}from"../chunks/index.TvtXsUKR.js";import{$ as Le}from"../chunks/bundler.Dp19WDvl.js";import{p as Oe}from"../chunks/stores.CwXHUZ3d.js";/* empty css                      */function qe(o){let e,t,n,r,_,i,c;const $=o[3].default,s=Ee($,o,o[2],null);return{c(){e=h("div"),t=Y(o[0]),n=T(),r=h("button"),s&&s.c(),this.h()},l(l){e=k(l,"DIV",{class:!0});var f=C(e);t=Z(f,o[0]),n=N(f),r=k(f,"BUTTON",{class:!0});var p=C(r);s&&s.l(p),p.forEach(D),f.forEach(D),this.h()},h(){j(r,"class","btn btn-circle btn-color svelte-h7t4ie"),j(e,"class","remote-button svelte-h7t4ie")},m(l,f){z(l,e,f),a(e,t),a(e,n),a(e,r),s&&s.m(r,null),_=!0,i||(c=fe(r,"click",function(){He(o[1])&&o[1].apply(this,arguments)}),i=!0)},p(l,[f]){o=l,(!_||f&1)&&we(t,o[0]),s&&s.p&&(!_||f&4)&&Pe(s,$,o,o[2],_?Te($,o[2],f,null):Se(o[2]),null)},i(l){_||(I(s,l),_=!0)},o(l){P(s,l),_=!1},d(l){l&&D(e),s&&s.d(l),i=!1,c()}}}function Ae(o,e,t){let{$$slots:n={},$$scope:r}=e,{label:_=""}=e,{clickHandler:i=()=>{}}=e;return o.$$set=c=>{"label"in c&&t(0,_=c.label),"clickHandler"in c&&t(1,i=c.clickHandler),"$$scope"in c&&t(2,r=c.$$scope)},[_,i,r,n]}class A extends Ie{constructor(e){super(),De(this,e,Ae,qe,ke,{label:0,clickHandler:1})}}function _e(o){let e,t,n,r="Connect",_,i,c,$="Enter the pairing code from the TV",s,l,f,p,U,M,d,E,m=o[3]&&pe(o);return{c(){m&&m.c(),e=T(),t=h("div"),n=h("div"),n.textContent=r,_=T(),i=h("div"),c=h("p"),c.textContent=$,s=T(),l=h("input"),f=T(),p=h("button"),U=Y("Connect"),this.h()},l(u){m&&m.l(u),e=N(u),t=k(u,"DIV",{class:!0});var v=C(t);n=k(v,"DIV",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-18ualuf"&&(n.textContent=r),_=N(v),i=k(v,"DIV",{class:!0});var b=C(i);c=k(b,"P",{"data-svelte-h":!0}),de(c)!=="svelte-18ww69z"&&(c.textContent=$),s=N(b),l=k(b,"INPUT",{type:!0,class:!0}),f=N(b),p=k(b,"BUTTON",{class:!0});var R=C(p);U=Z(R,"Connect"),R.forEach(D),b.forEach(D),v.forEach(D),this.h()},h(){j(n,"class","title-bar"),j(l,"type","text"),j(l,"class","input input-bordered w-full max-w-xs"),j(p,"class","btn btn-primary"),p.disabled=M=!o[2],j(i,"class","p-2"),j(t,"class","window active")},m(u,v){m&&m.m(u,v),z(u,e,v),z(u,t,v),a(t,n),a(t,_),a(t,i),a(i,c),a(i,s),a(i,l),me(l,o[2]),a(i,f),a(i,p),a(p,U),d||(E=[fe(l,"input",o[6]),fe(p,"click",o[4])],d=!0)},p(u,v){u[3]?m?m.p(u,v):(m=pe(u),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),v&4&&l.value!==u[2]&&me(l,u[2]),v&4&&M!==(M=!u[2])&&(p.disabled=M)},d(u){u&&(D(e),D(t)),m&&m.d(u),d=!1,Be(E)}}}function pe(o){let e,t;return{c(){e=h("p"),t=Y(o[3])},l(n){e=k(n,"P",{});var r=C(e);t=Z(r,o[3]),r.forEach(D)},m(n,r){z(n,e,r),a(e,t)},p(n,r){r&8&&we(t,n[3])},d(n){n&&D(e)}}}function $e(o){let e,t;return e=new A({props:{label:"Muting",clickHandler:o[7]}}),{c(){B(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,r){O(e,n,r),t=!0},p:ue,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function ve(o){let e,t,n;return e=new A({props:{label:"Power",clickHandler:o[8]}}),{c(){t=h("div"),B(e.$$.fragment),this.h()},l(r){t=k(r,"DIV",{style:!0});var _=C(t);L(e.$$.fragment,_),this.h()},h(){y(t,"display","contents"),y(t,"--remote-button-color","rgb(74 222 128)")},m(r,_){z(r,t,_),O(e,t,null),n=!0},p:ue,i(r){n||(I(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){r&&e&&D(t),q(e,r)}}}function ge(o){let e,t,n,r,_,i,c,$,s,l,f,p,U,M,d,E,m,u,v,b,R,ee,W,F,te,G,J,ne,x,le,g,S,H;return t=new A({props:{label:"1",clickHandler:o[9]}}),_=new A({props:{label:"2",clickHandler:o[10]}}),$=new A({props:{label:"3",clickHandler:o[11]}}),f=new A({props:{label:"4",clickHandler:o[12]}}),M=new A({props:{label:"5",clickHandler:o[13]}}),m=new A({props:{label:"6",clickHandler:o[14]}}),b=new A({props:{label:"7",clickHandler:o[15]}}),W=new A({props:{label:"8",clickHandler:o[16]}}),G=new A({props:{label:"9",clickHandler:o[17]}}),g=new A({props:{label:"0",clickHandler:o[18]}}),{c(){e=h("div"),n=h("div"),B(t.$$.fragment),r=T(),i=h("div"),B(_.$$.fragment),c=T(),s=h("div"),B($.$$.fragment),l=T(),p=h("div"),B(f.$$.fragment),U=T(),d=h("div"),B(M.$$.fragment),E=T(),u=h("div"),B(m.$$.fragment),v=T(),R=h("div"),B(b.$$.fragment),ee=T(),F=h("div"),B(W.$$.fragment),te=T(),J=h("div"),B(G.$$.fragment),ne=T(),x=h("div"),le=T(),S=h("div"),B(g.$$.fragment),this.h()},l(w){e=k(w,"DIV",{class:!0});var V=C(e);n=k(V,"DIV",{style:!0});var K=C(n);L(t.$$.fragment,K),r=N(V),i=k(V,"DIV",{style:!0});var Q=C(i);L(_.$$.fragment,Q),c=N(V),s=k(V,"DIV",{style:!0});var X=C(s);L($.$$.fragment,X),l=N(V),p=k(V,"DIV",{style:!0});var re=C(p);L(f.$$.fragment,re),U=N(V),d=k(V,"DIV",{style:!0});var ie=C(d);L(M.$$.fragment,ie),E=N(V),u=k(V,"DIV",{style:!0});var ae=C(u);L(m.$$.fragment,ae),v=N(V),R=k(V,"DIV",{style:!0});var ce=C(R);L(b.$$.fragment,ce),ee=N(V),F=k(V,"DIV",{style:!0});var Ce=C(F);L(W.$$.fragment,Ce),te=N(V),J=k(V,"DIV",{style:!0});var Ve=C(J);L(G.$$.fragment,Ve),ne=N(V),x=k(V,"DIV",{}),C(x).forEach(D),le=N(V),S=k(V,"DIV",{style:!0});var ye=C(S);L(g.$$.fragment,ye),V.forEach(D),this.h()},h(){y(n,"display","contents"),y(n,"--remote-button-color","rgb(230,230,230)"),y(i,"display","contents"),y(i,"--remote-button-color","rgb(230,230,230)"),y(s,"display","contents"),y(s,"--remote-button-color","rgb(230,230,230)"),y(p,"display","contents"),y(p,"--remote-button-color","rgb(230,230,230)"),y(d,"display","contents"),y(d,"--remote-button-color","rgb(230,230,230)"),y(u,"display","contents"),y(u,"--remote-button-color","rgb(230,230,230)"),y(R,"display","contents"),y(R,"--remote-button-color","rgb(230,230,230)"),y(F,"display","contents"),y(F,"--remote-button-color","rgb(230,230,230)"),y(J,"display","contents"),y(J,"--remote-button-color","rgb(230,230,230)"),y(S,"display","contents"),y(S,"--remote-button-color","rgb(230,230,230)"),j(e,"class","grid grid-cols-3 gap-2 align-center mb-6")},m(w,V){z(w,e,V),a(e,n),O(t,n,null),a(e,r),a(e,i),O(_,i,null),a(e,c),a(e,s),O($,s,null),a(e,l),a(e,p),O(f,p,null),a(e,U),a(e,d),O(M,d,null),a(e,E),a(e,u),O(m,u,null),a(e,v),a(e,R),O(b,R,null),a(e,ee),a(e,F),O(W,F,null),a(e,te),a(e,J),O(G,J,null),a(e,ne),a(e,x),a(e,le),a(e,S),O(g,S,null),H=!0},p:ue,i(w){H||(I(t.$$.fragment,w),I(_.$$.fragment,w),I($.$$.fragment,w),I(f.$$.fragment,w),I(M.$$.fragment,w),I(m.$$.fragment,w),I(b.$$.fragment,w),I(W.$$.fragment,w),I(G.$$.fragment,w),I(g.$$.fragment,w),H=!0)},o(w){P(t.$$.fragment,w),P(_.$$.fragment,w),P($.$$.fragment,w),P(f.$$.fragment,w),P(M.$$.fragment,w),P(m.$$.fragment,w),P(b.$$.fragment,w),P(W.$$.fragment,w),P(G.$$.fragment,w),P(g.$$.fragment,w),H=!1},d(w){w&&D(e),q(t),q(_),q($),q(f),q(M),q(m),q(b),q(W),q(G),q(g)}}}function be(o){let e,t,n,r,_,i,c,$;return n=new A({props:{clickHandler:o[19],$$slots:{default:[Re]},$$scope:{ctx:o}}}),i=new A({props:{clickHandler:o[20],$$slots:{default:[ze]},$$scope:{ctx:o}}}),{c(){e=h("div"),t=Y(`VOLUME\r
                            `),r=h("div"),B(n.$$.fragment),_=T(),c=h("div"),B(i.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=C(e);t=Z(l,`VOLUME\r
                            `),r=k(l,"DIV",{style:!0});var f=C(r);L(n.$$.fragment,f),_=N(l),c=k(l,"DIV",{style:!0});var p=C(c);L(i.$$.fragment,p),l.forEach(D),this.h()},h(){y(r,"display","contents"),y(r,"--remote-button-color","rgb(230,230,230)"),y(c,"display","contents"),y(c,"--remote-button-color","rgb(230,230,230)"),j(e,"class","flex flex-col gap-2 text-white items-center")},m(s,l){z(s,e,l),a(e,t),a(e,r),O(n,r,null),a(e,_),a(e,c),O(i,c,null),$=!0},p(s,l){const f={};l&1073741824&&(f.$$scope={dirty:l,ctx:s}),n.$set(f);const p={};l&1073741824&&(p.$$scope={dirty:l,ctx:s}),i.$set(p)},i(s){$||(I(n.$$.fragment,s),I(i.$$.fragment,s),$=!0)},o(s){P(n.$$.fragment,s),P(i.$$.fragment,s),$=!1},d(s){s&&D(e),q(n),q(i)}}}function Re(o){let e;return{c(){e=Y("+")},l(t){e=Z(t,"+")},m(t,n){z(t,e,n)},d(t){t&&D(e)}}}function ze(o){let e;return{c(){e=Y("-")},l(t){e=Z(t,"-")},m(t,n){z(t,e,n)},d(t){t&&D(e)}}}function he(o){let e,t,n,r,_,i,c,$;return n=new A({props:{clickHandler:o[21],$$slots:{default:[We]},$$scope:{ctx:o}}}),i=new A({props:{clickHandler:o[22],$$slots:{default:[Fe]},$$scope:{ctx:o}}}),{c(){e=h("div"),t=Y(`CHANNEL\r
                            `),r=h("div"),B(n.$$.fragment),_=T(),c=h("div"),B(i.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=C(e);t=Z(l,`CHANNEL\r
                            `),r=k(l,"DIV",{style:!0});var f=C(r);L(n.$$.fragment,f),_=N(l),c=k(l,"DIV",{style:!0});var p=C(c);L(i.$$.fragment,p),l.forEach(D),this.h()},h(){y(r,"display","contents"),y(r,"--remote-button-color","#C6956D"),y(c,"display","contents"),y(c,"--remote-button-color","#C6956D"),j(e,"class","flex flex-col gap-2 text-white items-center")},m(s,l){z(s,e,l),a(e,t),a(e,r),O(n,r,null),a(e,_),a(e,c),O(i,c,null),$=!0},p(s,l){const f={};l&1073741824&&(f.$$scope={dirty:l,ctx:s}),n.$set(f);const p={};l&1073741824&&(p.$$scope={dirty:l,ctx:s}),i.$set(p)},i(s){$||(I(n.$$.fragment,s),I(i.$$.fragment,s),$=!0)},o(s){P(n.$$.fragment,s),P(i.$$.fragment,s),$=!1},d(s){s&&D(e),q(n),q(i)}}}function We(o){let e;return{c(){e=Y("+")},l(t){e=Z(t,"+")},m(t,n){z(t,e,n)},d(t){t&&D(e)}}}function Fe(o){let e;return{c(){e=Y("-")},l(t){e=Z(t,"-")},m(t,n){z(t,e,n)},d(t){t&&D(e)}}}function Ge(o){var R,ee,W,F,te,G,J,ne,x,le;let e,t,n,r,_,i,c,$,s,l,f,p,U,M,d=!o[1]&&_e(o),E=((ee=(R=o[0])==null?void 0:R.kiosk)==null?void 0:ee.volumeControls)!==!1&&$e(o),m=((F=(W=o[0])==null?void 0:W.kiosk)==null?void 0:F.powerControls)!==!1&&ve(o),u=((G=(te=o[0])==null?void 0:te.kiosk)==null?void 0:G.channelControls)!==!1&&ge(o),v=((ne=(J=o[0])==null?void 0:J.kiosk)==null?void 0:ne.volumeControls)!==!1&&be(o),b=((le=(x=o[0])==null?void 0:x.kiosk)==null?void 0:le.channelControls)!==!1&&he(o);return{c(){e=h("meta"),t=T(),n=h("div"),d&&d.c(),r=T(),_=h("div"),i=h("div"),c=h("div"),$=h("div"),E&&E.c(),s=T(),m&&m.c(),l=T(),u&&u.c(),f=T(),p=h("div"),v&&v.c(),U=T(),b&&b.c(),this.h()},l(g){const S=Ne("svelte-52nmml",document.head);e=k(S,"META",{name:!0,content:!0}),S.forEach(D),t=N(g),n=k(g,"DIV",{class:!0});var H=C(n);d&&d.l(H),r=N(H),_=k(H,"DIV",{class:!0});var w=C(_);i=k(w,"DIV",{class:!0});var V=C(i);c=k(V,"DIV",{class:!0});var K=C(c);$=k(K,"DIV",{class:!0});var Q=C($);E&&E.l(Q),s=N(Q),m&&m.l(Q),Q.forEach(D),l=N(K),u&&u.l(K),f=N(K),p=k(K,"DIV",{class:!0});var X=C(p);v&&v.l(X),U=N(X),b&&b.l(X),X.forEach(D),K.forEach(D),V.forEach(D),w.forEach(D),H.forEach(D),this.h()},h(){j(e,"name","apple-mobile-web-app-capable"),j(e,"content","yes"),j($,"class","flex flex-wrap gap-4 justify-around mb-6"),j(p,"class","flex flex-wrap justify-around mb-6"),j(c,"class","p-4"),j(i,"class","window remote svelte-13uf4q4"),j(_,"class","mt-6 flex justify-center"),j(n,"class","desktop p-4")},m(g,S){a(document.head,e),z(g,t,S),z(g,n,S),d&&d.m(n,null),a(n,r),a(n,_),a(_,i),a(i,c),a(c,$),E&&E.m($,null),a($,s),m&&m.m($,null),a(c,l),u&&u.m(c,null),a(c,f),a(c,p),v&&v.m(p,null),a(p,U),b&&b.m(p,null),M=!0},p(g,[S]){var H,w,V,K,Q,X,re,ie,ae,ce;g[1]?d&&(d.d(1),d=null):d?d.p(g,S):(d=_e(g),d.c(),d.m(n,r)),((w=(H=g[0])==null?void 0:H.kiosk)==null?void 0:w.volumeControls)!==!1?E?(E.p(g,S),S&1&&I(E,1)):(E=$e(g),E.c(),I(E,1),E.m($,s)):E&&(se(),P(E,1,1,()=>{E=null}),oe()),((K=(V=g[0])==null?void 0:V.kiosk)==null?void 0:K.powerControls)!==!1?m?(m.p(g,S),S&1&&I(m,1)):(m=ve(g),m.c(),I(m,1),m.m($,null)):m&&(se(),P(m,1,1,()=>{m=null}),oe()),((X=(Q=g[0])==null?void 0:Q.kiosk)==null?void 0:X.channelControls)!==!1?u?(u.p(g,S),S&1&&I(u,1)):(u=ge(g),u.c(),I(u,1),u.m(c,f)):u&&(se(),P(u,1,1,()=>{u=null}),oe()),((ie=(re=g[0])==null?void 0:re.kiosk)==null?void 0:ie.volumeControls)!==!1?v?(v.p(g,S),S&1&&I(v,1)):(v=be(g),v.c(),I(v,1),v.m(p,U)):v&&(se(),P(v,1,1,()=>{v=null}),oe()),((ce=(ae=g[0])==null?void 0:ae.kiosk)==null?void 0:ce.channelControls)!==!1?b?(b.p(g,S),S&1&&I(b,1)):(b=he(g),b.c(),I(b,1),b.m(p,null)):b&&(se(),P(b,1,1,()=>{b=null}),oe())},i(g){M||(I(E),I(m),I(u),I(v),I(b),M=!0)},o(g){P(E),P(m),P(u),P(v),P(b),M=!1},d(g){g&&(D(t),D(n)),D(e),d&&d.d(),E&&E.d(),m&&m.d(),u&&u.d(),v&&v.d(),b&&b.d()}}}function Je(o,e,t){let n;Ue(o,Oe,H=>t(29,n=H));let r,_=!1,i="",c=9e3,$="/",s="",l,f,p,U="";Me(()=>{i=n.url.searchParams.get("server")??"",c=parseInt(n.url.searchParams.get("port")??"9000"),$=n.url.searchParams.get("path")??"/",t(2,s=n.url.searchParams.get("id")??""),l=new Le(null,i?{host:i,port:c,path:$,debug:3}:{debug:3}),l.on("open",function(H){l.id===null?(console.debug("Received null id from peer open"),l.id=sessionStorage.lastPeerId):sessionStorage.lastPeerId=l.id,console.debug("ID: "+l.id),t(3,U="Waiting to connect...")}),l.on("connection",function(H){console.log("Connection"),H.on("open",function(){console.log("Sender does not accept incoming connections"),H.send("Sender does not accept incoming connections"),p=setTimeout(function(){H.close()},500)})}),l.on("disconnected",function(){t(3,U="Connection lost. Please reconnect"),console.debug("Connection lost. Please reconnect"),l.id=sessionStorage.lastPeerId,l._lastServerId=sessionStorage.lastPeerId,l.reconnect()}),l.on("close",function(){f=null,t(3,U="Connection destroyed. Please refresh"),console.debug("Connection destroyed")}),l.on("error",function(H){console.error(H),alert(""+H)})}),je(()=>{f&&f.close(),l==null||l.destroy(),p&&clearTimeout(p)});function M(){console.debug("connecting to",s),f&&f.close(),f=l.connect(s,{reliable:!0}),f.on("data",function(H){console.debug("Received",H),H&&t(0,r=H)}),f.on("open",function(){t(3,U="Connected to: "+f.peer),console.debug("Connected to: "+f.peer),t(1,_=!0)}),f.on("close",function(){t(3,U="Connection closed"),t(1,_=!1)})}function d(H){console.debug("sending command",H),f.send(H)}function E(){s=this.value,t(2,s)}return[r,_,s,U,M,d,E,()=>d("mute"),()=>d("power"),()=>d("1"),()=>d("2"),()=>d("3"),()=>d("4"),()=>d("5"),()=>d("6"),()=>d("7"),()=>d("8"),()=>d("9"),()=>d("0"),()=>d("volumeUp"),()=>d("volumeDown"),()=>d("channelUp"),()=>d("channelDown")]}class xe extends Ie{constructor(e){super(),De(this,e,Je,Ge,ke,{})}}export{xe as component};
