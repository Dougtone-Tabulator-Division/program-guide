var os=Object.defineProperty;var ls=(s,e,t)=>e in s?os(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var pe=(s,e,t)=>ls(s,typeof e!="symbol"?e+"":e,t);import{s as safe_not_equal,J as empty,i as insert_hydration,f as detach,k as component_subscribe,l as create_slot,e as element,c as claim_element,b as children$1,m as attr,a7 as null_to_empty,u as update_slot_base,o as get_all_dirty_from_scope,p as get_slot_changes,z as set_style,w as onMount,a as space,g as claim_space,O as destroy_each,h as append_hydration,n as noop$1,x as onDestroy,y as binding_callbacks,t as text,d as claim_text,j as set_data,P as src_url_equal,a5 as createEventDispatcher,q as get_svelte_dataset,A as add_flush_callback,a8 as assign,E as add_render_callback,r as listen,L as construct_svelte_component,H as set_store_value,a6 as get_store_value,a9 as HtmlTagHydration,aa as claim_html_tag,v as run_all,N as head_selector}from"./scheduler.Bh2TjGwV.js";import{S as SvelteComponent,i as init,g as group_outros,a as transition_out,c as check_outros,t as transition_in,b as create_component,d as claim_component,m as mount_component,e as destroy_component,f as bind$1,j as create_in_transition,k as create_out_transition,h as create_bidirectional_transition}from"./index.TvtXsUKR.js";import{t as tvState,a as isOn}from"./tv-state.D_n5rjyU.js";import{e as ensure_array_like,i as inputMapping,d as defaultInputMapping}from"./input-mapping.CNDyk47R.js";import{g as getComponentVolume}from"./audio-mixer.WFKbhp0N.js";import{w as writable,r as readable}from"./index.G8hfPIUd.js";import{f as fade,g as getColorScheme,a as fly,d as defaultColor,T as Tuner$1,V as Volume$1}from"./Volume.Cqx8DNkf.js";import{g as getDefaultExportFromCjs$1,c as commonjsGlobal$1}from"./_commonjsHelpers.Cpj98o6Y.js";import{X as getProviderForUrl,V as Video$1}from"./Video.CN-VjULV.js";import{P as Player,u as usePlayerStore,D as Dailymotion,V as Vimeo,Y as Youtube,a as Video,H as Hls}from"./usePlayerStore.sYMNOKDL.js";import{O as OldSchoolTextScroller}from"./OldSchoolTextScroller.C94xdihb.js";import{_ as __vitePreload}from"./preload-helper.C1FmrZbK.js";import{b as backgroundAudio,n as nowPlaying,W as WhiteNoise,B as BackgroundAudio}from"./BackgroundAudio.BxOwn7Cw.js";import{T as Tuner,V as Volume}from"./Volume.Bm6afVmA.js";import{$ as $416260bce337df90$export$ecd1fc136c422448}from"./bundler.Dp19WDvl.js";import{v as version}from"./environment.RIVmC7v_.js";function get_spread_update(s,e){const t={},a={},r={$$scope:1};let n=s.length;for(;n--;){const i=s[n],o=e[n];if(o){for(const l in i)l in o||(a[l]=1);for(const l in o)r[l]||(t[l]=o[l],r[l]=1);s[n]=o}else for(const l in i)r[l]=1}for(const i in a)i in t||(t[i]=void 0);return t}function get_spread_object(s){return typeof s=="object"&&s!==null?s:{}}function create_else_block$c(s){let e,t,a;const r=s[6].default,n=create_slot(r,s,s[5],null);return{c(){e=element("div"),n&&n.c(),this.h()},l(i){e=claim_element(i,"DIV",{class:!0});var o=children$1(e);n&&n.l(o),o.forEach(detach),this.h()},h(){attr(e,"class",t=null_to_empty(s[0])+" svelte-1ai5rw0")},m(i,o){insert_hydration(i,e,o),n&&n.m(e,null),a=!0},p(i,o){n&&n.p&&(!a||o&32)&&update_slot_base(n,r,i,i[5],a?get_slot_changes(r,i[5],o,null):get_all_dirty_from_scope(i[5]),null),(!a||o&1&&t!==(t=null_to_empty(i[0])+" svelte-1ai5rw0"))&&attr(e,"class",t)},i(i){a||(transition_in(n,i),a=!0)},o(i){transition_out(n,i),a=!1},d(i){i&&detach(e),n&&n.d(i)}}}function create_if_block$k(s){let e,t,a;const r=s[6].default,n=create_slot(r,s,s[5],null);return{c(){e=element("div"),n&&n.c(),this.h()},l(i){e=claim_element(i,"DIV",{class:!0,style:!0});var o=children$1(e);n&&n.l(o),o.forEach(detach),this.h()},h(){attr(e,"class",t="layer "+s[0]+" svelte-1ai5rw0"),set_style(e,"transform","scaleX("+s[3]+") scaleY("+s[2]+") translateY(var(--translate-y, 0))")},m(i,o){insert_hydration(i,e,o),n&&n.m(e,null),a=!0},p(i,o){n&&n.p&&(!a||o&32)&&update_slot_base(n,r,i,i[5],a?get_slot_changes(r,i[5],o,null):get_all_dirty_from_scope(i[5]),null),(!a||o&1&&t!==(t="layer "+i[0]+" svelte-1ai5rw0"))&&attr(e,"class",t),(!a||o&12)&&set_style(e,"transform","scaleX("+i[3]+") scaleY("+i[2]+") translateY(var(--translate-y, 0))")},i(i){a||(transition_in(n,i),a=!0)},o(i){transition_out(n,i),a=!1},d(i){i&&detach(e),n&&n.d(i)}}}function create_fragment$K(s){let e,t,a,r;const n=[create_if_block$k,create_else_block$c],i=[];function o(l,u){return l[1]?1:0}return e=o(s),t=i[e]=n[e](s),{c(){t.c(),a=empty()},l(l){t.l(l),a=empty()},m(l,u){i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,[u]){let m=e;e=o(l),e===m?i[e].p(l,u):(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros(),t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a))},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),i[e].d(l)}}}function instance$J(s,e,t){let a,r,n;component_subscribe(s,tvState,m=>t(4,n=m));let{$$slots:i={},$$scope:o}=e,{classes:l=""}=e,{isNested:u=!1}=e;return s.$$set=m=>{"classes"in m&&t(0,l=m.classes),"isNested"in m&&t(1,u=m.isNested),"$$scope"in m&&t(5,o=m.$$scope)},s.$$.update=()=>{s.$$.dirty&16&&t(3,a=`${n.scaleX}%`),s.$$.dirty&16&&t(2,r=`${n.scaleY}%`)},[l,u,r,a,n,o,i]}class Layer extends SvelteComponent{constructor(e){super(),init(this,e,instance$J,create_fragment$K,safe_not_equal,{classes:0,isNested:1})}}function instance$I(s,e,t){let a;component_subscribe(s,tvState,L=>t(11,a=L));let{playContinuously:r=!1}=e,{waveformType:n="sine"}=e,{waveformFrequency:i=440}=e,{attackMs:o=0}=e,{decayMs:l=0}=e,{sustainVolume:u=1}=e,{sustainMs:m=0}=e,{releaseMs:c=0}=e,{filterType:h="highpass"}=e,{filterFrequency:p=0}=e,d,x,M,A,w,E,g;onMount(()=>(d=new AudioContext,x=d.createOscillator(),M=d.createBiquadFilter(),t(10,A=d.createGain()),E=!1,x.type=n,x.frequency.value=i,M.type=h,M.frequency.value=p,w=d.createGain(),w.gain.cancelScheduledValues(0),w.gain.setValueAtTime(0,0),w.gain.linearRampToValueAtTime(1,o/1e3),w.gain.linearRampToValueAtTime(u,o/1e3+l/1e3),r||(w.gain.linearRampToValueAtTime(u,o/1e3+l/1e3+m/1e3),w.gain.linearRampToValueAtTime(0,o/1e3+l/1e3+m/1e3+c/1e3)),x.connect(M).connect(w).connect(A).connect(d.destination),q(),()=>{clearTimeout(g),k(),d.close()}));function q(){if(!E&&(x.start(),E=!0,!r)){const L=o+l+m+c;L>0&&(g=setTimeout(()=>{k()},L))}}function k(){E&&(x.stop(),E=!1)}return s.$$set=L=>{"playContinuously"in L&&t(0,r=L.playContinuously),"waveformType"in L&&t(1,n=L.waveformType),"waveformFrequency"in L&&t(2,i=L.waveformFrequency),"attackMs"in L&&t(3,o=L.attackMs),"decayMs"in L&&t(4,l=L.decayMs),"sustainVolume"in L&&t(5,u=L.sustainVolume),"sustainMs"in L&&t(6,m=L.sustainMs),"releaseMs"in L&&t(7,c=L.releaseMs),"filterType"in L&&t(8,h=L.filterType),"filterFrequency"in L&&t(9,p=L.filterFrequency)},s.$$.update=()=>{s.$$.dirty&3072&&A&&(a.isMuting?t(10,A.gain.value=0,A):t(10,A.gain.value=a.volume*2/100,A))},[r,n,i,o,l,u,m,c,h,p,A,a]}class ToneGenerator extends SvelteComponent{constructor(e){super(),init(this,e,instance$I,null,safe_not_equal,{playContinuously:0,waveformType:1,waveformFrequency:2,attackMs:3,decayMs:4,sustainVolume:5,sustainMs:6,releaseMs:7,filterType:8,filterFrequency:9})}}function get_each_context_5(s,e,t){const a=s.slice();return a[18]=e[t],a[15]=t,a}function get_each_context_6(s,e,t){const a=s.slice();return a[18]=e[t],a[21]=t,a}function get_each_context_1$4(s,e,t){const a=s.slice();return a[7]=e[t],a}function get_each_context_2$3(s,e,t){const a=s.slice();return a[7]=e[t],a}function get_each_context_3$1(s,e,t){const a=s.slice();return a[7]=e[t],a[15]=t,a}function get_each_context_4$1(s,e,t){const a=s.slice();return a[7]=e[t],a}function get_each_context$7(s,e,t){const a=s.slice();return a[7]=e[t],a}function create_if_block_3$6(s){let e,t;return e=new ToneGenerator({props:{waveformType:"sine",waveformFrequency:1e3,playContinuously:!0,sustainVolume:getComponentVolume(s[0].volume,.5)}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&1&&(n.sustainVolume=getComponentVolume(a[0].volume,.5)),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_2$8(s){let e,t=ensure_array_like({length:15}),a=[];for(let r=0;r<t.length;r+=1)a[r]=create_each_block_5(get_each_context_5(s,t,r));return{c(){e=element("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=claim_element(r,"DIV",{class:!0});var n=children$1(e);for(let i=0;i<a.length;i+=1)a[i].l(n);n.forEach(detach),this.h()},h(){attr(e,"class","flex flex-wrap items-stretch")},m(r,n){insert_hydration(r,e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(r,n){if(n&64){t=ensure_array_like({length:15});let i;for(i=0;i<t.length;i+=1){const o=get_each_context_5(r,t,i);a[i]?a[i].p(o,n):(a[i]=create_each_block_5(o),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&detach(e),destroy_each(a,r)}}}function create_if_block_1$e(s){let e,t,a,r,n,i,o,l,u,m,c,h,p=ensure_array_like(s[3]),d=[];for(let q=0;q<p.length;q+=1)d[q]=create_each_block_4$1(get_each_context_4$1(s,p,q));let x=ensure_array_like(s[3]),M=[];for(let q=0;q<x.length;q+=1)M[q]=create_each_block_3$1(get_each_context_3$1(s,x,q));let A=ensure_array_like(s[4]),w=[];for(let q=0;q<A.length;q+=1)w[q]=create_each_block_2$3(get_each_context_2$3(s,A,q));let E=ensure_array_like(s[5]),g=[];for(let q=0;q<E.length;q+=1)g[q]=create_each_block_1$4(get_each_context_1$4(s,E,q));return{c(){e=element("div"),t=element("div");for(let q=0;q<d.length;q+=1)d[q].c();a=space(),r=element("div"),n=element("div");for(let q=0;q<M.length;q+=1)M[q].c();i=space(),o=element("div"),l=element("div");for(let q=0;q<w.length;q+=1)w[q].c();u=space(),m=element("div");for(let q=0;q<g.length;q+=1)g[q].c();c=space(),h=element("div"),this.h()},l(q){e=claim_element(q,"DIV",{class:!0});var k=children$1(e);t=claim_element(k,"DIV",{class:!0});var L=children$1(t);for(let Q=0;Q<d.length;Q+=1)d[Q].l(L);L.forEach(detach),a=claim_space(k),r=claim_element(k,"DIV",{class:!0});var S=children$1(r);n=claim_element(S,"DIV",{class:!0});var R=children$1(n);for(let Q=0;Q<M.length;Q+=1)M[Q].l(R);R.forEach(detach),i=claim_space(S),o=claim_element(S,"DIV",{class:!0});var D=children$1(o);l=claim_element(D,"DIV",{class:!0});var B=children$1(l);for(let Q=0;Q<w.length;Q+=1)w[Q].l(B);B.forEach(detach),u=claim_space(D),m=claim_element(D,"DIV",{class:!0});var N=children$1(m);for(let Q=0;Q<g.length;Q+=1)g[Q].l(N);N.forEach(detach),c=claim_space(D),h=claim_element(D,"DIV",{class:!0,style:!0}),children$1(h).forEach(detach),D.forEach(detach),S.forEach(detach),k.forEach(detach),this.h()},h(){attr(t,"class","flex-2 flex items-stretch"),attr(n,"class","flex-1 flex flex-row-reverse items-stretch"),attr(l,"class","flex-[5_5_0%] flex items-stretch"),attr(m,"class","flex-1 flex items-stretch"),attr(h,"class","flex-1 h-full"),set_style(h,"background-color",s[1].black75),attr(o,"class","flex-2 flex items-stretch"),attr(r,"class","flex-1 flex flex-col items-stretch"),attr(e,"class","flex flex-col items-stretch h-full")},m(q,k){insert_hydration(q,e,k),append_hydration(e,t);for(let L=0;L<d.length;L+=1)d[L]&&d[L].m(t,null);append_hydration(e,a),append_hydration(e,r),append_hydration(r,n);for(let L=0;L<M.length;L+=1)M[L]&&M[L].m(n,null);append_hydration(r,i),append_hydration(r,o),append_hydration(o,l);for(let L=0;L<w.length;L+=1)w[L]&&w[L].m(l,null);append_hydration(o,u),append_hydration(o,m);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(m,null);append_hydration(o,c),append_hydration(o,h)},p(q,k){if(k&8){p=ensure_array_like(q[3]);let L;for(L=0;L<p.length;L+=1){const S=get_each_context_4$1(q,p,L);d[L]?d[L].p(S,k):(d[L]=create_each_block_4$1(S),d[L].c(),d[L].m(t,null))}for(;L<d.length;L+=1)d[L].d(1);d.length=p.length}if(k&10){x=ensure_array_like(q[3]);let L;for(L=0;L<x.length;L+=1){const S=get_each_context_3$1(q,x,L);M[L]?M[L].p(S,k):(M[L]=create_each_block_3$1(S),M[L].c(),M[L].m(n,null))}for(;L<M.length;L+=1)M[L].d(1);M.length=x.length}if(k&16){A=ensure_array_like(q[4]);let L;for(L=0;L<A.length;L+=1){const S=get_each_context_2$3(q,A,L);w[L]?w[L].p(S,k):(w[L]=create_each_block_2$3(S),w[L].c(),w[L].m(l,null))}for(;L<w.length;L+=1)w[L].d(1);w.length=A.length}if(k&32){E=ensure_array_like(q[5]);let L;for(L=0;L<E.length;L+=1){const S=get_each_context_1$4(q,E,L);g[L]?g[L].p(S,k):(g[L]=create_each_block_1$4(S),g[L].c(),g[L].m(m,null))}for(;L<g.length;L+=1)g[L].d(1);g.length=E.length}},d(q){q&&detach(e),destroy_each(d,q),destroy_each(M,q),destroy_each(w,q),destroy_each(g,q)}}}function create_if_block$j(s){let e,t=ensure_array_like(s[2]),a=[];for(let r=0;r<t.length;r+=1)a[r]=create_each_block$7(get_each_context$7(s,t,r));return{c(){e=element("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=claim_element(r,"DIV",{class:!0});var n=children$1(e);for(let i=0;i<a.length;i+=1)a[i].l(n);n.forEach(detach),this.h()},h(){attr(e,"class","flex items-stretch h-full")},m(r,n){insert_hydration(r,e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(r,n){if(n&4){t=ensure_array_like(r[2]);let i;for(i=0;i<t.length;i+=1){const o=get_each_context$7(r,t,i);a[i]?a[i].p(o,n):(a[i]=create_each_block$7(o),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&detach(e),destroy_each(a,r)}}}function create_each_block_6(s){let e,t,a;return{c(){e=element("div"),t=element("div"),a=space(),this.h()},l(r){e=claim_element(r,"DIV",{class:!0,style:!0});var n=children$1(e);t=claim_element(n,"DIV",{class:!0,style:!0}),children$1(t).forEach(detach),a=claim_space(n),n.forEach(detach),this.h()},h(){attr(t,"class","w-1 h-1"),set_style(t,"background-color",s[6](s[15],s[21])),attr(e,"class","border-2 flex justify-center items-center w-8 h-8"),set_style(e,"border-color",s[6](s[15],s[21]))},m(r,n){insert_hydration(r,e,n),append_hydration(e,t),append_hydration(e,a)},p:noop$1,d(r){r&&detach(e)}}}function create_each_block_5(s){let e,t=ensure_array_like({length:20}),a=[];for(let r=0;r<t.length;r+=1)a[r]=create_each_block_6(get_each_context_6(s,t,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=empty()},l(r){for(let n=0;n<a.length;n+=1)a[n].l(r);e=empty()},m(r,n){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(r,n);insert_hydration(r,e,n)},p(r,n){if(n&64){t=ensure_array_like({length:20});let i;for(i=0;i<t.length;i+=1){const o=get_each_context_6(r,t,i);a[i]?a[i].p(o,n):(a[i]=create_each_block_6(o),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&detach(e),destroy_each(a,r)}}}function create_each_block_4$1(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","flex-1 h-full"),set_style(e,"background-color",s[7])},m(t,a){insert_hydration(t,e,a)},p:noop$1,d(t){t&&detach(e)}}}function create_each_block_3$1(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","flex-1 h-full"),set_style(e,"background-color",s[15]%2===0?s[7]:s[1].black75)},m(t,a){insert_hydration(t,e,a)},p:noop$1,d(t){t&&detach(e)}}}function create_each_block_2$3(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","flex-1 h-full"),set_style(e,"background-color",s[7])},m(t,a){insert_hydration(t,e,a)},p:noop$1,d(t){t&&detach(e)}}}function create_each_block_1$4(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","flex-1 h-full"),set_style(e,"background-color",s[7])},m(t,a){insert_hydration(t,e,a)},p:noop$1,d(t){t&&detach(e)}}}function create_each_block$7(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0,style:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","flex-1 h-full"),set_style(e,"background-color",s[7])},m(t,a){insert_hydration(t,e,a)},p:noop$1,d(t){t&&detach(e)}}}function create_fragment$J(s){let e,t,a,r=s[0].volume!==!1&&create_if_block_3$6(s);function n(l,u){if(l[0].type==="color-bars")return create_if_block$j;if(l[0].type==="test-pattern")return create_if_block_1$e;if(l[0].type==="grid")return create_if_block_2$8}let i=n(s),o=i&&i(s);return{c(){r&&r.c(),e=space(),o&&o.c(),t=empty()},l(l){r&&r.l(l),e=claim_space(l),o&&o.l(l),t=empty()},m(l,u){r&&r.m(l,u),insert_hydration(l,e,u),o&&o.m(l,u),insert_hydration(l,t,u),a=!0},p(l,[u]){l[0].volume!==!1?r?(r.p(l,u),u&1&&transition_in(r,1)):(r=create_if_block_3$6(l),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros()),i===(i=n(l))&&o?o.p(l,u):(o&&o.d(1),o=i&&i(l),o&&(o.c(),o.m(t.parentNode,t)))},i(l){a||(transition_in(r),a=!0)},o(l){transition_out(r),a=!1},d(l){l&&(detach(e),detach(t)),r&&r.d(l),o&&o.d(l)}}}function instance$H(s,e,t){let{props:a={type:"color-bars"}}=e;const r={gray:"#bbbbbb",white:"#ffffff",yellow:"#bdbd12",cyan:"#00bcbc",green:"#00bd12",magenta:"#c000bc",red:"#c00000",blue:"#0000bb",black:"#000000",black75:"#131313",black4above:"#1d1d1d",i:"#003f69",q:"#410077"},n=[r.white,r.yellow,r.cyan,r.green,r.magenta,r.red,r.blue,r.black],i=[r.gray,r.yellow,r.cyan,r.green,r.magenta,r.red,r.blue],o=[r.i,r.white,r.q,r.black75],l=[r.black,r.black75,r.black4above];function u(m,c){return m===0||m===14||c===0||c===19?r.red:r.white}return s.$$set=m=>{"props"in m&&t(0,a=m.props)},s.$$.update=()=>{s.$$.dirty&1&&typeof a=="string"&&t(0,a={type:a})},[a,r,n,i,o,l,u]}class Generator extends SvelteComponent{constructor(e){super(),init(this,e,instance$H,create_fragment$J,safe_not_equal,{props:0})}}function create_fragment$I(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{style:!0,class:!0}),children$1(e).forEach(detach),this.h()},h(){set_style(e,"background-image","url("+s[0].src+")"),attr(e,"class","bg-cover h-full bg-center")},m(t,a){insert_hydration(t,e,a)},p(t,[a]){a&1&&set_style(e,"background-image","url("+t[0].src+")")},i:noop$1,o:noop$1,d(t){t&&detach(e)}}}function instance$G(s,e,t){let{props:a={}}=e;return s.$$set=r=>{"props"in r&&t(0,a=r.props)},s.$$.update=()=>{s.$$.dirty&1&&typeof a=="string"&&t(0,a={src:a})},[a]}let Image$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$G,create_fragment$I,safe_not_equal,{props:0})}};function create_fragment$H(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","w-full h-full relative transition-all slideshow svelte-1gage69")},m(t,a){insert_hydration(t,e,a),s[2](e)},p:noop$1,i:noop$1,o:noop$1,d(t){t&&detach(e),s[2](null)}}}function instance$F(s,e,t){let{props:a={}}=e,r,n=0,i,o;onMount(()=>{a.duration||t(1,a.duration=10,a),t(0,r.style.backgroundImage=`url(${a.images[n]})`,r),i=setInterval(()=>{o=a.images[n],n===a.images.length-1&&a.scheduleSignaler?a.scheduleSignaler():(n=(n+1)%a.images.length,t(0,r.style.backgroundImage=`url(${o})`,r))},a.duration*1e3)}),onDestroy(()=>{i&&clearTimeout(i)});function l(u){binding_callbacks[u?"unshift":"push"](()=>{r=u,t(0,r)})}return s.$$set=u=>{"props"in u&&t(1,a=u.props)},[r,a,l]}class Slideshow extends SvelteComponent{constructor(e){super(),init(this,e,instance$F,create_fragment$H,safe_not_equal,{props:1})}}class Client{constructor(e,t){pe(this,"http");pe(this,"baseUrl");pe(this,"jsonParseReviver");this.http=t||window,this.baseUrl=e??"https://api.weather.gov"}cwsu(e){let t=this.baseUrl+"/aviation/cwsus/{cwsuId}";if(e==null)throw new Error("The parameter 'cwsuId' must be defined.");t=t.replace("{cwsuId}",encodeURIComponent(""+e)),t=t.replace(/[?&]$/,"");let a={method:"GET",headers:{Accept:"application/ld+json"}};return this.http.fetch(t,a).then(r=>this.processCwsu(r))}processCwsu(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=CenterWeatherServiceUnitJsonLd.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}cwas(e){let t=this.baseUrl+"/aviation/cwsus/{cwsuId}/cwas";if(e==null)throw new Error("The parameter 'cwsuId' must be defined.");t=t.replace("{cwsuId}",encodeURIComponent(""+e)),t=t.replace(/[?&]$/,"");let a={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(t,a).then(r=>this.processCwas(r))}processCwas(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=CenterWeatherAdvisoryCollectionGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}cwa(e,t,a){let r=this.baseUrl+"/aviation/cwsus/{cwsuId}/cwas/{date}/{sequence}";if(e==null)throw new Error("The parameter 'cwsuId' must be defined.");if(r=r.replace("{cwsuId}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'date' must be defined.");if(r=r.replace("{date}",encodeURIComponent(t?""+t.toISOString():"null")),a==null)throw new Error("The parameter 'sequence' must be defined.");r=r.replace("{sequence}",encodeURIComponent(""+a)),r=r.replace(/[?&]$/,"");let n={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(r,n).then(i=>this.processCwa(i))}processCwa(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=CenterWeatherAdvisoryGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}sigmetQuery(e,t,a,r,n){let i=this.baseUrl+"/aviation/sigmets?";if(e===null)throw new Error("The parameter 'start' cannot be null.");if(e!==void 0&&(i+="start="+encodeURIComponent(e?""+e.toISOString():"")+"&"),t===null)throw new Error("The parameter 'end' cannot be null.");if(t!==void 0&&(i+="end="+encodeURIComponent(t?""+t.toISOString():"")+"&"),a===null)throw new Error("The parameter 'date' cannot be null.");if(a!==void 0&&(i+="date="+encodeURIComponent(a?""+a.toISOString():"")+"&"),r===null)throw new Error("The parameter 'atsu' cannot be null.");if(r!==void 0&&(i+="atsu="+encodeURIComponent(""+r)+"&"),n===null)throw new Error("The parameter 'sequence' cannot be null.");n!==void 0&&(i+="sequence="+encodeURIComponent(""+n)+"&"),i=i.replace(/[?&]$/,"");let o={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(i,o).then(l=>this.processSigmetQuery(l))}processSigmetQuery(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=SigmetCollectionGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}sigmetsByATSU(e){let t=this.baseUrl+"/aviation/sigmets/{atsu}";if(e==null)throw new Error("The parameter 'atsu' must be defined.");t=t.replace("{atsu}",encodeURIComponent(""+e)),t=t.replace(/[?&]$/,"");let a={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(t,a).then(r=>this.processSigmetsByATSU(r))}processSigmetsByATSU(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=SigmetCollectionGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}sigmetsByATSUByDate(e,t){let a=this.baseUrl+"/aviation/sigmets/{atsu}/{date}";if(e==null)throw new Error("The parameter 'atsu' must be defined.");if(a=a.replace("{atsu}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'date' must be defined.");a=a.replace("{date}",encodeURIComponent(t?""+t.toISOString():"null")),a=a.replace(/[?&]$/,"");let r={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(a,r).then(n=>this.processSigmetsByATSUByDate(n))}processSigmetsByATSUByDate(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=SigmetCollectionGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}sigmet(e,t,a){let r=this.baseUrl+"/aviation/sigmets/{atsu}/{date}/{time}";if(e==null)throw new Error("The parameter 'atsu' must be defined.");if(r=r.replace("{atsu}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'date' must be defined.");if(r=r.replace("{date}",encodeURIComponent(t?""+t.toISOString():"null")),a==null)throw new Error("The parameter 'time' must be defined.");r=r.replace("{time}",encodeURIComponent(""+a)),r=r.replace(/[?&]$/,"");let n={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(r,n).then(i=>this.processSigmet(i))}processSigmet(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=SigmetGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}glossary(){let e=this.baseUrl+"/glossary";e=e.replace(/[?&]$/,"");let t={method:"GET",headers:{Accept:"application/ld+json"}};return this.http.fetch(e,t).then(a=>this.processGlossary(a))}processGlossary(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=Anonymous3.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}gridpoint(e,t,a){let r=this.baseUrl+"/gridpoints/{wfo}/{x},{y}";if(e==null)throw new Error("The parameter 'wfo' must be defined.");if(r=r.replace("{wfo}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'x' must be defined.");if(r=r.replace("{x}",encodeURIComponent(""+t)),a==null)throw new Error("The parameter 'y' must be defined.");r=r.replace("{y}",encodeURIComponent(""+a)),r=r.replace(/[?&]$/,"");let n={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(r,n).then(i=>this.processGridpoint(i))}processGridpoint(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=GridpointGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}icons(e,t,a,r,n){let i=this.baseUrl+"/icons/{set}/{timeOfDay}/{first}?";if(e==null)throw new Error("The parameter 'set' must be defined.");if(i=i.replace("{set}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'timeOfDay' must be defined.");if(i=i.replace("{timeOfDay}",encodeURIComponent(""+t)),a==null)throw new Error("The parameter 'first' must be defined.");if(i=i.replace("{first}",encodeURIComponent(""+a)),r===null)throw new Error("The parameter 'size' cannot be null.");if(r!==void 0&&(i+="size="+encodeURIComponent(""+r)+"&"),n===null)throw new Error("The parameter 'fontsize' cannot be null.");n!==void 0&&(i+="fontsize="+encodeURIComponent(""+n)+"&"),i=i.replace(/[?&]$/,"");let o={method:"GET",headers:{Accept:"image/png"}};return this.http.fetch(i,o).then(l=>this.processIcons(l))}processIcons(e){const t=e.status;let a={};if(e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200||t===206){const r=e.headers?e.headers.get("content-disposition"):void 0,n=r?/filename="?([^"]*?)"?(;|$)/g.exec(r):void 0,i=n&&n.length>1?n[1]:void 0;return e.blob().then(o=>({fileName:i,data:o,status:t,headers:a}))}else return e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}iconsDualCondition(e,t,a,r,n,i){let o=this.baseUrl+"/icons/{set}/{timeOfDay}/{first}/{second}?";if(e==null)throw new Error("The parameter 'set' must be defined.");if(o=o.replace("{set}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'timeOfDay' must be defined.");if(o=o.replace("{timeOfDay}",encodeURIComponent(""+t)),a==null)throw new Error("The parameter 'first' must be defined.");if(o=o.replace("{first}",encodeURIComponent(""+a)),r==null)throw new Error("The parameter 'second' must be defined.");if(o=o.replace("{second}",encodeURIComponent(""+r)),n===null)throw new Error("The parameter 'size' cannot be null.");if(n!==void 0&&(o+="size="+encodeURIComponent(""+n)+"&"),i===null)throw new Error("The parameter 'fontsize' cannot be null.");i!==void 0&&(o+="fontsize="+encodeURIComponent(""+i)+"&"),o=o.replace(/[?&]$/,"");let l={method:"GET",headers:{Accept:"image/png"}};return this.http.fetch(o,l).then(u=>this.processIconsDualCondition(u))}processIconsDualCondition(e){const t=e.status;let a={};if(e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200||t===206){const r=e.headers?e.headers.get("content-disposition"):void 0,n=r?/filename="?([^"]*?)"?(;|$)/g.exec(r):void 0,i=n&&n.length>1?n[1]:void 0;return e.blob().then(o=>({fileName:i,data:o,status:t,headers:a}))}else return e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}tafs(e){let t=this.baseUrl+"/stations/{stationId}/tafs";if(e==null)throw new Error("The parameter 'stationId' must be defined.");t=t.replace("{stationId}",encodeURIComponent(""+e)),t=t.replace(/[?&]$/,"");let a={method:"GET",headers:{Accept:"application/ld+json"}};return this.http.fetch(t,a).then(r=>this.processTafs(r))}processTafs(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=i!==void 0?i:null,n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}taf(e,t,a){let r=this.baseUrl+"/stations/{stationId}/tafs/{date}/{time}";if(e==null)throw new Error("The parameter 'stationId' must be defined.");if(r=r.replace("{stationId}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'date' must be defined.");if(r=r.replace("{date}",encodeURIComponent(t?""+t.toISOString():"null")),a==null)throw new Error("The parameter 'time' must be defined.");r=r.replace("{time}",encodeURIComponent(""+a)),r=r.replace(/[?&]$/,"");let n={method:"GET",headers:{Accept:"application/vnd.wmo.iwxxm+xml"}};return this.http.fetch(r,n).then(i=>this.processTaf(i))}processTaf(e){const t=e.status;let a={};if(e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200||t===206){const r=e.headers?e.headers.get("content-disposition"):void 0,n=r?/filename="?([^"]*?)"?(;|$)/g.exec(r):void 0,i=n&&n.length>1?n[1]:void 0;return e.blob().then(o=>({fileName:i,data:o,status:t,headers:a}))}else return e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}office(e){let t=this.baseUrl+"/offices/{officeId}";if(e==null)throw new Error("The parameter 'officeId' must be defined.");t=t.replace("{officeId}",encodeURIComponent(""+e)),t=t.replace(/[?&]$/,"");let a={method:"GET",headers:{Accept:"application/ld+json"}};return this.http.fetch(t,a).then(r=>this.processOffice(r))}processOffice(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=CenterWeatherServiceUnitJsonLd.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}point(e){let t=this.baseUrl+"/points/{point}";if(e==null)throw new Error("The parameter 'point' must be defined.");t=t.replace("{point}",encodeURIComponent(""+e)),t=t.replace(/[?&]$/,"");let a={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(t,a).then(r=>this.processPoint(r))}processPoint(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=PointGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}product(e){let t=this.baseUrl+"/products/{productId}";if(e==null)throw new Error("The parameter 'productId' must be defined.");t=t.replace("{productId}",encodeURIComponent(""+e)),t=t.replace(/[?&]$/,"");let a={method:"GET",headers:{Accept:"application/ld+json"}};return this.http.fetch(t,a).then(r=>this.processProduct(r))}processProduct(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=TextProduct.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}zone(e,t,a){let r=this.baseUrl+"/zones/{type}/{zoneId}?";if(t==null)throw new Error("The parameter 'type' must be defined.");if(r=r.replace("{type}",encodeURIComponent(""+t)),a==null)throw new Error("The parameter 'zoneId' must be defined.");if(r=r.replace("{zoneId}",encodeURIComponent(""+a)),e===null)throw new Error("The parameter 'effective' cannot be null.");e!==void 0&&(r+="effective="+encodeURIComponent(e?""+e.toISOString():"")+"&"),r=r.replace(/[?&]$/,"");let n={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(r,n).then(i=>this.processZone(i))}processZone(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ZoneGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}}class GridpointClient{constructor(e,t){pe(this,"http");pe(this,"baseUrl");pe(this,"jsonParseReviver");this.http=t||window,this.baseUrl=e??"https://api.weather.gov"}forecast(e,t,a,r,n){let i=this.baseUrl+"/gridpoints/{wfo}/{x},{y}/forecast?";if(a==null)throw new Error("The parameter 'wfo' must be defined.");if(i=i.replace("{wfo}",encodeURIComponent(""+a)),r==null)throw new Error("The parameter 'x' must be defined.");if(i=i.replace("{x}",encodeURIComponent(""+r)),n==null)throw new Error("The parameter 'y' must be defined.");if(i=i.replace("{y}",encodeURIComponent(""+n)),t===null)throw new Error("The parameter 'units' cannot be null.");t!==void 0&&(i+="units="+encodeURIComponent(""+t)+"&"),i=i.replace(/[?&]$/,"");let o={method:"GET",headers:{"Feature-Flags":e!=null?""+e:"",Accept:"application/geo+json"}};return this.http.fetch(i,o).then(l=>this.processForecast(l))}processForecast(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=GridpointForecastGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}stations(e,t,a,r,n){let i=this.baseUrl+"/gridpoints/{wfo}/{x},{y}/stations?";if(e==null)throw new Error("The parameter 'wfo' must be defined.");if(i=i.replace("{wfo}",encodeURIComponent(""+e)),t==null)throw new Error("The parameter 'x' must be defined.");if(i=i.replace("{x}",encodeURIComponent(""+t)),a==null)throw new Error("The parameter 'y' must be defined.");if(i=i.replace("{y}",encodeURIComponent(""+a)),r===null)throw new Error("The parameter 'limit' cannot be null.");if(r!==void 0&&(i+="limit="+encodeURIComponent(""+r)+"&"),n===null)throw new Error("The parameter 'cursor' cannot be null.");n!==void 0&&(i+="cursor="+encodeURIComponent(""+n)+"&"),i=i.replace(/[?&]$/,"");let o={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(i,o).then(l=>this.processStations(l))}processStations(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ObservationStationCollectionGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}}class ObservationClient{constructor(e,t){pe(this,"http");pe(this,"baseUrl");pe(this,"jsonParseReviver");this.http=t||window,this.baseUrl=e??"https://api.weather.gov"}list(e,t,a,r){let n=this.baseUrl+"/stations/{stationId}/observations?";if(r==null)throw new Error("The parameter 'stationId' must be defined.");if(n=n.replace("{stationId}",encodeURIComponent(""+r)),e===null)throw new Error("The parameter 'start' cannot be null.");if(e!==void 0&&(n+="start="+encodeURIComponent(e?""+e.toISOString():"")+"&"),t===null)throw new Error("The parameter 'end' cannot be null.");if(t!==void 0&&(n+="end="+encodeURIComponent(t?""+t.toISOString():"")+"&"),a===null)throw new Error("The parameter 'limit' cannot be null.");a!==void 0&&(n+="limit="+encodeURIComponent(""+a)+"&"),n=n.replace(/[?&]$/,"");let i={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(n,i).then(o=>this.processList(o))}processList(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ObservationCollectionGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}latest(e,t){let a=this.baseUrl+"/stations/{stationId}/observations/latest?";if(t==null)throw new Error("The parameter 'stationId' must be defined.");if(a=a.replace("{stationId}",encodeURIComponent(""+t)),e===null)throw new Error("The parameter 'require_qc' cannot be null.");e!==void 0&&(a+="require_qc="+encodeURIComponent(""+e)+"&"),a=a.replace(/[?&]$/,"");let r={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(a,r).then(n=>this.processLatest(n))}processLatest(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ObservationGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}time(e,t){let a=this.baseUrl+"/stations/{stationId}/observations/{time}";if(e==null)throw new Error("The parameter 'time' must be defined.");if(a=a.replace("{time}",encodeURIComponent(e?""+e.toISOString():"null")),t==null)throw new Error("The parameter 'stationId' must be defined.");a=a.replace("{stationId}",encodeURIComponent(""+t)),a=a.replace(/[?&]$/,"");let r={method:"GET",headers:{Accept:"application/geo+json"}};return this.http.fetch(a,r).then(n=>this.processTime(n))}processTime(e){const t=e.status;let a={};return e.headers&&e.headers.forEach&&e.headers.forEach((r,n)=>a[n]=r),t===200?e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ObservationGeoJson.fromJS(i),n}):e.text().then(r=>{let n=null,i=r===""?null:JSON.parse(r,this.jsonParseReviver);return n=ProblemDetail.fromJS(i),throwException("An error response.",t,r,a,n)})}}class GeoJsonFeatureCollection{constructor(e){pe(this,"context");pe(this,"type");pe(this,"features");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.features=[])}init(e){if(e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.type=e.type,Array.isArray(e.features))){this.features=[];for(let t of e.features)this.features.push(GeoJsonFeature.fromJS(t))}}static fromJS(e){e=typeof e=="object"?e:{};let t=new GeoJsonFeatureCollection;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.type=this.type,Array.isArray(this.features)){e.features=[];for(let t of this.features)e.features.push(t.toJSON())}return e}}class GeoJsonFeature{constructor(e){pe(this,"context");pe(this,"id");pe(this,"type");pe(this,"geometry");pe(this,"properties");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.id=e.id,this.type=e.type,this.geometry=e.geometry?GeoJsonGeometry.fromJS(e.geometry):void 0,this.properties=e.properties)}static fromJS(e){e=typeof e=="object"?e:{};let t=new GeoJsonFeature;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.id=this.id,e.type=this.type,e.geometry=this.geometry?this.geometry.toJSON():void 0,e.properties=this.properties,e}}class CenterWeatherAdvisoryCollectionGeoJson extends GeoJsonFeatureCollection{constructor(t){super(t);pe(this,"features")}init(t){if(super.init(t),t&&Array.isArray(t.features)){this.features=[];for(let a of t.features)this.features.push(Features2.fromJS(a))}}static fromJS(t){t=typeof t=="object"?t:{};let a=new CenterWeatherAdvisoryCollectionGeoJson;return a.init(t),a}toJSON(t){if(t=typeof t=="object"?t:{},Array.isArray(this.features)){t.features=[];for(let a of this.features)t.features.push(a.toJSON())}return super.toJSON(t),t}}class CenterWeatherAdvisoryGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?CenterWeatherAdvisory.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new CenterWeatherAdvisoryGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}class CenterWeatherAdvisory{constructor(e){pe(this,"id");pe(this,"issueTime");pe(this,"cwsu");pe(this,"sequence");pe(this,"start");pe(this,"end");pe(this,"observedProperty");pe(this,"text");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.id=e.id,this.issueTime=e.issueTime?new Date(e.issueTime.toString()):void 0,this.cwsu=e.cwsu,this.sequence=e.sequence,this.start=e.start?new Date(e.start.toString()):void 0,this.end=e.end?new Date(e.end.toString()):void 0,this.observedProperty=e.observedProperty,this.text=e.text)}static fromJS(e){e=typeof e=="object"?e:{};let t=new CenterWeatherAdvisory;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.id=this.id,e.issueTime=this.issueTime?this.issueTime.toISOString():void 0,e.cwsu=this.cwsu,e.sequence=this.sequence,e.start=this.start?this.start.toISOString():void 0,e.end=this.end?this.end.toISOString():void 0,e.observedProperty=this.observedProperty,e.text=this.text,e}}class CenterWeatherServiceUnitJsonLd{constructor(e){pe(this,"context");pe(this,"type");pe(this,"id");pe(this,"id");pe(this,"name");pe(this,"address");pe(this,"telephone");pe(this,"faxNumber");pe(this,"email");pe(this,"sameAs");pe(this,"nwsRegion");pe(this,"parentOrganization");pe(this,"responsibleCounties");pe(this,"responsibleForecastZones");pe(this,"responsibleFireZones");pe(this,"approvedObservationStations");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){if(e){if(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.type=e["@type"],this.id=e["@id"],this.id=e.id,this.name=e.name,this.address=e.address?Address.fromJS(e.address):void 0,this.telephone=e.telephone,this.faxNumber=e.faxNumber,this.email=e.email,this.sameAs=e.sameAs,this.nwsRegion=e.nwsRegion,this.parentOrganization=e.parentOrganization,Array.isArray(e.responsibleCounties)){this.responsibleCounties=[];for(let t of e.responsibleCounties)this.responsibleCounties.push(t)}if(Array.isArray(e.responsibleForecastZones)){this.responsibleForecastZones=[];for(let t of e.responsibleForecastZones)this.responsibleForecastZones.push(t)}if(Array.isArray(e.responsibleFireZones)){this.responsibleFireZones=[];for(let t of e.responsibleFireZones)this.responsibleFireZones.push(t)}if(Array.isArray(e.approvedObservationStations)){this.approvedObservationStations=[];for(let t of e.approvedObservationStations)this.approvedObservationStations.push(t)}}}static fromJS(e){e=typeof e=="object"?e:{};let t=new CenterWeatherServiceUnitJsonLd;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e["@type"]=this.type,e["@id"]=this.id,e.id=this.id,e.name=this.name,e.address=this.address?this.address.toJSON():void 0,e.telephone=this.telephone,e.faxNumber=this.faxNumber,e.email=this.email,e.sameAs=this.sameAs,e.nwsRegion=this.nwsRegion,e.parentOrganization=this.parentOrganization,Array.isArray(this.responsibleCounties)){e.responsibleCounties=[];for(let t of this.responsibleCounties)e.responsibleCounties.push(t)}if(Array.isArray(this.responsibleForecastZones)){e.responsibleForecastZones=[];for(let t of this.responsibleForecastZones)e.responsibleForecastZones.push(t)}if(Array.isArray(this.responsibleFireZones)){e.responsibleFireZones=[];for(let t of this.responsibleFireZones)e.responsibleFireZones.push(t)}if(Array.isArray(this.approvedObservationStations)){e.approvedObservationStations=[];for(let t of this.approvedObservationStations)e.approvedObservationStations.push(t)}return e}}class GeoJsonGeometry{constructor(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){}static fromJS(e){e=typeof e=="object"?e:{};let t=new GeoJsonGeometry;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e}}class Gridpoint{constructor(e){pe(this,"context");pe(this,"geometry");pe(this,"id");pe(this,"type");pe(this,"updateTime");pe(this,"validTimes");pe(this,"elevation");pe(this,"forecastOffice");pe(this,"gridId");pe(this,"gridX");pe(this,"gridY");pe(this,"weather");pe(this,"hazards");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.geometry=e.geometry,this.id=e["@id"],this.type=e["@type"],this.updateTime=e.updateTime?new Date(e.updateTime.toString()):void 0,this.validTimes=e.validTimes?string.fromJS(e.validTimes):void 0,this.elevation=e.elevation?QuantitativeValue.fromJS(e.elevation):void 0,this.forecastOffice=e.forecastOffice,this.gridId=e.gridId,this.gridX=e.gridX,this.gridY=e.gridY,this.weather=e.weather?Weather$1.fromJS(e.weather):void 0,this.hazards=e.hazards?Hazards.fromJS(e.hazards):void 0)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Gridpoint;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.geometry=this.geometry,e["@id"]=this.id,e["@type"]=this.type,e.updateTime=this.updateTime?this.updateTime.toISOString():void 0,e.validTimes=this.validTimes?this.validTimes.toJSON():void 0,e.elevation=this.elevation?this.elevation.toJSON():void 0,e.forecastOffice=this.forecastOffice,e.gridId=this.gridId,e.gridX=this.gridX,e.gridY=this.gridY,e.weather=this.weather?this.weather.toJSON():void 0,e.hazards=this.hazards?this.hazards.toJSON():void 0,e}}class GridpointGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?Gridpoint.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new GridpointGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}class GridpointForecast{constructor(e){pe(this,"context");pe(this,"geometry");pe(this,"units");pe(this,"forecastGenerator");pe(this,"generatedAt");pe(this,"updateTime");pe(this,"updated");pe(this,"validTimes");pe(this,"elevation");pe(this,"periods");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){if(e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.geometry=e.geometry,this.units=e.units,this.forecastGenerator=e.forecastGenerator,this.generatedAt=e.generatedAt?new Date(e.generatedAt.toString()):void 0,this.updateTime=e.updateTime?new Date(e.updateTime.toString()):void 0,this.updated=e.updated?new Date(e.updated.toString()):void 0,this.validTimes=e.validTimes?e.validTimes:void 0,this.elevation=e.elevation?QuantitativeValue.fromJS(e.elevation):void 0,Array.isArray(e.periods))){this.periods=[];for(let t of e.periods)this.periods.push(GridpointForecastPeriod.fromJS(t))}}static fromJS(e){e=typeof e=="object"?e:{};let t=new GridpointForecast;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.geometry=this.geometry,e.units=this.units,e.forecastGenerator=this.forecastGenerator,e.generatedAt=this.generatedAt?this.generatedAt.toISOString():void 0,e.updateTime=this.updateTime?this.updateTime.toISOString():void 0,e.updated=this.updated?this.updated.toISOString():void 0,e.validTimes=this.validTimes?this.validTimes.toJSON():void 0,e.elevation=this.elevation?this.elevation.toJSON():void 0,Array.isArray(this.periods)){e.periods=[];for(let t of this.periods)e.periods.push(t.toJSON())}return e}}class GridpointForecastPeriod{constructor(e){pe(this,"number");pe(this,"name");pe(this,"startTime");pe(this,"endTime");pe(this,"isDaytime");pe(this,"temperature");pe(this,"temperatureUnit");pe(this,"temperatureTrend");pe(this,"probabilityOfPrecipitation");pe(this,"dewpoint");pe(this,"relativeHumidity");pe(this,"windSpeed");pe(this,"windGust");pe(this,"windDirection");pe(this,"icon");pe(this,"shortForecast");pe(this,"detailedForecast");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.number=e.number,this.name=e.name,this.startTime=e.startTime?new Date(e.startTime.toString()):void 0,this.endTime=e.endTime?new Date(e.endTime.toString()):void 0,this.isDaytime=e.isDaytime,this.temperature=e.temperature?QuantitativeValue.fromJS(e.temperature):void 0,this.temperatureUnit=e.temperatureUnit,this.temperatureTrend=e.temperatureTrend,this.probabilityOfPrecipitation=e.probabilityOfPrecipitation?QuantitativeValue.fromJS(e.probabilityOfPrecipitation):void 0,this.dewpoint=e.dewpoint?QuantitativeValue.fromJS(e.dewpoint):void 0,this.relativeHumidity=e.relativeHumidity?QuantitativeValue.fromJS(e.relativeHumidity):void 0,this.windSpeed=e.windSpeed?QuantitativeValue.fromJS(e.windSpeed):void 0,this.windGust=e.windGust?QuantitativeValue.fromJS(e.windGust):void 0,this.windDirection=e.windDirection,this.icon=e.icon,this.shortForecast=e.shortForecast,this.detailedForecast=e.detailedForecast)}static fromJS(e){e=typeof e=="object"?e:{};let t=new GridpointForecastPeriod;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.number=this.number,e.name=this.name,e.startTime=this.startTime?this.startTime.toISOString():void 0,e.endTime=this.endTime?this.endTime.toISOString():void 0,e.isDaytime=this.isDaytime,e.temperature=this.temperature?this.temperature.toJSON():void 0,e.temperatureUnit=this.temperatureUnit,e.temperatureTrend=this.temperatureTrend,e.probabilityOfPrecipitation=this.probabilityOfPrecipitation?this.probabilityOfPrecipitation.toJSON():void 0,e.dewpoint=this.dewpoint?this.dewpoint.toJSON():void 0,e.relativeHumidity=this.relativeHumidity?this.relativeHumidity.toJSON():void 0,e.windSpeed=this.windSpeed?this.windSpeed.toJSON():void 0,e.windGust=this.windGust?this.windGust.toJSON():void 0,e.windDirection=this.windDirection,e.icon=this.icon,e.shortForecast=this.shortForecast,e.detailedForecast=this.detailedForecast,e}}var GridpointForecastUnits=(s=>(s.Us="us",s.Si="si",s))(GridpointForecastUnits||{});class GridpointForecastGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?GridpointForecast.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new GridpointForecastGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}class JsonLdContext{constructor(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){}static fromJS(e){e=typeof e=="object"?e:{};let t=new JsonLdContext;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e}}class MetarPhenomenon{constructor(e){pe(this,"intensity");pe(this,"modifier");pe(this,"weather");pe(this,"rawString");pe(this,"inVicinity");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.intensity=e.intensity,this.modifier=e.modifier,this.weather=e.weather,this.rawString=e.rawString,this.inVicinity=e.inVicinity)}static fromJS(e){e=typeof e=="object"?e:{};let t=new MetarPhenomenon;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.intensity=this.intensity,e.modifier=this.modifier,e.weather=this.weather,e.rawString=this.rawString,e.inVicinity=this.inVicinity,e}}class Observation{constructor(e){pe(this,"context");pe(this,"geometry");pe(this,"id");pe(this,"type");pe(this,"elevation");pe(this,"station");pe(this,"timestamp");pe(this,"rawMessage");pe(this,"textDescription");pe(this,"icon");pe(this,"presentWeather");pe(this,"temperature");pe(this,"dewpoint");pe(this,"windDirection");pe(this,"windSpeed");pe(this,"windGust");pe(this,"barometricPressure");pe(this,"seaLevelPressure");pe(this,"visibility");pe(this,"maxTemperatureLast24Hours");pe(this,"minTemperatureLast24Hours");pe(this,"precipitationLastHour");pe(this,"precipitationLast3Hours");pe(this,"precipitationLast6Hours");pe(this,"relativeHumidity");pe(this,"windChill");pe(this,"heatIndex");pe(this,"cloudLayers");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){if(e){if(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.geometry=e.geometry,this.id=e["@id"],this.type=e["@type"],this.elevation=e.elevation?QuantitativeValue.fromJS(e.elevation):void 0,this.station=e.station,this.timestamp=e.timestamp?new Date(e.timestamp.toString()):void 0,this.rawMessage=e.rawMessage,this.textDescription=e.textDescription,this.icon=e.icon,Array.isArray(e.presentWeather)){this.presentWeather=[];for(let t of e.presentWeather)this.presentWeather.push(MetarPhenomenon.fromJS(t))}if(this.temperature=e.temperature?QuantitativeValue.fromJS(e.temperature):void 0,this.dewpoint=e.dewpoint?QuantitativeValue.fromJS(e.dewpoint):void 0,this.windDirection=e.windDirection?QuantitativeValue.fromJS(e.windDirection):void 0,this.windSpeed=e.windSpeed?QuantitativeValue.fromJS(e.windSpeed):void 0,this.windGust=e.windGust?QuantitativeValue.fromJS(e.windGust):void 0,this.barometricPressure=e.barometricPressure?QuantitativeValue.fromJS(e.barometricPressure):void 0,this.seaLevelPressure=e.seaLevelPressure?QuantitativeValue.fromJS(e.seaLevelPressure):void 0,this.visibility=e.visibility?QuantitativeValue.fromJS(e.visibility):void 0,this.maxTemperatureLast24Hours=e.maxTemperatureLast24Hours?QuantitativeValue.fromJS(e.maxTemperatureLast24Hours):void 0,this.minTemperatureLast24Hours=e.minTemperatureLast24Hours?QuantitativeValue.fromJS(e.minTemperatureLast24Hours):void 0,this.precipitationLastHour=e.precipitationLastHour?QuantitativeValue.fromJS(e.precipitationLastHour):void 0,this.precipitationLast3Hours=e.precipitationLast3Hours?QuantitativeValue.fromJS(e.precipitationLast3Hours):void 0,this.precipitationLast6Hours=e.precipitationLast6Hours?QuantitativeValue.fromJS(e.precipitationLast6Hours):void 0,this.relativeHumidity=e.relativeHumidity?QuantitativeValue.fromJS(e.relativeHumidity):void 0,this.windChill=e.windChill?QuantitativeValue.fromJS(e.windChill):void 0,this.heatIndex=e.heatIndex?QuantitativeValue.fromJS(e.heatIndex):void 0,Array.isArray(e.cloudLayers)){this.cloudLayers=[];for(let t of e.cloudLayers)this.cloudLayers.push(CloudLayers.fromJS(t))}}}static fromJS(e){e=typeof e=="object"?e:{};let t=new Observation;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.geometry=this.geometry,e["@id"]=this.id,e["@type"]=this.type,e.elevation=this.elevation?this.elevation.toJSON():void 0,e.station=this.station,e.timestamp=this.timestamp?this.timestamp.toISOString():void 0,e.rawMessage=this.rawMessage,e.textDescription=this.textDescription,e.icon=this.icon,Array.isArray(this.presentWeather)){e.presentWeather=[];for(let t of this.presentWeather)e.presentWeather.push(t.toJSON())}if(e.temperature=this.temperature?this.temperature.toJSON():void 0,e.dewpoint=this.dewpoint?this.dewpoint.toJSON():void 0,e.windDirection=this.windDirection?this.windDirection.toJSON():void 0,e.windSpeed=this.windSpeed?this.windSpeed.toJSON():void 0,e.windGust=this.windGust?this.windGust.toJSON():void 0,e.barometricPressure=this.barometricPressure?this.barometricPressure.toJSON():void 0,e.seaLevelPressure=this.seaLevelPressure?this.seaLevelPressure.toJSON():void 0,e.visibility=this.visibility?this.visibility.toJSON():void 0,e.maxTemperatureLast24Hours=this.maxTemperatureLast24Hours?this.maxTemperatureLast24Hours.toJSON():void 0,e.minTemperatureLast24Hours=this.minTemperatureLast24Hours?this.minTemperatureLast24Hours.toJSON():void 0,e.precipitationLastHour=this.precipitationLastHour?this.precipitationLastHour.toJSON():void 0,e.precipitationLast3Hours=this.precipitationLast3Hours?this.precipitationLast3Hours.toJSON():void 0,e.precipitationLast6Hours=this.precipitationLast6Hours?this.precipitationLast6Hours.toJSON():void 0,e.relativeHumidity=this.relativeHumidity?this.relativeHumidity.toJSON():void 0,e.windChill=this.windChill?this.windChill.toJSON():void 0,e.heatIndex=this.heatIndex?this.heatIndex.toJSON():void 0,Array.isArray(this.cloudLayers)){e.cloudLayers=[];for(let t of this.cloudLayers)e.cloudLayers.push(t.toJSON())}return e}}class ObservationGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?Observation.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new ObservationGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}class ObservationCollectionGeoJson extends GeoJsonFeatureCollection{constructor(t){super(t);pe(this,"features")}init(t){if(super.init(t),t&&Array.isArray(t.features)){this.features=[];for(let a of t.features)this.features.push(Features3.fromJS(a))}}static fromJS(t){t=typeof t=="object"?t:{};let a=new ObservationCollectionGeoJson;return a.init(t),a}toJSON(t){if(t=typeof t=="object"?t:{},Array.isArray(this.features)){t.features=[];for(let a of this.features)t.features.push(a.toJSON())}return super.toJSON(t),t}}class ObservationStation{constructor(e){pe(this,"context");pe(this,"geometry");pe(this,"id");pe(this,"type");pe(this,"elevation");pe(this,"stationIdentifier");pe(this,"name");pe(this,"timeZone");pe(this,"forecast");pe(this,"county");pe(this,"fireWeatherZone");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.geometry=e.geometry,this.id=e["@id"],this.type=e["@type"],this.elevation=e.elevation?QuantitativeValue.fromJS(e.elevation):void 0,this.stationIdentifier=e.stationIdentifier,this.name=e.name,this.timeZone=e.timeZone,this.forecast=e.forecast,this.county=e.county,this.fireWeatherZone=e.fireWeatherZone)}static fromJS(e){e=typeof e=="object"?e:{};let t=new ObservationStation;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.geometry=this.geometry,e["@id"]=this.id,e["@type"]=this.type,e.elevation=this.elevation?this.elevation.toJSON():void 0,e.stationIdentifier=this.stationIdentifier,e.name=this.name,e.timeZone=this.timeZone,e.forecast=this.forecast,e.county=this.county,e.fireWeatherZone=this.fireWeatherZone,e}}class ObservationStationCollectionGeoJson extends GeoJsonFeatureCollection{constructor(t){super(t);pe(this,"features");pe(this,"observationStations");pe(this,"pagination")}init(t){if(super.init(t),t){if(Array.isArray(t.features)){this.features=[];for(let a of t.features)this.features.push(Features4.fromJS(a))}if(Array.isArray(t.observationStations)){this.observationStations=[];for(let a of t.observationStations)this.observationStations.push(a)}this.pagination=t.pagination?PaginationInfo.fromJS(t.pagination):void 0}}static fromJS(t){t=typeof t=="object"?t:{};let a=new ObservationStationCollectionGeoJson;return a.init(t),a}toJSON(t){if(t=typeof t=="object"?t:{},Array.isArray(this.features)){t.features=[];for(let a of this.features)t.features.push(a.toJSON())}if(Array.isArray(this.observationStations)){t.observationStations=[];for(let a of this.observationStations)t.observationStations.push(a)}return t.pagination=this.pagination?this.pagination.toJSON():void 0,super.toJSON(t),t}}class PaginationInfo{constructor(e){pe(this,"next");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.next=e.next)}static fromJS(e){e=typeof e=="object"?e:{};let t=new PaginationInfo;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.next=this.next,e}}class Point{constructor(e){pe(this,"context");pe(this,"geometry");pe(this,"id");pe(this,"type");pe(this,"cwa");pe(this,"forecastOffice");pe(this,"gridId");pe(this,"gridX");pe(this,"gridY");pe(this,"forecast");pe(this,"forecastHourly");pe(this,"forecastGridData");pe(this,"observationStations");pe(this,"relativeLocation");pe(this,"forecastZone");pe(this,"county");pe(this,"fireWeatherZone");pe(this,"timeZone");pe(this,"radarStation");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.geometry=e.geometry,this.id=e["@id"],this.type=e["@type"],this.cwa=e.cwa,this.forecastOffice=e.forecastOffice,this.gridId=e.gridId,this.gridX=e.gridX,this.gridY=e.gridY,this.forecast=e.forecast,this.forecastHourly=e.forecastHourly,this.forecastGridData=e.forecastGridData,this.observationStations=e.observationStations,this.relativeLocation=e.relativeLocation?RelativeLocationGeoJson.fromJS(e.relativeLocation):void 0,this.forecastZone=e.forecastZone,this.county=e.county,this.fireWeatherZone=e.fireWeatherZone,this.timeZone=e.timeZone,this.radarStation=e.radarStation)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Point;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.geometry=this.geometry,e["@id"]=this.id,e["@type"]=this.type,e.cwa=this.cwa,e.forecastOffice=this.forecastOffice,e.gridId=this.gridId,e.gridX=this.gridX,e.gridY=this.gridY,e.forecast=this.forecast,e.forecastHourly=this.forecastHourly,e.forecastGridData=this.forecastGridData,e.observationStations=this.observationStations,e.relativeLocation=this.relativeLocation?this.relativeLocation.toJSON():void 0,e.forecastZone=this.forecastZone,e.county=this.county,e.fireWeatherZone=this.fireWeatherZone,e.timeZone=this.timeZone,e.radarStation=this.radarStation,e}}class PointGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?Point.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new PointGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}class ProblemDetail{constructor(e){pe(this,"type");pe(this,"title");pe(this,"status");pe(this,"detail");pe(this,"instance");pe(this,"correlationId");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.type="about:blank")}init(e){e&&(this.type=e.type!==void 0?e.type:"about:blank",this.title=e.title,this.status=e.status,this.detail=e.detail,this.instance=e.instance,this.correlationId=e.correlationId)}static fromJS(e){e=typeof e=="object"?e:{};let t=new ProblemDetail;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.type=this.type,e.title=this.title,e.status=this.status,e.detail=this.detail,e.instance=this.instance,e.correlationId=this.correlationId,e}}class QuantitativeValue{constructor(e){pe(this,"value");pe(this,"maxValue");pe(this,"minValue");pe(this,"unitCode");pe(this,"qualityControl");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.value=e.value,this.maxValue=e.maxValue,this.minValue=e.minValue,this.unitCode=e.unitCode,this.qualityControl=e.qualityControl)}static fromJS(e){e=typeof e=="object"?e:{};let t=new QuantitativeValue;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.value=this.value,e.maxValue=this.maxValue,e.minValue=this.minValue,e.unitCode=this.unitCode,e.qualityControl=this.qualityControl,e}}class RelativeLocation{constructor(e){pe(this,"city");pe(this,"state");pe(this,"distance");pe(this,"bearing");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.city=e.city,this.state=e.state,this.distance=e.distance?QuantitativeValue.fromJS(e.distance):void 0,this.bearing=e.bearing?QuantitativeValue.fromJS(e.bearing):void 0)}static fromJS(e){e=typeof e=="object"?e:{};let t=new RelativeLocation;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.city=this.city,e.state=this.state,e.distance=this.distance?this.distance.toJSON():void 0,e.bearing=this.bearing?this.bearing.toJSON():void 0,e}}class RelativeLocationGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?RelativeLocation.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new RelativeLocationGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}class Sigmet{constructor(e){pe(this,"id");pe(this,"issueTime");pe(this,"fir");pe(this,"atsu");pe(this,"sequence");pe(this,"phenomenon");pe(this,"start");pe(this,"end");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.id=e.id,this.issueTime=e.issueTime?new Date(e.issueTime.toString()):void 0,this.fir=e.fir,this.atsu=e.atsu,this.sequence=e.sequence,this.phenomenon=e.phenomenon,this.start=e.start?new Date(e.start.toString()):void 0,this.end=e.end?new Date(e.end.toString()):void 0)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Sigmet;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.id=this.id,e.issueTime=this.issueTime?this.issueTime.toISOString():void 0,e.fir=this.fir,e.atsu=this.atsu,e.sequence=this.sequence,e.phenomenon=this.phenomenon,e.start=this.start?this.start.toISOString():void 0,e.end=this.end?this.end.toISOString():void 0,e}}class SigmetCollectionGeoJson extends GeoJsonFeatureCollection{constructor(t){super(t);pe(this,"features")}init(t){if(super.init(t),t&&Array.isArray(t.features)){this.features=[];for(let a of t.features)this.features.push(SigmetGeoJson.fromJS(a))}}static fromJS(t){t=typeof t=="object"?t:{};let a=new SigmetCollectionGeoJson;return a.init(t),a}toJSON(t){if(t=typeof t=="object"?t:{},Array.isArray(this.features)){t.features=[];for(let a of this.features)t.features.push(a.toJSON())}return super.toJSON(t),t}}class SigmetGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?Sigmet.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new SigmetGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}class TextProduct{constructor(e){pe(this,"context");pe(this,"id");pe(this,"id");pe(this,"wmoCollectiveId");pe(this,"issuingOffice");pe(this,"issuanceTime");pe(this,"productCode");pe(this,"productName");pe(this,"productText");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.id=e["@id"],this.id=e.id,this.wmoCollectiveId=e.wmoCollectiveId,this.issuingOffice=e.issuingOffice,this.issuanceTime=e.issuanceTime?new Date(e.issuanceTime.toString()):void 0,this.productCode=e.productCode,this.productName=e.productName,this.productText=e.productText)}static fromJS(e){e=typeof e=="object"?e:{};let t=new TextProduct;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e["@id"]=this.id,e.id=this.id,e.wmoCollectiveId=this.wmoCollectiveId,e.issuingOffice=this.issuingOffice,e.issuanceTime=this.issuanceTime?this.issuanceTime.toISOString():void 0,e.productCode=this.productCode,e.productName=this.productName,e.productText=this.productText,e}}class Zone{constructor(e){pe(this,"context");pe(this,"geometry");pe(this,"id");pe(this,"type");pe(this,"id");pe(this,"type");pe(this,"name");pe(this,"effectiveDate");pe(this,"expirationDate");pe(this,"state");pe(this,"cwa");pe(this,"forecastOffices");pe(this,"timeZone");pe(this,"observationStations");pe(this,"radarStation");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){if(e){if(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,this.geometry=e.geometry,this.id=e["@id"],this.type=e["@type"],this.id=e.id,this.type=e.type,this.name=e.name,this.effectiveDate=e.effectiveDate?new Date(e.effectiveDate.toString()):void 0,this.expirationDate=e.expirationDate?new Date(e.expirationDate.toString()):void 0,this.state=e.state,Array.isArray(e.cwa)){this.cwa=[];for(let t of e.cwa)this.cwa.push(t)}if(Array.isArray(e.forecastOffices)){this.forecastOffices=[];for(let t of e.forecastOffices)this.forecastOffices.push(t)}if(Array.isArray(e.timeZone)){this.timeZone=[];for(let t of e.timeZone)this.timeZone.push(t)}if(Array.isArray(e.observationStations)){this.observationStations=[];for(let t of e.observationStations)this.observationStations.push(t)}this.radarStation=e.radarStation}}static fromJS(e){e=typeof e=="object"?e:{};let t=new Zone;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,e.geometry=this.geometry,e["@id"]=this.id,e["@type"]=this.type,e.id=this.id,e.type=this.type,e.name=this.name,e.effectiveDate=this.effectiveDate?this.effectiveDate.toISOString():void 0,e.expirationDate=this.expirationDate?this.expirationDate.toISOString():void 0,e.state=this.state,Array.isArray(this.cwa)){e.cwa=[];for(let t of this.cwa)e.cwa.push(t)}if(Array.isArray(this.forecastOffices)){e.forecastOffices=[];for(let t of this.forecastOffices)e.forecastOffices.push(t)}if(Array.isArray(this.timeZone)){e.timeZone=[];for(let t of this.timeZone)e.timeZone.push(t)}if(Array.isArray(this.observationStations)){e.observationStations=[];for(let t of this.observationStations)e.observationStations.push(t)}return e.radarStation=this.radarStation,e}}class ZoneGeoJson extends GeoJsonFeature{constructor(t){super(t);pe(this,"properties")}init(t){super.init(t),t&&(this.properties=t.properties?Zone.fromJS(t.properties):void 0)}static fromJS(t){t=typeof t=="object"?t:{};let a=new ZoneGeoJson;return a.init(t),a}toJSON(t){return t=typeof t=="object"?t:{},t.properties=this.properties?this.properties.toJSON():void 0,super.toJSON(t),t}}var FeatureFlags=(s=>(s.Forecast_temperature_qv="forecast_temperature_qv",s.Forecast_wind_speed_qv="forecast_wind_speed_qv",s))(FeatureFlags||{});class Anonymous3{constructor(e){pe(this,"context");pe(this,"glossary");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){if(e&&(this.context=e["@context"]?JsonLdContext.fromJS(e["@context"]):void 0,Array.isArray(e.glossary))){this.glossary=[];for(let t of e.glossary)this.glossary.push(Glossary.fromJS(t))}}static fromJS(e){e=typeof e=="object"?e:{};let t=new Anonymous3;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e["@context"]=this.context?this.context.toJSON():void 0,Array.isArray(this.glossary)){e.glossary=[];for(let t of this.glossary)e.glossary.push(t.toJSON())}return e}}class Features2{constructor(e){pe(this,"properties");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.properties=e.properties?CenterWeatherAdvisory.fromJS(e.properties):void 0)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Features2;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.properties=this.properties?this.properties.toJSON():void 0,e}}class Address{constructor(e){pe(this,"type");pe(this,"streetAddress");pe(this,"addressLocality");pe(this,"addressRegion");pe(this,"postalCode");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.type=e["@type"],this.streetAddress=e.streetAddress,this.addressLocality=e.addressLocality,this.addressRegion=e.addressRegion,this.postalCode=e.postalCode)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Address;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e["@type"]=this.type,e.streetAddress=this.streetAddress,e.addressLocality=this.addressLocality,e.addressRegion=this.addressRegion,e.postalCode=this.postalCode,e}}let Weather$1=class $n{constructor(e){pe(this,"values");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.values=[])}init(e){if(e&&Array.isArray(e.values)){this.values=[];for(let t of e.values)this.values.push(Values2.fromJS(t))}}static fromJS(e){e=typeof e=="object"?e:{};let t=new $n;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},Array.isArray(this.values)){e.values=[];for(let t of this.values)e.values.push(t.toJSON())}return e}};class Hazards{constructor(e){pe(this,"values");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.values=[])}init(e){if(e&&Array.isArray(e.values)){this.values=[];for(let t of e.values)this.values.push(Values3.fromJS(t))}}static fromJS(e){e=typeof e=="object"?e:{};let t=new Hazards;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},Array.isArray(this.values)){e.values=[];for(let t of this.values)e.values.push(t.toJSON())}return e}}class CloudLayers{constructor(e){pe(this,"base");pe(this,"amount");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.base=new QuantitativeValue)}init(e){e&&(this.base=e.base?QuantitativeValue.fromJS(e.base):new QuantitativeValue,this.amount=e.amount)}static fromJS(e){e=typeof e=="object"?e:{};let t=new CloudLayers;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.base=this.base?this.base.toJSON():void 0,e.amount=this.amount,e}}class Features3{constructor(e){pe(this,"properties");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.properties=e.properties?Observation.fromJS(e.properties):void 0)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Features3;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.properties=this.properties?this.properties.toJSON():void 0,e}}class Features4{constructor(e){pe(this,"properties");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.properties=e.properties?ObservationStation.fromJS(e.properties):void 0)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Features4;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.properties=this.properties?this.properties.toJSON():void 0,e}}class Glossary{constructor(e){pe(this,"term");pe(this,"definition");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.term=e.term,this.definition=e.definition)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Glossary;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.term=this.term,e.definition=this.definition,e}}class Values2{constructor(e){pe(this,"validTime");pe(this,"value");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.validTime=new string,this.value=[])}init(e){if(e&&(this.validTime=e.validTime?string.fromJS(e.validTime):new string,Array.isArray(e.value))){this.value=[];for(let t of e.value)this.value.push(Value.fromJS(t))}}static fromJS(e){e=typeof e=="object"?e:{};let t=new Values2;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e.validTime=this.validTime?this.validTime.toJSON():void 0,Array.isArray(this.value)){e.value=[];for(let t of this.value)e.value.push(t.toJSON())}return e}}class Values3{constructor(e){pe(this,"validTime");pe(this,"value");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.validTime=new string,this.value=[])}init(e){if(e&&(this.validTime=e.validTime?string.fromJS(e.validTime):new string,Array.isArray(e.value))){this.value=[];for(let t of e.value)this.value.push(Value2.fromJS(t))}}static fromJS(e){e=typeof e=="object"?e:{};let t=new Values3;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e.validTime=this.validTime?this.validTime.toJSON():void 0,Array.isArray(this.value)){e.value=[];for(let t of this.value)e.value.push(t.toJSON())}return e}}class Value{constructor(e){pe(this,"coverage");pe(this,"weather");pe(this,"intensity");pe(this,"visibility");pe(this,"attributes");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e||(this.visibility=new QuantitativeValue,this.attributes=[])}init(e){if(e&&(this.coverage=e.coverage,this.weather=e.weather,this.intensity=e.intensity,this.visibility=e.visibility?QuantitativeValue.fromJS(e.visibility):new QuantitativeValue,Array.isArray(e.attributes))){this.attributes=[];for(let t of e.attributes)this.attributes.push(t)}}static fromJS(e){e=typeof e=="object"?e:{};let t=new Value;return t.init(e),t}toJSON(e){if(e=typeof e=="object"?e:{},e.coverage=this.coverage,e.weather=this.weather,e.intensity=this.intensity,e.visibility=this.visibility?this.visibility.toJSON():void 0,Array.isArray(this.attributes)){e.attributes=[];for(let t of this.attributes)e.attributes.push(t)}return e}}class Value2{constructor(e){pe(this,"phenomenon");pe(this,"significance");pe(this,"event_number");if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}init(e){e&&(this.phenomenon=e.phenomenon,this.significance=e.significance,this.event_number=e.event_number)}static fromJS(e){e=typeof e=="object"?e:{};let t=new Value2;return t.init(e),t}toJSON(e){return e=typeof e=="object"?e:{},e.phenomenon=this.phenomenon,e.significance=this.significance,e.event_number=this.event_number,e}}class ApiException extends Error{constructor(t,a,r,n,i){super();pe(this,"message");pe(this,"status");pe(this,"response");pe(this,"headers");pe(this,"result");pe(this,"isApiException",!0);this.message=t,this.status=a,this.response=r,this.headers=n,this.result=i}static isApiException(t){return t.isApiException===!0}}function throwException(s,e,t,a,r){throw r??new ApiException(s,e,t,a,null)}class Units{constructor(e){pe(this,"temperatureUnit");pe(this,"barometricPressureUnit");pe(this,"windSpeedUnit");pe(this,"windDirectionUnit");pe(this,"humidityUnit");pe(this,"visibilityUnit");pe(this,"precipitationUnit");this.temperatureUnit=e==="metric"?"° C":"° F",this.barometricPressureUnit=e==="metric"?"hPa":"in",this.windSpeedUnit=e==="metric"?"km/h":"mph",this.windDirectionUnit="°",this.humidityUnit="%",this.visibilityUnit=e==="metric"?"km":"mi",this.precipitationUnit=e==="metric"?"mm":"in"}static celsiusToFahrenheit(e){return e*9/5+32}static kilometersToMiles(e){return e*.621371}static pascalsToPsi(e){return e*.0001450377}}class UsaWeatherProvider{constructor(){pe(this,"client");pe(this,"gridpointClient");pe(this,"observationClient");this.client=new Client,this.gridpointClient=new GridpointClient,this.observationClient=new ObservationClient}async getWeatherAsync(e,t,a){var n,i,o,l,u,m,c,h,p,d,x,M,A,w,E,g,q,k,L,S,R,D,B,N,Q,P,U,$,J,me,W,ee,ue,Z,ie,fe,ye,xe,ge,Ae,O,Y,T,I,X,le,se,_e,we,Ce,Be,We,re,V,j,he,Me,Te,Ie,Ze,at,et,it,oe,ve,Se;a=a??"imperial";const r=await this.client.point(`${e},${t}`);if((n=r.properties)!=null&&n.gridId&&((i=r.properties)!=null&&i.gridX)&&((o=r.properties)!=null&&o.gridY)){const ze=await this.gridpointClient.forecast([FeatureFlags.Forecast_temperature_qv,FeatureFlags.Forecast_wind_speed_qv],GridpointForecastUnits.Us,r.properties.gridId,r.properties.gridX,r.properties.gridY),Le=await this.observationClient.latest(!0,r.properties.radarStation),Ge=(u=(l=ze.properties)==null?void 0:l.periods)==null?void 0:u.map(Ve=>{var nt,qe,Ne,ae,Fe,Qe,je,dt,$e,mt;return{temperature:a==="metric"?((nt=Ve.temperature)==null?void 0:nt.value)??null:(qe=Ve.temperature)!=null&&qe.value?Units.celsiusToFahrenheit(((Ne=Ve.temperature)==null?void 0:Ne.value)||0):null,windSpeed:a==="metric"?((ae=Ve.windSpeed)==null?void 0:ae.value)??null:(Fe=Ve.windSpeed)!=null&&Fe.value?Units.kilometersToMiles(((Qe=Ve.windSpeed)==null?void 0:Qe.value)||0):null,windGustSpeed:a==="metric"?((je=Ve.windGust)==null?void 0:je.value)??null:(dt=Ve.windGust)!=null&&dt.value?Units.kilometersToMiles((($e=Ve.windGust)==null?void 0:$e.value)||0):null,windDirection:((mt=Ve.windDirection)==null?void 0:mt.toString())??null,shortForecast:Ve.shortForecast??null,detailedForecast:Ve.detailedForecast??null,startTime:Ve.startTime?Ve.startTime.toISOString():null,endTime:Ve.endTime?Ve.endTime.toISOString():null,isDaytime:Ve.isDaytime??null,name:Ve.name,icon:this.resolveIcon(Ve.icon??""),number:Ve.number??void 0}});return{city:((h=(c=(m=r.properties)==null?void 0:m.relativeLocation)==null?void 0:c.properties)==null?void 0:h.city)??"",forecast:Ge??[],observations:{temperature:a==="metric"?((d=(p=Le.properties)==null?void 0:p.temperature)==null?void 0:d.value)??null:(M=(x=Le.properties)==null?void 0:x.temperature)!=null&&M.value?Units.celsiusToFahrenheit(((w=(A=Le.properties)==null?void 0:A.temperature)==null?void 0:w.value)||0):null,windSpeed:a==="metric"?((g=(E=Le.properties)==null?void 0:E.windSpeed)==null?void 0:g.value)??null:(k=(q=Le.properties)==null?void 0:q.windSpeed)!=null&&k.value?Units.kilometersToMiles(((S=(L=Le.properties)==null?void 0:L.windSpeed)==null?void 0:S.value)||0):null,windGustSpeed:a==="metric"?((D=(R=Le.properties)==null?void 0:R.windGust)==null?void 0:D.value)??null:(N=(B=Le.properties)==null?void 0:B.windGust)!=null&&N.value?Units.kilometersToMiles(((P=(Q=Le.properties)==null?void 0:Q.windGust)==null?void 0:P.value)||0):null,windDirection:(($=(U=Le.properties)==null?void 0:U.windDirection)==null?void 0:$.value)??null,shortForecast:((J=Le.properties)==null?void 0:J.textDescription)??"",startTime:((W=(me=Le.properties)==null?void 0:me.timestamp)==null?void 0:W.toString())??null,endTime:((ue=(ee=Le.properties)==null?void 0:ee.timestamp)==null?void 0:ue.toString())??null,icon:((Z=Le.properties)==null?void 0:Z.icon)??"",barometricPressure:a==="metric"?((fe=(ie=Le.properties)==null?void 0:ie.barometricPressure)==null?void 0:fe.value)??null:(xe=(ye=Le.properties)==null?void 0:ye.barometricPressure)!=null&&xe.value?Units.pascalsToPsi((Ae=(ge=Le.properties)==null?void 0:ge.barometricPressure)==null?void 0:Ae.value):null,visibility:a==="metric"?(((Y=(O=Le.properties)==null?void 0:O.visibility)==null?void 0:Y.value)||0)/1e3:(I=(T=Le.properties)==null?void 0:T.visibility)!=null&&I.value?Units.kilometersToMiles((((le=(X=Le.properties)==null?void 0:X.visibility)==null?void 0:le.value)||0)/1e3):null,relativeHumidity:((_e=(se=Le.properties)==null?void 0:se.relativeHumidity)==null?void 0:_e.value)??null,dewpoint:a==="metric"?((Ce=(we=Le.properties)==null?void 0:we.dewpoint)==null?void 0:Ce.value)??null:(We=(Be=Le.properties)==null?void 0:Be.dewpoint)!=null&&We.value?Units.celsiusToFahrenheit(((V=(re=Le.properties)==null?void 0:re.dewpoint)==null?void 0:V.value)||0):null,heatIndex:a==="metric"?((he=(j=Le.properties)==null?void 0:j.heatIndex)==null?void 0:he.value)??null:(Te=(Me=Le.properties)==null?void 0:Me.heatIndex)!=null&&Te.value?Units.celsiusToFahrenheit(((Ze=(Ie=Le.properties)==null?void 0:Ie.heatIndex)==null?void 0:Ze.value)||0):null,windChill:a==="metric"?((et=(at=Le.properties)==null?void 0:at.windChill)==null?void 0:et.value)??null:(oe=(it=Le.properties)==null?void 0:it.windChill)!=null&&oe.value?Units.celsiusToFahrenheit(((Se=(ve=Le.properties)==null?void 0:ve.windChill)==null?void 0:Se.value)||0):null}}}return null}resolveIcon(e){const t=e.includes("night"),a=e.match(/\/icons\/[^/]+\/[^/]+\/([^,/]+)/);let r=a!=null&&a.length?a[1]:null;switch(r||(r=""),r=r.split("?")[0],console.log(r),r){case"skc":case"hot":return t?"Clear":"Sunny";case"few":return t?"Mostly-Clear":"Partly-Cloudy";case"sct":return t?"Partly-Clear":"Mostly-Cloudy";case"bkn":case"ovc":return"Cloudy";case"wind_skc":case"wind_few":case"wind_sct":case"wind_bkn":case"wind_ovc":return"Windy";case"snow":return"Heavy-Snow";case"rain_snow":return"Rain-Snow";case"rain_sleet":return"Freezing-Rain-Sleet";case"snow_sleet":return"Snow-Sleet";case"fzra":case"rain_fzra":return"Freezing-Rain";case"snow_fzra":return"Ice-Snow";case"sleet":return"Sleet";case"rain":case"rain_showers_hi":return"Rain";case"rain_showers":return"Shower";case"tsra":return"Thunderstorm";case"tsra_sct":case"tsra_hi":return"Thunder";case"fog":return"Fog";case"tornado":case"hurricane":case"tropical_storm":case"dust":case"smoke":case"haze":case"cold":case"blizzard":default:return"Unknown"}}}function create_key_block$4(s){let e,t;return{c(){e=element("div"),t=text(s[1]),this.h()},l(a){e=claim_element(a,"DIV",{class:!0});var r=children$1(e);t=claim_text(r,s[1]),r.forEach(detach),this.h()},h(){attr(e,"class","typewriter svelte-58dp2t")},m(a,r){insert_hydration(a,e,r),append_hydration(e,t),s[5](e)},p(a,r){r&2&&set_data(t,a[1])},d(a){a&&detach(e),s[5](null)}}}function create_fragment$G(s){let e=s[1],t,a=create_key_block$4(s);return{c(){a.c(),t=empty()},l(r){a.l(r),t=empty()},m(r,n){a.m(r,n),insert_hydration(r,t,n)},p(r,[n]){n&2&&safe_not_equal(e,e=r[1])?(a.d(1),a=create_key_block$4(r),a.c(),a.m(t.parentNode,t)):a.p(r,n)},i:noop$1,o:noop$1,d(r){r&&detach(t),a.d(r)}}}function instance$E(s,e,t){let{messages:a=[]}=e,{interval:r=1e4}=e,{typingSpeed:n=.35}=e,i,o,l=0,u="";onMount(()=>{m(),o=setInterval(()=>{m()},r)});function m(){if(!(!a||!a.length||!a.filter(h=>h).length))do l=(l+1)%a.length,t(1,u=a[l]);while(!u)}onDestroy(()=>{o&&clearInterval(o)});function c(h){binding_callbacks[h?"unshift":"push"](()=>{i=h,t(0,i)})}return s.$$set=h=>{"messages"in h&&t(2,a=h.messages),"interval"in h&&t(3,r=h.interval),"typingSpeed"in h&&t(4,n=h.typingSpeed)},[i,u,a,r,n,c]}class TypingText extends SvelteComponent{constructor(e){super(),init(this,e,instance$E,create_fragment$G,safe_not_equal,{messages:2,interval:3,typingSpeed:4})}}const containerWidth=writable(0),containerHeight=writable(0);function create_fragment$F(s){let e,t,a,r,n,i,o=s[0].name+"",l,u,m,c,h,p,d,x=s[0].temperature+"",M,A=s[1].temperatureUnit+"",w,E,g,q=s[0].shortForecast+"",k;return{c(){e=element("div"),t=element("div"),a=element("div"),r=element("div"),n=element("div"),i=element("div"),l=text(o),u=space(),m=element("div"),c=element("img"),p=space(),d=element("div"),M=text(x),w=text(A),E=space(),g=element("div"),k=text(q),this.h()},l(L){e=claim_element(L,"DIV",{class:!0});var S=children$1(e);t=claim_element(S,"DIV",{class:!0});var R=children$1(t);a=claim_element(R,"DIV",{class:!0});var D=children$1(a);r=claim_element(D,"DIV",{class:!0});var B=children$1(r);n=claim_element(B,"DIV",{class:!0});var N=children$1(n);i=claim_element(N,"DIV",{class:!0});var Q=children$1(i);l=claim_text(Q,o),Q.forEach(detach),u=claim_space(N),m=claim_element(N,"DIV",{class:!0});var P=children$1(m);c=claim_element(P,"IMG",{class:!0,src:!0,alt:!0}),P.forEach(detach),p=claim_space(N),d=claim_element(N,"DIV",{class:!0});var U=children$1(d);M=claim_text(U,x),w=claim_text(U,A),U.forEach(detach),E=claim_space(N),g=claim_element(N,"DIV",{});var $=children$1(g);k=claim_text($,q),$.forEach(detach),N.forEach(detach),B.forEach(detach),D.forEach(detach),R.forEach(detach),S.forEach(detach),this.h()},h(){attr(i,"class","font-bold text-yellow pb-2"),attr(c,"class","h-[40px]"),src_url_equal(c.src,h="/weather-icons/current/"+s[0].icon+".gif")||attr(c,"src",h),attr(c,"alt","Icon"),attr(m,"class","w-full pb-2 flex-1 flex items-center justify-center"),attr(d,"class","text-2xl font-bold pb-2"),attr(n,"class","flex flex-col items-center absolute w-full p-4"),attr(r,"class","h-full text-2xl text-white"),attr(a,"class","border-2 border-black h-full"),attr(t,"class","border-2 border-white h-full overflow-hidden"),attr(e,"class","flex-1 bg-gradient-to-b from-sky to-ocean border-black border-2 h-full overflow-hidden relative")},m(L,S){insert_hydration(L,e,S),append_hydration(e,t),append_hydration(t,a),append_hydration(a,r),append_hydration(r,n),append_hydration(n,i),append_hydration(i,l),append_hydration(n,u),append_hydration(n,m),append_hydration(m,c),append_hydration(n,p),append_hydration(n,d),append_hydration(d,M),append_hydration(d,w),append_hydration(n,E),append_hydration(n,g),append_hydration(g,k)},p(L,[S]){S&1&&o!==(o=L[0].name+"")&&set_data(l,o),S&1&&!src_url_equal(c.src,h="/weather-icons/current/"+L[0].icon+".gif")&&attr(c,"src",h),S&1&&x!==(x=L[0].temperature+"")&&set_data(M,x),S&2&&A!==(A=L[1].temperatureUnit+"")&&set_data(w,A),S&1&&q!==(q=L[0].shortForecast+"")&&set_data(k,q)},i:noop$1,o:noop$1,d(L){L&&detach(e)}}}function instance$D(s,e,t){let{forecast:a}=e,{units:r}=e;return s.$$set=n=>{"forecast"in n&&t(0,a=n.forecast),"units"in n&&t(1,r=n.units)},[a,r]}class ForecastDay extends SvelteComponent{constructor(e){super(),init(this,e,instance$D,create_fragment$F,safe_not_equal,{forecast:0,units:1})}}function create_fragment$E(s){let e,t;const a=s[5].default,r=create_slot(a,s,s[4],null);return{c(){e=element("div"),r&&r.c(),this.h()},l(n){e=claim_element(n,"DIV",{class:!0});var i=children$1(e);r&&r.l(i),i.forEach(detach),this.h()},h(){attr(e,"class","absolute")},m(n,i){insert_hydration(n,e,i),r&&r.m(e,null),s[6](e),t=!0},p(n,[i]){r&&r.p&&(!t||i&16)&&update_slot_base(r,a,n,n[4],t?get_slot_changes(a,n[4],i,null):get_all_dirty_from_scope(n[4]),null)},i(n){t||(transition_in(r,n),t=!0)},o(n){transition_out(r,n),t=!1},d(n){n&&detach(e),r&&r.d(n),s[6](null)}}}function instance$C(s,e,t){let{$$slots:a={},$$scope:r}=e,{scrollSpeed:n=50}=e,{delay:i=5e3}=e,{paddingBottom:o=100}=e,l,u;const m=createEventDispatcher();function c(){var w;console.debug("startScroll");const d=((w=l==null?void 0:l.parentElement)==null?void 0:w.offsetHeight)||0,M=(l==null?void 0:l.scrollHeight)-d+o,A=M/n*1e3;if(M<=0){h();return}l.animate([{transform:"translateY(0)"},{transform:`translateY(-${M<0?0:M}px)`}],{duration:A<0?0:A,easing:"linear",fill:"forwards"}).onfinish=()=>{h()}}function h(){u=setTimeout(()=>{m("scrollEnd")},i)}onMount(()=>{t(0,l.style.animation="none",l),u=setTimeout(c,i)}),onDestroy(()=>{clearTimeout(u)});function p(d){binding_callbacks[d?"unshift":"push"](()=>{l=d,t(0,l)})}return s.$$set=d=>{"scrollSpeed"in d&&t(1,n=d.scrollSpeed),"delay"in d&&t(2,i=d.delay),"paddingBottom"in d&&t(3,o=d.paddingBottom),"$$scope"in d&&t(4,r=d.$$scope)},[l,n,i,o,r,a,p]}class RevealText extends SvelteComponent{constructor(e){super(),init(this,e,instance$C,create_fragment$E,safe_not_equal,{scrollSpeed:1,delay:2,paddingBottom:3})}}function get_each_context_1$3(s,e,t){const a=s.slice();return a[18]=e[t],a}function get_each_context$6(s,e,t){const a=s.slice();return a[18]=e[t],a[19]=e,a[20]=t,a}function create_else_block$b(s){let e,t;function a(i,o){return i[7]?create_if_block_3$5:create_else_block_1$5}let r=a(s),n=r(s);return{c(){e=element("div"),t=element("div"),n.c(),this.h()},l(i){e=claim_element(i,"DIV",{class:!0});var o=children$1(e);t=claim_element(o,"DIV",{class:!0});var l=children$1(t);n.l(l),l.forEach(detach),o.forEach(detach),this.h()},h(){attr(t,"class","text-center"),attr(e,"class","flex justify-center items-center h-full w-full bg-gradient-to-b from-tangerine to-plum text-6xl font-generic-o")},m(i,o){insert_hydration(i,e,o),append_hydration(e,t),n.m(t,null)},p(i,o){r!==(r=a(i))&&(n.d(1),n=r(i),n&&(n.c(),n.m(t,null)))},i:noop$1,o:noop$1,d(i){i&&detach(e),n.d()}}}function create_if_block$i(s){let e,t,a,r,n,i,o,l,u,m,c=s[1].city+"",h,p,d,x="Extended Forecast",M,A,w,E,g,q,k,L,S,R,D,B,N,Q,P,U,$,J,me;const W=[create_if_block_1$d,create_if_block_2$7],ee=[];function ue(Z,ie){return Z[4]===0?0:Z[4]===1?1:-1}return~(B=ue(s))&&(N=ee[B]=W[B](s)),$=new TypingText({props:{messages:s[2]}}),{c(){e=element("div"),t=element("div"),a=element("div"),r=space(),n=element("div"),i=element("div"),o=element("div"),l=space(),u=element("div"),m=element("div"),h=text(c),p=space(),d=element("div"),d.textContent=x,M=space(),A=element("div"),w=space(),E=element("div"),g=element("div"),q=text(s[5]),k=space(),L=element("div"),S=text(s[6]),R=space(),D=element("div"),N&&N.c(),Q=space(),P=element("div"),U=element("div"),J=element("div"),create_component($.$$.fragment),this.h()},l(Z){e=claim_element(Z,"DIV",{class:!0});var ie=children$1(e);t=claim_element(ie,"DIV",{class:!0});var fe=children$1(t);a=claim_element(fe,"DIV",{class:!0}),children$1(a).forEach(detach),r=claim_space(fe),n=claim_element(fe,"DIV",{class:!0});var ye=children$1(n);i=claim_element(ye,"DIV",{class:!0});var xe=children$1(i);o=claim_element(xe,"DIV",{class:!0,style:!0});var ge=children$1(o);ge.forEach(detach),l=claim_space(xe),u=claim_element(xe,"DIV",{class:!0});var Ae=children$1(u);m=claim_element(Ae,"DIV",{});var O=children$1(m);h=claim_text(O,c),O.forEach(detach),p=claim_space(Ae),d=claim_element(Ae,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(d)!=="svelte-1mom8sj"&&(d.textContent=x),Ae.forEach(detach),xe.forEach(detach),M=claim_space(ye),A=claim_element(ye,"DIV",{class:!0}),children$1(A).forEach(detach),w=claim_space(ye),E=claim_element(ye,"DIV",{class:!0,style:!0});var Y=children$1(E);g=claim_element(Y,"DIV",{});var T=children$1(g);q=claim_text(T,s[5]),T.forEach(detach),k=claim_space(Y),L=claim_element(Y,"DIV",{});var I=children$1(L);S=claim_text(I,s[6]),I.forEach(detach),Y.forEach(detach),ye.forEach(detach),fe.forEach(detach),R=claim_space(ie),D=claim_element(ie,"DIV",{class:!0});var X=children$1(D);N&&N.l(X),X.forEach(detach),Q=claim_space(ie),P=claim_element(ie,"DIV",{class:!0});var le=children$1(P);U=claim_element(le,"DIV",{class:!0});var se=children$1(U);J=claim_element(se,"DIV",{style:!0});var _e=children$1(J);claim_component($.$$.fragment,_e),se.forEach(detach),le.forEach(detach),ie.forEach(detach),this.h()},h(){attr(a,"class","flex-1"),attr(o,"class","flex-1 bg-contain bg-no-repeat bg-left"),set_style(o,"background-image","url("+s[0].logo+")"),attr(d,"class","text-yellow-300"),attr(u,"class","flex-3 flex flex-col"),attr(i,"class","flex-[5_5_0%] flex text-2xl shadow-inner pr-9 pl-9 pt-1 bg-gradient-to-b from-tangerine to-plum weather-header svelte-1fplsdr"),attr(A,"class","flex-1"),attr(E,"class","absolute right-20 text-2xl font-star-small"),set_style(E,"line-height","0.8em"),attr(n,"class","flex-2 flex"),attr(t,"class","flex-1 flex-col flex bg-atmosphere-blue"),attr(D,"class","flex-3 flex bg-gradient-to-b from-plum to-tangerine"),set_style(J,"display","contents"),set_style(J,"--container-width",s[9]),attr(U,"class","flex-1 border-t-white text-white shadow-inner pr-9 pl-9 pt-1 border-t-2 text-xl"),attr(P,"class","flex-1 flex bg-business-blue border-t-black border-t-2"),attr(e,"class","flex flex-col h-full font-star shadow-black text-shadow text-white")},m(Z,ie){insert_hydration(Z,e,ie),append_hydration(e,t),append_hydration(t,a),append_hydration(t,r),append_hydration(t,n),append_hydration(n,i),append_hydration(i,o),append_hydration(i,l),append_hydration(i,u),append_hydration(u,m),append_hydration(m,h),append_hydration(u,p),append_hydration(u,d),append_hydration(n,M),append_hydration(n,A),append_hydration(n,w),append_hydration(n,E),append_hydration(E,g),append_hydration(g,q),append_hydration(E,k),append_hydration(E,L),append_hydration(L,S),append_hydration(e,R),append_hydration(e,D),~B&&ee[B].m(D,null),append_hydration(e,Q),append_hydration(e,P),append_hydration(P,U),append_hydration(U,J),mount_component($,J,null),me=!0},p(Z,ie){(!me||ie&1)&&set_style(o,"background-image","url("+Z[0].logo+")"),(!me||ie&2)&&c!==(c=Z[1].city+"")&&set_data(h,c),(!me||ie&32)&&set_data(q,Z[5]),(!me||ie&64)&&set_data(S,Z[6]);let fe=B;B=ue(Z),B===fe?~B&&ee[B].p(Z,ie):(N&&(group_outros(),transition_out(ee[fe],1,1,()=>{ee[fe]=null}),check_outros()),~B?(N=ee[B],N?N.p(Z,ie):(N=ee[B]=W[B](Z),N.c()),transition_in(N,1),N.m(D,null)):N=null),ie&512&&set_style(J,"--container-width",Z[9]);const ye={};ie&4&&(ye.messages=Z[2]),$.$set(ye)},i(Z){me||(transition_in(N),transition_in($.$$.fragment,Z),me=!0)},o(Z){transition_out(N),transition_out($.$$.fragment,Z),me=!1},d(Z){Z&&detach(e),~B&&ee[B].d(),destroy_component($)}}}function create_else_block_1$5(s){let e;return{c(){e=text("STAND BY FOR YOUR LOCAL FORECAST...")},l(t){e=claim_text(t,"STAND BY FOR YOUR LOCAL FORECAST...")},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_if_block_3$5(s){let e;return{c(){e=text("WEATHER DATA UNAVAILABLE")},l(t){e=claim_text(t,"WEATHER DATA UNAVAILABLE")},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_if_block_2$7(s){let e,t,a,r;return a=new RevealText({props:{$$slots:{default:[create_default_slot$e]},$$scope:{ctx:s}}}),{c(){e=element("div"),t=element("div"),create_component(a.$$.fragment),this.h()},l(n){e=claim_element(n,"DIV",{class:!0});var i=children$1(e);t=claim_element(i,"DIV",{class:!0});var o=children$1(t);claim_component(a.$$.fragment,o),o.forEach(detach),i.forEach(detach),this.h()},h(){attr(t,"class","h-full border-business-blue border-[0.8rem] relative overflow-hidden pr-8 pl-4 pt-4"),attr(e,"class","justify-center flex-auto m-4 text-2xl relative bg-atmosphere-blue")},m(n,i){insert_hydration(n,e,i),append_hydration(e,t),mount_component(a,t,null),r=!0},p(n,i){const o={};i&8388864&&(o.$$scope={dirty:i,ctx:n}),a.$set(o)},i(n){r||(transition_in(a.$$.fragment,n),r=!0)},o(n){transition_out(a.$$.fragment,n),r=!1},d(n){n&&detach(e),destroy_component(a)}}}function create_if_block_1$d(s){let e,t,a=ensure_array_like(s[8]),r=[];for(let i=0;i<a.length;i+=1)r[i]=create_each_block$6(get_each_context$6(s,a,i));const n=i=>transition_out(r[i],1,1,()=>{r[i]=null});return{c(){e=element("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=claim_element(i,"DIV",{class:!0});var o=children$1(e);for(let l=0;l<r.length;l+=1)r[l].l(o);o.forEach(detach),this.h()},h(){attr(e,"class","flex items-center justify-center flex-auto gap-2 p-4")},m(i,o){insert_hydration(i,e,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);t=!0},p(i,o){if(o&264){a=ensure_array_like(i[8]);let l;for(l=0;l<a.length;l+=1){const u=get_each_context$6(i,a,l);r[l]?(r[l].p(u,o),transition_in(r[l],1)):(r[l]=create_each_block$6(u),r[l].c(),transition_in(r[l],1),r[l].m(e,null))}for(group_outros(),l=a.length;l<r.length;l+=1)n(l);check_outros()}},i(i){if(!t){for(let o=0;o<a.length;o+=1)transition_in(r[o]);t=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)transition_out(r[o]);t=!1},d(i){i&&detach(e),destroy_each(r,i)}}}function create_each_block_1$3(s){let e,t=s[18].name+"",a,r,n,i=s[18].detailedForecast+"",o;return{c(){e=element("div"),a=text(t),r=space(),n=element("div"),o=text(i),this.h()},l(l){e=claim_element(l,"DIV",{class:!0});var u=children$1(e);a=claim_text(u,t),u.forEach(detach),r=claim_space(l),n=claim_element(l,"DIV",{});var m=children$1(n);o=claim_text(m,i),m.forEach(detach),this.h()},h(){attr(e,"class","pt-4 pb-4 text-yellow-200")},m(l,u){insert_hydration(l,e,u),append_hydration(e,a),insert_hydration(l,r,u),insert_hydration(l,n,u),append_hydration(n,o)},p(l,u){u&256&&t!==(t=l[18].name+"")&&set_data(a,t),u&256&&i!==(i=l[18].detailedForecast+"")&&set_data(o,i)},d(l){l&&(detach(e),detach(r),detach(n))}}}function create_default_slot$e(s){let e,t=ensure_array_like(s[8]),a=[];for(let r=0;r<t.length;r+=1)a[r]=create_each_block_1$3(get_each_context_1$3(s,t,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=empty()},l(r){for(let n=0;n<a.length;n+=1)a[n].l(r);e=empty()},m(r,n){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(r,n);insert_hydration(r,e,n)},p(r,n){if(n&256){t=ensure_array_like(r[8]);let i;for(i=0;i<t.length;i+=1){const o=get_each_context_1$3(r,t,i);a[i]?a[i].p(o,n):(a[i]=create_each_block_1$3(o),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&detach(e),destroy_each(a,r)}}}function create_each_block$6(s){let e,t,a,r;function n(l){s[11](l,s[18],s[19],s[20])}function i(l){s[12](l)}let o={};return s[18]!==void 0&&(o.forecast=s[18]),s[3]!==void 0&&(o.units=s[3]),e=new ForecastDay({props:o}),binding_callbacks.push(()=>bind$1(e,"forecast",n)),binding_callbacks.push(()=>bind$1(e,"units",i)),{c(){create_component(e.$$.fragment)},l(l){claim_component(e.$$.fragment,l)},m(l,u){mount_component(e,l,u),r=!0},p(l,u){s=l;const m={};!t&&u&256&&(t=!0,m.forecast=s[18],add_flush_callback(()=>t=!1)),!a&&u&8&&(a=!0,m.units=s[3],add_flush_callback(()=>a=!1)),e.$set(m)},i(l){r||(transition_in(e.$$.fragment,l),r=!0)},o(l){transition_out(e.$$.fragment,l),r=!1},d(l){destroy_component(e,l)}}}function create_fragment$D(s){let e,t,a,r;const n=[create_if_block$i,create_else_block$b],i=[];function o(l,u){return l[1]?0:1}return e=o(s),t=i[e]=n[e](s),{c(){t.c(),a=empty()},l(l){t.l(l),a=empty()},m(l,u){i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,[u]){let m=e;e=o(l),e===m?i[e].p(l,u):(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros(),t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a))},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),i[e].d(l)}}}async function getCoordinates(){const s=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)});return{longitude:s.coords.longitude,latitude:s.coords.latitude}}function instance$B(s,e,t){let a,r,n;component_subscribe(s,containerWidth,q=>t(10,n=q));let{props:i={}}=e,o=null,l=[],u,m=0,c,h,p,d,x=!1,M;onMount(async()=>{try{if(i.units||t(0,i.units="metric",i),t(3,u=new Units(i.units)),!i.provider)throw new Error("Weather component requires a provider");switch(i.provider){case"usa":M=new UsaWeatherProvider;break;default:throw new Error("Weather component requires a valid provider")}let q,k;if(i.latitude&&i.longitude)q=i.latitude,k=i.longitude;else if(navigator.geolocation){const L=await getCoordinates();q=L.latitude,k=L.longitude}else t(7,x=!0);c=setInterval(()=>{t(4,m=m===1?0:m+1)},25e3),A(),h=setInterval(()=>{A()},1e3),t(1,o=await M.getWeatherAsync(q,k,i.units))}catch{t(7,x=!0)}});function A(){t(5,p=new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})),t(6,d=new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}))}onDestroy(()=>{c&&clearTimeout(c),h&&clearInterval(h)});function w(q,k){if(k===null)return"";switch(q.toLowerCase()){case"temperature":return`TEMPERATURE: ${Math.round(k)}${u.temperatureUnit}`;case"barometricpressure":return`BAROMETRIC PRESSURE: ${k.toFixed(2)} ${u.barometricPressureUnit}`;case"windspeed":return`WIND SPEED: ${k.toFixed(2)} ${u.windSpeedUnit}`;case"winddirection":return`WIND DIRECTION: ${k.toFixed(2)} ${u.windDirectionUnit}`;case"humidity":return`HUMIDITY: ${k.toFixed(2)} ${u.humidityUnit}`;case"visibility":return`VISIBILITY: ${k.toFixed(2)} ${u.visibilityUnit}`;case"precipitation":return`PRECIPITATION: ${k.toFixed(2)} ${u.precipitationUnit}`;case"shortforecast":return`CURRENT CONDITIONS: ${k}`;default:return""}}function E(q,k,L,S){L[S]=q,t(8,r),t(1,o)}function g(q){u=q,t(3,u)}return s.$$set=q=>{"props"in q&&t(0,i=q.props)},s.$$.update=()=>{s.$$.dirty&1024&&t(9,a=`${n-100}px`),s.$$.dirty&2&&t(8,r=o&&o.forecast&&o.forecast.length>0?o.forecast.slice(0,3):[]),s.$$.dirty&2&&o&&o.observations&&Object.keys(o.observations).length>0&&t(2,l=Object.keys(o.observations).map(q=>w(q,o.observations[q])).filter(q=>q))},[i,o,l,u,m,p,d,x,r,a,n,E,g]}class Weather extends SvelteComponent{constructor(e){super(),init(this,e,instance$B,create_fragment$D,safe_not_equal,{props:0})}}function get_each_context$5(s,e,t){const a=s.slice();return a[12]=e[t],a}function get_each_context_1$2(s,e,t){const a=s.slice();return a[12]=e[t],a}function get_each_context_2$2(s,e,t){const a=s.slice();return a[12]=e[t],a}function create_if_block$h(s){let e,t,a=ensure_array_like(s[1]),r=[];for(let i=0;i<a.length;i+=1)r[i]=create_each_block_2$2(get_each_context_2$2(s,a,i));const n=i=>transition_out(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=empty()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=empty()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);insert_hydration(i,e,o),t=!0},p(i,o){if(o&3){a=ensure_array_like(i[1]);let l;for(l=0;l<a.length;l+=1){const u=get_each_context_2$2(i,a,l);r[l]?(r[l].p(u,o),transition_in(r[l],1)):(r[l]=create_each_block_2$2(u),r[l].c(),transition_in(r[l],1),r[l].m(e.parentNode,e))}for(group_outros(),l=a.length;l<r.length;l+=1)n(l);check_outros()}},i(i){if(!t){for(let o=0;o<a.length;o+=1)transition_in(r[o]);t=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)transition_out(r[o]);t=!1},d(i){i&&detach(e),destroy_each(r,i)}}}function create_each_block_2$2(s){let e,t;return e=new ToneGenerator({props:{waveformType:"square",waveformFrequency:numberToFrequency(s[12]),playContinuously:!1,attackMs:5,sustainMs:20,releaseMs:600,sustainVolume:getComponentVolume(s[0].volume,.5),filterType:"lowpass",filterFrequency:2e3}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&2&&(n.waveformFrequency=numberToFrequency(a[12])),r&1&&(n.sustainVolume=getComponentVolume(a[0].volume,.5)),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_each_block_1$2(s){let e,t,a=s[12]+"",r,n,i;return{c(){e=element("div"),t=element("div"),r=text(a),n=space(),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var l=children$1(e);t=claim_element(l,"DIV",{class:!0,style:!0});var u=children$1(t);r=claim_text(u,a),u.forEach(detach),n=claim_space(l),l.forEach(detach),this.h()},h(){attr(t,"class","border-white border-r-soft-white border-b-soft-white border-solid border-4 flex justify-center items-center h-full w-full"),set_style(t,"box-shadow","inset 0 -1px 10px rgba(0,0,0,0.5), inset 0 1px 5px rgba(255,255,255,0.8)"),attr(e,"class",i="w-[10%] h-[25%] "+(s[1].includes(s[12])?"bg-red-700 text-yellow-400":"bg-blue-800 text-white")+" text-xl font-bold text-shadow flex justify-center items-center border-solid border-2 border-black")},m(o,l){insert_hydration(o,e,l),append_hydration(e,t),append_hydration(t,r),append_hydration(e,n)},p(o,l){l&2&&i!==(i="w-[10%] h-[25%] "+(o[1].includes(o[12])?"bg-red-700 text-yellow-400":"bg-blue-800 text-white")+" text-xl font-bold text-shadow flex justify-center items-center border-solid border-2 border-black")&&attr(e,"class",i)},d(o){o&&detach(e)}}}function create_each_block$5(s){let e,t,a=s[12]+"",r,n,i;return{c(){e=element("div"),t=element("div"),r=text(a),n=space(),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var l=children$1(e);t=claim_element(l,"DIV",{class:!0,style:!0});var u=children$1(t);r=claim_text(u,a),u.forEach(detach),n=claim_space(l),l.forEach(detach),this.h()},h(){attr(t,"class","border-white border-r-soft-white border-b-soft-white border-solid border-4 flex justify-center items-center h-full w-full"),set_style(t,"box-shadow","inset 0 -1px 10px rgba(0,0,0,0.5), inset 0 1px 5px rgba(255,255,255,0.8)"),attr(e,"class",i="w-[10%] h-[25%] "+(s[1].includes(s[12])?"bg-red-700 text-yellow-400":"bg-blue-800 text-white")+" text-xl font-bold text-shadow flex justify-center items-center border-solid border-2 border-black")},m(o,l){insert_hydration(o,e,l),append_hydration(e,t),append_hydration(t,r),append_hydration(e,n)},p(o,l){l&2&&i!==(i="w-[10%] h-[25%] "+(o[1].includes(o[12])?"bg-red-700 text-yellow-400":"bg-blue-800 text-white")+" text-xl font-bold text-shadow flex justify-center items-center border-solid border-2 border-black")&&attr(e,"class",i)},d(o){o&&detach(e)}}}function create_fragment$C(s){let e,t,a,r,n,i,o,l,u="Visit the Keno desk in the Lobby to enter next game or redeem winning ticket.",m,c,h="Next Drawing:",p,d,x,M,A,w,E,g,q=(s[0].centerText||"")+"",k,L,S,R,D=s[3]&&s[0].volume!==!1&&create_if_block$h(s),B=ensure_array_like(s[5].slice(0,40)),N=[];for(let U=0;U<B.length;U+=1)N[U]=create_each_block_1$2(get_each_context_1$2(s,B,U));let Q=ensure_array_like(s[5].slice(40,80)),P=[];for(let U=0;U<Q.length;U+=1)P[U]=create_each_block$5(get_each_context$5(s,Q,U));return{c(){D&&D.c(),e=space(),t=element("div"),a=element("div"),r=element("div"),n=text("Game: "),i=text(s[2]),o=space(),l=element("div"),l.textContent=u,m=space(),c=element("div"),c.textContent=h,p=space(),d=element("div"),x=text(s[4]),M=space(),A=element("div"),w=element("div");for(let U=0;U<N.length;U+=1)N[U].c();E=space(),g=element("div"),k=text(q),L=space(),S=element("div");for(let U=0;U<P.length;U+=1)P[U].c();this.h()},l(U){D&&D.l(U),e=claim_space(U),t=claim_element(U,"DIV",{class:!0});var $=children$1(t);a=claim_element($,"DIV",{class:!0});var J=children$1(a);r=claim_element(J,"DIV",{class:!0});var me=children$1(r);n=claim_text(me,"Game: "),i=claim_text(me,s[2]),me.forEach(detach),o=claim_space(J),l=claim_element(J,"DIV",{"data-svelte-h":!0}),get_svelte_dataset(l)!=="svelte-xshb6p"&&(l.textContent=u),m=claim_space(J),c=claim_element(J,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(c)!=="svelte-1jiiy9v"&&(c.textContent=h),p=claim_space(J),d=claim_element(J,"DIV",{class:!0});var W=children$1(d);x=claim_text(W,s[4]),W.forEach(detach),J.forEach(detach),M=claim_space($),A=claim_element($,"DIV",{class:!0});var ee=children$1(A);w=claim_element(ee,"DIV",{class:!0});var ue=children$1(w);for(let fe=0;fe<N.length;fe+=1)N[fe].l(ue);ue.forEach(detach),E=claim_space(ee),g=claim_element(ee,"DIV",{class:!0});var Z=children$1(g);k=claim_text(Z,q),Z.forEach(detach),L=claim_space(ee),S=claim_element(ee,"DIV",{class:!0});var ie=children$1(S);for(let fe=0;fe<P.length;fe+=1)P[fe].l(ie);ie.forEach(detach),ee.forEach(detach),$.forEach(detach),this.h()},h(){attr(r,"class","text-2xl"),attr(c,"class","pt-6"),attr(d,"class","text-2xl"),attr(a,"class","flex-1 bg-green-800 bg-gradient-to-b from-green-800 to-green-950 font-generic text-xl text-white p-2"),attr(w,"class","flex-[5_5_0%] flex flex-wrap"),attr(g,"class","h-full flex-1 flex justify-center items-center font-generic-n text-white text-2xl"),attr(S,"class","flex-[5_5_0%] flex flex-wrap bg-teal-600"),attr(A,"class","flex-[4_4_0%] flex flex-col bg-black"),attr(t,"class","flex h-full italic")},m(U,$){D&&D.m(U,$),insert_hydration(U,e,$),insert_hydration(U,t,$),append_hydration(t,a),append_hydration(a,r),append_hydration(r,n),append_hydration(r,i),append_hydration(a,o),append_hydration(a,l),append_hydration(a,m),append_hydration(a,c),append_hydration(a,p),append_hydration(a,d),append_hydration(d,x),append_hydration(t,M),append_hydration(t,A),append_hydration(A,w);for(let J=0;J<N.length;J+=1)N[J]&&N[J].m(w,null);append_hydration(A,E),append_hydration(A,g),append_hydration(g,k),append_hydration(A,L),append_hydration(A,S);for(let J=0;J<P.length;J+=1)P[J]&&P[J].m(S,null);R=!0},p(U,[$]){if(U[3]&&U[0].volume!==!1?D?(D.p(U,$),$&9&&transition_in(D,1)):(D=create_if_block$h(U),D.c(),transition_in(D,1),D.m(e.parentNode,e)):D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros()),(!R||$&4)&&set_data(i,U[2]),(!R||$&16)&&set_data(x,U[4]),$&34){B=ensure_array_like(U[5].slice(0,40));let J;for(J=0;J<B.length;J+=1){const me=get_each_context_1$2(U,B,J);N[J]?N[J].p(me,$):(N[J]=create_each_block_1$2(me),N[J].c(),N[J].m(w,null))}for(;J<N.length;J+=1)N[J].d(1);N.length=B.length}if((!R||$&1)&&q!==(q=(U[0].centerText||"")+"")&&set_data(k,q),$&34){Q=ensure_array_like(U[5].slice(40,80));let J;for(J=0;J<Q.length;J+=1){const me=get_each_context$5(U,Q,J);P[J]?P[J].p(me,$):(P[J]=create_each_block$5(me),P[J].c(),P[J].m(S,null))}for(;J<P.length;J+=1)P[J].d(1);P.length=Q.length}},i(U){R||(transition_in(D),R=!0)},o(U){transition_out(D),R=!1},d(U){U&&(detach(e),detach(t)),D&&D.d(U),destroy_each(N,U),destroy_each(P,U)}}}function secondsToTime(s){const e=Math.floor(s/3600).toString().padStart(2,"0"),t=Math.floor(s%3600/60).toString().padStart(2,"0"),a=Math.floor(s%60).toString().padStart(2,"0");return e==="00"?t+":"+a:e+":"+t+":"+a}function noteToFrequency(s){return 440*Math.pow(2,(s-69)/12)}function numberToFrequency(s){const t=21+s;return noteToFrequency(t)}function instance$A(s,e,t){let a,{props:r}=e,n=[...Array(80).keys()].map(x=>x+1),i=[],o,l=Math.floor(Math.random()*1e3),u,m=[],c=!1;onMount(()=>{r.drawingMinutes||t(0,r.drawingMinutes=5,r),r.drawIntervalMs||t(0,r.drawIntervalMs=1e3,r),sessionStorage.getItem("keno_game_number")&&t(2,l=parseInt(sessionStorage.getItem("keno_game_number")||"0"));const x=new Date,M=x.getHours()*60*60+x.getMinutes()*60+x.getSeconds();t(6,u=r.drawingMinutes*60-M%(r.drawingMinutes*60)),o=setInterval(()=>{h()},1e3),p(!0)}),onDestroy(()=>{clearInterval(o),m.forEach(x=>clearTimeout(x))});function h(){t(6,--u)<=0&&p()}function p(x=!1){if(!x)t(3,c=!0),t(6,u=r.drawingMinutes*60);else if(sessionStorage.getItem("keno_chosen")){if(t(1,i=JSON.parse(sessionStorage.getItem("keno_chosen")||"[]")),i.length===20)return;t(1,i=[])}l+1>9999?t(2,l=1):t(2,l++,l),t(1,i=[]);let M=r.drawIntervalMs;m.forEach(A=>clearTimeout(A)),m=[];for(let A=0;A<20;A++)x?d():m.push(setTimeout(()=>{d()},M+=r.drawIntervalMs));sessionStorage.setItem("keno_chosen",JSON.stringify(i)),sessionStorage.setItem("keno_game_number",l.toString())}function d(){let x;do x=Math.floor(Math.random()*n.length);while(i.includes(n[x]));t(1,i=[...i,n[x]])}return s.$$set=x=>{"props"in x&&t(0,r=x.props)},s.$$.update=()=>{s.$$.dirty&64&&t(4,a=secondsToTime(u))},[r,i,l,c,a,n,u]}class Keno extends SvelteComponent{constructor(e){super(),init(this,e,instance$A,create_fragment$C,safe_not_equal,{props:0})}}function create_if_block$g(s){let e=s[0],t,a,r=create_key_block$3(s);return{c(){r.c(),t=empty()},l(n){r.l(n),t=empty()},m(n,i){r.m(n,i),insert_hydration(n,t,i),a=!0},p(n,i){i&1&&safe_not_equal(e,e=n[0])?(group_outros(),transition_out(r,1,1,noop$1),check_outros(),r=create_key_block$3(n),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r.p(n,i)},i(n){a||(transition_in(r),a=!0)},o(n){transition_out(r),a=!1},d(n){n&&detach(t),r.d(n)}}}function create_key_block$3(s){let e,t,a,r,n,i;const o=[s[0],{isScheduled:!0},{classes:"w-full"}];function l(m){s[6](m)}let u={};for(let m=0;m<o.length;m+=1)u=assign(u,o[m]);return s[2]!==void 0&&(u.scheduleSignaler=s[2]),t=new Content({props:u}),s[5](t),binding_callbacks.push(()=>bind$1(t,"scheduleSignaler",l)),{c(){e=element("div"),create_component(t.$$.fragment)},l(m){e=claim_element(m,"DIV",{});var c=children$1(e);claim_component(t.$$.fragment,c),c.forEach(detach)},m(m,c){insert_hydration(m,e,c),mount_component(t,e,null),i=!0},p(m,c){const h=c&1?get_spread_update(o,[get_spread_object(m[0]),o[1],o[2]]):{};!a&&c&4&&(a=!0,h.scheduleSignaler=m[2],add_flush_callback(()=>a=!1)),t.$set(h)},i(m){i||(transition_in(t.$$.fragment,m),add_render_callback(()=>{i&&(n&&n.end(1),r=create_in_transition(e,s[3],{fn:fade}),r.start())}),i=!0)},o(m){transition_out(t.$$.fragment,m),r&&r.invalidate(),n=create_out_transition(e,s[3],{fn:fade}),i=!1},d(m){m&&detach(e),s[5](null),destroy_component(t),m&&n&&n.end()}}}function create_fragment$B(s){let e,t,a=s[0]&&create_if_block$g(s);return{c(){a&&a.c(),e=empty()},l(r){a&&a.l(r),e=empty()},m(r,n){a&&a.m(r,n),insert_hydration(r,e,n),t=!0},p(r,[n]){r[0]?a?(a.p(r,n),n&1&&transition_in(a,1)):(a=create_if_block$g(r),a.c(),transition_in(a,1),a.m(e.parentNode,e)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(r){t||(transition_in(a),t=!0)},o(r){transition_out(a),t=!1},d(r){r&&detach(e),a&&a.d(r)}}}function instance$z(s,e,t){let{props:a={}}=e,r=!1,n=null,i=null,o=-1,l=null,u=!1,m=null;onMount(()=>{if(a.length&&a.length>0)h();else throw new Error("Loop component requires at least one Content definition.")}),onDestroy(()=>{r=!0,u=!1,c()});function c(){l&&clearTimeout(l),m&&clearTimeout(m)}function h(){var A;c(),i&&i.$destroy(),!r&&(a[o+1]?o++:o=0,u=!0,t(0,n=a[o]),m=setTimeout(()=>{u=!1},300),n.duration?l=setTimeout(()=>{h()},n.duration*1e3):(A=Components[n.engine||""])!=null&&A.hasEndDetection||(l=setTimeout(()=>{h()},a.defaultDuration||3e4)))}let p=()=>{c(),h()};function d(A,w){if(u)return w.fn(A,w)}function x(A){binding_callbacks[A?"unshift":"push"](()=>{i=A,t(1,i)})}function M(A){p=A,t(2,p)}return s.$$set=A=>{"props"in A&&t(4,a=A.props)},[n,i,p,d,a,x,M]}class Loop extends SvelteComponent{constructor(e){super(),init(this,e,instance$z,create_fragment$B,safe_not_equal,{props:4})}}function bind(s,e){return function(){return s.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(s=>e=>{const t=toString.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=s=>(s=s.toLowerCase(),e=>kindOf(e)===s),typeOfTest=s=>e=>typeof e===s,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(s){return s!==null&&!isUndefined(s)&&s.constructor!==null&&!isUndefined(s.constructor)&&isFunction(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&isArrayBuffer(s.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=s=>s!==null&&typeof s=="object",isBoolean=s=>s===!0||s===!1,isPlainObject$1=s=>{if(kindOf(s)!=="object")return!1;const e=getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=s=>isObject(s)&&isFunction(s.pipe),isFormData=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||isFunction(s.append)&&((e=kindOf(s))==="formdata"||e==="object"&&isFunction(s.toString)&&s.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let a,r;if(typeof s!="object"&&(s=[s]),isArray(s))for(a=0,r=s.length;a<r;a++)e.call(null,s[a],a,s);else{const n=t?Object.getOwnPropertyNames(s):Object.keys(s),i=n.length;let o;for(a=0;a<i;a++)o=n[a],e.call(null,s[o],o,s)}}function findKey(s,e){e=e.toLowerCase();const t=Object.keys(s);let a=t.length,r;for(;a-- >0;)if(r=t[a],e===r.toLowerCase())return r;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=s=>!isUndefined(s)&&s!==_global;function merge$1(){const{caseless:s}=isContextDefined(this)&&this||{},e={},t=(a,r)=>{const n=s&&findKey(e,r)||r;isPlainObject$1(e[n])&&isPlainObject$1(a)?e[n]=merge$1(e[n],a):isPlainObject$1(a)?e[n]=merge$1({},a):isArray(a)?e[n]=a.slice():e[n]=a};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&forEach(arguments[a],t);return e}const extend=(s,e,t,{allOwnKeys:a}={})=>(forEach(e,(r,n)=>{t&&isFunction(r)?s[n]=bind(r,t):s[n]=r},{allOwnKeys:a}),s),stripBOM=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),inherits=(s,e,t,a)=>{s.prototype=Object.create(e.prototype,a),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},toFlatObject=(s,e,t,a)=>{let r,n,i;const o={};if(e=e||{},s==null)return e;do{for(r=Object.getOwnPropertyNames(s),n=r.length;n-- >0;)i=r[n],(!a||a(i,s,e))&&!o[i]&&(e[i]=s[i],o[i]=!0);s=t!==!1&&getPrototypeOf(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},endsWith=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const a=s.indexOf(e,t);return a!==-1&&a===t},toArray=s=>{if(!s)return null;if(isArray(s))return s;let e=s.length;if(!isNumber(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},isTypedArray=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(s,e)=>{const a=(s&&s[Symbol.iterator]).call(s);let r;for(;(r=a.next())&&!r.done;){const n=r.value;e.call(s,n[0],n[1])}},matchAll=(s,e)=>{let t;const a=[];for(;(t=s.exec(e))!==null;)a.push(t);return a},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,r){return a.toUpperCase()+r}),hasOwnProperty$1=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),a={};forEach(t,(r,n)=>{let i;(i=e(r,n,s))!==!1&&(a[n]=i||r)}),Object.defineProperties(s,a)},freezeMethods=s=>{reduceDescriptors(s,(e,t)=>{if(isFunction(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=s[t];if(isFunction(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},toObjectSet=(s,e)=>{const t={},a=r=>{r.forEach(n=>{t[n]=!0})};return isArray(s)?a(s):a(String(s).split(e)),t},noop=()=>{},toFiniteNumber=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(s=16,e=ALPHABET.ALPHA_DIGIT)=>{let t="";const{length:a}=e;for(;s--;)t+=e[Math.random()*a|0];return t};function isSpecCompliantForm(s){return!!(s&&isFunction(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const toJSONObject=s=>{const e=new Array(10),t=(a,r)=>{if(isObject(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[r]=a;const n=isArray(a)?[]:{};return forEach(a,(i,o)=>{const l=t(i,r+1);!isUndefined(l)&&(n[o]=l)}),e[r]=void 0,n}}return a};return t(s,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=s=>s&&(isObject(s)||isFunction(s))&&isFunction(s.then)&&isFunction(s.catch),_setImmediate=((s,e)=>s?setImmediate:e?((t,a)=>(_global.addEventListener("message",({source:r,data:n})=>{r===_global&&n===t&&a.length&&a.shift()()},!1),r=>{a.push(r),_global.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(s,e,t,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{descriptors[s]={value:s}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(s,e,t,a,r,n)=>{const i=Object.create(prototype$1);return utils$1.toFlatObject(s,i,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),AxiosError.call(i,s.message,e,t,a,r),i.cause=s,i.name=s.name,n&&Object.assign(i,n),i};const httpAdapter=null;function isVisitable(s){return utils$1.isPlainObject(s)||utils$1.isArray(s)}function removeBrackets(s){return utils$1.endsWith(s,"[]")?s.slice(0,-2):s}function renderKey(s,e,t){return s?s.concat(e).map(function(r,n){return r=removeBrackets(r),!t&&n?"["+r+"]":r}).join(t?".":""):e}function isFlatArray(s){return utils$1.isArray(s)&&!s.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(s,e,t){if(!utils$1.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=utils$1.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,M){return!utils$1.isUndefined(M[x])});const a=t.metaTokens,r=t.visitor||m,n=t.dots,i=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(r))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(utils$1.isDate(d))return d.toISOString();if(!l&&utils$1.isBlob(d))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(d)||utils$1.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function m(d,x,M){let A=d;if(d&&!M&&typeof d=="object"){if(utils$1.endsWith(x,"{}"))x=a?x:x.slice(0,-2),d=JSON.stringify(d);else if(utils$1.isArray(d)&&isFlatArray(d)||(utils$1.isFileList(d)||utils$1.endsWith(x,"[]"))&&(A=utils$1.toArray(d)))return x=removeBrackets(x),A.forEach(function(E,g){!(utils$1.isUndefined(E)||E===null)&&e.append(i===!0?renderKey([x],g,n):i===null?x:x+"[]",u(E))}),!1}return isVisitable(d)?!0:(e.append(renderKey(M,x,n),u(d)),!1)}const c=[],h=Object.assign(predicates,{defaultVisitor:m,convertValue:u,isVisitable});function p(d,x){if(!utils$1.isUndefined(d)){if(c.indexOf(d)!==-1)throw Error("Circular reference detected in "+x.join("."));c.push(d),utils$1.forEach(d,function(A,w){(!(utils$1.isUndefined(A)||A===null)&&r.call(e,A,utils$1.isString(w)?w.trim():w,x,h))===!0&&p(A,x?x.concat(w):[w])}),c.pop()}}if(!utils$1.isObject(s))throw new TypeError("data must be an object");return p(s),e}function encode$2(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function AxiosURLSearchParams(s,e){this._pairs=[],s&&toFormData(s,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,t){this._pairs.push([e,t])};prototype.toString=function(e){const t=e?function(a){return e.call(this,a,encode$2)}:encode$2;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function encode$1(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(s,e,t){if(!e)return s;const a=t&&t.encode||encode$1,r=t&&t.serialize;let n;if(r?n=r(e,t):n=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,t).toString(a),n){const i=s.indexOf("#");i!==-1&&(s=s.slice(0,i)),s+=(s.indexOf("?")===-1?"?":"&")+n}return s}class InterceptorManager{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(a){a!==null&&e(a)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(s,e){return toFormData(s,new platform.classes.URLSearchParams,Object.assign({visitor:function(t,a,r,n){return platform.isNode&&utils$1.isBuffer(t)?(this.append(a,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(s){return utils$1.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(s){const e={},t=Object.keys(s);let a;const r=t.length;let n;for(a=0;a<r;a++)n=t[a],e[n]=s[n];return e}function formDataToJSON(s){function e(t,a,r,n){let i=t[n++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),l=n>=t.length;return i=!i&&utils$1.isArray(r)?r.length:i,l?(utils$1.hasOwnProp(r,i)?r[i]=[r[i],a]:r[i]=a,!o):((!r[i]||!utils$1.isObject(r[i]))&&(r[i]=[]),e(t,a,r[i],n)&&utils$1.isArray(r[i])&&(r[i]=arrayToObject(r[i])),!o)}if(utils$1.isFormData(s)&&utils$1.isFunction(s.entries)){const t={};return utils$1.forEachEntry(s,(a,r)=>{e(parsePropPath(a),r,t,0)}),t}return null}function stringifySafely(s,e,t){if(utils$1.isString(s))try{return(e||JSON.parse)(s),utils$1.trim(s)}catch(a){if(a.name!=="SyntaxError")throw a}return(0,JSON.stringify)(s)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",r=a.indexOf("application/json")>-1,n=utils$1.isObject(e);if(n&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return r?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((o=utils$1.isFileList(e))||a.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return toFormData(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const t=this.transitional||defaults.transitional,a=t&&t.forcedJSONParsing,r=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(a&&!this.responseType||r)){const i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?AxiosError.from(o,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],s=>{defaults.headers[s]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=s=>{const e={};let t,a,r;return s&&s.split(`
`).forEach(function(i){r=i.indexOf(":"),t=i.substring(0,r).trim().toLowerCase(),a=i.substring(r+1).trim(),!(!t||e[t]&&ignoreDuplicateOf[t])&&(t==="set-cookie"?e[t]?e[t].push(a):e[t]=[a]:e[t]=e[t]?e[t]+", "+a:a)}),e},$internals=Symbol("internals");function normalizeHeader(s){return s&&String(s).trim().toLowerCase()}function normalizeValue(s){return s===!1||s==null?s:utils$1.isArray(s)?s.map(normalizeValue):String(s)}function parseTokens(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(s);)e[a[1]]=a[2];return e}const isValidHeaderName=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function matchHeaderValue(s,e,t,a,r){if(utils$1.isFunction(a))return a.call(this,e,t);if(r&&(e=t),!!utils$1.isString(e)){if(utils$1.isString(a))return e.indexOf(a)!==-1;if(utils$1.isRegExp(a))return a.test(e)}}function formatHeader(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}function buildAccessors(s,e){const t=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(s,a+t,{value:function(r,n,i){return this[a].call(this,e,r,n,i)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,a){const r=this;function n(o,l,u){const m=normalizeHeader(l);if(!m)throw new Error("header name must be a non-empty string");const c=utils$1.findKey(r,m);(!c||r[c]===void 0||u===!0||u===void 0&&r[c]!==!1)&&(r[c||l]=normalizeValue(o))}const i=(o,l)=>utils$1.forEach(o,(u,m)=>n(u,m,l));if(utils$1.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))i(parseHeaders(e),t);else if(utils$1.isHeaders(e))for(const[o,l]of e.entries())n(l,o,a);else e!=null&&n(t,e,a);return this}get(e,t){if(e=normalizeHeader(e),e){const a=utils$1.findKey(this,e);if(a){const r=this[a];if(!t)return r;if(t===!0)return parseTokens(r);if(utils$1.isFunction(t))return t.call(this,r,a);if(utils$1.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e),e){const a=utils$1.findKey(this,e);return!!(a&&this[a]!==void 0&&(!t||matchHeaderValue(this,this[a],a,t)))}return!1}delete(e,t){const a=this;let r=!1;function n(i){if(i=normalizeHeader(i),i){const o=utils$1.findKey(a,i);o&&(!t||matchHeaderValue(a,a[o],o,t))&&(delete a[o],r=!0)}}return utils$1.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let a=t.length,r=!1;for(;a--;){const n=t[a];(!e||matchHeaderValue(this,this[n],n,e,!0))&&(delete this[n],r=!0)}return r}normalize(e){const t=this,a={};return utils$1.forEach(this,(r,n)=>{const i=utils$1.findKey(a,n);if(i){t[i]=normalizeValue(r),delete t[n];return}const o=e?formatHeader(n):String(n).trim();o!==n&&delete t[n],t[o]=normalizeValue(r),a[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return utils$1.forEach(this,(a,r)=>{a!=null&&a!==!1&&(t[r]=e&&utils$1.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach(r=>a.set(r)),a}static accessor(e){const a=(this[$internals]=this[$internals]={accessors:{}}).accessors,r=this.prototype;function n(i){const o=normalizeHeader(i);a[o]||(buildAccessors(r,i),a[o]=!0)}return utils$1.isArray(e)?e.forEach(n):n(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(a){this[t]=a}}});utils$1.freezeMethods(AxiosHeaders);function transformData(s,e){const t=this||defaults,a=e||t,r=AxiosHeaders.from(a.headers);let n=a.data;return utils$1.forEach(s,function(o){n=o.call(t,n,r.normalize(),e?e.status:void 0)}),r.normalize(),n}function isCancel(s){return!!(s&&s.__CANCEL__)}function CanceledError(s,e,t){AxiosError.call(this,s??"canceled",AxiosError.ERR_CANCELED,e,t),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(s,e,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?s(t):e(new AxiosError("Request failed with status code "+t.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function parseProtocol(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function speedometer(s,e){s=s||10;const t=new Array(s),a=new Array(s);let r=0,n=0,i;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),m=a[n];i||(i=u),t[r]=l,a[r]=u;let c=n,h=0;for(;c!==r;)h+=t[c++],c=c%s;if(r=(r+1)%s,r===n&&(n=(n+1)%s),u-i<e)return;const p=m&&u-m;return p?Math.round(h*1e3/p):void 0}}function throttle(s,e){let t=0,a=1e3/e,r,n;const i=(u,m=Date.now())=>{t=m,r=null,n&&(clearTimeout(n),n=null),s.apply(null,u)};return[(...u)=>{const m=Date.now(),c=m-t;c>=a?i(u,m):(r=u,n||(n=setTimeout(()=>{n=null,i(r)},a-c)))},()=>r&&i(r)]}const progressEventReducer=(s,e,t=3)=>{let a=0;const r=speedometer(50,250);return throttle(n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,l=i-a,u=r(l),m=i<=o;a=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&m?(o-i)/u:void 0,event:n,lengthComputable:o!=null,[e?"download":"upload"]:!0};s(c)},t)},progressEventDecorator=(s,e)=>{const t=s!=null;return[a=>e[0]({lengthComputable:t,total:s,loaded:a}),e[1]]},asyncDecorator=s=>(...e)=>utils$1.asap(()=>s(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const e=platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent),t=document.createElement("a");let a;function r(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return a=r(window.location.href),function(i){const o=utils$1.isString(i)?r(i):i;return o.protocol===a.protocol&&o.host===a.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(s,e,t,a,r,n){const i=[s+"="+encodeURIComponent(e)];utils$1.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),utils$1.isString(a)&&i.push("path="+a),utils$1.isString(r)&&i.push("domain="+r),n===!0&&i.push("secure"),document.cookie=i.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function combineURLs(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function buildFullPath(s,e){return s&&!isAbsoluteURL(e)?combineURLs(s,e):e}const headersToObject=s=>s instanceof AxiosHeaders?{...s}:s;function mergeConfig(s,e){e=e||{};const t={};function a(u,m,c){return utils$1.isPlainObject(u)&&utils$1.isPlainObject(m)?utils$1.merge.call({caseless:c},u,m):utils$1.isPlainObject(m)?utils$1.merge({},m):utils$1.isArray(m)?m.slice():m}function r(u,m,c){if(utils$1.isUndefined(m)){if(!utils$1.isUndefined(u))return a(void 0,u,c)}else return a(u,m,c)}function n(u,m){if(!utils$1.isUndefined(m))return a(void 0,m)}function i(u,m){if(utils$1.isUndefined(m)){if(!utils$1.isUndefined(u))return a(void 0,u)}else return a(void 0,m)}function o(u,m,c){if(c in e)return a(u,m);if(c in s)return a(void 0,u)}const l={url:n,method:n,data:n,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,m)=>r(headersToObject(u),headersToObject(m),!0)};return utils$1.forEach(Object.keys(Object.assign({},s,e)),function(m){const c=l[m]||r,h=c(s[m],e[m],m);utils$1.isUndefined(h)&&c!==o||(t[m]=h)}),t}const resolveConfig=s=>{const e=mergeConfig({},s);let{data:t,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:n,headers:i,auth:o}=e;e.headers=i=AxiosHeaders.from(i),e.url=buildURL(buildFullPath(e.baseURL,e.url),s.params,s.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(utils$1.isFormData(t)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[u,...m]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...m].join("; "))}}if(platform.hasStandardBrowserEnv&&(a&&utils$1.isFunction(a)&&(a=a(e)),a||a!==!1&&isURLSameOrigin(e.url))){const u=r&&n&&cookies.read(n);u&&i.set(r,u)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(s){return new Promise(function(t,a){const r=resolveConfig(s);let n=r.data;const i=AxiosHeaders.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=r,m,c,h,p,d;function x(){p&&p(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(r.method.toUpperCase(),r.url,!0),M.timeout=r.timeout;function A(){if(!M)return;const E=AxiosHeaders.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),q={data:!o||o==="text"||o==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:E,config:s,request:M};settle(function(L){t(L),x()},function(L){a(L),x()},q),M=null}"onloadend"in M?M.onloadend=A:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(A)},M.onabort=function(){M&&(a(new AxiosError("Request aborted",AxiosError.ECONNABORTED,s,M)),M=null)},M.onerror=function(){a(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,M)),M=null},M.ontimeout=function(){let g=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const q=r.transitional||transitionalDefaults;r.timeoutErrorMessage&&(g=r.timeoutErrorMessage),a(new AxiosError(g,q.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,s,M)),M=null},n===void 0&&i.setContentType(null),"setRequestHeader"in M&&utils$1.forEach(i.toJSON(),function(g,q){M.setRequestHeader(q,g)}),utils$1.isUndefined(r.withCredentials)||(M.withCredentials=!!r.withCredentials),o&&o!=="json"&&(M.responseType=r.responseType),u&&([h,d]=progressEventReducer(u,!0),M.addEventListener("progress",h)),l&&M.upload&&([c,p]=progressEventReducer(l),M.upload.addEventListener("progress",c),M.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(m=E=>{M&&(a(!E||E.type?new CanceledError(null,s,M):E),M.abort(),M=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const w=parseProtocol(r.url);if(w&&platform.protocols.indexOf(w)===-1){a(new AxiosError("Unsupported protocol "+w+":",AxiosError.ERR_BAD_REQUEST,s));return}M.send(n||null)})},composeSignals=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let a=new AbortController,r;const n=function(u){if(!r){r=!0,o();const m=u instanceof Error?u:this.reason;a.abort(m instanceof AxiosError?m:new CanceledError(m instanceof Error?m.message:m))}};let i=e&&setTimeout(()=>{i=null,n(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const o=()=>{s&&(i&&clearTimeout(i),i=null,s.forEach(u=>{u.unsubscribe?u.unsubscribe(n):u.removeEventListener("abort",n)}),s=null)};s.forEach(u=>u.addEventListener("abort",n));const{signal:l}=a;return l.unsubscribe=()=>utils$1.asap(o),l}},streamChunk=function*(s,e){let t=s.byteLength;if(t<e){yield s;return}let a=0,r;for(;a<t;)r=a+e,yield s.slice(a,r),a=r},readBytes=async function*(s,e){for await(const t of readStream(s))yield*streamChunk(t,e)},readStream=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:a}=await e.read();if(t)break;yield a}}finally{await e.cancel()}},trackStream=(s,e,t,a)=>{const r=readBytes(s,e);let n=0,i,o=l=>{i||(i=!0,a&&a(l))};return new ReadableStream({async pull(l){try{const{done:u,value:m}=await r.next();if(u){o(),l.close();return}let c=m.byteLength;if(t){let h=n+=c;t(h)}l.enqueue(new Uint8Array(m))}catch(u){throw o(u),u}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),test=(s,...e)=>{try{return!!s(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let s=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(s=>s.body)};isFetchSupported&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(s[e])?t=>t[e]():(t,a)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,a)})})})(new Response);const getBodyLength=async s=>{if(s==null)return 0;if(utils$1.isBlob(s))return s.size;if(utils$1.isSpecCompliantForm(s))return(await new Request(platform.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(s)||utils$1.isArrayBuffer(s))return s.byteLength;if(utils$1.isURLSearchParams(s)&&(s=s+""),utils$1.isString(s))return(await encodeText(s)).byteLength},resolveBodyLength=async(s,e)=>{const t=utils$1.toFiniteNumber(s.getContentLength());return t??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async s=>{let{url:e,method:t,data:a,signal:r,cancelToken:n,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:m,withCredentials:c="same-origin",fetchOptions:h}=resolveConfig(s);u=u?(u+"").toLowerCase():"text";let p=composeSignals([r,n&&n.toAbortSignal()],i),d;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let M;try{if(l&&supportsRequestStream&&t!=="get"&&t!=="head"&&(M=await resolveBodyLength(m,a))!==0){let q=new Request(e,{method:"POST",body:a,duplex:"half"}),k;if(utils$1.isFormData(a)&&(k=q.headers.get("content-type"))&&m.setContentType(k),q.body){const[L,S]=progressEventDecorator(M,progressEventReducer(asyncDecorator(l)));a=trackStream(q.body,DEFAULT_CHUNK_SIZE,L,S)}}utils$1.isString(c)||(c=c?"include":"omit");const A="credentials"in Request.prototype;d=new Request(e,{...h,signal:p,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:a,duplex:"half",credentials:A?c:void 0});let w=await fetch(d);const E=supportsResponseStream&&(u==="stream"||u==="response");if(supportsResponseStream&&(o||E&&x)){const q={};["status","statusText","headers"].forEach(R=>{q[R]=w[R]});const k=utils$1.toFiniteNumber(w.headers.get("content-length")),[L,S]=o&&progressEventDecorator(k,progressEventReducer(asyncDecorator(o),!0))||[];w=new Response(trackStream(w.body,DEFAULT_CHUNK_SIZE,L,()=>{S&&S(),x&&x()}),q)}u=u||"text";let g=await resolvers[utils$1.findKey(resolvers,u)||"text"](w,s);return!E&&x&&x(),await new Promise((q,k)=>{settle(q,k,{data:g,headers:AxiosHeaders.from(w.headers),status:w.status,statusText:w.statusText,config:s,request:d})})}catch(A){throw x&&x(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,d),{cause:A.cause||A}):AxiosError.from(A,A&&A.code,s,d)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const renderReason=s=>`- ${s}`,isResolvedHandle=s=>utils$1.isFunction(s)||s===null||s===!1,adapters={getAdapter:s=>{s=utils$1.isArray(s)?s:[s];const{length:e}=s;let t,a;const r={};for(let n=0;n<e;n++){t=s[n];let i;if(a=t,!isResolvedHandle(t)&&(a=knownAdapters[(i=String(t)).toLowerCase()],a===void 0))throw new AxiosError(`Unknown adapter '${i}'`);if(a)break;r[i||"#"+n]=a}if(!a){const n=Object.entries(r).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?n.length>1?`since :
`+n.map(renderReason).join(`
`):" "+renderReason(n[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return a},adapters:knownAdapters};function throwIfCancellationRequested(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new CanceledError(null,s)}function dispatchRequest(s){return throwIfCancellationRequested(s),s.headers=AxiosHeaders.from(s.headers),s.data=transformData.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(s.adapter||defaults.adapter)(s).then(function(a){return throwIfCancellationRequested(s),a.data=transformData.call(s,s.transformResponse,a),a.headers=AxiosHeaders.from(a.headers),a},function(a){return isCancel(a)||(throwIfCancellationRequested(s),a&&a.response&&(a.response.data=transformData.call(s,s.transformResponse,a.response),a.response.headers=AxiosHeaders.from(a.response.headers))),Promise.reject(a)})}const VERSION="1.7.7",validators$1={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{validators$1[s]=function(a){return typeof a===s||"a"+(e<1?"n ":" ")+s}});const deprecatedWarnings={};validators$1.transitional=function(e,t,a){function r(n,i){return"[Axios v"+VERSION+"] Transitional option '"+n+"'"+i+(a?". "+a:"")}return(n,i,o)=>{if(e===!1)throw new AxiosError(r(i," has been removed"+(t?" in "+t:"")),AxiosError.ERR_DEPRECATED);return t&&!deprecatedWarnings[i]&&(deprecatedWarnings[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,i,o):!0}};function assertOptions(s,e,t){if(typeof s!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const a=Object.keys(s);let r=a.length;for(;r-- >0;){const n=a[r],i=e[n];if(i){const o=s[n],l=o===void 0||i(o,n,s);if(l!==!0)throw new AxiosError("option "+n+" must be "+l,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new AxiosError("Unknown option "+n,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const n=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?n&&!String(a.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+n):a.stack=n}catch{}}throw a}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=mergeConfig(this.defaults,t);const{transitional:a,paramsSerializer:r,headers:n}=t;a!==void 0&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),r!=null&&(utils$1.isFunction(r)?t.paramsSerializer={serialize:r}:validator.assertOptions(r,{encode:validators.function,serialize:validators.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=n&&utils$1.merge(n.common,n[t.method]);n&&utils$1.forEach(["delete","get","head","post","put","patch","common"],d=>{delete n[d]}),t.headers=AxiosHeaders.concat(i,n);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let m,c=0,h;if(!l){const d=[dispatchRequest.bind(this),void 0];for(d.unshift.apply(d,o),d.push.apply(d,u),h=d.length,m=Promise.resolve(t);c<h;)m=m.then(d[c++],d[c++]);return m}h=o.length;let p=t;for(c=0;c<h;){const d=o[c++],x=o[c++];try{p=d(p)}catch(M){x.call(this,M);break}}try{m=dispatchRequest.call(this,p)}catch(d){return Promise.reject(d)}for(c=0,h=u.length;c<h;)m=m.then(u[c++],u[c++]);return m}getUri(e){e=mergeConfig(this.defaults,e);const t=buildFullPath(e.baseURL,e.url);return buildURL(t,e.params,e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,a){return this.request(mergeConfig(a||{},{method:e,url:t,data:(a||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function t(a){return function(n,i,o){return this.request(mergeConfig(o||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Axios.prototype[e]=t(),Axios.prototype[e+"Form"]=t(!0)});class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});const a=this;this.promise.then(r=>{if(!a._listeners)return;let n=a._listeners.length;for(;n-- >0;)a._listeners[n](r);a._listeners=null}),this.promise.then=r=>{let n;const i=new Promise(o=>{a.subscribe(o),n=o}).then(r);return i.cancel=function(){a.unsubscribe(n)},i},e(function(n,i,o){a.reason||(a.reason=new CanceledError(n,i,o),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=a=>{e.abort(a)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new CancelToken(function(r){e=r}),cancel:e}}}function spread(s){return function(t){return s.apply(null,t)}}function isAxiosError(s){return utils$1.isObject(s)&&s.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([s,e])=>{HttpStatusCode[e]=s});function createInstance(s){const e=new Axios(s),t=bind(Axios.prototype.request,e);return utils$1.extend(t,Axios.prototype,e,{allOwnKeys:!0}),utils$1.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return createInstance(mergeConfig(s,r))},t}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=s=>formDataToJSON(utils$1.isHTMLForm(s)?new FormData(s):s);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;async function fetchTvslData(s,e){try{return(await axios.get(`${s}`,{params:e})).data}catch(t){throw console.error("Error fetching program guide data:",t),t}}function get_each_context$4(s,e,t){const a=s.slice();return a[11]=e[t],a}function create_each_block$4(s){let e;const t=s[4].default,a=create_slot(t,s,s[3],null);return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,n){a&&a.m(r,n),e=!0},p(r,n){a&&a.p&&(!e||n&8)&&update_slot_base(a,t,r,r[3],e?get_slot_changes(t,r[3],n,null):get_all_dirty_from_scope(r[3]),null)},i(r){e||(transition_in(a,r),e=!0)},o(r){transition_out(a,r),e=!1},d(r){a&&a.d(r)}}}function create_fragment$A(s){let e,t,a,r=ensure_array_like(Array(s[0])),n=[];for(let o=0;o<r.length;o+=1)n[o]=create_each_block$4(get_each_context$4(s,r,o));const i=o=>transition_out(n[o],1,1,()=>{n[o]=null});return{c(){e=element("div"),t=element("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var l=children$1(e);t=claim_element(l,"DIV",{class:!0});var u=children$1(t);for(let m=0;m<n.length;m+=1)n[m].l(u);u.forEach(detach),l.forEach(detach),this.h()},h(){attr(t,"class","w-full"),attr(e,"class","h-full overflow-hidden scroll-auto")},m(o,l){insert_hydration(o,e,l),append_hydration(e,t);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);s[5](e),a=!0},p(o,[l]){if(l&9){r=ensure_array_like(Array(o[0]));let u;for(u=0;u<r.length;u+=1){const m=get_each_context$4(o,r,u);n[u]?(n[u].p(m,l),transition_in(n[u],1)):(n[u]=create_each_block$4(m),n[u].c(),transition_in(n[u],1),n[u].m(t,null))}for(group_outros(),u=r.length;u<n.length;u+=1)i(u);check_outros()}},i(o){if(!a){for(let l=0;l<r.length;l+=1)transition_in(n[l]);a=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)transition_out(n[l]);a=!1},d(o){o&&detach(e),destroy_each(n,o),s[5](null)}}}function instance$y(s,e,t){let{$$slots:a={},$$scope:r}=e,{isLoaded:n=!1}=e,{numberOfSlots:i=2}=e,o,l,u,m=0;onMount(()=>{n&&c()}),onDestroy(()=>{l&&clearInterval(l)});function c(){u=(o==null?void 0:o.scrollHeight)/2,u>0&&(l=setInterval(()=>{o.scrollTop>=u||m>=u?m=0:m+=.5,requestAnimationFrame(()=>{o==null||o.scrollTo(0,m)})},1e3/80))}function h(p){binding_callbacks[p?"unshift":"push"](()=>{o=p,t(1,o)})}return s.$$set=p=>{"isLoaded"in p&&t(2,n=p.isLoaded),"numberOfSlots"in p&&t(0,i=p.numberOfSlots),"$$scope"in p&&t(3,r=p.$$scope)},s.$$.update=()=>{s.$$.dirty&4&&n&&c()},[i,o,n,r,a,h]}class Marquee extends SvelteComponent{constructor(e){super(),init(this,e,instance$y,create_fragment$A,safe_not_equal,{isLoaded:2,numberOfSlots:0})}}class GuideClock{constructor(e,t){pe(this,"date");pe(this,"clock");pe(this,"timeslots");this.numberOfTimeslots=e,this.minutesPerTimeslot=t;const a=new Date;this.date=writable(a),this.clock=writable(a.toLocaleTimeString(locale,clockFormat)),this.timeslots=writable(Array(this.numberOfTimeslots).fill("--:-- --")),this.update(!0)}update(e=!1){const t=new Date;this.clock.set(t.toLocaleTimeString(locale,clockFormat)),(e||t.getSeconds()===0)&&(this.date.set(t),this.timeslots.set(this.generateTimeslots(this.numberOfTimeslots,this.minutesPerTimeslot)))}generateTimeslots(e,t){const a=new Date,r=a.getHours()*60+a.getMinutes(),n=Math.floor(r/t)*t,i=new Date(a);i.setHours(0,n,0,0);const o=[];for(let l=0;l<e;l++){const u=new Date(i);u.setMinutes(i.getMinutes()+l*t),o.push(u)}return o.map(l=>l.toLocaleTimeString(locale,timeslotFormat))}}const locale="en-US",dateFormat={weekday:"long",year:"numeric",month:"long",day:"numeric"},clockFormat={hour12:!0},timeslotFormat={hour12:!0,hour:"2-digit",minute:"2-digit"};function get_each_context$3(s,e,t){const a=s.slice();return a[16]=e[t],a}function get_each_context_1$1(s,e,t){const a=s.slice();return a[19]=e[t],a[21]=t,a}function get_each_context_2$1(s,e,t){const a=s.slice();return a[22]=e[t],a}function get_each_context_3(s,e,t){const a=s.slice();return a[25]=e[t],a[21]=t,a}function get_each_context_4(s,e,t){const a=s.slice();return a[27]=e[t],a}function create_if_block_7$2(s){var o;let e,t,a,r,n=((o=s[0])==null?void 0:o.title)+"",i;return{c(){e=element("table"),t=element("thead"),a=element("tr"),r=element("th"),i=text(n),this.h()},l(l){e=claim_element(l,"TABLE",{class:!0});var u=children$1(e);t=claim_element(u,"THEAD",{});var m=children$1(t);a=claim_element(m,"TR",{});var c=children$1(a);r=claim_element(c,"TH",{colspan:!0,class:!0});var h=children$1(r);i=claim_text(h,n),h.forEach(detach),c.forEach(detach),m.forEach(detach),u.forEach(detach),this.h()},h(){attr(r,"colspan","3"),attr(r,"class","guide-text text-center svelte-1yw65l2"),attr(e,"class","m-0 guide-table text-left w-full svelte-1yw65l2")},m(l,u){insert_hydration(l,e,u),append_hydration(e,t),append_hydration(t,a),append_hydration(a,r),append_hydration(r,i)},p(l,u){var m;u&1&&n!==(n=((m=l[0])==null?void 0:m.title)+"")&&set_data(i,n)},d(l){l&&detach(e)}}}function create_if_block_1$c(s){let e,t;return e=new Marquee({props:{isLoaded:s[5],numberOfSlots:s[4],$$slots:{default:[create_default_slot$d]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&32&&(n.isLoaded=a[5]),r&16&&(n.numberOfSlots=a[4]),r&1073742086&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_6$2(s){let e,t,a,r,n,i;return{c(){e=element("tr"),t=element("td"),a=element("img"),this.h()},l(o){e=claim_element(o,"TR",{});var l=children$1(e);t=claim_element(l,"TD",{colspan:!0,class:!0});var u=children$1(t);a=claim_element(u,"IMG",{class:!0,src:!0,alt:!0}),u.forEach(detach),l.forEach(detach),this.h()},h(){attr(a,"class","w-full h-full"),src_url_equal(a.src,r=s[2])||attr(a,"src",r),attr(a,"alt","Guide logo"),attr(t,"colspan","9"),attr(t,"class","svelte-1yw65l2")},m(o,l){insert_hydration(o,e,l),append_hydration(e,t),append_hydration(t,a),n||(i=listen(a,"load",s[13]),n=!0)},p(o,l){l&4&&!src_url_equal(a.src,r=o[2])&&attr(a,"src",r)},d(o){o&&detach(e),n=!1,i()}}}function create_if_block_5$4(s){let e,t=ensure_array_like(s[22].alerts),a=[];for(let r=0;r<t.length;r+=1)a[r]=create_each_block_4(get_each_context_4(s,t,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=empty()},l(r){for(let n=0;n<a.length;n+=1)a[n].l(r);e=empty()},m(r,n){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(r,n);insert_hydration(r,e,n)},p(r,n){if(n&2){t=ensure_array_like(r[22].alerts);let i;for(i=0;i<t.length;i+=1){const o=get_each_context_4(r,t,i);a[i]?a[i].p(o,n):(a[i]=create_each_block_4(o),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&detach(e),destroy_each(a,r)}}}function create_each_block_4(s){let e,t,a=s[27]+"",r,n;return{c(){e=element("tr"),t=element("td"),r=text(a),n=space(),this.h()},l(i){e=claim_element(i,"TR",{});var o=children$1(e);t=claim_element(o,"TD",{colspan:!0,class:!0});var l=children$1(t);r=claim_text(l,a),l.forEach(detach),n=claim_space(o),o.forEach(detach),this.h()},h(){attr(t,"colspan","9"),attr(t,"class","guide-text notice svelte-1yw65l2")},m(i,o){insert_hydration(i,e,o),append_hydration(e,t),append_hydration(t,r),append_hydration(e,n)},p(i,o){o&2&&a!==(a=i[27]+"")&&set_data(r,a)},d(i){i&&detach(e)}}}function create_else_block$a(s){let e;return{c(){e=text("OFF AIR")},l(t){e=claim_text(t,"OFF AIR")},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_if_block_4$4(s){let e,t=s[12].format(new Date(s[25].start||"")).split(" ")[0]+"",a,r;return{c(){e=text("("),a=text(t),r=text(") ")},l(n){e=claim_text(n,"("),a=claim_text(n,t),r=claim_text(n,") ")},m(n,i){insert_hydration(n,e,i),insert_hydration(n,a,i),insert_hydration(n,r,i)},p(n,i){i&2&&t!==(t=n[12].format(new Date(n[25].start||"")).split(" ")[0]+"")&&set_data(a,t)},d(n){n&&(detach(e),detach(a),detach(r))}}}function create_if_block_3$4(s){let e;return{c(){e=text("(CC)")},l(t){e=claim_text(t,"(CC)")},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_if_block_2$6(s){let e;return{c(){e=text("CONT.")},l(t){e=claim_text(t,"CONT.")},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_each_block_3(s){let e=s[25].title+"",t,a,r,n,i=s[21]>0&&create_if_block_4$4(s),o=s[25].isSubtitled&&create_if_block_3$4(),l=s[25].isContinuedRight&&create_if_block_2$6();return{c(){i&&i.c(),t=text(e),a=space(),o&&o.c(),r=space(),l&&l.c(),n=empty()},l(u){i&&i.l(u),t=claim_text(u,e),a=claim_space(u),o&&o.l(u),r=claim_space(u),l&&l.l(u),n=empty()},m(u,m){i&&i.m(u,m),insert_hydration(u,t,m),insert_hydration(u,a,m),o&&o.m(u,m),insert_hydration(u,r,m),l&&l.m(u,m),insert_hydration(u,n,m)},p(u,m){u[21]>0&&i.p(u,m),m&2&&e!==(e=u[25].title+"")&&set_data(t,e),u[25].isSubtitled?o||(o=create_if_block_3$4(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),u[25].isContinuedRight?l||(l=create_if_block_2$6(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(u){u&&(detach(t),detach(a),detach(r),detach(n)),i&&i.d(u),o&&o.d(u),l&&l.d(u)}}}function create_each_block_2$1(s){var M;let e,t,a,r=((M=s[22].number)==null?void 0:M.toString().replace("-","L"))+"",n,i,o,l=s[22].abbr?s[22].abbr+"-":"",u,m,c=s[22].alerts&&create_if_block_5$4(s);function h(...A){return s[15](s[21],...A)}let p=ensure_array_like(s[22].listings.filter(h)),d=[];for(let A=0;A<p.length;A+=1)d[A]=create_each_block_3(get_each_context_3(s,p,A));let x=null;return p.length||(x=create_else_block$a()),{c(){c&&c.c(),e=space(),t=element("tr"),a=element("td"),n=text(r),i=space(),o=element("td"),u=text(l);for(let A=0;A<d.length;A+=1)d[A].c();x&&x.c(),m=space(),this.h()},l(A){c&&c.l(A),e=claim_space(A),t=claim_element(A,"TR",{class:!0});var w=children$1(t);a=claim_element(w,"TD",{colspan:!0,class:!0});var E=children$1(a);n=claim_text(E,r),E.forEach(detach),i=claim_space(w),o=claim_element(w,"TD",{colspan:!0,class:!0});var g=children$1(o);u=claim_text(g,l);for(let q=0;q<d.length;q+=1)d[q].l(g);x&&x.l(g),g.forEach(detach),m=claim_space(w),w.forEach(detach),this.h()},h(){attr(a,"colspan","1"),attr(a,"class","text-right svelte-1yw65l2"),attr(o,"colspan","8"),attr(o,"class","svelte-1yw65l2"),attr(t,"class","guide-text svelte-1yw65l2")},m(A,w){c&&c.m(A,w),insert_hydration(A,e,w),insert_hydration(A,t,w),append_hydration(t,a),append_hydration(a,n),append_hydration(t,i),append_hydration(t,o),append_hydration(o,u);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(o,null);x&&x.m(o,null),append_hydration(t,m)},p(A,w){var E;if(s=A,s[22].alerts?c?c.p(s,w):(c=create_if_block_5$4(s),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),w&2&&r!==(r=((E=s[22].number)==null?void 0:E.toString().replace("-","L"))+"")&&set_data(n,r),w&2&&l!==(l=s[22].abbr?s[22].abbr+"-":"")&&set_data(u,l),w&4098){p=ensure_array_like(s[22].listings.filter(h));let g;for(g=0;g<p.length;g+=1){const q=get_each_context_3(s,p,g);d[g]?d[g].p(q,w):(d[g]=create_each_block_3(q),d[g].c(),d[g].m(o,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=p.length,p.length?x&&(x.d(1),x=null):x||(x=create_else_block$a(),x.c(),x.m(o,null))}},d(A){A&&(detach(e),detach(t)),c&&c.d(A),destroy_each(d,A),x&&x.d()}}}function create_each_block_1$1(s){let e,t,a,r,n,i="",o,l=s[19]+"",u,m,c,h="",p,d,x,M=ensure_array_like(s[1]),A=[];for(let w=0;w<M.length;w+=1)A[w]=create_each_block_2$1(get_each_context_2$1(s,M,w));return{c(){e=element("table"),t=element("thead"),a=element("tr"),r=element("th"),n=element("span"),n.textContent=i,o=space(),u=text(l),m=space(),c=element("span"),c.textContent=h,p=space(),d=element("tbody");for(let w=0;w<A.length;w+=1)A[w].c();x=space(),this.h()},l(w){e=claim_element(w,"TABLE",{class:!0});var E=children$1(e);t=claim_element(E,"THEAD",{});var g=children$1(t);a=claim_element(g,"TR",{});var q=children$1(a);r=claim_element(q,"TH",{colspan:!0,class:!0});var k=children$1(r);n=claim_element(k,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(n)!=="svelte-p6u4dm"&&(n.textContent=i),o=claim_space(k),u=claim_text(k,l),m=claim_space(k),c=claim_element(k,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(c)!=="svelte-p6u4dm"&&(c.textContent=h),k.forEach(detach),q.forEach(detach),g.forEach(detach),p=claim_space(E),d=claim_element(E,"TBODY",{});var L=children$1(d);for(let S=0;S<A.length;S+=1)A[S].l(L);L.forEach(detach),x=claim_space(E),E.forEach(detach),this.h()},h(){attr(n,"class","inline-block scale-x-150 guide-decorator svelte-1yw65l2"),attr(c,"class","inline-block scale-x-150 guide-decorator svelte-1yw65l2"),attr(r,"colspan","9"),attr(r,"class","guide-text text-center svelte-1yw65l2"),attr(e,"class","m-0 p-0 guide-table text-left w-full svelte-1yw65l2")},m(w,E){insert_hydration(w,e,E),append_hydration(e,t),append_hydration(t,a),append_hydration(a,r),append_hydration(r,n),append_hydration(r,o),append_hydration(r,u),append_hydration(r,m),append_hydration(r,c),append_hydration(e,p),append_hydration(e,d);for(let g=0;g<A.length;g+=1)A[g]&&A[g].m(d,null);append_hydration(e,x)},p(w,E){if(E&256&&l!==(l=w[19]+"")&&set_data(u,l),E&4098){M=ensure_array_like(w[1]);let g;for(g=0;g<M.length;g+=1){const q=get_each_context_2$1(w,M,g);A[g]?A[g].p(q,E):(A[g]=create_each_block_2$1(q),A[g].c(),A[g].m(d,null))}for(;g<A.length;g+=1)A[g].d(1);A.length=M.length}},d(w){w&&detach(e),destroy_each(A,w)}}}function create_default_slot$d(s){let e,t,a=s[2]&&create_if_block_6$2(s),r=ensure_array_like(s[8]),n=[];for(let i=0;i<r.length;i+=1)n[i]=create_each_block_1$1(get_each_context_1$1(s,r,i));return{c(){e=element("div"),a&&a.c(),t=space();for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=claim_element(i,"DIV",{class:!0});var o=children$1(e);a&&a.l(o),t=claim_space(o);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(detach),this.h()},h(){attr(e,"class","guide-colors")},m(i,o){insert_hydration(i,e,o),a&&a.m(e,null),append_hydration(e,t);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(i,o){if(i[2]?a?a.p(i,o):(a=create_if_block_6$2(i),a.c(),a.m(e,t)):a&&(a.d(1),a=null),o&4354){r=ensure_array_like(i[8]);let l;for(l=0;l<r.length;l+=1){const u=get_each_context_1$1(i,r,l);n[l]?n[l].p(u,o):(n[l]=create_each_block_1$1(u),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(i){i&&detach(e),a&&a.d(),destroy_each(n,i)}}}function create_if_block$f(s){let e,t,a,r="|",n,i=ensure_array_like(s[0].ticker),o=[];for(let l=0;l<i.length;l+=1)o[l]=create_each_block$3(get_each_context$3(s,i,l));return{c(){e=element("div"),t=element("marquee"),a=element("span"),a.textContent=r,n=space();for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=claim_element(l,"DIV",{class:!0});var u=children$1(e);t=claim_element(u,"MARQUEE",{});var m=children$1(t);a=claim_element(m,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(a)!=="svelte-1lvtip"&&(a.textContent=r),n=claim_space(m);for(let c=0;c<o.length;c+=1)o[c].l(m);m.forEach(detach),u.forEach(detach),this.h()},h(){attr(a,"class","guide-decorator svelte-1yw65l2"),attr(e,"class","absolute bottom-0 left-0 right-0 h-10 bg-black border-t-blue-dark border-t-2 text-center lower-marquee-text text-[1.4rem] svelte-1yw65l2")},m(l,u){insert_hydration(l,e,u),append_hydration(e,t),append_hydration(t,a),append_hydration(t,n);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(t,null)},p(l,u){if(u&1){i=ensure_array_like(l[0].ticker);let m;for(m=0;m<i.length;m+=1){const c=get_each_context$3(l,i,m);o[m]?o[m].p(c,u):(o[m]=create_each_block$3(c),o[m].c(),o[m].m(t,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=i.length}},d(l){l&&detach(e),destroy_each(o,l)}}}function create_each_block$3(s){let e,t=s[16]+"",a,r,n,i="| ";return{c(){e=element("span"),a=text(t),r=space(),n=element("span"),n.textContent=i,this.h()},l(o){e=claim_element(o,"SPAN",{});var l=children$1(e);a=claim_text(l,t),l.forEach(detach),r=claim_space(o),n=claim_element(o,"SPAN",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(n)!=="svelte-1lvtip"&&(n.textContent=i),this.h()},h(){attr(n,"class","guide-decorator svelte-1yw65l2")},m(o,l){insert_hydration(o,e,l),append_hydration(e,a),insert_hydration(o,r,l),insert_hydration(o,n,l)},p(o,l){l&1&&t!==(t=o[16]+"")&&set_data(a,t)},d(o){o&&(detach(e),detach(r),detach(n))}}}function create_fragment$z(s){var k,L;let e,t,a,r,n,i,o=s[6].toLocaleDateString(locale,{weekday:"short",month:"short",day:"2-digit"}).replace(",","")+"",l,u,m,c=" ",h,p,d,x,M,A,w,E=((k=s[0])==null?void 0:k.title)&&create_if_block_7$2(s),g=s[3]&&create_if_block_1$c(s),q=((L=s[0])==null?void 0:L.ticker)&&create_if_block$f(s);return{c(){e=element("div"),E&&E.c(),t=space(),a=element("table"),r=element("thead"),n=element("tr"),i=element("th"),l=text(o),u=space(),m=element("th"),m.textContent=c,h=space(),p=element("th"),d=text(s[7]),x=space(),g&&g.c(),M=space(),q&&q.c(),this.h()},l(S){e=claim_element(S,"DIV",{class:!0});var R=children$1(e);E&&E.l(R),t=claim_space(R),a=claim_element(R,"TABLE",{class:!0});var D=children$1(a);r=claim_element(D,"THEAD",{});var B=children$1(r);n=claim_element(B,"TR",{class:!0});var N=children$1(n);i=claim_element(N,"TH",{class:!0});var Q=children$1(i);l=claim_text(Q,o),Q.forEach(detach),u=claim_space(N),m=claim_element(N,"TH",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(m)!=="svelte-14dyn06"&&(m.textContent=c),h=claim_space(N),p=claim_element(N,"TH",{class:!0});var P=children$1(p);d=claim_text(P,s[7]),P.forEach(detach),N.forEach(detach),B.forEach(detach),D.forEach(detach),x=claim_space(R),g&&g.l(R),M=claim_space(R),q&&q.l(R),R.forEach(detach),this.h()},h(){var S;attr(i,"class","text-left pl-3 svelte-1yw65l2"),attr(m,"class","guide-text text-center svelte-1yw65l2"),attr(p,"class","text-right pr-3 svelte-1yw65l2"),attr(n,"class","guide-text guide-bg svelte-1yw65l2"),attr(a,"class","m-0 p-0 guide-table text-left w-full absolute clock svelte-1yw65l2"),attr(e,"class",A="flex flex-col flex-1 guide-1989 h-full font-prevue-list text-[1.4rem] relative "+((S=s[0])!=null&&S.title?"has-title":"")+" svelte-1yw65l2")},m(S,R){insert_hydration(S,e,R),E&&E.m(e,null),append_hydration(e,t),append_hydration(e,a),append_hydration(a,r),append_hydration(r,n),append_hydration(n,i),append_hydration(i,l),append_hydration(n,u),append_hydration(n,m),append_hydration(n,h),append_hydration(n,p),append_hydration(p,d),append_hydration(e,x),g&&g.m(e,null),append_hydration(e,M),q&&q.m(e,null),w=!0},p(S,[R]){var D,B,N;(D=S[0])!=null&&D.title?E?E.p(S,R):(E=create_if_block_7$2(S),E.c(),E.m(e,t)):E&&(E.d(1),E=null),(!w||R&64)&&o!==(o=S[6].toLocaleDateString(locale,{weekday:"short",month:"short",day:"2-digit"}).replace(",","")+"")&&set_data(l,o),(!w||R&128)&&set_data(d,S[7]),S[3]?g?(g.p(S,R),R&8&&transition_in(g,1)):(g=create_if_block_1$c(S),g.c(),transition_in(g,1),g.m(e,M)):g&&(group_outros(),transition_out(g,1,1,()=>{g=null}),check_outros()),(B=S[0])!=null&&B.ticker?q?q.p(S,R):(q=create_if_block$f(S),q.c(),q.m(e,null)):q&&(q.d(1),q=null),(!w||R&1&&A!==(A="flex flex-col flex-1 guide-1989 h-full font-prevue-list text-[1.4rem] relative "+((N=S[0])!=null&&N.title?"has-title":"")+" svelte-1yw65l2"))&&attr(e,"class",A)},i(S){w||(transition_in(g),w=!0)},o(S){transition_out(g),w=!1},d(S){S&&detach(e),E&&E.d(),g&&g.d(),q&&q.d()}}}function instance$x(s,e,t){let a,r,n,{listings:i}=e,{timeInfo:o}=e,{logo:l=null}=e,{themeOptions:u}=e,m=!1,c=2,h=!1,{date:p,clock:d,timeslots:x}=o;component_subscribe(s,p,E=>t(6,a=E)),component_subscribe(s,d,E=>t(7,r=E)),component_subscribe(s,x,E=>t(8,n=E));const M=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit"});onMount(()=>{for(t(0,u=u||{});c<16&&i.length*o.numberOfTimeslots*c<16;)t(4,c*=2);u.ticker&&(typeof u.ticker=="string"?t(0,u.ticker=[u.ticker],u):Array.isArray(u.ticker)||t(0,u.ticker=null,u)),t(3,m=!0),l||A()});function A(){t(5,h=!0)}const w=(E,g)=>!g.timeslots||g.timeslots.includes(E);return s.$$set=E=>{"listings"in E&&t(1,i=E.listings),"timeInfo"in E&&t(14,o=E.timeInfo),"logo"in E&&t(2,l=E.logo),"themeOptions"in E&&t(0,u=E.themeOptions)},[u,i,l,m,c,h,a,r,n,p,d,x,M,A,o,w]}class Theme1989 extends SvelteComponent{constructor(e){super(),init(this,e,instance$x,create_fragment$z,safe_not_equal,{listings:1,timeInfo:14,logo:2,themeOptions:0})}}function get_each_context$2(s,e,t){const a=s.slice();return a[5]=e[t],a}function create_each_block$2(s){let e,t=s[5]+"",a,r;return{c(){e=element("th"),a=text(t),this.h()},l(n){e=claim_element(n,"TH",{colspan:!0});var i=children$1(e);a=claim_text(i,t),i.forEach(detach),this.h()},h(){attr(e,"colspan",r=s[0].minutesPerTimeslot)},m(n,i){insert_hydration(n,e,i),append_hydration(e,a)},p(n,i){i&4&&t!==(t=n[5]+"")&&set_data(a,t),i&1&&r!==(r=n[0].minutesPerTimeslot)&&attr(e,"colspan",r)},d(n){n&&detach(e)}}}function create_fragment$y(s){let e,t,a,r,n,i=ensure_array_like(s[2]),o=[];for(let l=0;l<i.length;l+=1)o[l]=create_each_block$2(get_each_context$2(s,i,l));return{c(){e=element("tr"),t=element("th"),a=text(s[1]),n=space();for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=claim_element(l,"TR",{class:!0});var u=children$1(e);t=claim_element(u,"TH",{class:!0,colspan:!0});var m=children$1(t);a=claim_text(m,s[1]),m.forEach(detach),n=claim_space(u);for(let c=0;c<o.length;c+=1)o[c].l(u);u.forEach(detach),this.h()},h(){attr(t,"class","guide-text text-right pr-3"),attr(t,"colspan",r=s[0].minutesPerTimeslot),attr(e,"class","guide-header text-center")},m(l,u){insert_hydration(l,e,u),append_hydration(e,t),append_hydration(t,a),append_hydration(e,n);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(e,null)},p(l,[u]){if(u&2&&set_data(a,l[1]),u&1&&r!==(r=l[0].minutesPerTimeslot)&&attr(t,"colspan",r),u&5){i=ensure_array_like(l[2]);let m;for(m=0;m<i.length;m+=1){const c=get_each_context$2(l,i,m);o[m]?o[m].p(c,u):(o[m]=create_each_block$2(c),o[m].c(),o[m].m(e,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=i.length}},i:noop$1,o:noop$1,d(l){l&&detach(e),destroy_each(o,l)}}}function instance$w(s,e,t){let a,r,{timeInfo:n}=e,{timeslots:i,clock:o}=n;return component_subscribe(s,i,l=>t(2,r=l)),component_subscribe(s,o,l=>t(1,a=l)),s.$$set=l=>{"timeInfo"in l&&t(0,n=l.timeInfo)},[n,a,r,i,o]}class Header extends SvelteComponent{constructor(e){super(),init(this,e,instance$w,create_fragment$y,safe_not_equal,{timeInfo:0})}}function create_fragment$x(s){let e,t,a,r,n,i;return{c(){e=element("div"),t=element("div"),a=text(s[0]),r=space(),n=element("div"),i=text(s[1]),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var l=children$1(e);t=claim_element(l,"DIV",{});var u=children$1(t);a=claim_text(u,s[0]),u.forEach(detach),r=claim_space(l),n=claim_element(l,"DIV",{});var m=children$1(n);i=claim_text(m,s[1]),m.forEach(detach),l.forEach(detach),this.h()},h(){attr(e,"class","font-prevue-grid text-[20px] leading-none")},m(o,l){insert_hydration(o,e,l),append_hydration(e,t),append_hydration(t,a),append_hydration(e,r),append_hydration(e,n),append_hydration(n,i)},p(o,[l]){l&1&&set_data(a,o[0]),l&2&&set_data(i,o[1])},i:noop$1,o:noop$1,d(o){o&&detach(e)}}}function instance$v(s,e,t){let{isRight:a=!1}=e,{isDouble:r=!1}=e,n="",i="";return onMount(()=>{a?r?(t(0,n=""),t(1,i="")):(t(0,n=""),t(1,i="")):r?(t(0,n=""),t(1,i="")):(t(0,n=""),t(1,i=""))}),s.$$set=o=>{"isRight"in o&&t(2,a=o.isRight),"isDouble"in o&&t(3,r=o.isDouble)},[n,i,a,r]}class ListingArrow extends SvelteComponent{constructor(e){super(),init(this,e,instance$v,create_fragment$x,safe_not_equal,{isRight:2,isDouble:3})}}var XmlTVRating=(s=>(s.G="G",s.PG="PG",s.PG13="PG-13",s.R="R",s.NC17="NC-17",s.Adult="Adult",s.TVG="TV-G",s.TVPG="TV-PG",s.TV14="TV-14",s.TVMA="TV-MA",s))(XmlTVRating||{});function create_if_block_1$b(s){let e,t;return e=new ListingArrow({props:{isDouble:!0}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block$e(s){let e,t;return e=new ListingArrow({props:{isDouble:!0,isRight:!0}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_fragment$w(s){let e,t,a,r,n,i=s[1].title+"",o,l,u=s[2](s[1].rating)+"",m,c,h=s[1].isStereo?"":"",p,d,x=s[1].isSubtitled?"":"",M,A,w,E,g=s[1].isContinuedLeft&&create_if_block_1$b(),q=s[1].isContinuedRight&&create_if_block$e();return{c(){e=element("td"),t=element("div"),g&&g.c(),a=space(),r=element("div"),n=element("div"),o=text(i),l=space(),m=text(u),c=space(),p=text(h),d=space(),M=text(x),A=space(),q&&q.c(),this.h()},l(k){e=claim_element(k,"TD",{colspan:!0,class:!0});var L=children$1(e);t=claim_element(L,"DIV",{class:!0});var S=children$1(t);g&&g.l(S),a=claim_space(S),r=claim_element(S,"DIV",{class:!0});var R=children$1(r);n=claim_element(R,"DIV",{});var D=children$1(n);o=claim_text(D,i),l=claim_space(D),m=claim_text(D,u),c=claim_space(D),p=claim_text(D,h),d=claim_space(D),M=claim_text(D,x),D.forEach(detach),R.forEach(detach),A=claim_space(S),q&&q.l(S),S.forEach(detach),L.forEach(detach),this.h()},h(){attr(r,"class","flex-grow"),attr(t,"class","flex justify-between items-center gap-2 leading-6 pl-2 pr-2"),attr(e,"colspan",s[0]),attr(e,"class",w="relative "+getCategory(s[1].category))},m(k,L){insert_hydration(k,e,L),append_hydration(e,t),g&&g.m(t,null),append_hydration(t,a),append_hydration(t,r),append_hydration(r,n),append_hydration(n,o),append_hydration(n,l),append_hydration(n,m),append_hydration(n,c),append_hydration(n,p),append_hydration(n,d),append_hydration(n,M),append_hydration(t,A),q&&q.m(t,null),E=!0},p(k,[L]){k[1].isContinuedLeft?g?L&2&&transition_in(g,1):(g=create_if_block_1$b(),g.c(),transition_in(g,1),g.m(t,a)):g&&(group_outros(),transition_out(g,1,1,()=>{g=null}),check_outros()),(!E||L&2)&&i!==(i=k[1].title+"")&&set_data(o,i),(!E||L&2)&&u!==(u=k[2](k[1].rating)+"")&&set_data(m,u),(!E||L&2)&&h!==(h=k[1].isStereo?"":"")&&set_data(p,h),(!E||L&2)&&x!==(x=k[1].isSubtitled?"":"")&&set_data(M,x),k[1].isContinuedRight?q?L&2&&transition_in(q,1):(q=create_if_block$e(),q.c(),transition_in(q,1),q.m(t,null)):q&&(group_outros(),transition_out(q,1,1,()=>{q=null}),check_outros()),(!E||L&1)&&attr(e,"colspan",k[0]),(!E||L&2&&w!==(w="relative "+getCategory(k[1].category)))&&attr(e,"class",w)},i(k){E||(transition_in(g),transition_in(q),E=!0)},o(k){transition_out(g),transition_out(q),E=!1},d(k){k&&detach(e),g&&g.d(),q&&q.d()}}}function getCategory(s){switch(s){case"movie":return"movie";case"news":return"news";case"sports event":return"sports";case"kids":return"kids";default:return""}}function instance$u(s,e,t){let{colspan:a}=e,{program:r}=e;function n(i){switch(i){case XmlTVRating.G:return"";case XmlTVRating.PG:return"";case XmlTVRating.TV14:return"";case XmlTVRating.TVMA:return"";case XmlTVRating.R:return"";case XmlTVRating.NC17:return"";case XmlTVRating.Adult:return"";default:return""}}return s.$$set=i=>{"colspan"in i&&t(0,a=i.colspan),"program"in i&&t(1,r=i.program)},[a,r,n]}class Listing extends SvelteComponent{constructor(e){super(),init(this,e,instance$u,create_fragment$w,safe_not_equal,{colspan:0,program:1})}}function get_each_context$1(s,e,t){const a=s.slice();return a[11]=e[t],a}function get_each_context_1(s,e,t){const a=s.slice();return a[14]=e[t],a}function get_each_context_2(s,e,t){const a=s.slice();return a[17]=e[t],a}function create_if_block_1$a(s){let e,t,a,r,n,i;return{c(){e=element("tr"),t=element("td"),a=element("img"),this.h()},l(o){e=claim_element(o,"TR",{});var l=children$1(e);t=claim_element(l,"TD",{colspan:!0});var u=children$1(t);a=claim_element(u,"IMG",{class:!0,src:!0,alt:!0}),u.forEach(detach),l.forEach(detach),this.h()},h(){attr(a,"class","w-full h-full"),src_url_equal(a.src,r=s[3])||attr(a,"src",r),attr(a,"alt","Guide logo"),attr(t,"colspan",s[6])},m(o,l){insert_hydration(o,e,l),append_hydration(e,t),append_hydration(t,a),n||(i=listen(a,"load",s[10]),n=!0)},p(o,l){l&8&&!src_url_equal(a.src,r=o[3])&&attr(a,"src",r),l&64&&attr(t,"colspan",o[6])},d(o){o&&detach(e),n=!1,i()}}}function create_else_block_1$4(s){let e,t,a,r;return{c(){e=element("tr"),t=element("td"),a=text("ER07: Stand by for your local listings..."),r=space(),this.h()},l(n){e=claim_element(n,"TR",{});var i=children$1(e);t=claim_element(i,"TD",{colspan:!0,class:!0});var o=children$1(t);a=claim_text(o,"ER07: Stand by for your local listings..."),o.forEach(detach),r=claim_space(i),i.forEach(detach),this.h()},h(){attr(t,"colspan",s[6]),attr(t,"class","text-center guide-text")},m(n,i){insert_hydration(n,e,i),append_hydration(e,t),append_hydration(t,a),append_hydration(e,r)},p(n,i){i&64&&attr(t,"colspan",n[6])},d(n){n&&detach(e)}}}function create_if_block$d(s){let e,t=ensure_array_like(s[11].alerts),a=[];for(let r=0;r<t.length;r+=1)a[r]=create_each_block_2(get_each_context_2(s,t,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=empty()},l(r){for(let n=0;n<a.length;n+=1)a[n].l(r);e=empty()},m(r,n){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(r,n);insert_hydration(r,e,n)},p(r,n){if(n&65){t=ensure_array_like(r[11].alerts);let i;for(i=0;i<t.length;i+=1){const o=get_each_context_2(r,t,i);a[i]?a[i].p(o,n):(a[i]=create_each_block_2(o),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&detach(e),destroy_each(a,r)}}}function create_each_block_2(s){let e,t,a=s[17]+"",r,n;return{c(){e=element("tr"),t=element("td"),r=text(a),n=space(),this.h()},l(i){e=claim_element(i,"TR",{});var o=children$1(e);t=claim_element(o,"TD",{colspan:!0,class:!0});var l=children$1(t);r=claim_text(l,a),l.forEach(detach),n=claim_space(o),o.forEach(detach),this.h()},h(){attr(t,"colspan",s[6]),attr(t,"class","guide-text notice")},m(i,o){insert_hydration(i,e,o),append_hydration(e,t),append_hydration(t,r),append_hydration(e,n)},p(i,o){o&1&&a!==(a=i[17]+"")&&set_data(r,a),o&64&&attr(t,"colspan",i[6])},d(i){i&&detach(e)}}}function create_else_block$9(s){let e,t;return{c(){e=element("td"),t=text("OFF-AIR"),this.h()},l(a){e=claim_element(a,"TD",{colspan:!0,class:!0});var r=children$1(e);t=claim_text(r,"OFF-AIR"),r.forEach(detach),this.h()},h(){attr(e,"colspan",s[5]),attr(e,"class","text-center guide-text")},m(a,r){insert_hydration(a,e,r),append_hydration(e,t)},p(a,r){r&32&&attr(e,"colspan",a[5])},d(a){a&&detach(e)}}}function create_each_block_1(s){let e,t,a,r;return e=new Listing({props:{colspan:s[14].span,program:s[14]}}),{c(){t=element("div"),create_component(e.$$.fragment),this.h()},l(n){t=claim_element(n,"DIV",{style:!0});var i=children$1(t);claim_component(e.$$.fragment,i),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--guide-cell-color",a=s[2][1]??"")},m(n,i){insert_hydration(n,t,i),mount_component(e,t,null),r=!0},p(n,i){i&4&&a!==(a=n[2][1]??"")&&set_style(t,"--guide-cell-color",a);const o={};i&1&&(o.colspan=n[14].span),i&1&&(o.program=n[14]),e.$set(o)},i(n){r||(transition_in(e.$$.fragment,n),r=!0)},o(n){transition_out(e.$$.fragment,n),r=!1},d(n){n&&e&&detach(t),destroy_component(e,n)}}}function create_each_block$1(s){let e,t,a,r,n=(s[11].number?s[11].number<0?`LINE ${s[11].number*-1}`:s[11].number:"---")+"",i,o,l,u=(s[11].abbr||"UNKNOWN")+"",m,c,h,p,d=s[11].alerts&&create_if_block$d(s),x=ensure_array_like(s[11].listings),M=[];for(let E=0;E<x.length;E+=1)M[E]=create_each_block_1(get_each_context_1(s,x,E));const A=E=>transition_out(M[E],1,1,()=>{M[E]=null});let w=null;return x.length||(w=create_else_block$9(s)),{c(){d&&d.c(),e=space(),t=element("tr"),a=element("td"),r=element("p"),i=text(n),o=space(),l=element("p"),m=text(u),c=space();for(let E=0;E<M.length;E+=1)M[E].c();w&&w.c(),h=space(),this.h()},l(E){d&&d.l(E),e=claim_space(E),t=claim_element(E,"TR",{class:!0});var g=children$1(t);a=claim_element(g,"TD",{colspan:!0,class:!0});var q=children$1(a);r=claim_element(q,"P",{});var k=children$1(r);i=claim_text(k,n),k.forEach(detach),o=claim_space(q),l=claim_element(q,"P",{});var L=children$1(l);m=claim_text(L,u),L.forEach(detach),q.forEach(detach),c=claim_space(g);for(let S=0;S<M.length;S+=1)M[S].l(g);w&&w.l(g),h=claim_space(g),g.forEach(detach),this.h()},h(){attr(a,"colspan",s[4]),attr(a,"class","text-center pl-2 guide-header"),attr(t,"class","guide-text")},m(E,g){d&&d.m(E,g),insert_hydration(E,e,g),insert_hydration(E,t,g),append_hydration(t,a),append_hydration(a,r),append_hydration(r,i),append_hydration(a,o),append_hydration(a,l),append_hydration(l,m),append_hydration(t,c);for(let q=0;q<M.length;q+=1)M[q]&&M[q].m(t,null);w&&w.m(t,null),append_hydration(t,h),p=!0},p(E,g){if(E[11].alerts?d?d.p(E,g):(d=create_if_block$d(E),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),(!p||g&1)&&n!==(n=(E[11].number?E[11].number<0?`LINE ${E[11].number*-1}`:E[11].number:"---")+"")&&set_data(i,n),(!p||g&1)&&u!==(u=(E[11].abbr||"UNKNOWN")+"")&&set_data(m,u),(!p||g&16)&&attr(a,"colspan",E[4]),g&37){x=ensure_array_like(E[11].listings);let q;for(q=0;q<x.length;q+=1){const k=get_each_context_1(E,x,q);M[q]?(M[q].p(k,g),transition_in(M[q],1)):(M[q]=create_each_block_1(k),M[q].c(),transition_in(M[q],1),M[q].m(t,h))}for(group_outros(),q=x.length;q<M.length;q+=1)A(q);check_outros(),!x.length&&w?w.p(E,g):x.length?w&&(w.d(1),w=null):(w=create_else_block$9(E),w.c(),w.m(t,h))}},i(E){if(!p){for(let g=0;g<x.length;g+=1)transition_in(M[g]);p=!0}},o(E){M=M.filter(Boolean);for(let g=0;g<M.length;g+=1)transition_out(M[g]);p=!1},d(E){E&&(detach(e),detach(t)),d&&d.d(E),destroy_each(M,E),w&&w.d()}}}function create_default_slot$c(s){let e,t,a,r,n,i,o,l,u,m,c,h,p,d,x=s[8].toLocaleDateString(locale,dateFormat)+"",M,A,w;a=new Header({props:{timeInfo:s[1]}});let E=s[3]&&create_if_block_1$a(s);l=new Header({props:{timeInfo:s[1]}});let g=ensure_array_like(s[0]),q=[];for(let S=0;S<g.length;S+=1)q[S]=create_each_block$1(get_each_context$1(s,g,S));const k=S=>transition_out(q[S],1,1,()=>{q[S]=null});let L=null;return g.length||(L=create_else_block_1$4(s)),{c(){e=element("table"),t=element("thead"),create_component(a.$$.fragment),r=space(),E&&E.c(),n=space(),i=element("table"),o=element("thead"),create_component(l.$$.fragment),u=space(),m=element("tbody"),c=element("tr"),h=element("td"),p=space(),d=element("td"),M=text(x),A=space();for(let S=0;S<q.length;S+=1)q[S].c();L&&L.c(),this.h()},l(S){e=claim_element(S,"TABLE",{class:!0});var R=children$1(e);t=claim_element(R,"THEAD",{});var D=children$1(t);claim_component(a.$$.fragment,D),r=claim_space(D),E&&E.l(D),D.forEach(detach),R.forEach(detach),n=claim_space(S),i=claim_element(S,"TABLE",{class:!0});var B=children$1(i);o=claim_element(B,"THEAD",{});var N=children$1(o);claim_component(l.$$.fragment,N),N.forEach(detach),u=claim_space(B),m=claim_element(B,"TBODY",{});var Q=children$1(m);c=claim_element(Q,"TR",{});var P=children$1(c);h=claim_element(P,"TD",{colspan:!0,class:!0}),children$1(h).forEach(detach),p=claim_space(P),d=claim_element(P,"TD",{colspan:!0,class:!0});var U=children$1(d);M=claim_text(U,x),U.forEach(detach),P.forEach(detach),A=claim_space(Q);for(let $=0;$<q.length;$+=1)q[$].l(Q);L&&L.l(Q),Q.forEach(detach),B.forEach(detach),this.h()},h(){attr(e,"class","m-0 p-0 guide-table text-left w-full"),attr(h,"colspan",s[4]),attr(h,"class","w-24"),attr(d,"colspan",s[5]),attr(d,"class","text-center guide-text"),attr(i,"class","m-0 p-0 guide-table text-left w-full")},m(S,R){insert_hydration(S,e,R),append_hydration(e,t),mount_component(a,t,null),append_hydration(t,r),E&&E.m(t,null),insert_hydration(S,n,R),insert_hydration(S,i,R),append_hydration(i,o),mount_component(l,o,null),append_hydration(i,u),append_hydration(i,m),append_hydration(m,c),append_hydration(c,h),append_hydration(c,p),append_hydration(c,d),append_hydration(d,M),append_hydration(m,A);for(let D=0;D<q.length;D+=1)q[D]&&q[D].m(m,null);L&&L.m(m,null),w=!0},p(S,R){const D={};R&2&&(D.timeInfo=S[1]),a.$set(D),S[3]?E?E.p(S,R):(E=create_if_block_1$a(S),E.c(),E.m(t,null)):E&&(E.d(1),E=null);const B={};if(R&2&&(B.timeInfo=S[1]),l.$set(B),(!w||R&16)&&attr(h,"colspan",S[4]),(!w||R&256)&&x!==(x=S[8].toLocaleDateString(locale,dateFormat)+"")&&set_data(M,x),(!w||R&32)&&attr(d,"colspan",S[5]),R&117){g=ensure_array_like(S[0]);let N;for(N=0;N<g.length;N+=1){const Q=get_each_context$1(S,g,N);q[N]?(q[N].p(Q,R),transition_in(q[N],1)):(q[N]=create_each_block$1(Q),q[N].c(),transition_in(q[N],1),q[N].m(m,null))}for(group_outros(),N=g.length;N<q.length;N+=1)k(N);check_outros(),!g.length&&L?L.p(S,R):g.length?L&&(L.d(1),L=null):(L=create_else_block_1$4(S),L.c(),L.m(m,null))}},i(S){if(!w){transition_in(a.$$.fragment,S),transition_in(l.$$.fragment,S);for(let R=0;R<g.length;R+=1)transition_in(q[R]);w=!0}},o(S){transition_out(a.$$.fragment,S),transition_out(l.$$.fragment,S),q=q.filter(Boolean);for(let R=0;R<q.length;R+=1)transition_out(q[R]);w=!1},d(S){S&&(detach(e),detach(n),detach(i)),destroy_component(a),E&&E.d(),destroy_component(l),destroy_each(q,S),L&&L.d()}}}function create_fragment$v(s){let e,t,a;return t=new Marquee({props:{isLoaded:s[7],$$slots:{default:[create_default_slot$c]},$$scope:{ctx:s}}}),{c(){e=element("div"),create_component(t.$$.fragment),this.h()},l(r){e=claim_element(r,"DIV",{class:!0});var n=children$1(e);claim_component(t.$$.fragment,n),n.forEach(detach),this.h()},h(){attr(e,"class","flex flex-col flex-1 default-guide h-full font-prevue-grid text-[1.4rem]")},m(r,n){insert_hydration(r,e,n),mount_component(t,e,null),a=!0},p(r,[n]){const i={};n&128&&(i.isLoaded=r[7]),n&1048959&&(i.$$scope={dirty:n,ctx:r}),t.$set(i)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){r&&detach(e),destroy_component(t)}}}function instance$t(s,e,t){let a,{listings:r}=e,{timeInfo:n}=e,{colorScheme:i}=e,{logo:o=null}=e,l,u,m,{date:c}=n;component_subscribe(s,c,d=>t(8,a=d)),onMount(()=>{o||p(),t(4,l=n.minutesPerTimeslot),t(5,u=n.minutesPerTimeslot*n.numberOfTimeslots),t(6,m=l+u)});let h=!1;function p(){t(7,h=!0)}return s.$$set=d=>{"listings"in d&&t(0,r=d.listings),"timeInfo"in d&&t(1,n=d.timeInfo),"colorScheme"in d&&t(2,i=d.colorScheme),"logo"in d&&t(3,o=d.logo)},[r,n,i,o,l,u,m,h,a,c,p]}class DefaultGuide extends SvelteComponent{constructor(e){super(),init(this,e,instance$t,create_fragment$v,safe_not_equal,{listings:0,timeInfo:1,colorScheme:2,logo:3})}}const GuideThemes={default:{name:"Default Theme",description:"Late 1990s guide theme; timeslots are across the top, channels are down the left side.",src:DefaultGuide,numberOfTimeslots:3},1989:{name:"1989",description:`"EPG" theme; it's a colorful list of channels and listings, one listing per line. Multiple timeslots are displayed but one after the other, not side by side.`,src:Theme1989,numberOfTimeslots:4},1997:{name:"1997",description:'Similar to the default theme but with more gradients and different fonts, following the "PC Prevue" style.',src:DefaultGuide,numberOfTimeslots:3},1999:{name:"1999",description:"Cable box theme; rounded corners, gradients, and a more modern look.",src:DefaultGuide,numberOfTimeslots:3}};function create_else_block$8(s){let e,t;function a(i,o){return i[5]?create_if_block_1$9:create_else_block_1$3}let r=a(s),n=r(s);return{c(){e=element("div"),t=element("div"),n.c(),this.h()},l(i){e=claim_element(i,"DIV",{class:!0});var o=children$1(e);t=claim_element(o,"DIV",{class:!0});var l=children$1(t);n.l(l),l.forEach(detach),o.forEach(detach),this.h()},h(){attr(t,"class","text-center"),attr(e,"class","flex justify-center items-center h-full w-full bg-black text-3xl text-white font-generic-o")},m(i,o){insert_hydration(i,e,o),append_hydration(e,t),n.m(t,null)},p(i,o){r!==(r=a(i))&&(n.d(1),n=r(i),n&&(n.c(),n.m(t,null)))},i:noop$1,o:noop$1,d(i){i&&detach(e),n.d()}}}function create_if_block$c(s){let e,t,a,r,n,i,o,l;var u=GuideThemes[s[0].theme||"default"].src;function m(c,h){return{props:{listings:c[2],timeInfo:c[3],colorScheme:c[4],logo:c[0].logo,themeOptions:c[0].themeOptions}}}return u&&(e=construct_svelte_component(u,m(s))),{c(){t=element("div"),e&&create_component(e.$$.fragment),o=empty(),this.h()},l(c){t=claim_element(c,"DIV",{style:!0});var h=children$1(t);e&&claim_component(e.$$.fragment,h),o=empty(),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--guide-primary-color",a=s[0].primaryColor),set_style(t,"--guide-secondary-color",r=s[0].secondaryColor),set_style(t,"--guide-text-color",n=s[0].textColor),set_style(t,"--guide-cell-color",i=s[0].cellColor||s[4][0])},m(c,h){insert_hydration(c,t,h),e&&mount_component(e,t,null),insert_hydration(c,o,h),l=!0},p(c,h){if(h&1&&a!==(a=c[0].primaryColor)&&set_style(t,"--guide-primary-color",a),h&1&&r!==(r=c[0].secondaryColor)&&set_style(t,"--guide-secondary-color",r),h&1&&n!==(n=c[0].textColor)&&set_style(t,"--guide-text-color",n),h&17&&i!==(i=c[0].cellColor||c[4][0])&&set_style(t,"--guide-cell-color",i),h&1&&u!==(u=GuideThemes[c[0].theme||"default"].src)){if(e){group_outros();const p=e;transition_out(p.$$.fragment,1,0,()=>{destroy_component(p,1),detach(t)}),check_outros()}u?(insert_hydration(o.parentNode,t,o),e=construct_svelte_component(u,m(c)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t,null)):e=null}else if(u){const p={};h&4&&(p.listings=c[2]),h&8&&(p.timeInfo=c[3]),h&16&&(p.colorScheme=c[4]),h&1&&(p.logo=c[0].logo),h&1&&(p.themeOptions=c[0].themeOptions),e.$set(p)}},i(c){l||(e&&transition_in(e.$$.fragment,c),l=!0)},o(c){e&&transition_out(e.$$.fragment,c),l=!1},d(c){c&&detach(o),c&&e&&detach(t),e&&destroy_component(e,c)}}}function create_else_block_1$3(s){let e;return{c(){e=text("STAND BY FOR YOUR LOCAL LISTINGS...")},l(t){e=claim_text(t,"STAND BY FOR YOUR LOCAL LISTINGS...")},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_if_block_1$9(s){let e;return{c(){e=text("LISTING DATA UNAVAILABLE")},l(t){e=claim_text(t,"LISTING DATA UNAVAILABLE")},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_fragment$u(s){let e,t,a,r;const n=[create_if_block$c,create_else_block$8],i=[];function o(l,u){return l[1]?0:1}return e=o(s),t=i[e]=n[e](s),{c(){t.c(),a=empty()},l(l){t.l(l),a=empty()},m(l,u){i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,[u]){let m=e;e=o(l),e===m?i[e].p(l,u):(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros(),t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a))},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),i[e].d(l)}}}function instance$s(s,e,t){let{props:a={}}=e,{channels:r}=e,n=!1,i=[],o=3,l=30,u,m=[],c=!1;return onMount(async()=>{var d;let h=0,p=null;a.channelRange&&(h=typeof a.channelRange.min=="number"?a.channelRange.min:null,p=typeof a.channelRange.max=="number"?a.channelRange.max:null),a.timeslots?(o=a.timeslots.number||GuideThemes[a.theme||"default"].numberOfTimeslots,l=a.timeslots.minutes||30):o=GuideThemes[a.theme||"default"].numberOfTimeslots,a.primaryColor&&t(4,m=getColorScheme(a.primaryColor).map(x=>`#${x}`)),t(3,u=new GuideClock(o,l)),setInterval(()=>{u.update()},1e3);try{if(a.externalListings){const x=await fetchTvslData(a.externalListings,{lowerChannelLimitInclusive:h,upperChannelLimitExclusive:p,numberOfTimeslots:o,minutesPerTimeslot:l});t(2,i=x.filter(M=>!(h&&M.number<h||p&&M.number>=p)))}else for(const x of Object.values(r))h&&x.number<h||p&&x.number>=p||i.push({abbr:x.abbr,number:x.number,alerts:(d=a.alerts)==null?void 0:d.filter(M=>M.position===x.number).map(M=>M.text),listings:[{title:x.title||x.name||"OFF-AIR",isContinuedLeft:!0,isContinuedRight:!0,span:o*l,isStereo:!1,isSubtitled:!1,timeslots:Array.from({length:o},(M,A)=>A)}]});t(1,n=!0)}catch(x){console.error(x),t(5,c=!0)}}),s.$$set=h=>{"props"in h&&t(0,a=h.props),"channels"in h&&t(6,r=h.channels)},[a,n,i,u,m,c,r]}class Guide extends SvelteComponent{constructor(e){super(),init(this,e,instance$s,create_fragment$u,safe_not_equal,{props:0,channels:6})}}function create_fragment$t(s){let e,t,a,r;return{c(){e=element("iframe"),this.h()},l(n){e=claim_element(n,"IFRAME",{src:!0,title:!0,class:!0}),children$1(e).forEach(detach),this.h()},h(){src_url_equal(e.src,t=s[0].src)||attr(e,"src",t),attr(e,"title",a=s[0].title),attr(e,"class",r="border-none h-full w-full "+(s[0].allowInteraction?"":"pointer-events-none"))},m(n,i){insert_hydration(n,e,i),s[2](e)},p(n,[i]){i&1&&!src_url_equal(e.src,t=n[0].src)&&attr(e,"src",t),i&1&&a!==(a=n[0].title)&&attr(e,"title",a),i&1&&r!==(r="border-none h-full w-full "+(n[0].allowInteraction?"":"pointer-events-none"))&&attr(e,"class",r)},i:noop$1,o:noop$1,d(n){n&&detach(e),s[2](null)}}}function instance$r(s,e,t){let{props:a={src:"about:blank",title:"Embedded content",refreshIntervalSeconds:null,allowInteraction:!1}}=e,r;onMount(()=>{if(a.refreshIntervalSeconds&&a.refreshIntervalSeconds>0){const i=setInterval(()=>{t(1,r.src=a.src,r)},a.refreshIntervalSeconds*1e3);return()=>clearInterval(i)}});function n(i){binding_callbacks[i?"unshift":"push"](()=>{r=i,t(1,r)})}return s.$$set=i=>{"props"in i&&t(0,a=i.props)},s.$$.update=()=>{s.$$.dirty&1&&typeof a=="string"&&t(0,a={src:a})},[a,r,n]}class IFrame extends SvelteComponent{constructor(e){super(),init(this,e,instance$r,create_fragment$t,safe_not_equal,{props:0})}}var dist={exports:{}},Sister;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Sister=function(){var s={},e={};return s.on=function(t,a){var r={name:t,handler:a};return e[t]=e[t]||[],e[t].unshift(r),r},s.off=function(t){var a=e[t.name].indexOf(t);a!==-1&&e[t.name].splice(a,1)},s.trigger=function(t,a){var r=e[t],n;if(r)for(n=r.length;n--;)r[n].handler(a)},s};var sister=Sister,YouTubePlayer$1={exports:{}},browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var s=1e3,e=s*60,t=e*60,a=t*24,r=a*7,n=a*365.25;ms=function(m,c){c=c||{};var h=typeof m;if(h==="string"&&m.length>0)return i(m);if(h==="number"&&isFinite(m))return c.long?l(m):o(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function i(m){if(m=String(m),!(m.length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(c){var h=parseFloat(c[1]),p=(c[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*n;case"weeks":case"week":case"w":return h*r;case"days":case"day":case"d":return h*a;case"hours":case"hour":case"hrs":case"hr":case"h":return h*t;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function o(m){var c=Math.abs(m);return c>=a?Math.round(m/a)+"d":c>=t?Math.round(m/t)+"h":c>=e?Math.round(m/e)+"m":c>=s?Math.round(m/s)+"s":m+"ms"}function l(m){var c=Math.abs(m);return c>=a?u(m,c,a,"day"):c>=t?u(m,c,t,"hour"):c>=e?u(m,c,e,"minute"):c>=s?u(m,c,s,"second"):m+" ms"}function u(m,c,h,p){var d=c>=h*1.5;return Math.round(m/h)+" "+p+(d?"s":"")}return ms}function setup(s){t.debug=t,t.default=t,t.coerce=l,t.disable=n,t.enable=r,t.enabled=i,t.humanize=requireMs(),t.destroy=u,Object.keys(s).forEach(m=>{t[m]=s[m]}),t.names=[],t.skips=[],t.formatters={};function e(m){let c=0;for(let h=0;h<m.length;h++)c=(c<<5)-c+m.charCodeAt(h),c|=0;return t.colors[Math.abs(c)%t.colors.length]}t.selectColor=e;function t(m){let c,h=null,p,d;function x(...M){if(!x.enabled)return;const A=x,w=Number(new Date),E=w-(c||w);A.diff=E,A.prev=c,A.curr=w,c=w,M[0]=t.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let g=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(k,L)=>{if(k==="%%")return"%";g++;const S=t.formatters[L];if(typeof S=="function"){const R=M[g];k=S.call(A,R),M.splice(g,1),g--}return k}),t.formatArgs.call(A,M),(A.log||t.log).apply(A,M)}return x.namespace=m,x.useColors=t.useColors(),x.color=t.selectColor(m),x.extend=a,x.destroy=t.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==t.namespaces&&(p=t.namespaces,d=t.enabled(m)),d),set:M=>{h=M}}),typeof t.init=="function"&&t.init(x),x}function a(m,c){const h=t(this.namespace+(typeof c>"u"?":":c)+m);return h.log=this.log,h}function r(m){t.save(m),t.namespaces=m,t.names=[],t.skips=[];let c;const h=(typeof m=="string"?m:"").split(/[\s,]+/),p=h.length;for(c=0;c<p;c++)h[c]&&(m=h[c].replace(/\*/g,".*?"),m[0]==="-"?t.skips.push(new RegExp("^"+m.slice(1)+"$")):t.names.push(new RegExp("^"+m+"$")))}function n(){const m=[...t.names.map(o),...t.skips.map(o).map(c=>"-"+c)].join(",");return t.enable(""),m}function i(m){if(m[m.length-1]==="*")return!0;let c,h;for(c=0,h=t.skips.length;c<h;c++)if(t.skips[c].test(m))return!1;for(c=0,h=t.names.length;c<h;c++)if(t.names[c].test(m))return!0;return!1}function o(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function l(m){return m instanceof Error?m.stack||m.message:m}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var common=setup;(function(s,e){var t={};e.formatArgs=r,e.save=n,e.load=i,e.useColors=a,e.storage=o(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+s.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;u.splice(1,0,m,"color: inherit");let c=0,h=0;u[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(c++,p==="%c"&&(h=c))}),u.splice(h,0,m)}e.log=console.debug||console.log||(()=>{});function n(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function i(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=t.DEBUG),u}function o(){try{return localStorage}catch{}}s.exports=common(e);const{formatters:l}=s.exports;l.j=function(u){try{return JSON.stringify(u)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}})(browser,browser.exports);var browserExports=browser.exports,FunctionStateMap={exports:{}},PlayerStates={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},s.exports=e.default})(PlayerStates,PlayerStates.exports);var PlayerStatesExports=PlayerStates.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var t=PlayerStatesExports,a=r(t);function r(n){return n&&n.__esModule?n:{default:n}}e.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},s.exports=e.default})(FunctionStateMap,FunctionStateMap.exports);var FunctionStateMapExports=FunctionStateMap.exports,eventNames={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],s.exports=e.default})(eventNames,eventNames.exports);var eventNamesExports=eventNames.exports,functionNames={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],s.exports=e.default})(functionNames,functionNames.exports);var functionNamesExports=functionNames.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var t=browserExports,a=m(t),r=FunctionStateMapExports,n=m(r),i=eventNamesExports,o=m(i),l=functionNamesExports,u=m(l);function m(p){return p&&p.__esModule?p:{default:p}}const c=(0,a.default)("youtube-player"),h={};h.proxyEvents=p=>{const d={};for(const x of o.default){const M="on"+x.slice(0,1).toUpperCase()+x.slice(1);d[M]=A=>{c('event "%s"',M,A),p.trigger(x,A)}}return d},h.promisifyPlayer=(p,d=!1)=>{const x={};for(const M of u.default)d&&n.default[M]?x[M]=(...A)=>p.then(w=>{const E=n.default[M],g=w.getPlayerState(),q=w[M].apply(w,A);return E.stateChangeRequired||Array.isArray(E.acceptableStates)&&!E.acceptableStates.includes(g)?new Promise(k=>{const L=()=>{const S=w.getPlayerState();let R;typeof E.timeout=="number"&&(R=setTimeout(()=>{w.removeEventListener("onStateChange",L),k()},E.timeout)),Array.isArray(E.acceptableStates)&&E.acceptableStates.includes(S)&&(w.removeEventListener("onStateChange",L),clearTimeout(R),k())};w.addEventListener("onStateChange",L)}).then(()=>q):q}):x[M]=(...A)=>p.then(w=>w[M].apply(w,A));return x},e.default=h,s.exports=e.default})(YouTubePlayer$1,YouTubePlayer$1.exports);var YouTubePlayerExports=YouTubePlayer$1.exports,loadYouTubeIframeApi={exports:{}},loadScript=function(e,t,a){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("script");typeof t=="function"&&(a=t,t={}),t=t||{},a=a||function(){},n.type=t.type||"text/javascript",n.charset=t.charset||"utf8",n.async="async"in t?!!t.async:!0,n.src=e,t.attrs&&setAttributes(n,t.attrs),t.text&&(n.text=""+t.text);var i="onload"in n?stdOnEnd:ieOnEnd;i(n,a),n.onload||stdOnEnd(n,a),r.appendChild(n)};function setAttributes(s,e){for(var t in e)s.setAttribute(t,e[t])}function stdOnEnd(s,e){s.onload=function(){this.onerror=this.onload=null,e(null,s)},s.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),s)}}function ieOnEnd(s,e){s.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,s))}}(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var t=loadScript,a=r(t);function r(n){return n&&n.__esModule?n:{default:n}}e.default=n=>new Promise(o=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{const u=window.location.protocol==="http:"?"http:":"https:";(0,a.default)(u+"//www.youtube.com/iframe_api",m=>{m&&n.trigger("error",m)})}const l=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{l&&l(),o(window.YT)}}),s.exports=e.default})(loadYouTubeIframeApi,loadYouTubeIframeApi.exports);var loadYouTubeIframeApiExports=loadYouTubeIframeApi.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var t=sister,a=l(t),r=YouTubePlayerExports,n=l(r),i=loadYouTubeIframeApiExports,o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}let u;e.default=(m,c={},h=!1)=>{const p=(0,a.default)();if(u||(u=(0,o.default)(p)),c.events)throw new Error("Event handlers cannot be overwritten.");if(typeof m=="string"&&!document.getElementById(m))throw new Error('Element "'+m+'" does not exist.');c.events=n.default.proxyEvents(p);const d=new Promise(M=>{typeof m=="object"&&m.playVideo instanceof Function?M(m):u.then(A=>{const w=new A.Player(m,c);return p.on("ready",()=>{M(w)}),null})}),x=n.default.promisifyPlayer(d,h);return x.on=p.on,x.off=p.off,x},s.exports=e.default})(dist,dist.exports);var distExports=dist.exports;const YouTubePlayer=getDefaultExportFromCjs$1(distExports),initialState={lengths:{},indexes:{}},youtubePlaylistInfo=writable(JSON.parse(localStorage.getItem("youtube-playlist-state"))??initialState);youtubePlaylistInfo.subscribe(s=>localStorage.setItem("youtube-playlist-state",JSON.stringify(s)));function create_fragment$s(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","pointer-events-none")},m(t,a){insert_hydration(t,e,a),s[5](e)},p:noop$1,i:noop$1,o:noop$1,d(t){t&&detach(e),s[5](null)}}}function instance$q(s,e,t){let a,r;component_subscribe(s,youtubePlaylistInfo,x=>t(6,a=x)),component_subscribe(s,tvState,x=>t(4,r=x));let{props:n={}}=e,i={src:"",startingVideo:0,shuffle:!1,loop:!0,continueFromLast:!0},o,l,u=!1;onMount(async()=>{if(t(1,n=Object.assign(i,n)),console.log("YoutubePlaylist",n),n.continueFromLast&&a.indexes[n.src]!==void 0)console.log("Continue from last",a.indexes[n.src]),t(1,n.startingVideo=a.indexes[n.src],n);else if(!n.startingVideo&&n.shuffle&&r.youtubeApiKey){console.log("Shuffling");const x=await m(n.src);t(1,n.startingVideo=Math.floor(Math.random()*x),n)}t(2,l=YouTubePlayer(o,{width:r.screenWidth,height:r.screenHeight,videoId:n.src,playerVars:{listType:"playlist",list:n.src,index:n.startingVideo,autoplay:1,controls:0,showinfo:0,modestbranding:1,fs:0,cc_load_policy:0,iv_load_policy:3,autohide:1}})),l.on("ready",c),l.on("error",h),l.on("stateChange",p)}),onDestroy(()=>{l==null||l.destroy()});async function m(x){if(a.lengths[x])return a.lengths[x];if(!r.youtubeApiKey)return console.error("YouTube API key is not set"),0;const M=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${x}&key=${r.youtubeApiKey}`;try{const E=(await(await fetch(M)).json()).pageInfo.totalResults;return set_store_value(youtubePlaylistInfo,a.lengths[x]=E,a),E}catch(A){return console.error("Failed to fetch playlist item count:",A),0}}function c(){t(3,u=!0),n.shuffle&&(l==null||l.setShuffle(!0)),n.loop&&(l==null||l.setLoop(!0))}function h(){console.error("Error loading YouTube video; skipping to next"),l.nextVideo(),l.playVideo()}async function p(x){x.data===0&&!n.loop?n.scheduleSignaler&&n.scheduleSignaler():x.data===1&&(console.info("player",await l.getPlaylistIndex()),set_store_value(youtubePlaylistInfo,a.indexes[n.src]=await(l==null?void 0:l.getPlaylistIndex())+1,a))}function d(x){binding_callbacks[x?"unshift":"push"](()=>{o=x,t(0,o)})}return s.$$set=x=>{"props"in x&&t(1,n=x.props)},s.$$.update=()=>{s.$$.dirty&2&&typeof n=="string"&&t(1,n=Object.assign(i,{src:n})),s.$$.dirty&30&&u&&(r.isMuting||r.volume===0||!r.isOn?l==null||l.mute():(l==null||l.unMute(),l==null||l.setVolume(r.volume*getComponentVolume(n.volume,1))))},[o,n,l,u,r,d]}class YoutubePlaylist extends SvelteComponent{constructor(e){super(),init(this,e,instance$q,create_fragment$s,safe_not_equal,{props:1})}}const Logo=""+new URL("../assets/tvs-logo.ZZTYq79y.svg",import.meta.url).href;function create_if_block$b(s){let e,t=`<img src="${Logo}" alt="Television Simulator &#39;99" class="mx-auto pb-2 h-[240px]"/> <h1 class="text-5xl font-bold mb-2">Television Simulator &#39;99</h1> <p>Zach Hall, 2017-2024</p> <p>Version 2.0 prerelease</p> <p class="mt-4 text-center">No configuration file loaded, or configuration file is invalid.</p>`,a,r;return{c(){e=element("div"),e.innerHTML=t,this.h()},l(n){e=claim_element(n,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1espswh"&&(e.innerHTML=t),this.h()},h(){attr(e,"class","bg-gradient-to-b from-blue-800 to-black p-4 font-generic h-full text-white text-2xl")},m(n,i){insert_hydration(n,e,i),r=!0},i(n){r||(n&&add_render_callback(()=>{r&&(a||(a=create_bidirectional_transition(e,fade,{},!0)),a.run(1))}),r=!0)},o(n){n&&(a||(a=create_bidirectional_transition(e,fade,{},!1)),a.run(0)),r=!1},d(n){n&&detach(e),n&&a&&a.end()}}}function create_fragment$r(s){let e,t=s[0]&&create_if_block$b();return{c(){t&&t.c(),e=empty()},l(a){t&&t.l(a),e=empty()},m(a,r){t&&t.m(a,r),insert_hydration(a,e,r)},p(a,[r]){a[0]?t?r&1&&transition_in(t,1):(t=create_if_block$b(),t.c(),transition_in(t,1),t.m(e.parentNode,e)):t&&(group_outros(),transition_out(t,1,1,()=>{t=null}),check_outros())},i(a){transition_in(t)},o(a){transition_out(t)},d(a){a&&detach(e),t&&t.d(a)}}}function instance$p(s,e,t){let a=!1;return onMount(()=>{setTimeout(()=>{t(0,a=!0)},1e3)}),[a]}class About extends SvelteComponent{constructor(e){super(),init(this,e,instance$p,create_fragment$r,safe_not_equal,{})}}var butterchurn$1={exports:{}};(function(s,e){(function(a,r){s.exports=r()})(window,function(){return function(t){var a={};function r(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=a,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(i&1&&(n=r(n)),i&8||i&4&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(var l in n)r.d(o,l,(function(u){return n[u]}).bind(null,l));return o},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s="./src/index.js")}({"./node_modules/ecma-proposal-math-extensions/reference-implementation/index.js":function(t,a,r){{const n=(o,l)=>{var u=typeof l=="function",m=typeof l=="function",c=typeof l=="function";Object.defineProperty(Math,o,{configurable:u,enumerable:c,writable:m,value:l})};n("DEG_PER_RAD",Math.PI/180),n("RAD_PER_DEG",180/Math.PI);const i=new Float32Array(1);n("scale",function(l,u,m,c,h){return arguments.length===0?NaN:Number.isNaN(l)||Number.isNaN(u)||Number.isNaN(m)||Number.isNaN(c)||Number.isNaN(h)?NaN:l===1/0||l===-1/0?l:(l-u)*(h-c)/(m-u)+c}),n("fscale",function(l,u,m,c,h){return i[0]=Math.scale(l,u,m,c,h),i[0]}),n("clamp",function(l,u,m){return Math.min(m,Math.max(u,l))}),n("radians",function(l){return l*Math.DEG_PER_RAD}),n("degrees",function(l){return l*Math.RAD_PER_DEG})}},"./src/audio/audioLevels.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return l});function n(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function i(u,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function o(u,m,c){return m&&i(u.prototype,m),c&&i(u,c),u}var l=function(){function u(m){n(this,u),this.audio=m;var c;this.audio.audioContext?c=this.audio.audioContext.sampleRate:c=44100;var h=c/this.audio.fftSize,p=Math.clamp(Math.round(20/h)-1,0,this.audio.numSamps-1),d=Math.clamp(Math.round(320/h)-1,0,this.audio.numSamps-1),x=Math.clamp(Math.round(2800/h)-1,0,this.audio.numSamps-1),M=Math.clamp(Math.round(11025/h)-1,0,this.audio.numSamps-1);this.starts=[p,d,x],this.stops=[d,x,M],this.val=new Float32Array(3),this.imm=new Float32Array(3),this.att=new Float32Array(3),this.avg=new Float32Array(3),this.longAvg=new Float32Array(3),this.att.fill(1),this.avg.fill(1),this.longAvg.fill(1)}return o(u,[{key:"updateAudioLevels",value:function(c,h){if(this.audio.freqArray.length>0){var p=c;!u.isFiniteNumber(p)||p<15?p=15:p>144&&(p=144),this.imm.fill(0);for(var d=0;d<3;d++)for(var x=this.starts[d];x<this.stops[d];x++)this.imm[d]+=this.audio.freqArray[x];for(var M=0;M<3;M++){var A=void 0;this.imm[M]>this.avg[M]?A=.2:A=.5,A=u.adjustRateToFPS(A,30,p),this.avg[M]=this.avg[M]*A+this.imm[M]*(1-A),h<50?A=.9:A=.992,A=u.adjustRateToFPS(A,30,p),this.longAvg[M]=this.longAvg[M]*A+this.imm[M]*(1-A),this.longAvg[M]<.001?(this.val[M]=1,this.att[M]=1):(this.val[M]=this.imm[M]/this.longAvg[M],this.att[M]=this.avg[M]/this.longAvg[M])}}}},{key:"bass",get:function(){return this.val[0]}},{key:"bass_att",get:function(){return this.att[0]}},{key:"mid",get:function(){return this.val[1]}},{key:"mid_att",get:function(){return this.att[1]}},{key:"treb",get:function(){return this.val[2]}},{key:"treb_att",get:function(){return this.att[2]}}],[{key:"isFiniteNumber",value:function(c){return Number.isFinite(c)&&!Number.isNaN(c)}},{key:"adjustRateToFPS",value:function(c,h,p){return Math.pow(c,h/p)}}]),u}()},"./src/audio/audioProcessor.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/audio/fft.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c){i(this,m),this.numSamps=512,this.fftSize=this.numSamps*2,this.fft=new n.default(this.fftSize,512,!0),c&&(this.audioContext=c,this.audible=c.createDelay(),this.analyser=c.createAnalyser(),this.analyser.smoothingTimeConstant=0,this.analyser.fftSize=this.fftSize,this.audible.connect(this.analyser),this.analyserL=c.createAnalyser(),this.analyserL.smoothingTimeConstant=0,this.analyserL.fftSize=this.fftSize,this.analyserR=c.createAnalyser(),this.analyserR.smoothingTimeConstant=0,this.analyserR.fftSize=this.fftSize,this.splitter=c.createChannelSplitter(2),this.audible.connect(this.splitter),this.splitter.connect(this.analyserL,0),this.splitter.connect(this.analyserR,1)),this.timeByteArray=new Uint8Array(this.fftSize),this.timeByteArrayL=new Uint8Array(this.fftSize),this.timeByteArrayR=new Uint8Array(this.fftSize),this.timeArray=new Int8Array(this.fftSize),this.timeByteArraySignedL=new Int8Array(this.fftSize),this.timeByteArraySignedR=new Int8Array(this.fftSize),this.tempTimeArrayL=new Int8Array(this.fftSize),this.tempTimeArrayR=new Int8Array(this.fftSize),this.timeArrayL=new Int8Array(this.numSamps),this.timeArrayR=new Int8Array(this.numSamps)}return l(m,[{key:"sampleAudio",value:function(){this.analyser.getByteTimeDomainData(this.timeByteArray),this.analyserL.getByteTimeDomainData(this.timeByteArrayL),this.analyserR.getByteTimeDomainData(this.timeByteArrayR),this.processAudio()}},{key:"updateAudio",value:function(h,p,d){this.timeByteArray.set(h),this.timeByteArrayL.set(p),this.timeByteArrayR.set(d),this.processAudio()}},{key:"processAudio",value:function(){for(var h=0,p=0,d=0;h<this.fftSize;h++)this.timeArray[h]=this.timeByteArray[h]-128,this.timeByteArraySignedL[h]=this.timeByteArrayL[h]-128,this.timeByteArraySignedR[h]=this.timeByteArrayR[h]-128,this.tempTimeArrayL[h]=.5*(this.timeByteArraySignedL[h]+this.timeByteArraySignedL[d]),this.tempTimeArrayR[h]=.5*(this.timeByteArraySignedR[h]+this.timeByteArraySignedR[d]),h%2===0&&(this.timeArrayL[p]=this.tempTimeArrayL[h],this.timeArrayR[p]=this.tempTimeArrayR[h],p+=1),d=h;this.freqArray=this.fft.timeToFrequencyDomain(this.timeArray),this.freqArrayL=this.fft.timeToFrequencyDomain(this.timeByteArraySignedL),this.freqArrayR=this.fft.timeToFrequencyDomain(this.timeByteArraySignedR)}},{key:"connectAudio",value:function(h){h.connect(this.audible)}},{key:"disconnectAudio",value:function(h){h.disconnect(this.audible)}}]),m}()},"./src/audio/fft.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return l});function n(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function i(u,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function o(u,m,c){return m&&i(u.prototype,m),u}var l=function(){function u(m,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n(this,u),this.samplesIn=m,this.samplesOut=c,this.equalize=h,this.NFREQ=c*2,this.equalize&&this.initEqualizeTable(),this.initBitRevTable(),this.initCosSinTable()}return o(u,[{key:"initEqualizeTable",value:function(){this.equalizeArr=new Float32Array(this.samplesOut);for(var c=1/this.samplesOut,h=0;h<this.samplesOut;h++)this.equalizeArr[h]=-.02*Math.log((this.samplesOut-h)*c)}},{key:"initBitRevTable",value:function(){this.bitrevtable=new Uint16Array(this.NFREQ);for(var c=0;c<this.NFREQ;c++)this.bitrevtable[c]=c;for(var h=0,p=0;p<this.NFREQ;p++){if(h>p){var d=this.bitrevtable[p];this.bitrevtable[p]=this.bitrevtable[h],this.bitrevtable[h]=d}for(var x=this.NFREQ>>1;x>=1&&h>=x;)h-=x,x>>=1;h+=x}}},{key:"initCosSinTable",value:function(){for(var c=2,h=0;c<=this.NFREQ;)h+=1,c<<=1;this.cossintable=[new Float32Array(h),new Float32Array(h)],c=2;for(var p=0;c<=this.NFREQ;){var d=-2*Math.PI/c;this.cossintable[0][p]=Math.cos(d),this.cossintable[1][p]=Math.sin(d),p+=1,c<<=1}}},{key:"timeToFrequencyDomain",value:function(c){for(var h=new Float32Array(this.NFREQ),p=new Float32Array(this.NFREQ),d=0;d<this.NFREQ;d++){var x=this.bitrevtable[d];x<this.samplesIn?h[d]=c[x]:h[d]=0,p[d]=0}for(var M=2,A=0;M<=this.NFREQ;){for(var w=this.cossintable[0][A],E=this.cossintable[1][A],g=1,q=0,k=M>>1,L=0;L<k;L++){for(var S=L;S<this.NFREQ;S+=M){var R=S+k,D=g*h[R]-q*p[R],B=g*p[R]+q*h[R];h[R]=h[S]-D,p[R]=p[S]-B,h[S]+=D,p[S]+=B}var N=g;g=N*w-q*E,q=q*w+N*E}M<<=1,A+=1}var Q=new Float32Array(this.samplesOut);if(this.equalize)for(var P=0;P<this.samplesOut;P++)Q[P]=this.equalizeArr[P]*Math.sqrt(h[P]*h[P]+p[P]*p[P]);else for(var U=0;U<this.samplesOut;U++)Q[U]=Math.sqrt(h[U]*h[U]+p[U]*p[U]);return Q}}]),u}()},"./src/blankPreset.js":function(t,a,r){var n,i;n=[],i=(function(){"use strict;";var o={baseVals:{gammaadj:1.25,wave_g:.5,mv_x:12,warpscale:1,brighten:0,mv_y:9,wave_scale:1,echo_alpha:0,additivewave:0,sx:1,sy:1,warp:.01,red_blue:0,wave_mode:0,wave_brighten:0,wrap:0,zoomexp:1,fshader:0,wave_r:.5,echo_zoom:1,wave_smoothing:.75,warpanimspeed:1,wave_dots:0,wave_x:.5,wave_y:.5,zoom:1,solarize:0,modwavealphabyvolume:0,dx:0,cx:.5,dy:0,darken_center:0,cy:.5,invert:0,bmotionvectorson:0,rot:0,modwavealphaend:.95,wave_mystery:-.2,decay:.9,wave_a:1,wave_b:.5,rating:5,modwavealphastart:.75,darken:0,echo_orient:0,ib_r:.5,ib_g:.5,ib_b:.5,ib_a:0,ib_size:0,ob_r:.5,ob_g:.5,ob_b:.5,ob_a:0,ob_size:0,mv_dx:0,mv_dy:0,mv_a:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_l:0},init_eqs:function(){var u={};return u},frame_eqs:function(u){return u.rkeys=["warp"],u.zoom=1.01+.02*u.treb_att,u.warp=.15+.25*u.bass_att,u},pixel_eqs:function(u){return u.warp=u.warp+u.rad*.15,u},waves:[{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u},point_eqs:""},{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u},point_eqs:""},{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u},point_eqs:""},{baseVals:{a:1,enabled:0,b:1,g:1,scaling:1,samples:512,additive:0,usedots:0,spectrum:0,r:1,smoothing:.5,thick:0,sep:0},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u},point_eqs:""}],shapes:[{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u}},{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u}},{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u}},{baseVals:{r2:0,a:1,enabled:0,b:0,tex_ang:0,thickoutline:0,g:0,textured:0,g2:1,tex_zoom:1,additive:0,border_a:.1,border_b:1,b2:0,a2:0,r:1,border_g:1,rad:.1,x:.5,y:.5,ang:0,sides:4,border_r:1},init_eqs:function(u){return u.rkeys=[],u},frame_eqs:function(u){return u}}],warp:`shader_body {
ret = texture2D(sampler_main, uv).rgb;
ret -= 0.004;
}
`,comp:`shader_body {
ret = texture2D(sampler_main, uv).rgb;
ret *= hue_shader;
}
`};return o}).apply(a,n),i!==void 0&&(t.exports=i)},"./src/equations/presetEquationRunner.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/utils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c,h,p){i(this,m),this.preset=c,this.texsizeX=p.texsizeX,this.texsizeY=p.texsizeY,this.mesh_width=p.mesh_width,this.mesh_height=p.mesh_height,this.aspectx=p.aspectx,this.aspecty=p.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.qs=n.default.range(1,33).map(function(d){return"q".concat(d)}),this.ts=n.default.range(1,9).map(function(d){return"t".concat(d)}),this.regs=n.default.range(100).map(function(d){return d<10?"reg0".concat(d):"reg".concat(d)}),this.initializeEquations(h)}return l(m,[{key:"initializeEquations",value:function(h){this.runVertEQs=this.preset.pixel_eqs!=="",this.mdVSQInit=null,this.mdVSRegs=null,this.mdVSFrame=null,this.mdVSUserKeys=null,this.mdVSFrameMap=null,this.mdVSShapes=null,this.mdVSUserKeysShapes=null,this.mdVSFrameMapShapes=null,this.mdVSWaves=null,this.mdVSUserKeysWaves=null,this.mdVSFrameMapWaves=null,this.mdVSQAfterFrame=null,this.gmegabuf=new Array(1048576).fill(0);var p={frame:h.frame,time:h.time,fps:h.fps,bass:h.bass,bass_att:h.bass_att,mid:h.mid,mid_att:h.mid_att,treb:h.treb,treb_att:h.treb_att,meshx:this.mesh_width,meshy:this.mesh_height,aspectx:this.invAspectx,aspecty:this.invAspecty,pixelsx:this.texsizeX,pixelsy:this.texsizeY,gmegabuf:this.gmegabuf};this.mdVS=Object.assign({},this.preset.baseVals,p),this.mdVS.megabuf=new Array(1048576).fill(0),this.mdVS.rand_start=new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()]),this.mdVS.rand_preset=new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()]);var d=this.qs.concat(this.regs,Object.keys(this.mdVS)),x=this.preset.init_eqs(n.default.cloneVars(this.mdVS));this.mdVSQInit=n.default.pick(x,this.qs),this.mdVSRegs=n.default.pick(x,this.regs);var M=n.default.pick(x,Object.keys(n.default.omit(x,d)));if(M.megabuf=x.megabuf,M.gmegabuf=x.gmegabuf,this.mdVSFrame=this.preset.frame_eqs(Object.assign({},this.mdVS,this.mdVSQInit,this.mdVSRegs,M)),this.mdVSUserKeys=Object.keys(n.default.omit(this.mdVSFrame,d)),this.mdVSFrameMap=n.default.pick(this.mdVSFrame,this.mdVSUserKeys),this.mdVSQAfterFrame=n.default.pick(this.mdVSFrame,this.qs),this.mdVSRegs=n.default.pick(this.mdVSFrame,this.regs),this.mdVSWaves=[],this.mdVSTWaveInits=[],this.mdVSUserKeysWaves=[],this.mdVSFrameMapWaves=[],this.preset.waves&&this.preset.waves.length>0)for(var A=0;A<this.preset.waves.length;A++){var w=this.preset.waves[A],E=w.baseVals;if(E.enabled!==0){var g=Object.assign({},E,p),q=this.qs.concat(this.ts,this.regs,Object.keys(g));Object.assign(g,this.mdVSQAfterFrame,this.mdVSRegs),g.megabuf=new Array(1048576).fill(0),w.init_eqs&&(g=w.init_eqs(g),this.mdVSRegs=n.default.pick(g,this.regs),Object.assign(g,E)),this.mdVSWaves.push(g),this.mdVSTWaveInits.push(n.default.pick(g,this.ts)),this.mdVSUserKeysWaves.push(Object.keys(n.default.omit(g,q))),this.mdVSFrameMapWaves.push(n.default.pick(g,this.mdVSUserKeysWaves[A]))}else this.mdVSWaves.push({}),this.mdVSTWaveInits.push({}),this.mdVSUserKeysWaves.push([]),this.mdVSFrameMapWaves.push({})}if(this.mdVSShapes=[],this.mdVSTShapeInits=[],this.mdVSUserKeysShapes=[],this.mdVSFrameMapShapes=[],this.preset.shapes&&this.preset.shapes.length>0)for(var k=0;k<this.preset.shapes.length;k++){var L=this.preset.shapes[k],S=L.baseVals;if(S.enabled!==0){var R=Object.assign({},S,p),D=this.qs.concat(this.ts,this.regs,Object.keys(R));Object.assign(R,this.mdVSQAfterFrame,this.mdVSRegs),R.megabuf=new Array(1048576).fill(0),L.init_eqs&&(R=L.init_eqs(R),this.mdVSRegs=n.default.pick(R,this.regs),Object.assign(R,S)),this.mdVSShapes.push(R),this.mdVSTShapeInits.push(n.default.pick(R,this.ts)),this.mdVSUserKeysShapes.push(Object.keys(n.default.omit(R,D))),this.mdVSFrameMapShapes.push(n.default.pick(R,this.mdVSUserKeysShapes[k]))}else this.mdVSShapes.push({}),this.mdVSTShapeInits.push({}),this.mdVSUserKeysShapes.push([]),this.mdVSFrameMapShapes.push({})}}},{key:"updatePreset",value:function(h,p){this.preset=h,this.initializeEquations(p)}},{key:"updateGlobals",value:function(h){this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.mesh_width=h.mesh_width,this.mesh_height=h.mesh_height,this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}},{key:"runFrameEquations",value:function(h){this.mdVSFrame=Object.assign({},this.mdVS,this.mdVSQInit,this.mdVSFrameMap,h),this.mdVSFrame=this.preset.frame_eqs(this.mdVSFrame),this.mdVSFrameMap=n.default.pick(this.mdVSFrame,this.mdVSUserKeys),this.mdVSQAfterFrame=n.default.pick(this.mdVSFrame,this.qs)}}]),m}()},"./src/image/imageTextures.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return l});function n(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function i(u,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function o(u,m,c){return m&&i(u.prototype,m),u}var l=function(){function u(m){var c=this;n(this,u),this.gl=m,this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.samplers={},this.clouds2Image=new Image,this.clouds2Image.onload=function(){c.samplers.clouds2=c.gl.createTexture(),c.bindTexture(c.samplers.clouds2,c.clouds2Image,128,128)},this.clouds2Image.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4RP+RXhpZgAASUkqAAgAAAAJAA8BAgAGAAAAegAAABABAgAVAAAAgAAAABIBAwABAAAAAQAAABoBBQABAAAAoAAAABsBBQABAAAAqAAAACgBAwABAAAAAgAAADIBAgAUAAAAsAAAABMCAwABAAAAAQAAAGmHBAABAAAAxAAAAGYFAABDYW5vbgBDYW5vbiBQb3dlclNob3QgUzExMAAAAAAAAAAAAAAAAEgAAAABAAAASAAAAAEAAAAyMDAyOjAxOjE5IDE3OjMzOjIwABsAmoIFAAEAAABWAwAAnYIFAAEAAABeAwAAAJAHAAQAAAAwMjEwA5ACABQAAAAOAgAABJACABQAAAAiAgAAAZEHAAQAAAABAgMAApEFAAEAAAA+AwAAAZIKAAEAAABGAwAAApIFAAEAAABOAwAABJIKAAEAAABmAwAABZIFAAEAAABuAwAABpIFAAEAAAB2AwAAB5IDAAEAAAAFAAAACZIDAAEAAAAAAAAACpIFAAEAAAB+AwAAfJIHAJoBAACGAwAAhpIHAAgBAAA2AgAAAKAHAAQAAAAwMTAwAaADAAEAAAABAAAAAqAEAAEAAACAAAAAA6AEAAEAAACAAAAABaAEAAEAAAAwBQAADqIFAAEAAAAgBQAAD6IFAAEAAAAoBQAAEKIDAAEAAAACAAAAF6IDAAEAAAACAAAAAKMHAAEAAAADAAAAAAAAADIwMDI6MDE6MTkgMTc6MzM6MjAAMjAwMjowMToxOSAxNzozMzoyMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAACoBAAAgAAAAuAAAACAAAAABAAAAgAIAAEgAAAAKAAAA/////wMAAACK+AIAAAABAL8BAADoAwAArQAAACAAAAAMAAEAAwAmAAAAHAQAAAIAAwAEAAAAaAQAAAMAAwAEAAAAcAQAAAQAAwAaAAAAeAQAAAAAAwAGAAAArAQAAAAAAwAEAAAAuAQAAAYAAgAgAAAAwAQAAAcAAgAYAAAA4AQAAAgABAABAAAAkc4UAAkAAgAgAAAA+AQAABAABAABAAAAAAAJAQ0AAwAEAAAAGAUAAAAAAABMAAIAAAAFAAAAAAAAAAQAAAABAAAAAQAAAAAAAAAAAAAAAwABAAEwAAD/////WgGtACAAYgC4AP//AAAAAAAAAAAAAP//SABABkAGAgCtANMAngAAAAAAAAAAADQAAACPAEYBtQAqAfT/AgABAAEAAAAAAAAAAAAEMAAAAAAAAAAAvwEAALgAJwEAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAElNRzpQb3dlclNob3QgUzExMCBKUEVHAAAAAAAAAAAARmlybXdhcmUgVmVyc2lvbiAxLjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAMgAuQC5AABqGADOAAAAgE8SAJsAAAAEAAEAAgAEAAAAUjk4AAIABwAEAAAAMDEwMAEQAwABAAAAQAYAAAIQAwABAAAAsAQAAAAAAAAGAAMBAwABAAAABgAAABoBBQABAAAAtAUAABsBBQABAAAAvAUAACgBAwABAAAAAgAAAAECBAABAAAA9AUAAAICBAABAAAAuA0AAAAAAAC0AAAAAQAAALQAAAABAAAAaM5qp6ps7vXbS52etpVdo/tuYZ2wtrDFXnrx1HK+braKpineV1+3VFWVteo72Poc/9j/2wCEAAkGBggGBQkIBwgKCQkLDRYPDQwMDRwTFRAWIR0jIiEcIB8kKTQsJCcxJx4fLT0tMTY3Ojo6Iio/RD44QjM3OTYBCQkJDAoMFAwMFA8KCgoPGhoKChoaTxoaGhoaT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT//AABEIAHgAoAMBIQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AOdCcU4R11HMSLHTxFTAXy6PLxQIUJTglIDo9KtbWzjScNvnK/gtao1FkycjaO1ebWvOWvyR307RjZfM5zXoraacTW3DtkyD1PrWathui39q66cmoK+60OacU5O2xA8ZQlT2qBkrdfmYsiZMUwpxVCImXNRMntTERlaaRg0CN5Y8iniOszUlWOniOgQhj5o2UwDZS7KBFmAuoCnIAq69wUjIHPHWuaok5HTBtIqrbzXCMyAEDqCarPvGV6Yqlbb+Xch337kBTOd1RNHxgCrc+xKgNWAPxyD2qCWMAY7g81UJ83yJlGxCy4qJlzWqMyMpTClAjoxCUbDCniP2rK5qOVKkEdMA8ummPmgA2Vd0m1S4vMTIXjUEtjtUzdotrdLQcFeSXQfcQqJ2y/GaZL5fkhE5Y9TXPFt2Zu7K6IUinVWVW+XvjvSNCsceScsa0k1067kRT69NisY8mnC2YoWA4qL2KtcglyjcVVdd78daqnK3zImr/IheFgTkdKiZK6ou6MJKxGyUwrTJOxmjaS2WYqwjLHbnp9KBaeeB5MbZxzXLGVlfotzpcdbdXsQiKniOtSBfLppjoTE0NMdPiYxElSRmiSurAnZiSMTzmmKSDmpUdCpS1NvT0TUoHEjpGQcYC8n3qM6MJdxgYuF46VyyfI2ui6nQlzJPq+hDPo0qcKNz/wB0U54Es7co/wAzkcgdAamU01ZbtjUWnrsjDn+dzxiqpjYHK1aZDHJGQmM9ahe2zk+lbU5WZlOOhWZKjKV1nOddYTPLpptjztbcB2NTBXibaSUOOma4IWt+h2y3/Uj8rmlEdbJmLQpTjpTNlNCYnl00x1RI0x00x4oARd6tmPIPtW1o+uf2fGd+GORlcdffNZVaaqRt1NKc+R36HQxWsWoqbmGQ/MMkg4rL1bSdi5UV5fM4ys9LHfZNXXU599Lkd+FNMbSzGPmHNb85lyFaS32HgUx8pGcqK2g72M5aGY8fPSomSvRRwndafZfYtRCzL8rHFaPiPTTHKlxHGEjKhTj1ryKU/wB4uzR6dSPuPujF2YIzTxHxXamtuxyNPfuIY+KYY6okDHg4pHQIMsQKLhYhV0dtq8mr6aQ8loZRy390DNZVKqgr92aQpczKcd8+nXefLHAwVI6028nt7mTzIY/KJ5IB4qI3UuZO6fxIuSTjy21WzLmjXs9rKFidgM/dzxXTJeRECC5ZN5XPWscVTTlePxM0oS0s9kUriaIEiIKAPzrFup/3uBzmopU3fUqc0isTEQWftVWZ0dPlWuqNNr0RhKafqzOlh6mq7x12RZytHqssMcwSfy0wwyDuxRq2oCew8gxjdx1HT3rx6Uby9GenUdkc/wCSpPzdaV4WVeFJru226nLv8iFVc/eXFKYsCqi7omSIjHzS3EKSRZBJbHNOWwRMp4WjO/O0Z4NWUubuGParnafSsXFS0ZonYRo/Pwzcmk8gL0FbQgkjOUncfFK9sSU4JpkkzO+7Jz9atRV7mbk7WHpczAcOT9aUqzgu3Ud6lxSd1oylJvRkMgDZJJzVSTK9KqKJbIGJqJlzWiViG7nfW1/ZK8XJUDqT0q9q08V2sRiL5HAG35SD3Bryaalzps9KduWyKt1pjWoXzG2uRnkcCs+8ee2YKJUbIzx0Iq/bXemiRPs7IY15Ey7m+TA5BrPuNUDIyCMDnhs81rz3SsZ8tmXbFDe2DTKVzHwyk8n6Vl3944Zo04A7jvT9pp5oOTX1Mp5GVsnmtG21aEQKkikFRj604SFKJOmpWrHAYr9RUjMGXKcg9xW0WmYyTREwNN281qZkqphQRwacCMYPHvUPUpCPGhXORmqU0fNEXqEkV2j9qjKVoQa+GAALE47VPDezRYUOdo7V5CkelY0pb+eayOJt4PG1uSKxpEkQkkmp0T9StX8hnm5GCM1GUBzVXsIj+deFYge1NMTueuapyJURr2jMvTmqclq4PK4ohMJRIhGwNadgLolUjDMvcVtz217GfLc2PsuSQQdw7Uw2pU/MCK6FU6eWhg4afmWLeKFkZJcg9mFRzac8MSyMRhumKnns7PZvQOS6utLblaRMLyR9KhkhVVBDZzV21TFeysVXWoiK1MjttV8O/YWyXVgegFZRsTu4FeHdp2e63PWSvqupZtrbadpHFPnst4xgVDlqUkUX03ax7VEbNd3ByapSbFYDYKw4PPpTv7LdT0wRVq703J0XkBtlU7Sy7qje1yMMtJpoaaZWbTCZOB+FdVo+n/ZrRXaEh/pwacptxEo2ZZfRBLmQNskY8g1lXmm3VsS4IZaaxDvZ9NifZK35mUZbp7odD6jGK3jcotogmgUrWsp3tZ2sTGO+nqZr3Flco6JEEdc7eetLDoElxEH81Vz0FbQrOEby9530MZUlJ+7ppqOOgRxDMrqcdumaqz6Xa55YJnphqaxE5PRadgdGKWr17nd+cl4VFzGHAq0NEspRuRNp9K5vYxm3e6b2ZvzuK027CroNsPvLz6iql7oICFkOQO1RPCuMbp3a3Q41ruzWj2MG604xZJrInQoSVHPrXPB3NZEYlm6bM0gup0+SQttPXmt42W25DuRTW7ht6qXX1qxZSSSttZcqPWrjJPfXuiWrbGgFiADHBxW9p1z5dv8AvW3J2B7VbUeXuQnK/kM+0SyTt5GSg/ic8VUv7xpodrDn26Gs5wj0+LqXGT67dDFWLEhfkGo5nklyrE4qlC9vwJcrFRbJVl3GtO1njhTqQR61u4StYyU1civ7sSLtAJ981kSLnPJrelHlRhVlzM7yLTdTtJuu9Qe3NdBbGUorMFJxz2NcFPnUrWO2XK4lsdKCARg13bmBSurCGU4aMtn0qjJ4Xt3YnP0GK4pYbmk+X3bGyq2WvvFKTw5IpIRAR61Fc+Gttvvfn1GOlYeynHVq1uprzxfzKcCW1mdroXU8YIqQR2KA7AxPUgDGKiz3TKutjPnjic74jtB9TzT4p58Bc7yOm6tItrfoQ0mWEubtZf367l7DtUqq1w24gKg6kDpW0FFrm7Gc207dynKqqzAoOehFVmhLdFJ/CumKtuYN9gGnzuPlibmoXs5VJBXkH1qlVjtdEezlvYimtJEXLow/CqErIDWkZp7WZEotbnrsTkjrmphz1rGDutdToloxaK0EMkU9VGSKRDIQd4A9MVm+ZS0+F7selvPoNDuHw3T2oJWUlWH50r3Vn1HtqjG1LSmVS6DdzxxWQ+nTSTcghjXBKPs3Z/I6IvmV/vK7aWYptsp2jua0LG3tllLQZkK8dO9C95227g9FfcmuFnnUrtyF9BUthHhfLkjO0n14zXToo2WhiruV2JqFtFGNyxoSPUVztzrdzBJhdoVewFZJ8zs3dLY0a5dVu9yCTxLKUPyDd2NZE+tXDyF84J74rSMEiJSbKFxqFxMpDyuQe2azpN3dj+dbRlbYzkr7nvCJkYxsP95eDUqxyA584t7EVnTi+j5fLoaSa66+ZOM45orqMgooAYwqNhis5DQ0yMBio2Zm7ZrNu+5VrDNizPsdFI9CKjNrDCuEiCZ6kcVlKEd7fMtSe34DY2jV8YKknvzTLqUQcs+PwqJuyuVHU5TWtVeaX5coq/dGaxpLxpUw4zjvRFKwSepAF85SUGcdRVeaJh/DiqvZ2JsZ86sDz0qBo2xu/hq0yLHvy9KeK2pkvcdRWogpM0AIaYwqJAhNq1FcPKoHlIHHesZNqPu6vsWtXrou5HuK5YLzjjNZ1/c3YiIUZX+8vauec36LqbRivV9DNivriYlWOdo6HmrxleWIBgDx3HSpaugvZmDqFuWYgwKSPQVlsjxIym3BUgjmoXa+xT7lSOzd3PkAq3YZpby8vVASeNendBzWukt+nUz22Jo7S2v4A3lFGxzg1Rm0l4m+UMVPqKlSa03Q2k9T/9n4qqwQ2C6FUcJKhVwpbQ1vCsihOUlK0km1lS0VoSE2qiF4TrpDJE0aZJK5EgBF7pQGeoyWHrHyLxlrwklpeaZbWWmyFkkIa43/2P/bAEMAAgEBAQEBAgEBAQICAgICBAMCAgICBQQEAwQGBQYGBgUGBgYHCQgGBwkHBgYICwgJCgoKCgoGCAsMCwoMCQoKCv/bAEMBAgICAgICBQMDBQoHBgcKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCv/AABEIAIAAgAMBIgACEQEDEQH/xAAeAAACAwEAAwEBAAAAAAAAAAAGBwQFCAMBAgkACv/EADcQAAEDAwMDAgUDAgYCAwAAAAECAwQFBhEAEiEHMUETUQgiMmFxFIGRFaEjQlKxwdEW8ReCov/EABsBAAICAwEAAAAAAAAAAAAAAAUGAwQBAgcA/8QAMREAAgEDAwMCBQMDBQAAAAAAAQIDAAQRBRIhMUFRE3EiYYGRwaHR4QYU8BUjMnKx/9oADAMBAAIRAxEAPwDNEamJCR8v9tT4dJ3Zwn+2rSHStzaVBvOrSDShnBTpvDYpbIBqsi0QKRn0+QO2uwpJQQCjRFEpR8D+2uj1LIXjb/bWwfmtNvFDqaWE/LsHfXZFNB/y6uVU75uUjj7a6NwMfMEfjWd3Fa0f/DB0mtK7KpIum8KgUxqQ+0pmE2EqMlzOQFA/5MgZ/J1q2L1glUxsPtIbbitNpW80EgbwSO+PGsWWjUqhRZy/0Tqkh1OFgH78aaKLzm0i28SnlLddYwk+wGdJH9QafJd3QLtkdh4802aNeRwWxCjBHU+aA/iosex//ktysdPnN8SpAOymM/M1IUo7/wD6k8jS8uTpxPthCJL3yuJSFKGOwPY50wavS7gnU3+vro7i4QXkyA3naoc86FrhnVGqpQl1SvTI5QVZzycHR6zkmiiSMvkLwSevtQe7WJ5HcLyeRS/q0BHqLc9NIKjyB50Pz6cEkkj+2j2qUlDRWfrJSQEgdjqqRbKKkVMJe2uBO5KSngn20SW9t1OC1DjaTsMhaBKhBCWt23A841QVGnBaiQ3n86O67TGWigR1bsg7hjkHPnVFNiJSgpIyc8DRBDxVRhjigmVAAP041CcaW2rcgYI9tE82n5PCedVkqAUkgJ1uQDUXfFaZplIUMsqb2kHke2rGNSylf0g8+2j2rWvRZtbjvxXY7EV14tuymdxzknCiD9hnge+oU+110+WtoLS4hKylDiBwoe/+2gkVysgB80akhZCQao4lMCk528jXRykKJ3bfxq8jUopABT31KXSRn6NS7sVFjihNVM+Y5T24zr1FPIVt26I3aUoEkA9+2uCqaUuDKdShs1oQM0bVvpPAtizaDUKLKVIVUYaZcxTrQSpl4jBQPOE/7k6rK1QUU213PUmJVLeWG4zTSgoff8Ht/Op1239WbjjNqqMgKDLKW0hCQkAJAHYceNC8aprVNbW+nKErG7nxnnGlyG3vJcvIckHP8f4KNyz20QCxjqP4rlFq98KoZs5ptxmKuQQ4kZBK/PPtjx21U3NbopREMhKlgfOQex9taAhdK3uofT7/AMo6eUh2PBElXqOyn0bFKT9XJOQRuHccg6BKn0RvByUUyqI+pxbZWnCchSQcZyOMZxzqs97E5IwFweR3z86nS0dFByWyOD2x8qULduuOOfIwVcZOBquqaEUV9t1EMBQz3HjTz6c9OpUibLl1aKGIsMelIekfKncoHAB8nj9tK/qfDpiqu9Hp3KWyQCR3++q7XStcel4FSiAiLf5pTVmEhcl1aOQok8e+h2bTVBZJGD99HAYnQZKxCYSXHRt3LQFAZ+x17XBbjT0VpLURKNqcFwJ5Ufvpms9VUuEfvQC609gpZaWMqAcnjzxqslQwBx+2jGr0ZyI6WHmsKx/OqaXTu4KfxjxpgBDDNBDuU1t2HUKReHSW0yqB6D9NEhh+Q0jIWvcFBC/bgkhX3I8al1mQ5ULdj0gUeKw2zIW6hbKDuJICeSSf9I0c/Bn0Pi3xcL1o1iSmP6chKz6qcjaPlPB78Ej99D9etp63K1OtySfUMSU4zuAwCUqIz++Nc70q8huB6SHLJz9yaeNQt3hbe3Rhj7AUJMUc8fJru5S0+n9HI99EcOkFxO5ScY9hr2k0hIbPy+PbTCX3UEA2mg1ym7gfl51Hk0rCdwbOilVLUkkFGvC6SVEkI/IOrAkAqBlNBbkJQQQnODxqK7TFIPKNGTtFZS4d+AAMnOvU2dPqEN6bAhuuMxwPWdbbJSjPbJ8aw9xFEMk4FeSOSQ4UZqNY/V26LLpj1qR5CjT5K8uhP1oJKclJJ4+ka2DZLVgdROlbVDtKII9wohsKeDxG8Mn/AD4BI2naPPdWsxdOennSm511K27kulcCqlgKpUpxQ9FSwPpV7A++ovTq+Lw6IdUGJcSWmQuG56DjbUrc082T9IUONvn/AI0rana2msB1tjtlX4vG79x2/wDaYLO4udM2mcZjbjzinj1f6PXNEtfDtIYjts8+nETj1FEY3qz3JwNZJvGw566u4n0FbiTu419Ird6o2r18oaWnIiYr8mKlT0dXdteSCArGCMAY/wCNKq8ehtl2tMcl1LY8+SpSGkjsOcE/9aRrbULm0maKZfiHamiW1huI1dDxWGHOmU9tkPyIpSM5STqGKHBTIEea2VJB5GtFXzCob812AkIbUjgADHGgWo9OY7Sf1jrjYDhJQpRxxpktbidjlxig08MSjC81nbqPSKe3Wj/Twop9IbwrsFew0HzaeE8lPfTav+22WqissELUSd2DxjQRVKQGx8qPyddMsJA1qgz2pDvEK3LH519dunnRiPZfXiDc8OoxUU1x8IdUy6NqwrIBx3wSM6B/jNsG2aZ1fdlW5LbWJ0Rtx5pAyW1425J7HIAOmjYxrN8yqTb9UoEanKXT0h+ey8lTrxGcKScZRn2PnzpWdXKVKYvqo0559+U7EfLSJMiOW3HAnspSTnx57Ec65F/TyYuid3IGDjx710nV2zAo28Z/X2pVU+2JMJrZIVk9xrg6xDkLWww8lS0n5kA8jRo7NtiAwpF0SVNEK+YIQdwGq9u16ImOzWqO8l1qWne24MHI/wCD9jpvhugGEakEDrzS/Lb7gXYYJ+VCS6c5HUHkJ+dJyCR2OudJpEya86zGirce27m/TTnGOSSPbV7dM2FRkw0uOMqEuQWfkeSVIUMd0jkdxqM4HqK8qR6oZ9MEOlRxgeQdXBcJIp2HmqZt3jcFhxShvufX6ZWQuS84SlZJaSOMZ9tMzpz8RVmUmy5do120UuNPJBSyklG5eACSR3yB2++ll1F6rW69WZKItHTIUUFDD7rpGxefqwO478atrNtyFeVoR6o84gPeotC1NEDJB4PbQie3W/X02PGc9aKRTf2R3gVUXJRH59xuVSgRzGZcXuQ2CcIB8DXWHClMOIdlLKlA5yfHPfRk1bbkOElp9e5aBtzjwO2qmpNMxspTjPuPGjVnZpGB5FCLq7eQkY4o+HXyRYtowaBY4ALMlt5ySpeVhSQNwPH0nAI9hka6TPiakXWt2Rcqn23HUkrDaApJXwMjz7/zpRyWSpzcPOplOghLaHZLSi2VYCgNYk0PT2G5kyx79+awurXoOA3HjtVjWqgqq1FdVUVqbWCGyDhQOPOhK6KnV3VoVJdWG0AhAHkaNJUQrpbcVLSAVnd6iOVHuMaFrnp0tpKv1BJUgYIOpLeKFTtA6cVFNNKRknrzQLV5sV1agWjz/mPfQjVYSFLUWxx4zorqsBwun5cA6qJEEkH7edGIY1iHw0NkdpDzWvLB+KW9rXr0OpN1x55tbXpTQtsbkoOAQkqBwQBweccadHTfrT0wrFz1K5ruuWfOcl00x4s2SylTsde0JCl+OEgpBHP2GsvVG0ajCfUw7CIKDjKRqw6eyKjb9cbdMcPNKc2vMujhSc9jri6Tw+myrhdwwSPFdSaNyyk84OaPut/WO1oTkuzG6PFmul8LYrDBO5SMHIVu5UVcfg9u+l1Gvup0+lLRb0v/AA8ENtvEkNk8naNEd4dNl1J1+tNx0oU4srS0Owz4GfGltMo1VgTDGfWpKEqzwO+orW8WIARtgit5oC+d65BoaqIqqpSprkle71crKlHg50fdVevFq31ZdPt+NbyoU+PT249RloUNstaCT6pAAwo55P2Gh1+lSnt7CmS5nJScarUWstThbciFWOT8vYaIJqWcFjyPzVVrME4A4oErdLE1tamV5JOQfY6pqZeN22Sp1mkVd5lLowtKF8HTjh2HBfaSEIBJByPbQ/cnRhLzS5cTJOSSlQ7a2ttYEUmCaxNp5kTIFD1rfEHekScluoTjKaUseo2/yQnzg+NNinTqPdba36FN9cJA9RJGFJJ5wRpNW/02nTa81SGYpLrrwQkbfJONao6f/C3UunPTxd5Sn1LefdQlUb0+R3IP8aY7bW0jnRC3/LigdxpfqRMwHSl2/RH23Ni2SD7EauaRa1RlUaRLjxS4iMAp7YeQCcZx5AP8Z0aVyg0RgNvSZxafWfodSBzjjj+PxrzRK43aFX/Rwq9CccqLKmlNMvhRJIKcKT7j799GG1ZJIvhI3ePahY0x1k+LO3zS+juvtOBpvCcqHJAONV931CVP+R2GhWVY3oRjb/Gn51R6ET0Uin1i0LUHomIgyW2RvWF4PJH1DPck+4xxxpS3ZR61Zlddi16gNtnaU+m4nKT9xrW3vYL0BoSN3jIzxWJbSazOJQdv1xSlrFLbSokg5OqWRBSXDuIH50dVKmVCrOLMOEpz8J7aoa9Z1w0Vaf6tRZLBcA9NLjJG7PI/9aPRyDAVjzQhkJOQOK+lfxU/DzTVXM2enFkf4D6C4+7FbKxu85OcD8AaTUH4erjaeLrNGcSsKwpBbP8AbWtOiV5zKnVG00SptyUrOFpS8FA/YjPGnW3QrdrITOcpLaXQQTubwQR7++uKLok12zehIBz0I4x8iD+mK6h/qKQKokQnjrnmsCu9MJ8ajpZqNLWktpwoKTpe3TZtDZlrUI+1e3JCm+M6+md1dN7VuuCqPPpTW8NkNrQkAg447ayz1t6Ff0FMh5qlrKjnZhPnGhGqaZe6RIDL8St0I/Pir9nfW98pAGCOx/FZFbpkB2oKQ5BbbU2rAUrhK/tqxj2pa8qQp+tPMw1hISyMEpd57HGcHnPtgak3h0/uKbP/AEkeI6CFH6UEYOqef0lvNcb1XZDoWk7kJUrnOtreSHgsRXnVyOBXpd67Jst8xKdHMtfqAKLY+VQ8lKh3/OuUe2oVxRjPpAzv5LDn1t/Y++ulF6e1y9YZtp9paKgw5hlwpJ9XOePznU/p70tvqgXO8K3EfZEMFBTggLXgkDH7dtEi9hM2w4WqoFzGu5cmudk9B4NWvmImcoRGluBTkoJ4SnI5/OtnMdO2rdZgVKt1mNJgtsJERQQPTkYCRtxyO2SSeTu1nqk3TETV4dKVFTGUtwpkGQsJSnHPCjxp41S9alWbWVY1syI7UVhLf6mXJeAbYHOTvP8AqHAAz286llsrV1TEmfwKhW5uFZspj8mqjq58PfTe6KC7Vo8KNGU2hS1ORlggr5OMDkcax3UulMFfUVuO5MUhppe5DxPbHOONa2u2NVKBSlMUCVNkMuR0plPvpAaWvn6M4OPzpL1C3pcOovOymwXSFbVBOdufI/71pY288UpEDllPT81m5nieMGVQDUTqj1OrNm2221bF3PrdRGLLxaePJ5899DvTLqJROq9VpznVGC++mG2WnGwCQ8rOAT5z7/jXpUbcW+46mpI3kqyk9+NelvvtWe4h2nx0ZQ4CpJT3HnTFp2n3CpvHXnnoaDXt/AW2k8ccdRTerNsdGbepiq7SbPZSQz6qmxFUSkHt4IHP99KK7OtdlxnltsUKS4VEpfadOAMdsfcHVldvVKtVOkriQ3VRy4r/ABdijhQHYY8aUldil1TinkBSl87jotpmj78tdkk/9iaGX+rCMhbYAD2FfTe1PgzqHT+7UXJatwF6M1IC22ivDm0HI5Hn99Puh0+RTssKqLzzeMpTJBKk/bJ1CtaWzMbJizUOBBIWE5BB/BAP76vmySnn++hul6faxH14iefnkfT5e+aLXl1O/wDtv2+VedVdx04TlMtoajFS1FCvXZ3ZSe+PY41aaj1GK7LjlEd703ByheOx0VuohNAVxmqcTbJAaD698P3TisQZDDVDbZfeOQ+ngpP/AFoJY+Du3xUkzKrLalsDOWcFOD+f402Y9MqzVLdaqNS9V8kltxJIIGOBqPGl1OBGcDzO9RPClL57HQKXR9JkZXaDZx24+4HFEEvrxAVWTPv+M1k7qf03c6UXG5Kt+2W3S0slmSpsgd+/PfA/31VT+rw5XV7Tgxqi9HLzsh5IWXMA4wk8Jz/61qfqf0ypfUSkqnMtgzWo69iSTySOBrOVT+Fy8H6k2xVqTIbS4fmf2ZShOlG+0xrOUqyZU9CBnj+KN214J1BBwR1FI+5axbN0SRL9L0pTqgXGkNYQhWPA0QWv0pvrqJRAqgz5amow/wAJv1fkGMnsfHJ0Vv8ASGj9La+5Vbzt+XLisglpLUc7XecABXj8nTHoTFTdsaIbcguUlh0BSWW1J3ZcAyFecD/nWbRTI/pxnbjz+1YuJPTTe4z7UtbWoF2XPOYtepy1L/TIUpwOOhKUJQMq559j/Oqu+qXW4tYcRS6bMQzKQENMrQcqTjgcDkeR9tN+2enl4Wncypj8OO+AMu5SpaCnIzyPOrvrrU6bS7f/AFKKm1FfWgpSoqSTvxnA9iNMM+orZlSoDADH17mg8Nm90DklST+nYVmdfQq/6q4hX9CDKXRu3PvISEjPcjOf7Z1X3T0BlW/SHKtU7jhD0nQhxDIUoJ9yTjxnwNBV/dYep9r3K8+xXpYCuEoWtQBTnjH2Ol31P+IPqddDCI8utO7UIx6bR2p/cDv++rKanqbspVlA9v3qBtPsVBDBif8APFMWtWPSqdTnahIuultpwfSbmv8ApKUARhQye2Of20lbs6o2bDkriqrsJWxW0rbVuSr99ANzXLXZ29dSlur+XlS3CdLyvRW1rWsOg55I76MWupyoT6jbvpihtxp8LD4Bj61/RJHoRq8ZmNWFvJWyrcxIjultxP7juNXdEoJouRFqT7rSvqTJXuOffOvaIT6YBJOBxnU9ogpwBjVbTrSDAkxyMc9/5q7NcSOSvbxXtr9r9r920ZqrXhYBSQdQJjQIJx+dTVup7ajSNqknPtqCcAx1lTg5qllPvxcltwj8agSnqpIQSEuqB7nB51dqYjlRLo75BP2xquu+ZckWnoNqw0StqgH2lOYUUeQPzoHM/pRM7E4HYDJ+1EEw7hRxnueB96rabFcqrkmPJa9UNoBLK+x+bng9+NU9woj0+Utb1vtObAMteiR6ae+5I8du+plWqFah0t5VKbEV1xW4uuIO5IA4Bz986z71mvbqpRbmTUaqX429sNhyO4r03BnIWOfIxn8aA3N9CsigDnyen3olFayFDk0665W4Eq1v69HlyC00raWmlBSkKzwSPtwceQdYw+L3rDWLhqggJQ41FiI2RcnBWc/MtQAABJ8eO2tAWXcl2/p3WX3S4pwpVuWySl3I/wD1pQ9erfrM2c+0i3I8sFBcQtMTkI7c7e3PvoZNcPHcCQjj371aiCPGUB5rLNfviqyKYiTU2VrbQdiXHBnIz21CqNq1WpwUzaPDMhtxsLCmkZwD747aOLwgXNHt522avZjQiLWHEEp+dsDcBt9uSM/jVFRLZ6vWBSZF2dNHZSIzzKm5jbRStSRzwUkHgZznHfVxLkyLxgH9DVdo1j6nIpK31QaoylfqMEEDCgBoHl0OU7HVUm2VpS3wpvGc8d9ak6WVGL1IdnW51Ht6NMmuO+ozMGGHMEYKSBhJAPIOO5OfGqC//h1doNVcnUOnThGUopKS0HAoc9iO/wDHjUqak0bGNxz+lQtbK3xrX//Z",this.emptyImage=new Image,this.emptyImage.onload=function(){c.samplers.empty=c.gl.createTexture(),c.bindTexture(c.samplers.empty,c.emptyImage,1,1)},this.emptyImage.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="}return o(u,[{key:"bindTexture",value:function(c,h,p,d){if(this.gl.bindTexture(this.gl.TEXTURE_2D,c),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,p,d,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,h),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){var x=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,x)}}},{key:"loadExtraImages",value:function(c){var h=this;Object.keys(c).forEach(function(p){var d=c[p],x=d.data,M=d.width,A=d.height;if(!h.samplers[p]){var w=new Image;w.onload=function(){h.samplers[p]=h.gl.createTexture(),h.bindTexture(h.samplers[p],w,M,A)},w.src=x}})}},{key:"getTexture",value:function(c){var h=this.samplers[c];return h||this.samplers.clouds2}}]),u}()},"./src/index.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u}),r("./node_modules/ecma-proposal-math-extensions/reference-implementation/index.js"),r("./src/presetBase.js");var n=r("./src/visualizer.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return h&&o(m,h),m}var u=function(){function m(){i(this,m)}return l(m,null,[{key:"createVisualizer",value:function(h,p,d){return new n.default(h,p,d)}}]),m}()},"./src/noise/noise.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return l});function n(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function i(u,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function o(u,m,c){return m&&i(u.prototype,m),c&&i(u,c),u}var l=function(){function u(m){n(this,u),this.gl=m,this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.noiseTexLQ=this.gl.createTexture(),this.noiseTexLQLite=this.gl.createTexture(),this.noiseTexMQ=this.gl.createTexture(),this.noiseTexHQ=this.gl.createTexture(),this.noiseTexVolLQ=this.gl.createTexture(),this.noiseTexVolHQ=this.gl.createTexture(),this.nTexArrLQ=u.createNoiseTex(256,1),this.nTexArrLQLite=u.createNoiseTex(32,1),this.nTexArrMQ=u.createNoiseTex(256,4),this.nTexArrHQ=u.createNoiseTex(256,8),this.nTexArrVolLQ=u.createNoiseVolTex(32,1),this.nTexArrVolHQ=u.createNoiseVolTex(32,4),this.bindTexture(this.noiseTexLQ,this.nTexArrLQ,256,256),this.bindTexture(this.noiseTexLQLite,this.nTexArrLQLite,32,32),this.bindTexture(this.noiseTexMQ,this.nTexArrMQ,256,256),this.bindTexture(this.noiseTexHQ,this.nTexArrHQ,256,256),this.bindTexture3D(this.noiseTexVolLQ,this.nTexArrVolLQ,32,32,32),this.bindTexture3D(this.noiseTexVolHQ,this.nTexArrVolHQ,32,32,32),this.noiseTexPointLQ=this.gl.createSampler(),m.samplerParameteri(this.noiseTexPointLQ,m.TEXTURE_MIN_FILTER,m.NEAREST_MIPMAP_NEAREST),m.samplerParameteri(this.noiseTexPointLQ,m.TEXTURE_MAG_FILTER,m.NEAREST),m.samplerParameteri(this.noiseTexPointLQ,m.TEXTURE_WRAP_S,m.REPEAT),m.samplerParameteri(this.noiseTexPointLQ,m.TEXTURE_WRAP_T,m.REPEAT)}return o(u,[{key:"bindTexture",value:function(c,h,p,d){if(this.gl.bindTexture(this.gl.TEXTURE_2D,c),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,p,d,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,h),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){var x=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,x)}}},{key:"bindTexture3D",value:function(c,h,p,d,x){if(this.gl.bindTexture(this.gl.TEXTURE_3D,c),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage3D(this.gl.TEXTURE_3D,0,this.gl.RGBA,p,d,x,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,h),this.gl.generateMipmap(this.gl.TEXTURE_3D),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){var M=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_3D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,M)}}}],[{key:"fCubicInterpolate",value:function(c,h,p,d,x){var M=x*x,A=x*M,w=d-p-c+h,E=c-h-w,g=p-c,q=h;return w*A+E*M+g*x+q}},{key:"dwCubicInterpolate",value:function(c,h,p,d,x){for(var M=[],A=0;A<4;A++){var w=u.fCubicInterpolate(c[A]/255,h[A]/255,p[A]/255,d[A]/255,x);w=Math.clamp(w,0,1),M[A]=w*255}return M}},{key:"createNoiseVolTex",value:function(c,h){for(var p=c*c*c,d=new Uint8Array(p*4),x=h>1?216:256,M=x*.5,A=0;A<p;A++)d[A*4+0]=Math.floor(Math.random()*x+M),d[A*4+1]=Math.floor(Math.random()*x+M),d[A*4+2]=Math.floor(Math.random()*x+M),d[A*4+3]=Math.floor(Math.random()*x+M);var w=c*c,E=c;if(h>1){for(var g=0;g<c;g+=h)for(var q=0;q<c;q+=h)for(var k=0;k<c;k++)if(k%h!==0){for(var L=Math.floor(k/h)*h+c,S=g*w+q*E,R=[],D=[],B=[],N=[],Q=0;Q<4;Q++)R[Q]=d[S*4+(L-h)%c*4+Q],D[Q]=d[S*4+L%c*4+Q],B[Q]=d[S*4+(L+h)%c*4+Q],N[Q]=d[S*4+(L+h*2)%c*4+Q];for(var P=k%h/h,U=u.dwCubicInterpolate(R,D,B,N,P),$=0;$<4;$++){var J=k*4+$;d[g*w*4+q*E*4+J]=U[$]}}for(var me=0;me<c;me+=h)for(var W=0;W<c;W++)for(var ee=0;ee<c;ee++)if(ee%h!==0){for(var ue=Math.floor(ee/h)*h+c,Z=me*w,ie=[],fe=[],ye=[],xe=[],ge=0;ge<4;ge++){var Ae=W*4+Z*4+ge;ie[ge]=d[(ue-h)%c*E*4+Ae],fe[ge]=d[ue%c*E*4+Ae],ye[ge]=d[(ue+h)%c*E*4+Ae],xe[ge]=d[(ue+h*2)%c*E*4+Ae]}for(var O=ee%h/h,Y=u.dwCubicInterpolate(ie,fe,ye,xe,O),T=0;T<4;T++){var I=W*4+Z*4+T;d[ee*E*4+I]=Y[T]}}for(var X=0;X<c;X++)for(var le=0;le<c;le++)for(var se=0;se<c;se++)if(se%h!==0){for(var _e=le*E,we=Math.floor(se/h)*h+c,Ce=[],Be=[],We=[],re=[],V=0;V<4;V++){var j=X*4+_e*4+V;Ce[V]=d[(we-h)%c*w*4+j],Be[V]=d[we%c*w*4+j],We[V]=d[(we+h)%c*w*4+j],re[V]=d[(we+h*2)%c*w*4+j]}for(var he=le%h/h,Me=u.dwCubicInterpolate(Ce,Be,We,re,he),Te=0;Te<4;Te++){var Ie=X*4+_e*4+Te;d[se*w*4+Ie]=Me[Te]}}}return d}},{key:"createNoiseTex",value:function(c,h){for(var p=c*c,d=new Uint8Array(p*4),x=h>1?216:256,M=x*.5,A=0;A<p;A++)d[A*4+0]=Math.floor(Math.random()*x+M),d[A*4+1]=Math.floor(Math.random()*x+M),d[A*4+2]=Math.floor(Math.random()*x+M),d[A*4+3]=Math.floor(Math.random()*x+M);if(h>1){for(var w=0;w<c;w+=h)for(var E=0;E<c;E++)if(E%h!==0){for(var g=Math.floor(E/h)*h+c,q=w*c,k=[],L=[],S=[],R=[],D=0;D<4;D++)k[D]=d[q*4+(g-h)%c*4+D],L[D]=d[q*4+g%c*4+D],S[D]=d[q*4+(g+h)%c*4+D],R[D]=d[q*4+(g+h*2)%c*4+D];for(var B=E%h/h,N=u.dwCubicInterpolate(k,L,S,R,B),Q=0;Q<4;Q++)d[w*c*4+E*4+Q]=N[Q]}for(var P=0;P<c;P++)for(var U=0;U<c;U++)if(U%h!==0){for(var $=Math.floor(U/h)*h+c,J=[],me=[],W=[],ee=[],ue=0;ue<4;ue++)J[ue]=d[($-h)%c*c*4+P*4+ue],me[ue]=d[$%c*c*4+P*4+ue],W[ue]=d[($+h)%c*c*4+P*4+ue],ee[ue]=d[($+h*2)%c*c*4+P*4+ue];for(var Z=U%h/h,ie=u.dwCubicInterpolate(J,me,W,ee,Z),fe=0;fe<4;fe++)d[U*c*4+P*4+fe]=ie[fe]}}return d}}]),u}()},"./src/presetBase.js":function(t,a){var r=1e-5;window.sqr=function(o){return o*o},window.sqrt=function(o){return Math.sqrt(Math.abs(o))},window.log10=function(o){return Math.log(o)*Math.LOG10E},window.sign=function(o){return o>0?1:o<0?-1:0},window.rand=function(o){var l=Math.floor(o);return l<1?Math.random():Math.random()*l},window.randint=function(o){return Math.floor(rand(o))},window.bnot=function(o){return Math.abs(o)<r?1:0};function n(i){return isFinite(i)&&!isNaN(i)}window.pow=function(o,l){var u=Math.pow(o,l);return n(u)?u:0},window.div=function(o,l){return l===0?0:o/l},window.mod=function(o,l){if(l===0)return 0;var u=Math.floor(o)%Math.floor(l);return u},window.bitor=function(o,l){var u=Math.floor(o)|Math.floor(l);return u},window.bitand=function(o,l){var u=Math.floor(o)&Math.floor(l);return u},window.sigmoid=function(o,l){var u=1+Math.exp(-o*l);return Math.abs(u)>r?1/u:0},window.bor=function(o,l){return Math.abs(o)>r||Math.abs(l)>r?1:0},window.band=function(o,l){return Math.abs(o)>r&&Math.abs(l)>r?1:0},window.equal=function(o,l){return Math.abs(o-l)<r?1:0},window.above=function(o,l){return o>l?1:0},window.below=function(o,l){return o<l?1:0},window.ifcond=function(o,l,u){return Math.abs(o)>r?l:u},window.memcpy=function(o,l,u,m){var c=l,h=u,p=m;return h<0&&(p+=h,c-=h,h=0),c<0&&(p+=c,h-=c,c=0),p>0&&o.copyWithin(c,h,p),l}},"./src/rendering/blendPattern.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return l});function n(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function i(u,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function o(u,m,c){return m&&i(u.prototype,m),c&&i(u,c),u}var l=function(){function u(m){n(this,u),this.mesh_width=m.mesh_width,this.mesh_height=m.mesh_height,this.aspectx=m.aspectx,this.aspecty=m.aspecty,this.vertInfoA=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)),this.vertInfoC=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)),this.createBlendPattern()}return o(u,[{key:"updateGlobals",value:function(c){var h=this.mesh_width,p=this.mesh_height;this.mesh_width=c.mesh_width,this.mesh_height=c.mesh_height,this.aspectx=c.aspectx,this.aspecty=c.aspecty,(this.mesh_width!==h||this.mesh_height!==p)&&(this.vertInfoA=u.resizeMatrixValues(this.vertInfoA,h,p,this.mesh_width,this.mesh_height),this.vertInfoC=u.resizeMatrixValues(this.vertInfoC,h,p,this.mesh_width,this.mesh_height))}},{key:"genPlasma",value:function(c,h,p,d,x){var M=Math.floor((c+h)/2),A=Math.floor((p+d)/2),w=this.vertInfoC[p*(this.mesh_width+1)+c],E=this.vertInfoC[p*(this.mesh_width+1)+h],g=this.vertInfoC[d*(this.mesh_width+1)+c],q=this.vertInfoC[d*(this.mesh_width+1)+h];d-p>=2&&(c===0&&(this.vertInfoC[A*(this.mesh_width+1)+c]=.5*(w+g)+(Math.random()*2-1)*x*this.aspecty),this.vertInfoC[A*(this.mesh_width+1)+h]=.5*(E+q)+(Math.random()*2-1)*x*this.aspecty),h-c>=2&&(p===0&&(this.vertInfoC[p*(this.mesh_width+1)+M]=.5*(w+E)+(Math.random()*2-1)*x*this.aspectx),this.vertInfoC[d*(this.mesh_width+1)+M]=.5*(g+q)+(Math.random()*2-1)*x*this.aspectx),d-p>=2&&h-c>=2&&(w=this.vertInfoC[A*(this.mesh_width+1)+c],E=this.vertInfoC[A*(this.mesh_width+1)+h],g=this.vertInfoC[p*(this.mesh_width+1)+M],q=this.vertInfoC[d*(this.mesh_width+1)+M],this.vertInfoC[A*(this.mesh_width+1)+M]=.25*(g+q+w+E)+(Math.random()*2-1)*x,this.genPlasma(c,M,p,A,x*.5),this.genPlasma(M,h,p,A,x*.5),this.genPlasma(c,M,A,d,x*.5),this.genPlasma(M,h,A,d,x*.5))}},{key:"createBlendPattern",value:function(){var c=1+Math.floor(Math.random()*3);if(c===0)for(var h=0,p=0;p<=this.mesh_height;p++)for(var d=0;d<=this.mesh_width;d++)this.vertInfoA[h]=1,this.vertInfoC[h]=0,h+=1;else if(c===1)for(var x=Math.random()*6.28,M=Math.cos(x),A=Math.sin(x),w=.1+.2*Math.random(),E=1/w,g=0,q=0;q<=this.mesh_height;q++)for(var k=q/this.mesh_height*this.aspecty,L=0;L<=this.mesh_width;L++){var S=L/this.mesh_width*this.aspectx,R=(S-.5)*M+(k-.5)*A+.5;R=(R-.5)/Math.sqrt(2)+.5,this.vertInfoA[g]=E*(1+w),this.vertInfoC[g]=-E+E*R,g+=1}else if(c===2){var D=.12+.13*Math.random(),B=1/D;this.vertInfoC[0]=Math.random(),this.vertInfoC[this.mesh_width]=Math.random(),this.vertInfoC[this.mesh_height*(this.mesh_width+1)]=Math.random(),this.vertInfoC[this.mesh_height*(this.mesh_width+1)+this.mesh_width]=Math.random(),this.genPlasma(0,this.mesh_width,0,this.mesh_height,.25);for(var N=this.vertInfoC[0],Q=this.vertInfoC[0],P=0,U=0;U<=this.mesh_height;U++)for(var $=0;$<=this.mesh_width;$++)N>this.vertInfoC[P]&&(N=this.vertInfoC[P]),Q<this.vertInfoC[P]&&(Q=this.vertInfoC[P]),P+=1;var J=1/(Q-N);P=0;for(var me=0;me<=this.mesh_height;me++)for(var W=0;W<=this.mesh_width;W++){var ee=(this.vertInfoC[P]-N)*J;this.vertInfoA[P]=B*(1+D),this.vertInfoC[P]=-B+B*ee,P+=1}}else if(c===3)for(var ue=.02+.14*Math.random()+.34*Math.random(),Z=1/ue,ie=Math.floor(Math.random()*2)*2-1,fe=0,ye=0;ye<=this.mesh_height;ye++)for(var xe=(ye/this.mesh_height-.5)*this.aspecty,ge=0;ge<=this.mesh_width;ge++){var Ae=(ge/this.mesh_width-.5)*this.aspectx,O=Math.sqrt(Ae*Ae+xe*xe)*1.41421;ie===-1&&(O=1-O),this.vertInfoA[fe]=Z*(1+ue),this.vertInfoC[fe]=-Z+Z*O,fe+=1}}}],[{key:"resizeMatrixValues",value:function(c,h,p,d,x){for(var M=new Float32Array((d+1)*(x+1)),A=0,w=0;w<x+1;w++)for(var E=0;E<d+1;E++){var g=E/x,q=w/d;g*=h+1,q*=p+1,g=Math.clamp(g,0,h-1),q=Math.clamp(q,0,p-1);var k=Math.floor(g),L=Math.floor(q),S=g-k,R=q-L,D=c[L*(h+1)+k],B=c[L*(h+1)+(k+1)],N=c[(L+1)*(h+1)+k],Q=c[(L+1)*(h+1)+(k+1)];M[A]=D*(1-S)*(1-R)+B*S*(1-R)+N*(1-S)*R+Q*S*R,A+=1}return M}}]),u}()},"./src/rendering/motionVectors/motionVectors.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c,h){i(this,m),this.gl=c,this.maxX=64,this.maxY=48,this.positions=new Float32Array(this.maxX*this.maxY*2*3),this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.mesh_width=h.mesh_width,this.mesh_height=h.mesh_height,this.positionVertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader()}return l(m,[{key:"updateGlobals",value:function(h){this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.mesh_width=h.mesh_width,this.mesh_height=h.mesh_height}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
                                      in vec3 aPos;
                                      void main(void) {
                                        gl_Position = vec4(aPos, 1.0);
                                      }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      out vec4 fragColor;
                                      uniform vec4 u_color;
                                      void main(void) {
                                        fragColor = u_color;
                                      }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.aPosLoc=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.colorLoc=this.gl.getUniformLocation(this.shaderProgram,"u_color")}},{key:"getMotionDir",value:function(h,p,d){var x=Math.floor(d*this.mesh_height),M=d*this.mesh_height-x,A=Math.floor(p*this.mesh_width),w=p*this.mesh_width-A,E=A+1,g=x+1,q=this.mesh_width+1,k,L;return k=h[(x*q+A)*2+0]*(1-w)*(1-M),L=h[(x*q+A)*2+1]*(1-w)*(1-M),k+=h[(x*q+E)*2+0]*w*(1-M),L+=h[(x*q+E)*2+1]*w*(1-M),k+=h[(g*q+A)*2+0]*(1-w)*M,L+=h[(g*q+A)*2+1]*(1-w)*M,k+=h[(g*q+E)*2+0]*w*M,L+=h[(g*q+E)*2+1]*w*M,[k,1-L]}},{key:"generateMotionVectors",value:function(h,p){var d=h.mv_a,x=Math.floor(h.mv_x),M=Math.floor(h.mv_y);if(d>.001&&x>0&&M>0){var A=h.mv_x-x,w=h.mv_y-M;x>this.maxX&&(x=this.maxX,A=0),M>this.maxY&&(M=this.maxY,w=0);var E=h.mv_dx,g=h.mv_dy,q=h.mv_l,k=1/this.texsizeX;this.numVecVerts=0;for(var L=0;L<M;L++){var S=(L+.25)/(M+w+.25-1);if(S-=g,S>1e-4&&S<.9999)for(var R=0;R<x;R++){var D=(R+.25)/(x+A+.25-1);if(D+=E,D>1e-4&&D<.9999){var B=this.getMotionDir(p,D,S),N=B[0],Q=B[1],P=N-D,U=Q-S;P*=q,U*=q;var $=Math.sqrt(P*P+U*U);$<k&&$>1e-8?($=k/$,P*=$,U*=$):(P=k,P=k),N=D+P,Q=S+U;var J=2*D-1,me=2*S-1,W=2*N-1,ee=2*Q-1;this.positions[this.numVecVerts*3+0]=J,this.positions[this.numVecVerts*3+1]=me,this.positions[this.numVecVerts*3+2]=0,this.positions[(this.numVecVerts+1)*3+0]=W,this.positions[(this.numVecVerts+1)*3+1]=ee,this.positions[(this.numVecVerts+1)*3+2]=0,this.numVecVerts+=2}}}if(this.numVecVerts>0)return this.color=[h.mv_r,h.mv_g,h.mv_b,d],!0}return!1}},{key:"drawMotionVectors",value:function(h,p){this.generateMotionVectors(h,p)&&(this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc),this.gl.uniform4fv(this.colorLoc,this.color),this.gl.lineWidth(1),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.LINES,0,this.numVecVerts))}}]),m}()},"./src/rendering/renderer.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return N});var n=r("./src/audio/audioLevels.js"),i=r("./src/blankPreset.js"),o=r.n(i),l=r("./src/equations/presetEquationRunner.js"),u=r("./src/rendering/waves/basicWaveform.js"),m=r("./src/rendering/waves/customWaveform.js"),c=r("./src/rendering/shapes/customShape.js"),h=r("./src/rendering/sprites/border.js"),p=r("./src/rendering/sprites/darkenCenter.js"),d=r("./src/rendering/motionVectors/motionVectors.js"),x=r("./src/rendering/shaders/warp.js"),M=r("./src/rendering/shaders/comp.js"),A=r("./src/rendering/shaders/output.js"),w=r("./src/rendering/shaders/resample.js"),E=r("./src/rendering/shaders/blur/blur.js"),g=r("./src/noise/noise.js"),q=r("./src/image/imageTextures.js"),k=r("./src/rendering/text/titleText.js"),L=r("./src/rendering/blendPattern.js"),S=r("./src/utils.js");function R(Q,P){if(!(Q instanceof P))throw new TypeError("Cannot call a class as a function")}function D(Q,P){for(var U=0;U<P.length;U++){var $=P[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(Q,$.key,$)}}function B(Q,P,U){return P&&D(Q.prototype,P),U&&D(Q,U),Q}var N=function(){function Q(P,U,$){R(this,Q),this.gl=P,this.audio=U,this.frameNum=0,this.fps=30,this.time=0,this.presetTime=0,this.lastTime=performance.now(),this.timeHist=[0],this.timeHistMax=120,this.blending=!1,this.blendStartTime=0,this.blendProgress=0,this.blendDuration=0,this.width=$.width||1200,this.height=$.height||900,this.mesh_width=$.meshWidth||48,this.mesh_height=$.meshHeight||36,this.pixelRatio=$.pixelRatio||window.devicePixelRatio||1,this.textureRatio=$.textureRatio||1,this.outputFXAA=$.outputFXAA||!1,this.texsizeX=this.width*this.pixelRatio*this.textureRatio,this.texsizeY=this.height*this.pixelRatio*this.textureRatio,this.aspectx=this.texsizeY>this.texsizeX?this.texsizeX/this.texsizeY:1,this.aspecty=this.texsizeX>this.texsizeY?this.texsizeY/this.texsizeX:1,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.qs=S.default.range(1,33).map(function(W){return"q".concat(W)}),this.ts=S.default.range(1,9).map(function(W){return"t".concat(W)}),this.regs=S.default.range(0,100).map(function(W){return W<10?"reg0".concat(W):"reg".concat(W)}),this.blurRatios=[[.5,.25],[.125,.125],[.0625,.0625]],this.audioLevels=new n.default(this.audio),this.prevFrameBuffer=this.gl.createFramebuffer(),this.targetFrameBuffer=this.gl.createFramebuffer(),this.prevTexture=this.gl.createTexture(),this.targetTexture=this.gl.createTexture(),this.compFrameBuffer=this.gl.createFramebuffer(),this.compTexture=this.gl.createTexture(),this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.bindFrameBufferTexture(this.prevFrameBuffer,this.prevTexture),this.bindFrameBufferTexture(this.targetFrameBuffer,this.targetTexture),this.bindFrameBufferTexture(this.compFrameBuffer,this.compTexture);var J={pixelRatio:this.pixelRatio,textureRatio:this.textureRatio,texsizeX:this.texsizeX,texsizeY:this.texsizeY,mesh_width:this.mesh_width,mesh_height:this.mesh_height,aspectx:this.aspectx,aspecty:this.aspecty};this.noise=new g.default(P),this.image=new q.default(P),this.warpShader=new x.default(P,this.noise,this.image,J),this.compShader=new M.default(P,this.noise,this.image,J),this.outputShader=new A.default(P,J),this.prevWarpShader=new x.default(P,this.noise,this.image,J),this.prevCompShader=new M.default(P,this.noise,this.image,J),this.numBlurPasses=0,this.blurShader1=new E.default(0,this.blurRatios,P,J),this.blurShader2=new E.default(1,this.blurRatios,P,J),this.blurShader3=new E.default(2,this.blurRatios,P,J),this.blurTexture1=this.blurShader1.blurVerticalTexture,this.blurTexture2=this.blurShader2.blurVerticalTexture,this.blurTexture3=this.blurShader3.blurVerticalTexture,this.basicWaveform=new u.default(P,J),this.customWaveforms=S.default.range(4).map(function(W){return new m.default(W,P,J)}),this.customShapes=S.default.range(4).map(function(W){return new c.default(W,P,J)}),this.prevCustomWaveforms=S.default.range(4).map(function(W){return new m.default(W,P,J)}),this.prevCustomShapes=S.default.range(4).map(function(W){return new c.default(W,P,J)}),this.darkenCenter=new p.default(P,J),this.innerBorder=new h.default(P,J),this.outerBorder=new h.default(P,J),this.motionVectors=new d.default(P,J),this.titleText=new k.default(P,J),this.blendPattern=new L.default(J),this.resampleShader=new w.default(P),this.supertext={startTime:-1},this.warpUVs=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*2),this.warpColor=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*4),this.gl.clearColor(0,0,0,1),this.blankPreset=o.a;var me={frame:0,time:0,fps:45,bass:1,bass_att:1,mid:1,mid_att:1,treb:1,treb_att:1};this.preset=o.a,this.prevPreset=this.preset,this.presetEquationRunner=new l.default(this.preset,me,J),this.prevPresetEquationRunner=new l.default(this.prevPreset,me,J),this.regVars=this.presetEquationRunner.mdVSRegs}return B(Q,[{key:"loadPreset",value:function(U,$){this.blendPattern.createBlendPattern(),this.blending=!0,this.blendStartTime=this.time,this.blendDuration=$,this.blendProgress=0,this.prevPresetEquationRunner=this.presetEquationRunner,this.prevPreset=this.preset,this.preset=U,this.preset.baseVals.old_wave_mode=this.prevPreset.baseVals.wave_mode,this.presetTime=this.time;var J={frame:this.frameNum,time:this.time,fps:this.fps,bass:this.audioLevels.bass,bass_att:this.audioLevels.bass_att,mid:this.audioLevels.mid,mid_att:this.audioLevels.mid_att,treb:this.audioLevels.treb,treb_att:this.audioLevels.treb_att},me={pixelRatio:this.pixelRatio,textureRatio:this.textureRatio,texsizeX:this.texsizeX,texsizeY:this.texsizeY,mesh_width:this.mesh_width,mesh_height:this.mesh_height,aspectx:this.aspectx,aspecty:this.aspecty};this.presetEquationRunner=new l.default(this.preset,J,me),this.regVars=this.presetEquationRunner.mdVSRegs;var W=this.prevWarpShader;this.prevWarpShader=this.warpShader,this.warpShader=W;var ee=this.prevCompShader;this.prevCompShader=this.compShader,this.compShader=ee;var ue=this.preset.warp.trim(),Z=this.preset.comp.trim();this.warpShader.updateShader(ue),this.compShader.updateShader(Z),ue.length===0?this.numBlurPasses=0:this.numBlurPasses=Q.getHighestBlur(ue),Z.length!==0&&(this.numBlurPasses=Math.max(this.numBlurPasses,Q.getHighestBlur(Z)))}},{key:"loadExtraImages",value:function(U){this.image.loadExtraImages(U)}},{key:"setRendererSize",value:function(U,$,J){var me=this.texsizeX,W=this.texsizeY;if(this.width=U,this.height=$,this.mesh_width=J.meshWidth||this.mesh_width,this.mesh_height=J.meshHeight||this.mesh_height,this.pixelRatio=J.pixelRatio||this.pixelRatio,this.textureRatio=J.textureRatio||this.textureRatio,this.texsizeX=U*this.pixelRatio*this.textureRatio,this.texsizeY=$*this.pixelRatio*this.textureRatio,this.aspectx=this.texsizeY>this.texsizeX?this.texsizeX/this.texsizeY:1,this.aspecty=this.texsizeX>this.texsizeY?this.texsizeY/this.texsizeX:1,this.texsizeX!==me||this.texsizeY!==W){var ee=this.gl.createTexture();this.bindFrameBufferTexture(this.targetFrameBuffer,ee),this.bindFrambufferAndSetViewport(this.targetFrameBuffer,this.texsizeX,this.texsizeY),this.resampleShader.renderQuadTexture(this.targetTexture),this.targetTexture=ee,this.bindFrameBufferTexture(this.prevFrameBuffer,this.prevTexture),this.bindFrameBufferTexture(this.compFrameBuffer,this.compTexture)}this.updateGlobals(),this.frameNum>0&&this.renderToScreen()}},{key:"setInternalMeshSize",value:function(U,$){this.mesh_width=U,this.mesh_height=$,this.updateGlobals()}},{key:"setOutputAA",value:function(U){this.outputFXAA=U}},{key:"updateGlobals",value:function(){var U={pixelRatio:this.pixelRatio,textureRatio:this.textureRatio,texsizeX:this.texsizeX,texsizeY:this.texsizeY,mesh_width:this.mesh_width,mesh_height:this.mesh_height,aspectx:this.aspectx,aspecty:this.aspecty};this.presetEquationRunner.updateGlobals(U),this.prevPresetEquationRunner.updateGlobals(U),this.warpShader.updateGlobals(U),this.prevWarpShader.updateGlobals(U),this.compShader.updateGlobals(U),this.prevCompShader.updateGlobals(U),this.outputShader.updateGlobals(U),this.blurShader1.updateGlobals(U),this.blurShader2.updateGlobals(U),this.blurShader3.updateGlobals(U),this.basicWaveform.updateGlobals(U),this.customWaveforms.forEach(function($){return $.updateGlobals(U)}),this.customShapes.forEach(function($){return $.updateGlobals(U)}),this.prevCustomWaveforms.forEach(function($){return $.updateGlobals(U)}),this.prevCustomShapes.forEach(function($){return $.updateGlobals(U)}),this.darkenCenter.updateGlobals(U),this.innerBorder.updateGlobals(U),this.outerBorder.updateGlobals(U),this.motionVectors.updateGlobals(U),this.titleText.updateGlobals(U),this.blendPattern.updateGlobals(U),this.warpUVs=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*2),this.warpColor=new Float32Array((this.mesh_width+1)*(this.mesh_height+1)*4)}},{key:"calcTimeAndFPS",value:function(U){var $;if(U)$=U;else{var J=performance.now();$=(J-this.lastTime)/1e3,($>1||$<0||this.frame<2)&&($=1/30),this.lastTime=J}this.time+=1/this.fps,this.blending&&(this.blendProgress=(this.time-this.blendStartTime)/this.blendDuration,this.blendProgress>1&&(this.blending=!1));var me=this.timeHist[this.timeHist.length-1]+$;this.timeHist.push(me),this.timeHist.length>this.timeHistMax&&this.timeHist.shift();var W=this.timeHist.length/(me-this.timeHist[0]);if(Math.abs(W-this.fps)>3&&this.frame>this.timeHistMax)this.fps=W;else{var ee=.93;this.fps=ee*this.fps+(1-ee)*W}}},{key:"runPixelEquations",value:function(U,$,J,me){for(var W=this.mesh_width,ee=this.mesh_height,ue=W+1,Z=ee+1,ie=this.time*$.warpanimspeed,fe=1/$.warpscale,ye=11.68+4*Math.cos(ie*1.413+10),xe=8.77+3*Math.cos(ie*1.113+7),ge=10.54+3*Math.cos(ie*1.233+3),Ae=11.49+4*Math.cos(ie*.933+5),O=0/this.texsizeX,Y=0/this.texsizeY,T=this.aspectx,I=this.aspecty,X=S.default.cloneVars($),le=0,se=0,_e=0;_e<Z;_e++)for(var we=0;we<ue;we++){var Ce=we/W*2-1,Be=_e/ee*2-1,We=Math.sqrt(Ce*Ce*T*T+Be*Be*I*I);if(J){var re=void 0;_e===ee/2&&we===W/2?re=0:re=S.default.atan2(Be*I,Ce*T),X.x=Ce*.5*T+.5,X.y=Be*-.5*I+.5,X.rad=We,X.ang=re,X.zoom=$.zoom,X.zoomexp=$.zoomexp,X.rot=$.rot,X.warp=$.warp,X.cx=$.cx,X.cy=$.cy,X.dx=$.dx,X.dy=$.dy,X.sx=$.sx,X.sy=$.sy,X=U.pixel_eqs(X)}var V=X.warp,j=X.zoom,he=X.zoomexp,Me=X.cx,Te=X.cy,Ie=X.sx,Ze=X.sy,at=X.dx,et=X.dy,it=X.rot,oe=Math.pow(j,Math.pow(he,We*2-1)),ve=1/oe,Se=Ce*.5*T*ve+.5,ze=-Be*.5*I*ve+.5;Se=(Se-Me)/Ie+Me,ze=(ze-Te)/Ze+Te,V!==0&&(Se+=V*.0035*Math.sin(ie*.333+fe*(Ce*ye-Be*Ae)),ze+=V*.0035*Math.cos(ie*.375-fe*(Ce*ge+Be*xe)),Se+=V*.0035*Math.cos(ie*.753-fe*(Ce*xe-Be*ge)),ze+=V*.0035*Math.sin(ie*.825+fe*(Ce*ye+Be*Ae)));var Le=Se-Me,Ge=ze-Te,Ve=Math.cos(it),nt=Math.sin(it);if(Se=Le*Ve-Ge*nt+Me,ze=Le*nt+Ge*Ve+Te,Se-=at,ze-=et,Se=(Se-.5)/T+.5,ze=(ze-.5)/I+.5,Se+=O,ze+=Y,!me)this.warpUVs[le]=Se,this.warpUVs[le+1]=ze,this.warpColor[se+0]=1,this.warpColor[se+1]=1,this.warpColor[se+2]=1,this.warpColor[se+3]=1;else{var qe=this.blendPattern.vertInfoA[le/2]*this.blendProgress+this.blendPattern.vertInfoC[le/2];qe=Math.clamp(qe,0,1),this.warpUVs[le]=this.warpUVs[le]*qe+Se*(1-qe),this.warpUVs[le+1]=this.warpUVs[le+1]*qe+ze*(1-qe),this.warpColor[se+0]=1,this.warpColor[se+1]=1,this.warpColor[se+2]=1,this.warpColor[se+3]=qe}le+=2,se+=4}this.mdVSVertex=X}},{key:"bindFrambufferAndSetViewport",value:function(U,$,J){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,U),this.gl.viewport(0,0,$,J)}},{key:"bindFrameBufferTexture",value:function(U,$){if(this.gl.bindTexture(this.gl.TEXTURE_2D,$),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.texsizeX,this.texsizeY,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array(this.texsizeX*this.texsizeY*4)),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){var J=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,J)}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,U),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,$,0)}},{key:"render",value:function(){var U=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=$.audioLevels,me=$.elapsedTime;this.calcTimeAndFPS(me),this.frameNum+=1,J?this.audio.updateAudio(J.timeByteArray,J.timeByteArrayL,J.timeByteArrayR):this.audio.sampleAudio(),this.audioLevels.updateAudioLevels(this.fps,this.frameNum);var W={frame:this.frameNum,time:this.time,fps:this.fps,bass:this.audioLevels.bass,bass_att:this.audioLevels.bass_att,mid:this.audioLevels.mid,mid_att:this.audioLevels.mid_att,treb:this.audioLevels.treb,treb_att:this.audioLevels.treb_att,meshx:this.mesh_width,meshy:this.mesh_height,aspectx:this.invAspectx,aspecty:this.invAspecty,pixelsx:this.texsizeX,pixelsy:this.texsizeY},ee=Object.assign({},W);ee.gmegabuf=this.prevPresetEquationRunner.gmegabuf,W.gmegabuf=this.presetEquationRunner.gmegabuf,Object.assign(W,this.regVars),this.presetEquationRunner.runFrameEquations(W);var ue=this.presetEquationRunner.mdVSFrame;this.runPixelEquations(this.presetEquationRunner.preset,ue,this.presetEquationRunner.runVertEQs,!1),Object.assign(this.regVars,S.default.pick(this.mdVSVertex,this.regs)),Object.assign(W,this.regVars);var Z;this.blending?(this.prevPresetEquationRunner.runFrameEquations(ee),this.runPixelEquations(this.prevPresetEquationRunner.preset,this.prevPresetEquationRunner.mdVSFrame,this.prevPresetEquationRunner.runVertEQs,!0),Z=Q.mixFrameEquations(this.blendProgress,ue,this.prevPresetEquationRunner.mdVSFrame)):Z=ue;var ie=this.targetTexture;this.targetTexture=this.prevTexture,this.prevTexture=ie;var fe=this.targetFrameBuffer;this.targetFrameBuffer=this.prevFrameBuffer,this.prevFrameBuffer=fe,this.gl.bindTexture(this.gl.TEXTURE_2D,this.prevTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.bindFrambufferAndSetViewport(this.targetFrameBuffer,this.texsizeX,this.texsizeY),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);var ye=Q.getBlurValues(Z),xe=ye.blurMins,ge=ye.blurMaxs;this.blending?(this.prevWarpShader.renderQuadTexture(!1,this.prevTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,xe,ge,this.prevPresetEquationRunner.mdVSFrame,this.warpUVs,this.warpColor),this.warpShader.renderQuadTexture(!0,this.prevTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,xe,ge,Z,this.warpUVs,this.warpColor)):this.warpShader.renderQuadTexture(!1,this.prevTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,xe,ge,ue,this.warpUVs,this.warpColor),this.numBlurPasses>0&&(this.blurShader1.renderBlurTexture(this.targetTexture,ue,xe,ge),this.numBlurPasses>1&&(this.blurShader2.renderBlurTexture(this.blurTexture1,ue,xe,ge),this.numBlurPasses>2&&this.blurShader3.renderBlurTexture(this.blurTexture2,ue,xe,ge)),this.bindFrambufferAndSetViewport(this.targetFrameBuffer,this.texsizeX,this.texsizeY)),this.motionVectors.drawMotionVectors(Z,this.warpUVs),this.preset.shapes&&this.preset.shapes.length>0&&this.customShapes.forEach(function(T,I){T.drawCustomShape(U.blending?U.blendProgress:1,W,U.presetEquationRunner,U.preset.shapes[I],U.prevTexture)}),this.preset.waves&&this.preset.waves.length>0&&this.customWaveforms.forEach(function(T,I){T.drawCustomWaveform(U.blending?U.blendProgress:1,U.audio.timeArrayL,U.audio.timeArrayR,U.audio.freqArrayL,U.audio.freqArrayR,W,U.presetEquationRunner,U.preset.waves[I])}),this.blending&&(this.prevPreset.shapes&&this.prevPreset.shapes.length>0&&this.prevCustomShapes.forEach(function(T,I){T.drawCustomShape(1-U.blendProgress,ee,U.prevPresetEquationRunner,U.prevPreset.shapes[I],U.prevTexture)}),this.prevPreset.waves&&this.prevPreset.waves.length>0&&this.prevCustomWaveforms.forEach(function(T,I){T.drawCustomWaveform(1-U.blendProgress,U.audio.timeArrayL,U.audio.timeArrayR,U.audio.freqArrayL,U.audio.freqArrayR,ee,U.prevPresetEquationRunner,U.prevPreset.waves[I])})),this.basicWaveform.drawBasicWaveform(this.blending,this.blendProgress,this.audio.timeArrayL,this.audio.timeArrayR,Z),this.darkenCenter.drawDarkenCenter(Z);var Ae=[Z.ob_r,Z.ob_g,Z.ob_b,Z.ob_a];this.outerBorder.drawBorder(Ae,Z.ob_size,0);var O=[Z.ib_r,Z.ib_g,Z.ib_b,Z.ib_a];if(this.innerBorder.drawBorder(O,Z.ib_size,Z.ob_size),this.supertext.startTime>=0){var Y=(this.time-this.supertext.startTime)/this.supertext.duration;Y>=1&&this.titleText.renderTitle(Y,!0,W)}this.globalVars=W,this.mdVSFrame=ue,this.mdVSFrameMixed=Z,this.renderToScreen()}},{key:"renderToScreen",value:function(){this.outputFXAA?this.bindFrambufferAndSetViewport(this.compFrameBuffer,this.texsizeX,this.texsizeY):this.bindFrambufferAndSetViewport(null,this.width,this.height),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.enable(this.gl.BLEND),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);var U=Q.getBlurValues(this.mdVSFrameMixed),$=U.blurMins,J=U.blurMaxs;if(this.blending?(this.prevCompShader.renderQuadTexture(!1,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,$,J,this.prevPresetEquationRunner.mdVSFrame,this.warpColor),this.compShader.renderQuadTexture(!0,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,$,J,this.mdVSFrameMixed,this.warpColor)):this.compShader.renderQuadTexture(!1,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,$,J,this.mdVSFrame,this.warpColor),this.supertext.startTime>=0){var me=(this.time-this.supertext.startTime)/this.supertext.duration;this.titleText.renderTitle(me,!1,this.globalVars),me>=1&&(this.supertext.startTime=-1)}this.outputFXAA&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.compTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.bindFrambufferAndSetViewport(null,this.width,this.height),this.outputShader.renderQuadTexture(this.compTexture))}},{key:"launchSongTitleAnim",value:function(U){this.supertext={startTime:this.time,duration:1.7},this.titleText.generateTitleTexture(U)}},{key:"toDataURL",value:function(){var U=this,$=new Uint8Array(this.texsizeX*this.texsizeY*4),J=this.gl.createFramebuffer(),me=this.gl.createTexture();this.bindFrameBufferTexture(J,me);var W=Q.getBlurValues(this.mdVSFrameMixed),ee=W.blurMins,ue=W.blurMaxs;this.compShader.renderQuadTexture(!1,this.targetTexture,this.blurTexture1,this.blurTexture2,this.blurTexture3,ee,ue,this.mdVSFrame,this.warpColor),this.gl.readPixels(0,0,this.texsizeX,this.texsizeY,this.gl.RGBA,this.gl.UNSIGNED_BYTE,$),Array.from({length:this.texsizeY},function(ye,xe){return $.slice(xe*U.texsizeX*4,(xe+1)*U.texsizeX*4)}).forEach(function(ye,xe){return $.set(ye,(U.texsizeY-xe-1)*U.texsizeX*4)});var Z=document.createElement("canvas");Z.width=this.texsizeX,Z.height=this.texsizeY;var ie=Z.getContext("2d"),fe=ie.createImageData(this.texsizeX,this.texsizeY);return fe.data.set($),ie.putImageData(fe,0,0),this.gl.deleteTexture(me),this.gl.deleteFramebuffer(J),Z.toDataURL()}},{key:"warpBufferToDataURL",value:function(){var U=new Uint8Array(this.texsizeX*this.texsizeY*4);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.targetFrameBuffer),this.gl.readPixels(0,0,this.texsizeX,this.texsizeY,this.gl.RGBA,this.gl.UNSIGNED_BYTE,U);var $=document.createElement("canvas");$.width=this.texsizeX,$.height=this.texsizeY;var J=$.getContext("2d"),me=J.createImageData(this.texsizeX,this.texsizeY);return me.data.set(U),J.putImageData(me,0,0),$.toDataURL()}}],[{key:"getHighestBlur",value:function(U){return/sampler_blur3/.test(U)?3:/sampler_blur2/.test(U)?2:/sampler_blur1/.test(U)?1:0}},{key:"mixFrameEquations",value:function(U,$,J){var me=.5-.5*Math.cos(U*Math.PI),W=1-me,ee=.5,ue=S.default.cloneVars($);return ue.decay=me*$.decay+W*J.decay,ue.wave_a=me*$.wave_a+W*J.wave_a,ue.wave_r=me*$.wave_r+W*J.wave_r,ue.wave_g=me*$.wave_g+W*J.wave_g,ue.wave_b=me*$.wave_b+W*J.wave_b,ue.wave_x=me*$.wave_x+W*J.wave_x,ue.wave_y=me*$.wave_y+W*J.wave_y,ue.wave_mystery=me*$.wave_mystery+W*J.wave_mystery,ue.ob_size=me*$.ob_size+W*J.ob_size,ue.ob_r=me*$.ob_r+W*J.ob_r,ue.ob_g=me*$.ob_g+W*J.ob_g,ue.ob_b=me*$.ob_b+W*J.ob_b,ue.ob_a=me*$.ob_a+W*J.ob_a,ue.ib_size=me*$.ib_size+W*J.ib_size,ue.ib_r=me*$.ib_r+W*J.ib_r,ue.ib_g=me*$.ib_g+W*J.ib_g,ue.ib_b=me*$.ib_b+W*J.ib_b,ue.ib_a=me*$.ib_a+W*J.ib_a,ue.mv_x=me*$.mv_x+W*J.mv_x,ue.mv_y=me*$.mv_y+W*J.mv_y,ue.mv_dx=me*$.mv_dx+W*J.mv_dx,ue.mv_dy=me*$.mv_dy+W*J.mv_dy,ue.mv_l=me*$.mv_l+W*J.mv_l,ue.mv_r=me*$.mv_r+W*J.mv_r,ue.mv_g=me*$.mv_g+W*J.mv_g,ue.mv_b=me*$.mv_b+W*J.mv_b,ue.mv_a=me*$.mv_a+W*J.mv_a,ue.echo_zoom=me*$.echo_zoom+W*J.echo_zoom,ue.echo_alpha=me*$.echo_alpha+W*J.echo_alpha,ue.echo_orient=me*$.echo_orient+W*J.echo_orient,ue.wave_dots=me<ee?J.wave_dots:$.wave_dots,ue.wave_thick=me<ee?J.wave_thick:$.wave_thick,ue.additivewave=me<ee?J.additivewave:$.additivewave,ue.wave_brighten=me<ee?J.wave_brighten:$.wave_brighten,ue.darken_center=me<ee?J.darken_center:$.darken_center,ue.gammaadj=me<ee?J.gammaadj:$.gammaadj,ue.wrap=me<ee?J.wrap:$.wrap,ue.invert=me<ee?J.invert:$.invert,ue.brighten=me<ee?J.brighten:$.brighten,ue.darken=me<ee?J.darken:$.darken,ue.solarize=me<ee?J.brighten:$.solarize,ue.b1n=me*$.b1n+W*J.b1n,ue.b2n=me*$.b2n+W*J.b2n,ue.b3n=me*$.b3n+W*J.b3n,ue.b1x=me*$.b1x+W*J.b1x,ue.b2x=me*$.b2x+W*J.b2x,ue.b3x=me*$.b3x+W*J.b3x,ue.b1ed=me*$.b1ed+W*J.b1ed,ue}},{key:"getBlurValues",value:function(U){var $=U.b1n,J=U.b2n,me=U.b3n,W=U.b1x,ee=U.b2x,ue=U.b3x,Z=.1;if(W-$<Z){var ie=($+W)*.5;$=ie-Z*.5,W=ie-Z*.5}if(ee=Math.min(W,ee),J=Math.max($,J),ee-J<Z){var fe=(J+ee)*.5;J=fe-Z*.5,ee=fe-Z*.5}if(ue=Math.min(ee,ue),me=Math.max(J,me),ue-me<Z){var ye=(me+ue)*.5;me=ye-Z*.5,ue=ye-Z*.5}return{blurMins:[$,J,me],blurMaxs:[W,ee,ue]}}}]),Q}()},"./src/rendering/shaders/blur/blur.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return m});var n=r("./src/rendering/shaders/blur/blurVertical.js"),i=r("./src/rendering/shaders/blur/blurHorizontal.js");function o(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function l(c,h){for(var p=0;p<h.length;p++){var d=h[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function u(c,h,p){return h&&l(c.prototype,h),c}var m=function(){function c(h,p,d){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};o(this,c),this.blurLevel=h,this.blurRatios=p,this.gl=d,this.texsizeX=x.texsizeX,this.texsizeY=x.texsizeY,this.anisoExt=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.blurHorizontalFrameBuffer=this.gl.createFramebuffer(),this.blurVerticalFrameBuffer=this.gl.createFramebuffer(),this.blurHorizontalTexture=this.gl.createTexture(),this.blurVerticalTexture=this.gl.createTexture(),this.setupFrameBufferTextures(),this.blurHorizontal=new i.default(d,this.blurLevel,x),this.blurVertical=new n.default(d,this.blurLevel,x)}return u(c,[{key:"updateGlobals",value:function(p){this.texsizeX=p.texsizeX,this.texsizeY=p.texsizeY,this.setupFrameBufferTextures()}},{key:"getTextureSize",value:function(p){var d=Math.max(this.texsizeX*p,16);d=Math.floor((d+3)/16)*16;var x=Math.max(this.texsizeY*p,16);return x=Math.floor((x+3)/4)*4,[d,x]}},{key:"setupFrameBufferTextures",value:function(){var p=this.blurLevel>0?this.blurRatios[this.blurLevel-1]:[1,1],d=this.blurRatios[this.blurLevel],x=this.getTextureSize(p[1]),M=this.getTextureSize(d[0]);this.bindFrameBufferTexture(this.blurHorizontalFrameBuffer,this.blurHorizontalTexture,M);var A=M,w=this.getTextureSize(d[1]);this.bindFrameBufferTexture(this.blurVerticalFrameBuffer,this.blurVerticalTexture,w),this.horizontalTexsizes=[x,M],this.verticalTexsizes=[A,w]}},{key:"bindFrambufferAndSetViewport",value:function(p,d){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,p),this.gl.viewport(0,0,d[0],d[1])}},{key:"bindFrameBufferTexture",value:function(p,d,x){if(this.gl.bindTexture(this.gl.TEXTURE_2D,d),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,x[0],x[1],0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array(x[0]*x[1]*4)),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.anisoExt){var M=this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.gl.texParameterf(this.gl.TEXTURE_2D,this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,M)}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,p),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,d,0)}},{key:"renderBlurTexture",value:function(p,d,x,M){this.bindFrambufferAndSetViewport(this.blurHorizontalFrameBuffer,this.horizontalTexsizes[1]),this.blurHorizontal.renderQuadTexture(p,d,x,M,this.horizontalTexsizes[0]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.blurHorizontalTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.bindFrambufferAndSetViewport(this.blurVerticalFrameBuffer,this.verticalTexsizes[1]),this.blurVertical.renderQuadTexture(this.blurHorizontalTexture,d,this.verticalTexsizes[0]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.blurVerticalTexture),this.gl.generateMipmap(this.gl.TEXTURE_2D)}}]),c}()},"./src/rendering/shaders/blur/blurHorizontal.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c,h){i(this,m),this.gl=c,this.blurLevel=h;var p=[4,3.8,3.5,2.9,1.9,1.2,.7,.3],d=p[0]+p[1],x=p[2]+p[3],M=p[4]+p[5],A=p[6]+p[7],w=0+2*p[1]/d,E=2+2*p[3]/x,g=4+2*p[5]/M,q=6+2*p[7]/A;this.ws=new Float32Array([d,x,M,A]),this.ds=new Float32Array([w,E,g,q]),this.wDiv=.5/(d+x+M+A),this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader()}return l(m,[{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
                                      const vec2 halfmad = vec2(0.5);
                                      in vec2 aPos;
                                      out vec2 uv;
                                      void main(void) {
                                        gl_Position = vec4(aPos, 0.0, 1.0);
                                        uv = aPos * halfmad + halfmad;
                                      }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
       precision `.concat(this.floatPrecision,` float;
       precision highp int;
       precision mediump sampler2D;

       in vec2 uv;
       out vec4 fragColor;
       uniform sampler2D uTexture;
       uniform vec4 texsize;
       uniform float scale;
       uniform float bias;
       uniform vec4 ws;
       uniform vec4 ds;
       uniform float wdiv;

       void main(void) {
         float w1 = ws[0];
         float w2 = ws[1];
         float w3 = ws[2];
         float w4 = ws[3];
         float d1 = ds[0];
         float d2 = ds[1];
         float d3 = ds[2];
         float d4 = ds[3];

         vec2 uv2 = uv.xy;

         vec3 blur =
           ( texture(uTexture, uv2 + vec2( d1 * texsize.z,0.0) ).xyz
           + texture(uTexture, uv2 + vec2(-d1 * texsize.z,0.0) ).xyz) * w1 +
           ( texture(uTexture, uv2 + vec2( d2 * texsize.z,0.0) ).xyz
           + texture(uTexture, uv2 + vec2(-d2 * texsize.z,0.0) ).xyz) * w2 +
           ( texture(uTexture, uv2 + vec2( d3 * texsize.z,0.0) ).xyz
           + texture(uTexture, uv2 + vec2(-d3 * texsize.z,0.0) ).xyz) * w3 +
           ( texture(uTexture, uv2 + vec2( d4 * texsize.z,0.0) ).xyz
           + texture(uTexture, uv2 + vec2(-d4 * texsize.z,0.0) ).xyz) * w4;

         blur.xyz *= wdiv;
         blur.xyz = blur.xyz * scale + bias;

         fragColor = vec4(blur, 1.0);
       }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.texsizeLocation=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.scaleLoc=this.gl.getUniformLocation(this.shaderProgram,"scale"),this.biasLoc=this.gl.getUniformLocation(this.shaderProgram,"bias"),this.wsLoc=this.gl.getUniformLocation(this.shaderProgram,"ws"),this.dsLocation=this.gl.getUniformLocation(this.shaderProgram,"ds"),this.wdivLoc=this.gl.getUniformLocation(this.shaderProgram,"wdiv")}},{key:"getScaleAndBias",value:function(h,p){var d=[1,1,1],x=[0,0,0],M,A;return d[0]=1/(p[0]-h[0]),x[0]=-h[0]*d[0],M=(h[1]-h[0])/(p[0]-h[0]),A=(p[1]-h[0])/(p[0]-h[0]),d[1]=1/(A-M),x[1]=-M*d[1],M=(h[2]-h[1])/(p[1]-h[1]),A=(p[2]-h[1])/(p[1]-h[1]),d[2]=1/(A-M),x[2]=-M*d[2],{scale:d[this.blurLevel],bias:x[this.blurLevel]}}},{key:"renderQuadTexture",value:function(h,p,d,x,M){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,h),this.gl.uniform1i(this.textureLoc,0);var A=this.getScaleAndBias(d,x),w=A.scale,E=A.bias;this.gl.uniform4fv(this.texsizeLocation,[M[0],M[1],1/M[0],1/M[1]]),this.gl.uniform1f(this.scaleLoc,w),this.gl.uniform1f(this.biasLoc,E),this.gl.uniform4fv(this.wsLoc,this.ws),this.gl.uniform4fv(this.dsLocation,this.ds),this.gl.uniform1f(this.wdivLoc,this.wDiv),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}]),m}()},"./src/rendering/shaders/blur/blurVertical.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c,h){i(this,m),this.gl=c,this.blurLevel=h;var p=[4,3.8,3.5,2.9,1.9,1.2,.7,.3],d=p[0]+p[1]+p[2]+p[3],x=p[4]+p[5]+p[6]+p[7],M=0+2*((p[2]+p[3])/d),A=2+2*((p[6]+p[7])/x);this.wds=new Float32Array([d,x,M,A]),this.wDiv=1/((d+x)*2),this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader()}return l(m,[{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
                                      const vec2 halfmad = vec2(0.5);
                                      in vec2 aPos;
                                      out vec2 uv;
                                      void main(void) {
                                        gl_Position = vec4(aPos, 0.0, 1.0);
                                        uv = aPos * halfmad + halfmad;
                                      }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
       precision `.concat(this.floatPrecision,` float;
       precision highp int;
       precision mediump sampler2D;

       in vec2 uv;
       out vec4 fragColor;
       uniform sampler2D uTexture;
       uniform vec4 texsize;
       uniform float ed1;
       uniform float ed2;
       uniform float ed3;
       uniform vec4 wds;
       uniform float wdiv;

       void main(void) {
         float w1 = wds[0];
         float w2 = wds[1];
         float d1 = wds[2];
         float d2 = wds[3];

         vec2 uv2 = uv.xy;

         vec3 blur =
           ( texture(uTexture, uv2 + vec2(0.0, d1 * texsize.w) ).xyz
           + texture(uTexture, uv2 + vec2(0.0,-d1 * texsize.w) ).xyz) * w1 +
           ( texture(uTexture, uv2 + vec2(0.0, d2 * texsize.w) ).xyz
           + texture(uTexture, uv2 + vec2(0.0,-d2 * texsize.w) ).xyz) * w2;

         blur.xyz *= wdiv;

         float t = min(min(uv.x, uv.y), 1.0 - max(uv.x, uv.y));
         t = sqrt(t);
         t = ed1 + ed2 * clamp(t * ed3, 0.0, 1.0);
         blur.xyz *= t;

         fragColor = vec4(blur, 1.0);
       }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.texsizeLocation=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.ed1Loc=this.gl.getUniformLocation(this.shaderProgram,"ed1"),this.ed2Loc=this.gl.getUniformLocation(this.shaderProgram,"ed2"),this.ed3Loc=this.gl.getUniformLocation(this.shaderProgram,"ed3"),this.wdsLocation=this.gl.getUniformLocation(this.shaderProgram,"wds"),this.wdivLoc=this.gl.getUniformLocation(this.shaderProgram,"wdiv")}},{key:"renderQuadTexture",value:function(h,p,d){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,h),this.gl.uniform1i(this.textureLoc,0);var x=this.blurLevel===0?p.b1ed:0;this.gl.uniform4fv(this.texsizeLocation,[d[0],d[1],1/d[0],1/d[1]]),this.gl.uniform1f(this.ed1Loc,1-x),this.gl.uniform1f(this.ed2Loc,x),this.gl.uniform1f(this.ed3Loc,5),this.gl.uniform4fv(this.wdsLocation,this.wds),this.gl.uniform1f(this.wdivLoc,this.wDiv),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}]),m}()},"./src/rendering/shaders/comp.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),h&&o(m,h),m}var u=function(){function m(c,h,p){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};i(this,m),this.gl=c,this.noise=h,this.image=p,this.mesh_width=d.mesh_width,this.mesh_height=d.mesh_height,this.texsizeX=d.texsizeX,this.texsizeY=d.texsizeY,this.aspectx=d.aspectx,this.aspecty=d.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.compWidth=32,this.compHeight=24,this.buildPositions(),this.indexBuf=c.createBuffer(),this.positionVertexBuf=this.gl.createBuffer(),this.compColorVertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.mainSampler=this.gl.createSampler(),this.mainSamplerFW=this.gl.createSampler(),this.mainSamplerFC=this.gl.createSampler(),this.mainSamplerPW=this.gl.createSampler(),this.mainSamplerPC=this.gl.createSampler(),c.samplerParameteri(this.mainSampler,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.samplerParameteri(this.mainSampler,c.TEXTURE_MAG_FILTER,c.LINEAR),c.samplerParameteri(this.mainSampler,c.TEXTURE_WRAP_S,c.REPEAT),c.samplerParameteri(this.mainSampler,c.TEXTURE_WRAP_T,c.REPEAT),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_MAG_FILTER,c.LINEAR),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_WRAP_S,c.REPEAT),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_WRAP_T,c.REPEAT),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_MAG_FILTER,c.LINEAR),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_MIN_FILTER,c.NEAREST_MIPMAP_NEAREST),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_MAG_FILTER,c.NEAREST),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_WRAP_S,c.REPEAT),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_WRAP_T,c.REPEAT),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_MIN_FILTER,c.NEAREST_MIPMAP_NEAREST),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_MAG_FILTER,c.NEAREST),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)}return l(m,[{key:"buildPositions",value:function(){for(var h=2,p=2,d=h/2,x=p/2,M=this.compWidth,A=this.compHeight,w=M+1,E=A+1,g=h/M,q=p/A,k=[],L=0;L<E;L++)for(var S=L*q-x,R=0;R<w;R++){var D=R*g-d;k.push(D,-S,0)}for(var B=[],N=0;N<A;N++)for(var Q=0;Q<M;Q++){var P=Q+w*N,U=Q+w*(N+1),$=Q+1+w*(N+1),J=Q+1+w*N;B.push(P,U,J),B.push(U,$,J)}this.vertices=new Float32Array(k),this.indices=new Uint16Array(B)}},{key:"updateGlobals",value:function(h){this.mesh_width=h.mesh_width,this.mesh_height=h.mesh_height,this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions()}},{key:"createShader",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p,d;if(h.length===0)p=`float orient_horiz = mod(echo_orientation, 2.0);
                        float orient_x = (orient_horiz != 0.0) ? -1.0 : 1.0;
                        float orient_y = (echo_orientation >= 2.0) ? -1.0 : 1.0;
                        vec2 uv_echo = ((uv - 0.5) *
                                        (1.0 / echo_zoom) *
                                        vec2(orient_x, orient_y)) + 0.5;

                        ret = mix(texture(sampler_main, uv).rgb,
                                  texture(sampler_main, uv_echo).rgb,
                                  echo_alpha);

                        ret *= gammaAdj;

                        if(fShader >= 1.0) {
                          ret *= hue_shader;
                        } else if(fShader > 0.001) {
                          ret *= (1.0 - fShader) + (fShader * hue_shader);
                        }

                        if(brighten != 0) ret = sqrt(ret);
                        if(darken != 0) ret = ret*ret;
                        if(solarize != 0) ret = ret * (1.0 - ret) * 4.0;
                        if(invert != 0) ret = 1.0 - ret;`,d="";else{var x=n.default.getShaderParts(h);d=x[0],p=x[1]}p=p.replace(/texture2D/g,"texture"),p=p.replace(/texture3D/g,"texture"),this.userTextures=n.default.getUserSamplers(d),this.shaderProgram=this.gl.createProgram();var M=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(M,`#version 300 es
                                      const vec2 halfmad = vec2(0.5);
                                      in vec2 aPos;
                                      in vec4 aCompColor;
                                      out vec2 vUv;
                                      out vec4 vColor;
                                      void main(void) {
                                        gl_Position = vec4(aPos, 0.0, 1.0);
                                        vUv = aPos * halfmad + halfmad;
                                        vColor = aCompColor;
                                      }`),this.gl.compileShader(M);var A=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(A,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      precision mediump sampler3D;

                                      vec3 lum(vec3 v){
                                          return vec3(dot(v, vec3(0.32,0.49,0.29)));
                                      }

                                      in vec2 vUv;
                                      in vec4 vColor;
                                      out vec4 fragColor;
                                      uniform sampler2D sampler_main;
                                      uniform sampler2D sampler_fw_main;
                                      uniform sampler2D sampler_fc_main;
                                      uniform sampler2D sampler_pw_main;
                                      uniform sampler2D sampler_pc_main;
                                      uniform sampler2D sampler_blur1;
                                      uniform sampler2D sampler_blur2;
                                      uniform sampler2D sampler_blur3;
                                      uniform sampler2D sampler_noise_lq;
                                      uniform sampler2D sampler_noise_lq_lite;
                                      uniform sampler2D sampler_noise_mq;
                                      uniform sampler2D sampler_noise_hq;
                                      uniform sampler2D sampler_pw_noise_lq;
                                      uniform sampler3D sampler_noisevol_lq;
                                      uniform sampler3D sampler_noisevol_hq;

                                      uniform float time;
                                      uniform float gammaAdj;
                                      uniform float echo_zoom;
                                      uniform float echo_alpha;
                                      uniform float echo_orientation;
                                      uniform int invert;
                                      uniform int brighten;
                                      uniform int darken;
                                      uniform int solarize;
                                      uniform vec2 resolution;
                                      uniform vec4 aspect;
                                      uniform vec4 texsize;
                                      uniform vec4 texsize_noise_lq;
                                      uniform vec4 texsize_noise_mq;
                                      uniform vec4 texsize_noise_hq;
                                      uniform vec4 texsize_noise_lq_lite;
                                      uniform vec4 texsize_noisevol_lq;
                                      uniform vec4 texsize_noisevol_hq;

                                      uniform float bass;
                                      uniform float mid;
                                      uniform float treb;
                                      uniform float vol;
                                      uniform float bass_att;
                                      uniform float mid_att;
                                      uniform float treb_att;
                                      uniform float vol_att;

                                      uniform float frame;
                                      uniform float fps;

                                      uniform vec4 _qa;
                                      uniform vec4 _qb;
                                      uniform vec4 _qc;
                                      uniform vec4 _qd;
                                      uniform vec4 _qe;
                                      uniform vec4 _qf;
                                      uniform vec4 _qg;
                                      uniform vec4 _qh;

                                      #define q1 _qa.x
                                      #define q2 _qa.y
                                      #define q3 _qa.z
                                      #define q4 _qa.w
                                      #define q5 _qb.x
                                      #define q6 _qb.y
                                      #define q7 _qb.z
                                      #define q8 _qb.w
                                      #define q9 _qc.x
                                      #define q10 _qc.y
                                      #define q11 _qc.z
                                      #define q12 _qc.w
                                      #define q13 _qd.x
                                      #define q14 _qd.y
                                      #define q15 _qd.z
                                      #define q16 _qd.w
                                      #define q17 _qe.x
                                      #define q18 _qe.y
                                      #define q19 _qe.z
                                      #define q20 _qe.w
                                      #define q21 _qf.x
                                      #define q22 _qf.y
                                      #define q23 _qf.z
                                      #define q24 _qf.w
                                      #define q25 _qg.x
                                      #define q26 _qg.y
                                      #define q27 _qg.z
                                      #define q28 _qg.w
                                      #define q29 _qh.x
                                      #define q30 _qh.y
                                      #define q31 _qh.z
                                      #define q32 _qh.w

                                      uniform vec4 slow_roam_cos;
                                      uniform vec4 roam_cos;
                                      uniform vec4 slow_roam_sin;
                                      uniform vec4 roam_sin;

                                      uniform float blur1_min;
                                      uniform float blur1_max;
                                      uniform float blur2_min;
                                      uniform float blur2_max;
                                      uniform float blur3_min;
                                      uniform float blur3_max;

                                      uniform float scale1;
                                      uniform float scale2;
                                      uniform float scale3;
                                      uniform float bias1;
                                      uniform float bias2;
                                      uniform float bias3;

                                      uniform vec4 rand_frame;
                                      uniform vec4 rand_preset;

                                      uniform float fShader;

                                      float PI = `).concat(Math.PI,`;

                                      `).concat(d,`

                                      void main(void) {
                                        vec3 ret;
                                        vec2 uv = vUv;
                                        vec2 uv_orig = vUv;
                                        uv.y = 1.0 - uv.y;
                                        uv_orig.y = 1.0 - uv_orig.y;
                                        float rad = length(uv - 0.5);
                                        float ang = atan(uv.x - 0.5, uv.y - 0.5);
                                        vec3 hue_shader = vColor.rgb;

                                        `).concat(p,`

                                        fragColor = vec4(ret, vColor.a);
                                      }`)),this.gl.compileShader(A),this.gl.attachShader(this.shaderProgram,M),this.gl.attachShader(this.shaderProgram,A),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.compColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aCompColor"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_main"),this.textureFWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fw_main"),this.textureFCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fc_main"),this.texturePWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_main"),this.texturePCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pc_main"),this.blurTexture1Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur1"),this.blurTexture2Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur2"),this.blurTexture3Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur3"),this.noiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq"),this.noiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_mq"),this.noiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_hq"),this.noiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq_lite"),this.noisePointLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_noise_lq"),this.noiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_lq"),this.noiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_hq"),this.timeLoc=this.gl.getUniformLocation(this.shaderProgram,"time"),this.gammaAdjLoc=this.gl.getUniformLocation(this.shaderProgram,"gammaAdj"),this.echoZoomLoc=this.gl.getUniformLocation(this.shaderProgram,"echo_zoom"),this.echoAlphaLoc=this.gl.getUniformLocation(this.shaderProgram,"echo_alpha"),this.echoOrientationLoc=this.gl.getUniformLocation(this.shaderProgram,"echo_orientation"),this.invertLoc=this.gl.getUniformLocation(this.shaderProgram,"invert"),this.brightenLoc=this.gl.getUniformLocation(this.shaderProgram,"brighten"),this.darkenLoc=this.gl.getUniformLocation(this.shaderProgram,"darken"),this.solarizeLoc=this.gl.getUniformLocation(this.shaderProgram,"solarize"),this.texsizeLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.texsizeNoiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq"),this.texsizeNoiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_mq"),this.texsizeNoiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_hq"),this.texsizeNoiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq_lite"),this.texsizeNoiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_lq"),this.texsizeNoiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_hq"),this.resolutionLoc=this.gl.getUniformLocation(this.shaderProgram,"resolution"),this.aspectLoc=this.gl.getUniformLocation(this.shaderProgram,"aspect"),this.bassLoc=this.gl.getUniformLocation(this.shaderProgram,"bass"),this.midLoc=this.gl.getUniformLocation(this.shaderProgram,"mid"),this.trebLoc=this.gl.getUniformLocation(this.shaderProgram,"treb"),this.volLoc=this.gl.getUniformLocation(this.shaderProgram,"vol"),this.bassAttLoc=this.gl.getUniformLocation(this.shaderProgram,"bass_att"),this.midAttLoc=this.gl.getUniformLocation(this.shaderProgram,"mid_att"),this.trebAttLoc=this.gl.getUniformLocation(this.shaderProgram,"treb_att"),this.volAttLoc=this.gl.getUniformLocation(this.shaderProgram,"vol_att"),this.frameLoc=this.gl.getUniformLocation(this.shaderProgram,"frame"),this.fpsLoc=this.gl.getUniformLocation(this.shaderProgram,"fps"),this.blur1MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_min"),this.blur1MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_max"),this.blur2MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_min"),this.blur2MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_max"),this.blur3MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_min"),this.blur3MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_max"),this.scale1Loc=this.gl.getUniformLocation(this.shaderProgram,"scale1"),this.scale2Loc=this.gl.getUniformLocation(this.shaderProgram,"scale2"),this.scale3Loc=this.gl.getUniformLocation(this.shaderProgram,"scale3"),this.bias1Loc=this.gl.getUniformLocation(this.shaderProgram,"bias1"),this.bias2Loc=this.gl.getUniformLocation(this.shaderProgram,"bias2"),this.bias3Loc=this.gl.getUniformLocation(this.shaderProgram,"bias3"),this.randPresetLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_preset"),this.randFrameLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_frame"),this.fShaderLoc=this.gl.getUniformLocation(this.shaderProgram,"fShader"),this.qaLoc=this.gl.getUniformLocation(this.shaderProgram,"_qa"),this.qbLoc=this.gl.getUniformLocation(this.shaderProgram,"_qb"),this.qcLoc=this.gl.getUniformLocation(this.shaderProgram,"_qc"),this.qdLoc=this.gl.getUniformLocation(this.shaderProgram,"_qd"),this.qeLoc=this.gl.getUniformLocation(this.shaderProgram,"_qe"),this.qfLoc=this.gl.getUniformLocation(this.shaderProgram,"_qf"),this.qgLoc=this.gl.getUniformLocation(this.shaderProgram,"_qg"),this.qhLoc=this.gl.getUniformLocation(this.shaderProgram,"_qh"),this.slowRoamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_cos"),this.roamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_cos"),this.slowRoamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_sin"),this.roamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_sin");for(var w=0;w<this.userTextures.length;w++){var E=this.userTextures[w];E.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_".concat(E.sampler))}}},{key:"updateShader",value:function(h){this.createShader(h)}},{key:"bindBlurVals",value:function(h,p){var d=h[0],x=h[1],M=h[2],A=p[0],w=p[1],E=p[2],g=A-d,q=d,k=w-x,L=x,S=E-M,R=M;this.gl.uniform1f(this.blur1MinLoc,d),this.gl.uniform1f(this.blur1MaxLoc,A),this.gl.uniform1f(this.blur2MinLoc,x),this.gl.uniform1f(this.blur2MaxLoc,w),this.gl.uniform1f(this.blur3MinLoc,M),this.gl.uniform1f(this.blur3MaxLoc,E),this.gl.uniform1f(this.scale1Loc,g),this.gl.uniform1f(this.scale2Loc,k),this.gl.uniform1f(this.scale3Loc,S),this.gl.uniform1f(this.bias1Loc,q),this.gl.uniform1f(this.bias2Loc,L),this.gl.uniform1f(this.bias3Loc,R)}},{key:"generateCompColors",value:function(h,p,d){for(var x=m.generateHueBase(p),M=this.compWidth+1,A=this.compHeight+1,w=new Float32Array(M*A*4),E=0,g=0;g<A;g++)for(var q=0;q<M;q++){for(var k=q/this.compWidth,L=g/this.compHeight,S=[1,1,1],R=0;R<3;R++)S[R]=x[0+R]*k*L+x[3+R]*(1-k)*L+x[6+R]*k*(1-L)+x[9+R]*(1-k)*(1-L);var D=1;if(h){k*=this.mesh_width+1,L*=this.mesh_height+1,k=Math.clamp(k,0,this.mesh_width-1),L=Math.clamp(L,0,this.mesh_height-1);var B=Math.floor(k),N=Math.floor(L),Q=k-B,P=L-N,U=d[(N*(this.mesh_width+1)+B)*4+3],$=d[(N*(this.mesh_width+1)+(B+1))*4+3],J=d[((N+1)*(this.mesh_width+1)+B)*4+3],me=d[((N+1)*(this.mesh_width+1)+(B+1))*4+3];D=U*(1-Q)*(1-P)+$*Q*(1-P)+J*(1-Q)*P+me*Q*P}w[E+0]=S[0],w[E+1]=S[1],w[E+2]=S[2],w[E+3]=D,E+=4}return w}},{key:"renderQuadTexture",value:function(h,p,d,x,M,A,w,E,g){var q=this.generateCompColors(h,E,g);this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuf),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.indices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertices,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.compColorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,q,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.compColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.compColorLocation);var k=E.wrap!==0?this.gl.REPEAT:this.gl.CLAMP_TO_EDGE;this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_S,k),this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_T,k),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(0,this.mainSampler),this.gl.uniform1i(this.textureLoc,0),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(1,this.mainSamplerFW),this.gl.uniform1i(this.textureFWLoc,1),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(2,this.mainSamplerFC),this.gl.uniform1i(this.textureFCLoc,2),this.gl.activeTexture(this.gl.TEXTURE3),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(3,this.mainSamplerPW),this.gl.uniform1i(this.texturePWLoc,3),this.gl.activeTexture(this.gl.TEXTURE4),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(4,this.mainSamplerPC),this.gl.uniform1i(this.texturePCLoc,4),this.gl.activeTexture(this.gl.TEXTURE5),this.gl.bindTexture(this.gl.TEXTURE_2D,d),this.gl.uniform1i(this.blurTexture1Loc,5),this.gl.activeTexture(this.gl.TEXTURE6),this.gl.bindTexture(this.gl.TEXTURE_2D,x),this.gl.uniform1i(this.blurTexture2Loc,6),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_2D,M),this.gl.uniform1i(this.blurTexture3Loc,7),this.gl.activeTexture(this.gl.TEXTURE8),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.uniform1i(this.noiseLQLoc,8),this.gl.activeTexture(this.gl.TEXTURE9),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexMQ),this.gl.uniform1i(this.noiseMQLoc,9),this.gl.activeTexture(this.gl.TEXTURE10),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexHQ),this.gl.uniform1i(this.noiseHQLoc,10),this.gl.activeTexture(this.gl.TEXTURE11),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQLite),this.gl.uniform1i(this.noiseLQLiteLoc,11),this.gl.activeTexture(this.gl.TEXTURE12),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.bindSampler(12,this.noise.noiseTexPointLQ),this.gl.uniform1i(this.noisePointLQLoc,12),this.gl.activeTexture(this.gl.TEXTURE13),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolLQ),this.gl.uniform1i(this.noiseVolLQLoc,13),this.gl.activeTexture(this.gl.TEXTURE14),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolHQ),this.gl.uniform1i(this.noiseVolHQLoc,14);for(var L=0;L<this.userTextures.length;L++){var S=this.userTextures[L];this.gl.activeTexture(this.gl.TEXTURE15+L),this.gl.bindTexture(this.gl.TEXTURE_2D,this.image.getTexture(S.sampler)),this.gl.uniform1i(S.textureLoc,15+L)}this.gl.uniform1f(this.timeLoc,E.time),this.gl.uniform1f(this.gammaAdjLoc,E.gammaadj),this.gl.uniform1f(this.echoZoomLoc,E.echo_zoom),this.gl.uniform1f(this.echoAlphaLoc,E.echo_alpha),this.gl.uniform1f(this.echoOrientationLoc,E.echo_orient),this.gl.uniform1i(this.invertLoc,E.invert),this.gl.uniform1i(this.brightenLoc,E.brighten),this.gl.uniform1i(this.darkenLoc,E.darken),this.gl.uniform1i(this.solarizeLoc,E.solarize),this.gl.uniform2fv(this.resolutionLoc,[this.texsizeX,this.texsizeY]),this.gl.uniform4fv(this.aspectLoc,[this.aspectx,this.aspecty,this.invAspectx,this.invAspecty]),this.gl.uniform4fv(this.texsizeLoc,new Float32Array([this.texsizeX,this.texsizeY,1/this.texsizeX,1/this.texsizeY])),this.gl.uniform4fv(this.texsizeNoiseLQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseMQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseHQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolLQLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolHQLoc,[32,32,1/32,1/32]),this.gl.uniform1f(this.bassLoc,E.bass),this.gl.uniform1f(this.midLoc,E.mid),this.gl.uniform1f(this.trebLoc,E.treb),this.gl.uniform1f(this.volLoc,(E.bass+E.mid+E.treb)/3),this.gl.uniform1f(this.bassAttLoc,E.bass_att),this.gl.uniform1f(this.midAttLoc,E.mid_att),this.gl.uniform1f(this.trebAttLoc,E.treb_att),this.gl.uniform1f(this.volAttLoc,(E.bass_att+E.mid_att+E.treb_att)/3),this.gl.uniform1f(this.frameLoc,E.frame),this.gl.uniform1f(this.fpsLoc,E.fps),this.gl.uniform4fv(this.randPresetLoc,E.rand_preset),this.gl.uniform4fv(this.randFrameLoc,new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()])),this.gl.uniform1f(this.fShaderLoc,E.fshader),this.gl.uniform4fv(this.qaLoc,new Float32Array([E.q1||0,E.q2||0,E.q3||0,E.q4||0])),this.gl.uniform4fv(this.qbLoc,new Float32Array([E.q5||0,E.q6||0,E.q7||0,E.q8||0])),this.gl.uniform4fv(this.qcLoc,new Float32Array([E.q9||0,E.q10||0,E.q11||0,E.q12||0])),this.gl.uniform4fv(this.qdLoc,new Float32Array([E.q13||0,E.q14||0,E.q15||0,E.q16||0])),this.gl.uniform4fv(this.qeLoc,new Float32Array([E.q17||0,E.q18||0,E.q19||0,E.q20||0])),this.gl.uniform4fv(this.qfLoc,new Float32Array([E.q21||0,E.q22||0,E.q23||0,E.q24||0])),this.gl.uniform4fv(this.qgLoc,new Float32Array([E.q25||0,E.q26||0,E.q27||0,E.q28||0])),this.gl.uniform4fv(this.qhLoc,new Float32Array([E.q29||0,E.q30||0,E.q31||0,E.q32||0])),this.gl.uniform4fv(this.slowRoamCosLoc,[.5+.5*Math.cos(E.time*.005),.5+.5*Math.cos(E.time*.008),.5+.5*Math.cos(E.time*.013),.5+.5*Math.cos(E.time*.022)]),this.gl.uniform4fv(this.roamCosLoc,[.5+.5*Math.cos(E.time*.3),.5+.5*Math.cos(E.time*1.3),.5+.5*Math.cos(E.time*5),.5+.5*Math.cos(E.time*20)]),this.gl.uniform4fv(this.slowRoamSinLoc,[.5+.5*Math.sin(E.time*.005),.5+.5*Math.sin(E.time*.008),.5+.5*Math.sin(E.time*.013),.5+.5*Math.sin(E.time*.022)]),this.gl.uniform4fv(this.roamSinLoc,[.5+.5*Math.sin(E.time*.3),.5+.5*Math.sin(E.time*1.3),.5+.5*Math.sin(E.time*5),.5+.5*Math.sin(E.time*20)]),this.bindBlurVals(A,w),h?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.disable(this.gl.BLEND),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0),h||this.gl.enable(this.gl.BLEND)}}],[{key:"generateHueBase",value:function(h){for(var p=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1]),d=0;d<4;d++){p[d*3+0]=.6+.3*Math.sin(h.time*30*.0143+3+d*21+h.rand_start[3]),p[d*3+1]=.6+.3*Math.sin(h.time*30*.0107+1+d*13+h.rand_start[1]),p[d*3+2]=.6+.3*Math.sin(h.time*30*.0129+6+d*9+h.rand_start[2]);for(var x=Math.max(p[d*3],p[d*3+1],p[d*3+2]),M=0;M<3;M++)p[d*3+M]=p[d*3+M]/x,p[d*3+M]=.5+.5*p[d*3+M]}return p}}]),m}()},"./src/rendering/shaders/output.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c,h){i(this,m),this.gl=c,this.textureRatio=h.textureRatio,this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.useFXAA()?this.createFXAAShader():this.createShader()}return l(m,[{key:"useFXAA",value:function(){return this.textureRatio<=1}},{key:"updateGlobals",value:function(h){this.textureRatio=h.textureRatio,this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.gl.deleteProgram(this.shaderProgram),this.useFXAA()?this.createFXAAShader():this.createShader()}},{key:"createFXAAShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
       const vec2 halfmad = vec2(0.5);
       in vec2 aPos;
       out vec2 v_rgbM;
       out vec2 v_rgbNW;
       out vec2 v_rgbNE;
       out vec2 v_rgbSW;
       out vec2 v_rgbSE;
       uniform vec4 texsize;
       void main(void) {
         gl_Position = vec4(aPos, 0.0, 1.0);

         v_rgbM = aPos * halfmad + halfmad;
         v_rgbNW = v_rgbM + (vec2(-1.0, -1.0) * texsize.zx);
         v_rgbNE = v_rgbM + (vec2(1.0, -1.0) * texsize.zx);
         v_rgbSW = v_rgbM + (vec2(-1.0, 1.0) * texsize.zx);
         v_rgbSE = v_rgbM + (vec2(1.0, 1.0) * texsize.zx);
       }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
       precision `.concat(this.floatPrecision,` float;
       precision highp int;
       precision mediump sampler2D;

       in vec2 v_rgbM;
       in vec2 v_rgbNW;
       in vec2 v_rgbNE;
       in vec2 v_rgbSW;
       in vec2 v_rgbSE;
       out vec4 fragColor;
       uniform vec4 texsize;
       uniform sampler2D uTexture;

       #ifndef FXAA_REDUCE_MIN
         #define FXAA_REDUCE_MIN   (1.0/ 128.0)
       #endif
       #ifndef FXAA_REDUCE_MUL
         #define FXAA_REDUCE_MUL   (1.0 / 8.0)
       #endif
       #ifndef FXAA_SPAN_MAX
         #define FXAA_SPAN_MAX     8.0
       #endif

       void main(void) {
         vec4 color;
         vec3 rgbNW = textureLod(uTexture, v_rgbNW, 0.0).xyz;
         vec3 rgbNE = textureLod(uTexture, v_rgbNE, 0.0).xyz;
         vec3 rgbSW = textureLod(uTexture, v_rgbSW, 0.0).xyz;
         vec3 rgbSE = textureLod(uTexture, v_rgbSE, 0.0).xyz;
         vec3 rgbM  = textureLod(uTexture, v_rgbM, 0.0).xyz;
         vec3 luma = vec3(0.299, 0.587, 0.114);
         float lumaNW = dot(rgbNW, luma);
         float lumaNE = dot(rgbNE, luma);
         float lumaSW = dot(rgbSW, luma);
         float lumaSE = dot(rgbSE, luma);
         float lumaM  = dot(rgbM,  luma);
         float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
         float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

         mediump vec2 dir;
         dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
         dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

         float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                               (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

         float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
         dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
                   max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                   dir * rcpDirMin)) * texsize.zw;

         vec3 rgbA = 0.5 * (
             textureLod(uTexture, v_rgbM + dir * (1.0 / 3.0 - 0.5), 0.0).xyz +
             textureLod(uTexture, v_rgbM + dir * (2.0 / 3.0 - 0.5), 0.0).xyz);
         vec3 rgbB = rgbA * 0.5 + 0.25 * (
             textureLod(uTexture, v_rgbM + dir * -0.5, 0.0).xyz +
             textureLod(uTexture, v_rgbM + dir * 0.5, 0.0).xyz);

         float lumaB = dot(rgbB, luma);
         if ((lumaB < lumaMin) || (lumaB > lumaMax))
           color = vec4(rgbA, 1.0);
         else
           color = vec4(rgbB, 1.0);

         fragColor = color;
       }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.texsizeLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize")}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
       const vec2 halfmad = vec2(0.5);
       in vec2 aPos;
       out vec2 uv;
       void main(void) {
         gl_Position = vec4(aPos, 0.0, 1.0);
         uv = aPos * halfmad + halfmad;
       }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
       precision `.concat(this.floatPrecision,` float;
       precision highp int;
       precision mediump sampler2D;

       in vec2 uv;
       out vec4 fragColor;
       uniform sampler2D uTexture;

       void main(void) {
         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);
       }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture")}},{key:"renderQuadTexture",value:function(h){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,h),this.gl.uniform1i(this.textureLoc,0),this.useFXAA()&&this.gl.uniform4fv(this.texsizeLoc,new Float32Array([this.texsizeX,this.texsizeY,1/this.texsizeX,1/this.texsizeY])),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}]),m}()},"./src/rendering/shaders/resample.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c){i(this,m),this.gl=c,this.positions=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.vertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader()}return l(m,[{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
       const vec2 halfmad = vec2(0.5);
       in vec2 aPos;
       out vec2 uv;
       void main(void) {
         gl_Position = vec4(aPos, 0.0, 1.0);
         uv = aPos * halfmad + halfmad;
       }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
       precision `.concat(this.floatPrecision,` float;
       precision highp int;
       precision mediump sampler2D;

       in vec2 uv;
       out vec4 fragColor;
       uniform sampler2D uTexture;

       void main(void) {
         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);
       }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture")}},{key:"renderQuadTexture",value:function(h){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,h),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.uniform1i(this.textureLoc,0),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}]),m}()},"./src/rendering/shaders/shaderUtils.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return m});function n(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function i(c,h){for(var p=0;p<h.length;p++){var d=h[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function o(c,h,p){return p&&i(c,p),c}var l=/uniform sampler2D sampler_(?:.+?);/g,u=/uniform sampler2D sampler_(.+?);/,m=function(){function c(){n(this,c)}return o(c,null,[{key:"getShaderParts",value:function(p){var d=p.indexOf("shader_body");if(p&&d>-1){var x=p.substring(0,d),M=p.substring(d),A=M.indexOf("{"),w=M.lastIndexOf("}"),E=M.substring(A+1,w);return[x,E]}return["",p]}},{key:"getFragmentFloatPrecision",value:function(p){return p.getShaderPrecisionFormat(p.FRAGMENT_SHADER,p.HIGH_FLOAT).precision>0?"highp":p.getShaderPrecisionFormat(p.FRAGMENT_SHADER,p.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}},{key:"getUserSamplers",value:function(p){var d=[],x=p.match(l);if(x&&x.length>0)for(var M=0;M<x.length;M++){var A=x[M].match(u);if(A&&A.length>0){var w=A[1];d.push({sampler:w})}}return d}}]),c}()},"./src/rendering/shaders/warp.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c,h,p){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};i(this,m),this.gl=c,this.noise=h,this.image=p,this.texsizeX=d.texsizeX,this.texsizeY=d.texsizeY,this.mesh_width=d.mesh_width,this.mesh_height=d.mesh_height,this.aspectx=d.aspectx,this.aspecty=d.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions(),this.indexBuf=c.createBuffer(),this.positionVertexBuf=this.gl.createBuffer(),this.warpUvVertexBuf=this.gl.createBuffer(),this.warpColorVertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.mainSampler=this.gl.createSampler(),this.mainSamplerFW=this.gl.createSampler(),this.mainSamplerFC=this.gl.createSampler(),this.mainSamplerPW=this.gl.createSampler(),this.mainSamplerPC=this.gl.createSampler(),c.samplerParameteri(this.mainSampler,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.samplerParameteri(this.mainSampler,c.TEXTURE_MAG_FILTER,c.LINEAR),c.samplerParameteri(this.mainSampler,c.TEXTURE_WRAP_S,c.REPEAT),c.samplerParameteri(this.mainSampler,c.TEXTURE_WRAP_T,c.REPEAT),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_MAG_FILTER,c.LINEAR),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_WRAP_S,c.REPEAT),c.samplerParameteri(this.mainSamplerFW,c.TEXTURE_WRAP_T,c.REPEAT),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_MAG_FILTER,c.LINEAR),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.samplerParameteri(this.mainSamplerFC,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_MIN_FILTER,c.NEAREST_MIPMAP_NEAREST),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_MAG_FILTER,c.NEAREST),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_WRAP_S,c.REPEAT),c.samplerParameteri(this.mainSamplerPW,c.TEXTURE_WRAP_T,c.REPEAT),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_MIN_FILTER,c.NEAREST_MIPMAP_NEAREST),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_MAG_FILTER,c.NEAREST),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.samplerParameteri(this.mainSamplerPC,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)}return l(m,[{key:"buildPositions",value:function(){for(var h=2,p=2,d=h/2,x=p/2,M=this.mesh_width,A=this.mesh_height,w=M+1,E=A+1,g=h/M,q=p/A,k=[],L=0;L<E;L++)for(var S=L*q-x,R=0;R<w;R++){var D=R*g-d;k.push(D,-S,0)}for(var B=[],N=0;N<A;N++)for(var Q=0;Q<M;Q++){var P=Q+w*N,U=Q+w*(N+1),$=Q+1+w*(N+1),J=Q+1+w*N;B.push(P,U,J),B.push(U,$,J)}this.vertices=new Float32Array(k),this.indices=new Uint16Array(B)}},{key:"updateGlobals",value:function(h){this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.mesh_width=h.mesh_width,this.mesh_height=h.mesh_height,this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions()}},{key:"createShader",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p,d;if(h.length===0)p="ret = texture(sampler_main, uv).rgb * decay;",d="";else{var x=n.default.getShaderParts(h);d=x[0],p=x[1]}p=p.replace(/texture2D/g,"texture"),p=p.replace(/texture3D/g,"texture"),this.userTextures=n.default.getUserSamplers(d),this.shaderProgram=this.gl.createProgram();var M=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(M,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      const vec2 halfmad = vec2(0.5);
                                      in vec2 aPos;
                                      in vec2 aWarpUv;
                                      in vec4 aWarpColor;
                                      out vec2 uv;
                                      out vec2 uv_orig;
                                      out vec4 vColor;
                                      void main(void) {
                                        gl_Position = vec4(aPos, 0.0, 1.0);
                                        uv_orig = aPos * halfmad + halfmad;
                                        uv = aWarpUv;
                                        vColor = aWarpColor;
                                      }`)),this.gl.compileShader(M);var A=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(A,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      precision mediump sampler3D;

                                      in vec2 uv;
                                      in vec2 uv_orig;
                                      in vec4 vColor;
                                      out vec4 fragColor;
                                      uniform sampler2D sampler_main;
                                      uniform sampler2D sampler_fw_main;
                                      uniform sampler2D sampler_fc_main;
                                      uniform sampler2D sampler_pw_main;
                                      uniform sampler2D sampler_pc_main;
                                      uniform sampler2D sampler_blur1;
                                      uniform sampler2D sampler_blur2;
                                      uniform sampler2D sampler_blur3;
                                      uniform sampler2D sampler_noise_lq;
                                      uniform sampler2D sampler_noise_lq_lite;
                                      uniform sampler2D sampler_noise_mq;
                                      uniform sampler2D sampler_noise_hq;
                                      uniform sampler2D sampler_pw_noise_lq;
                                      uniform sampler3D sampler_noisevol_lq;
                                      uniform sampler3D sampler_noisevol_hq;
                                      uniform float time;
                                      uniform float decay;
                                      uniform vec2 resolution;
                                      uniform vec4 aspect;
                                      uniform vec4 texsize;
                                      uniform vec4 texsize_noise_lq;
                                      uniform vec4 texsize_noise_mq;
                                      uniform vec4 texsize_noise_hq;
                                      uniform vec4 texsize_noise_lq_lite;
                                      uniform vec4 texsize_noisevol_lq;
                                      uniform vec4 texsize_noisevol_hq;

                                      uniform float bass;
                                      uniform float mid;
                                      uniform float treb;
                                      uniform float vol;
                                      uniform float bass_att;
                                      uniform float mid_att;
                                      uniform float treb_att;
                                      uniform float vol_att;

                                      uniform float frame;
                                      uniform float fps;

                                      uniform vec4 _qa;
                                      uniform vec4 _qb;
                                      uniform vec4 _qc;
                                      uniform vec4 _qd;
                                      uniform vec4 _qe;
                                      uniform vec4 _qf;
                                      uniform vec4 _qg;
                                      uniform vec4 _qh;

                                      #define q1 _qa.x
                                      #define q2 _qa.y
                                      #define q3 _qa.z
                                      #define q4 _qa.w
                                      #define q5 _qb.x
                                      #define q6 _qb.y
                                      #define q7 _qb.z
                                      #define q8 _qb.w
                                      #define q9 _qc.x
                                      #define q10 _qc.y
                                      #define q11 _qc.z
                                      #define q12 _qc.w
                                      #define q13 _qd.x
                                      #define q14 _qd.y
                                      #define q15 _qd.z
                                      #define q16 _qd.w
                                      #define q17 _qe.x
                                      #define q18 _qe.y
                                      #define q19 _qe.z
                                      #define q20 _qe.w
                                      #define q21 _qf.x
                                      #define q22 _qf.y
                                      #define q23 _qf.z
                                      #define q24 _qf.w
                                      #define q25 _qg.x
                                      #define q26 _qg.y
                                      #define q27 _qg.z
                                      #define q28 _qg.w
                                      #define q29 _qh.x
                                      #define q30 _qh.y
                                      #define q31 _qh.z
                                      #define q32 _qh.w

                                      uniform vec4 slow_roam_cos;
                                      uniform vec4 roam_cos;
                                      uniform vec4 slow_roam_sin;
                                      uniform vec4 roam_sin;

                                      uniform float blur1_min;
                                      uniform float blur1_max;
                                      uniform float blur2_min;
                                      uniform float blur2_max;
                                      uniform float blur3_min;
                                      uniform float blur3_max;

                                      uniform float scale1;
                                      uniform float scale2;
                                      uniform float scale3;
                                      uniform float bias1;
                                      uniform float bias2;
                                      uniform float bias3;

                                      uniform vec4 rand_frame;
                                      uniform vec4 rand_preset;

                                      float PI = `).concat(Math.PI,`;

                                      `).concat(d,`

                                      void main(void) {
                                        vec3 ret;
                                        float rad = length(uv_orig - 0.5);
                                        float ang = atan(uv_orig.x - 0.5, uv_orig.y - 0.5);

                                        `).concat(p,`

                                        fragColor = vec4(ret, 1.0) * vColor;
                                      }`)),this.gl.compileShader(A),this.gl.attachShader(this.shaderProgram,M),this.gl.attachShader(this.shaderProgram,A),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.warpUvLocation=this.gl.getAttribLocation(this.shaderProgram,"aWarpUv"),this.warpColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aWarpColor"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_main"),this.textureFWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fw_main"),this.textureFCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_fc_main"),this.texturePWLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_main"),this.texturePCLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pc_main"),this.blurTexture1Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur1"),this.blurTexture2Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur2"),this.blurTexture3Loc=this.gl.getUniformLocation(this.shaderProgram,"sampler_blur3"),this.noiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq"),this.noiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_mq"),this.noiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_hq"),this.noiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noise_lq_lite"),this.noisePointLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_pw_noise_lq"),this.noiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_lq"),this.noiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_noisevol_hq"),this.decayLoc=this.gl.getUniformLocation(this.shaderProgram,"decay"),this.texsizeLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize"),this.texsizeNoiseLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq"),this.texsizeNoiseMQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_mq"),this.texsizeNoiseHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_hq"),this.texsizeNoiseLQLiteLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noise_lq_lite"),this.texsizeNoiseVolLQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_lq"),this.texsizeNoiseVolHQLoc=this.gl.getUniformLocation(this.shaderProgram,"texsize_noisevol_hq"),this.resolutionLoc=this.gl.getUniformLocation(this.shaderProgram,"resolution"),this.aspectLoc=this.gl.getUniformLocation(this.shaderProgram,"aspect"),this.bassLoc=this.gl.getUniformLocation(this.shaderProgram,"bass"),this.midLoc=this.gl.getUniformLocation(this.shaderProgram,"mid"),this.trebLoc=this.gl.getUniformLocation(this.shaderProgram,"treb"),this.volLoc=this.gl.getUniformLocation(this.shaderProgram,"vol"),this.bassAttLoc=this.gl.getUniformLocation(this.shaderProgram,"bass_att"),this.midAttLoc=this.gl.getUniformLocation(this.shaderProgram,"mid_att"),this.trebAttLoc=this.gl.getUniformLocation(this.shaderProgram,"treb_att"),this.volAttLoc=this.gl.getUniformLocation(this.shaderProgram,"vol_att"),this.timeLoc=this.gl.getUniformLocation(this.shaderProgram,"time"),this.frameLoc=this.gl.getUniformLocation(this.shaderProgram,"frame"),this.fpsLoc=this.gl.getUniformLocation(this.shaderProgram,"fps"),this.blur1MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_min"),this.blur1MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur1_max"),this.blur2MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_min"),this.blur2MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur2_max"),this.blur3MinLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_min"),this.blur3MaxLoc=this.gl.getUniformLocation(this.shaderProgram,"blur3_max"),this.scale1Loc=this.gl.getUniformLocation(this.shaderProgram,"scale1"),this.scale2Loc=this.gl.getUniformLocation(this.shaderProgram,"scale2"),this.scale3Loc=this.gl.getUniformLocation(this.shaderProgram,"scale3"),this.bias1Loc=this.gl.getUniformLocation(this.shaderProgram,"bias1"),this.bias2Loc=this.gl.getUniformLocation(this.shaderProgram,"bias2"),this.bias3Loc=this.gl.getUniformLocation(this.shaderProgram,"bias3"),this.randPresetLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_preset"),this.randFrameLoc=this.gl.getUniformLocation(this.shaderProgram,"rand_frame"),this.qaLoc=this.gl.getUniformLocation(this.shaderProgram,"_qa"),this.qbLoc=this.gl.getUniformLocation(this.shaderProgram,"_qb"),this.qcLoc=this.gl.getUniformLocation(this.shaderProgram,"_qc"),this.qdLoc=this.gl.getUniformLocation(this.shaderProgram,"_qd"),this.qeLoc=this.gl.getUniformLocation(this.shaderProgram,"_qe"),this.qfLoc=this.gl.getUniformLocation(this.shaderProgram,"_qf"),this.qgLoc=this.gl.getUniformLocation(this.shaderProgram,"_qg"),this.qhLoc=this.gl.getUniformLocation(this.shaderProgram,"_qh"),this.slowRoamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_cos"),this.roamCosLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_cos"),this.slowRoamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"slow_roam_sin"),this.roamSinLoc=this.gl.getUniformLocation(this.shaderProgram,"roam_sin");for(var w=0;w<this.userTextures.length;w++){var E=this.userTextures[w];E.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"sampler_".concat(E.sampler))}}},{key:"updateShader",value:function(h){this.createShader(h)}},{key:"bindBlurVals",value:function(h,p){var d=h[0],x=h[1],M=h[2],A=p[0],w=p[1],E=p[2],g=A-d,q=d,k=w-x,L=x,S=E-M,R=M;this.gl.uniform1f(this.blur1MinLoc,d),this.gl.uniform1f(this.blur1MaxLoc,A),this.gl.uniform1f(this.blur2MinLoc,x),this.gl.uniform1f(this.blur2MaxLoc,w),this.gl.uniform1f(this.blur3MinLoc,M),this.gl.uniform1f(this.blur3MaxLoc,E),this.gl.uniform1f(this.scale1Loc,g),this.gl.uniform1f(this.scale2Loc,k),this.gl.uniform1f(this.scale3Loc,S),this.gl.uniform1f(this.bias1Loc,q),this.gl.uniform1f(this.bias2Loc,L),this.gl.uniform1f(this.bias3Loc,R)}},{key:"renderQuadTexture",value:function(h,p,d,x,M,A,w,E,g,q){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuf),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.indices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertices,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.warpUvVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,g,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.warpUvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.warpUvLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.warpColorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,q,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.warpColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.warpColorLocation);var k=E.wrap!==0?this.gl.REPEAT:this.gl.CLAMP_TO_EDGE;this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_S,k),this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_T,k),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(0,this.mainSampler),this.gl.uniform1i(this.textureLoc,0),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(1,this.mainSamplerFW),this.gl.uniform1i(this.textureFWLoc,1),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(2,this.mainSamplerFC),this.gl.uniform1i(this.textureFCLoc,2),this.gl.activeTexture(this.gl.TEXTURE3),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(3,this.mainSamplerPW),this.gl.uniform1i(this.texturePWLoc,3),this.gl.activeTexture(this.gl.TEXTURE4),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(4,this.mainSamplerPC),this.gl.uniform1i(this.texturePCLoc,4),this.gl.activeTexture(this.gl.TEXTURE5),this.gl.bindTexture(this.gl.TEXTURE_2D,d),this.gl.uniform1i(this.blurTexture1Loc,5),this.gl.activeTexture(this.gl.TEXTURE6),this.gl.bindTexture(this.gl.TEXTURE_2D,x),this.gl.uniform1i(this.blurTexture2Loc,6),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_2D,M),this.gl.uniform1i(this.blurTexture3Loc,7),this.gl.activeTexture(this.gl.TEXTURE8),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.uniform1i(this.noiseLQLoc,8),this.gl.activeTexture(this.gl.TEXTURE9),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexMQ),this.gl.uniform1i(this.noiseMQLoc,9),this.gl.activeTexture(this.gl.TEXTURE10),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexHQ),this.gl.uniform1i(this.noiseHQLoc,10),this.gl.activeTexture(this.gl.TEXTURE11),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQLite),this.gl.uniform1i(this.noiseLQLiteLoc,11),this.gl.activeTexture(this.gl.TEXTURE12),this.gl.bindTexture(this.gl.TEXTURE_2D,this.noise.noiseTexLQ),this.gl.bindSampler(12,this.noise.noiseTexPointLQ),this.gl.uniform1i(this.noisePointLQLoc,12),this.gl.activeTexture(this.gl.TEXTURE13),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolLQ),this.gl.uniform1i(this.noiseVolLQLoc,13),this.gl.activeTexture(this.gl.TEXTURE14),this.gl.bindTexture(this.gl.TEXTURE_3D,this.noise.noiseTexVolHQ),this.gl.uniform1i(this.noiseVolHQLoc,14);for(var L=0;L<this.userTextures.length;L++){var S=this.userTextures[L];this.gl.activeTexture(this.gl.TEXTURE15+L),this.gl.bindTexture(this.gl.TEXTURE_2D,this.image.getTexture(S.sampler)),this.gl.uniform1i(S.textureLoc,15+L)}this.gl.uniform1f(this.decayLoc,E.decay),this.gl.uniform2fv(this.resolutionLoc,[this.texsizeX,this.texsizeY]),this.gl.uniform4fv(this.aspectLoc,[this.aspectx,this.aspecty,this.invAspectx,this.invAspecty]),this.gl.uniform4fv(this.texsizeLoc,[this.texsizeX,this.texsizeY,1/this.texsizeX,1/this.texsizeY]),this.gl.uniform4fv(this.texsizeNoiseLQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseMQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseHQLoc,[256,256,1/256,1/256]),this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolLQLoc,[32,32,1/32,1/32]),this.gl.uniform4fv(this.texsizeNoiseVolHQLoc,[32,32,1/32,1/32]),this.gl.uniform1f(this.bassLoc,E.bass),this.gl.uniform1f(this.midLoc,E.mid),this.gl.uniform1f(this.trebLoc,E.treb),this.gl.uniform1f(this.volLoc,(E.bass+E.mid+E.treb)/3),this.gl.uniform1f(this.bassAttLoc,E.bass_att),this.gl.uniform1f(this.midAttLoc,E.mid_att),this.gl.uniform1f(this.trebAttLoc,E.treb_att),this.gl.uniform1f(this.volAttLoc,(E.bass_att+E.mid_att+E.treb_att)/3),this.gl.uniform1f(this.timeLoc,E.time),this.gl.uniform1f(this.frameLoc,E.frame),this.gl.uniform1f(this.fpsLoc,E.fps),this.gl.uniform4fv(this.randPresetLoc,E.rand_preset),this.gl.uniform4fv(this.randFrameLoc,new Float32Array([Math.random(),Math.random(),Math.random(),Math.random()])),this.gl.uniform4fv(this.qaLoc,new Float32Array([E.q1||0,E.q2||0,E.q3||0,E.q4||0])),this.gl.uniform4fv(this.qbLoc,new Float32Array([E.q5||0,E.q6||0,E.q7||0,E.q8||0])),this.gl.uniform4fv(this.qcLoc,new Float32Array([E.q9||0,E.q10||0,E.q11||0,E.q12||0])),this.gl.uniform4fv(this.qdLoc,new Float32Array([E.q13||0,E.q14||0,E.q15||0,E.q16||0])),this.gl.uniform4fv(this.qeLoc,new Float32Array([E.q17||0,E.q18||0,E.q19||0,E.q20||0])),this.gl.uniform4fv(this.qfLoc,new Float32Array([E.q21||0,E.q22||0,E.q23||0,E.q24||0])),this.gl.uniform4fv(this.qgLoc,new Float32Array([E.q25||0,E.q26||0,E.q27||0,E.q28||0])),this.gl.uniform4fv(this.qhLoc,new Float32Array([E.q29||0,E.q30||0,E.q31||0,E.q32||0])),this.gl.uniform4fv(this.slowRoamCosLoc,[.5+.5*Math.cos(E.time*.005),.5+.5*Math.cos(E.time*.008),.5+.5*Math.cos(E.time*.013),.5+.5*Math.cos(E.time*.022)]),this.gl.uniform4fv(this.roamCosLoc,[.5+.5*Math.cos(E.time*.3),.5+.5*Math.cos(E.time*1.3),.5+.5*Math.cos(E.time*5),.5+.5*Math.cos(E.time*20)]),this.gl.uniform4fv(this.slowRoamSinLoc,[.5+.5*Math.sin(E.time*.005),.5+.5*Math.sin(E.time*.008),.5+.5*Math.sin(E.time*.013),.5+.5*Math.sin(E.time*.022)]),this.gl.uniform4fv(this.roamSinLoc,[.5+.5*Math.sin(E.time*.3),.5+.5*Math.sin(E.time*1.3),.5+.5*Math.sin(E.time*5),.5+.5*Math.sin(E.time*20)]),this.bindBlurVals(A,w),h?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.disable(this.gl.BLEND),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0),h||this.gl.enable(this.gl.BLEND)}}]),m}()},"./src/rendering/shapes/customShape.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return m});var n=r("./src/utils.js"),i=r("./src/rendering/shaders/shaderUtils.js");function o(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function l(c,h){for(var p=0;p<h.length;p++){var d=h[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function u(c,h,p){return h&&l(c.prototype,h),c}var m=function(){function c(h,p,d){o(this,c),this.index=h,this.gl=p;var x=101;this.positions=new Float32Array((x+2)*3),this.colors=new Float32Array((x+2)*4),this.uvs=new Float32Array((x+2)*2),this.borderPositions=new Float32Array((x+1)*3),this.texsizeX=d.texsizeX,this.texsizeY=d.texsizeY,this.mesh_width=d.mesh_width,this.mesh_height=d.mesh_height,this.aspectx=d.aspectx,this.aspecty=d.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.positionVertexBuf=this.gl.createBuffer(),this.colorVertexBuf=this.gl.createBuffer(),this.uvVertexBuf=this.gl.createBuffer(),this.borderPositionVertexBuf=this.gl.createBuffer(),this.floatPrecision=i.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.createBorderShader(),this.mainSampler=this.gl.createSampler(),p.samplerParameteri(this.mainSampler,p.TEXTURE_MIN_FILTER,p.LINEAR_MIPMAP_LINEAR),p.samplerParameteri(this.mainSampler,p.TEXTURE_MAG_FILTER,p.LINEAR),p.samplerParameteri(this.mainSampler,p.TEXTURE_WRAP_S,p.REPEAT),p.samplerParameteri(this.mainSampler,p.TEXTURE_WRAP_T,p.REPEAT)}return u(c,[{key:"updateGlobals",value:function(p){this.texsizeX=p.texsizeX,this.texsizeY=p.texsizeY,this.mesh_width=p.mesh_width,this.mesh_height=p.mesh_height,this.aspectx=p.aspectx,this.aspecty=p.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var p=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(p,`#version 300 es
                                      in vec3 aPos;
                                      in vec4 aColor;
                                      in vec2 aUv;
                                      out vec4 vColor;
                                      out vec2 vUv;
                                      void main(void) {
                                        vColor = aColor;
                                        vUv = aUv;
                                        gl_Position = vec4(aPos, 1.0);
                                      }`),this.gl.compileShader(p);var d=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(d,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      uniform sampler2D uTexture;
                                      uniform float uTextured;
                                      in vec4 vColor;
                                      in vec2 vUv;
                                      out vec4 fragColor;
                                      void main(void) {
                                        if (uTextured != 0.0) {
                                          fragColor = texture(uTexture, vUv) * vColor;
                                        } else {
                                          fragColor = vColor;
                                        }
                                      }`)),this.gl.compileShader(d),this.gl.attachShader(this.shaderProgram,p),this.gl.attachShader(this.shaderProgram,d),this.gl.linkProgram(this.shaderProgram),this.aPosLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.aColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aColor"),this.aUvLocation=this.gl.getAttribLocation(this.shaderProgram,"aUv"),this.texturedLoc=this.gl.getUniformLocation(this.shaderProgram,"uTextured"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture")}},{key:"createBorderShader",value:function(){this.borderShaderProgram=this.gl.createProgram();var p=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(p,`#version 300 es
                                      in vec3 aBorderPos;
                                      uniform vec2 thickOffset;
                                      void main(void) {
                                        gl_Position = vec4(aBorderPos +
                                                           vec3(thickOffset, 0.0), 1.0);
                                      }`),this.gl.compileShader(p);var d=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(d,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      out vec4 fragColor;
                                      uniform vec4 uBorderColor;
                                      void main(void) {
                                        fragColor = uBorderColor;
                                      }`)),this.gl.compileShader(d),this.gl.attachShader(this.borderShaderProgram,p),this.gl.attachShader(this.borderShaderProgram,d),this.gl.linkProgram(this.borderShaderProgram),this.aBorderPosLoc=this.gl.getAttribLocation(this.borderShaderProgram,"aBorderPos"),this.uBorderColorLoc=this.gl.getUniformLocation(this.borderShaderProgram,"uBorderColor"),this.thickOffsetLoc=this.gl.getUniformLocation(this.shaderProgram,"thickOffset")}},{key:"drawCustomShape",value:function(p,d,x,M,A){if(M.baseVals.enabled!==0){this.setupShapeBuffers(x.mdVSFrame);for(var w=Object.assign({},x.mdVSShapes[this.index],x.mdVSFrameMapShapes[this.index],x.mdVSQAfterFrame,x.mdVSTShapeInits[this.index],d),E=n.default.cloneVars(w),g=Math.clamp(w.num_inst,1,1024),q=0;q<g;q++){w.instance=q,w.x=E.x,w.y=E.y,w.rad=E.rad,w.ang=E.ang,w.r=E.r,w.g=E.g,w.b=E.b,w.a=E.a,w.r2=E.r2,w.g2=E.g2,w.b2=E.b2,w.a2=E.a2,w.border_r=E.border_r,w.border_g=E.border_g,w.border_b=E.border_b,w.border_a=E.border_a,w.thickoutline=E.thickoutline,w.textured=E.textured,w.tex_zoom=E.tex_zoom,w.tex_ang=E.tex_ang,w.additive=E.additive;var k=M.frame_eqs(w),L=k.sides;L=Math.clamp(L,3,100),L=Math.floor(L);var S=k.rad,R=k.ang,D=k.x*2-1,B=k.y*-2+1,N=k.r,Q=k.g,P=k.b,U=k.a,$=k.r2,J=k.g2,me=k.b2,W=k.a2,ee=k.border_r,ue=k.border_g,Z=k.border_b,ie=k.border_a;this.borderColor=[ee,ue,Z,ie*p];var fe=k.thickoutline,ye=k.textured,xe=k.tex_zoom,ge=k.tex_ang,Ae=k.additive,O=this.borderColor[3]>0,Y=Math.abs(ye)>=1,T=Math.abs(fe)>=1,I=Math.abs(Ae)>=1;this.positions[0]=D,this.positions[1]=B,this.positions[2]=0,this.colors[0]=N,this.colors[1]=Q,this.colors[2]=P,this.colors[3]=U*p,Y&&(this.uvs[0]=.5,this.uvs[1]=.5);for(var X=Math.PI*.25,le=1;le<=L+1;le++){var se=(le-1)/L,_e=se*2*Math.PI,we=_e+R+X;if(this.positions[le*3+0]=D+S*Math.cos(we)*this.aspecty,this.positions[le*3+1]=B+S*Math.sin(we),this.positions[le*3+2]=0,this.colors[le*4+0]=$,this.colors[le*4+1]=J,this.colors[le*4+2]=me,this.colors[le*4+3]=W*p,Y){var Ce=_e+ge+X;this.uvs[le*2+0]=.5+.5*Math.cos(Ce)/xe*this.aspecty,this.uvs[le*2+1]=.5+.5*Math.sin(Ce)/xe}O&&(this.borderPositions[(le-1)*3+0]=this.positions[le*3+0],this.borderPositions[(le-1)*3+1]=this.positions[le*3+1],this.borderPositions[(le-1)*3+2]=this.positions[le*3+2])}this.mdVSShapeFrame=k,this.drawCustomShapeInstance(A,L,Y,O,T,I)}var Be=x.mdVSUserKeysShapes[this.index],We=n.default.pick(this.mdVSShapeFrame,Be);x.mdVSFrameMapShapes[this.index]=We}}},{key:"setupShapeBuffers",value:function(p){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.colors,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.uvVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.uvs,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aUvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aUvLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.borderPositionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.borderPositions,this.gl.DYNAMIC_DRAW),this.gl.vertexAttribPointer(this.aBorderPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aBorderPosLoc);var d=p.wrap!==0?this.gl.REPEAT:this.gl.CLAMP_TO_EDGE;this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_S,d),this.gl.samplerParameteri(this.mainSampler,this.gl.TEXTURE_WRAP_T,d)}},{key:"drawCustomShapeInstance",value:function(p,d,x,M,A,w){this.gl.useProgram(this.shaderProgram);var E=new Float32Array(this.positions.buffer,0,(d+2)*3);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,E),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation);var g=new Float32Array(this.colors.buffer,0,(d+2)*4);if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,g),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation),x){var q=new Float32Array(this.uvs.buffer,0,(d+2)*2);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.uvVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,q),this.gl.vertexAttribPointer(this.aUvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aUvLocation)}if(this.gl.uniform1f(this.texturedLoc,x?1:0),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,p),this.gl.bindSampler(0,this.mainSampler),this.gl.uniform1i(this.textureLoc,0),w?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE):this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,d+2),M){this.gl.useProgram(this.borderShaderProgram);var k=new Float32Array(this.borderPositions.buffer,0,(d+1)*3);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.borderPositionVertexBuf),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,k),this.gl.vertexAttribPointer(this.aBorderPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aBorderPosLoc),this.gl.uniform4fv(this.uBorderColorLoc,this.borderColor);for(var L=A?4:1,S=0;S<L;S++){var R=2;S===0?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):S===1?this.gl.uniform2fv(this.thickOffsetLoc,[R/this.texsizeX,0]):S===2?this.gl.uniform2fv(this.thickOffsetLoc,[0,R/this.texsizeY]):S===3&&this.gl.uniform2fv(this.thickOffsetLoc,[R/this.texsizeX,R/this.texsizeY]),this.gl.drawArrays(this.gl.LINE_STRIP,0,d+1)}}}}]),c}()},"./src/rendering/sprites/border.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,m),this.gl=c,this.positions=new Float32Array(72),this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.vertexBuf=this.gl.createBuffer()}return l(m,[{key:"updateGlobals",value:function(h){this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
                                      in vec3 aPos;
                                      void main(void) {
                                        gl_Position = vec4(aPos, 1.0);
                                      }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      out vec4 fragColor;
                                      uniform vec4 u_color;
                                      void main(void) {
                                        fragColor = u_color;
                                      }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.aPosLoc=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.colorLoc=this.gl.getUniformLocation(this.shaderProgram,"u_color")}},{key:"addTriangle",value:function(h,p,d,x){this.positions[h+0]=p[0],this.positions[h+1]=p[1],this.positions[h+2]=p[2],this.positions[h+3]=d[0],this.positions[h+4]=d[1],this.positions[h+5]=d[2],this.positions[h+6]=x[0],this.positions[h+7]=x[1],this.positions[h+8]=x[2]}},{key:"generateBorder",value:function(h,p,d){if(p>0&&h[3]>0){var x=2,M=2,A=x/2,w=M/2,E=d/2,g=p/2+E,q=E*x,k=E*M,L=g*x,S=g*M,R=[-A+q,-w+S,0],D=[-A+q,w-S,0],B=[-A+L,w-S,0],N=[-A+L,-w+S,0];return this.addTriangle(0,N,D,R),this.addTriangle(9,N,B,D),R=[A-q,-w+S,0],D=[A-q,w-S,0],B=[A-L,w-S,0],N=[A-L,-w+S,0],this.addTriangle(18,R,D,N),this.addTriangle(27,D,B,N),R=[-A+q,-w+k,0],D=[-A+q,S-w,0],B=[A-q,S-w,0],N=[A-q,-w+k,0],this.addTriangle(36,N,D,R),this.addTriangle(45,N,B,D),R=[-A+q,w-k,0],D=[-A+q,w-S,0],B=[A-q,w-S,0],N=[A-q,w-k,0],this.addTriangle(54,R,D,N),this.addTriangle(63,D,B,N),!0}return!1}},{key:"drawBorder",value:function(h,p,d){this.generateBorder(h,p,d)&&(this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc),this.gl.uniform4fv(this.colorLoc,h),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLES,0,this.positions.length/3))}}]),m}()},"./src/rendering/sprites/darkenCenter.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c,h){i(this,m),this.gl=c,this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.generatePositions(),this.colors=new Float32Array([0,0,0,3/32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.positionVertexBuf=this.gl.createBuffer(),this.colorVertexBuf=this.gl.createBuffer(),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader()}return l(m,[{key:"updateGlobals",value:function(h){this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.generatePositions()}},{key:"generatePositions",value:function(){var h=.05;this.positions=new Float32Array([0,0,0,-h*this.aspecty,0,0,0,-h,0,h*this.aspecty,0,0,0,h,0,-h*this.aspecty,0,0])}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
                                      in vec3 aPos;
                                      in vec4 aColor;
                                      out vec4 vColor;
                                      void main(void) {
                                        vColor = aColor;
                                        gl_Position = vec4(aPos, 1.0);
                                      }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      in vec4 vColor;
                                      out vec4 fragColor;
                                      void main(void) {
                                        fragColor = vColor;
                                      }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.aPosLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.aColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aColor")}},{key:"drawDarkenCenter",value:function(h){h.darken_center!==0&&(this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.positions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.colors,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,this.positions.length/3))}}]),m}()},"./src/rendering/text/titleText.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return u});var n=r("./src/rendering/shaders/shaderUtils.js");function i(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function o(m,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function l(m,c,h){return c&&o(m.prototype,c),m}var u=function(){function m(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,m),this.gl=c,this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.buildPositions(),this.textTexture=this.gl.createTexture(),this.indexBuf=c.createBuffer(),this.positionVertexBuf=this.gl.createBuffer(),this.vertexBuf=this.gl.createBuffer(),this.canvas=document.createElement("canvas"),this.canvas.width=this.texsizeX,this.canvas.height=this.texsizeY,this.context2D=this.canvas.getContext("2d"),this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader()}return l(m,[{key:"generateTitleTexture",value:function(h){this.context2D.clearRect(0,0,this.texsizeX,this.texsizeY),this.fontSize=Math.floor(16*(this.texsizeX/256)),this.fontSize=Math.max(this.fontSize,6),this.context2D.font="italic ".concat(this.fontSize,"px Times New Roman");var p=h,d=this.context2D.measureText(p).width;if(d>this.texsizeX){var x=.91*(this.texsizeX/d);p="".concat(p.substring(0,Math.floor(p.length*x)),"..."),d=this.context2D.measureText(p).width}this.context2D.fillStyle="#FFFFFF",this.context2D.fillText(p,(this.texsizeX-d)/2,this.texsizeY/2);var M=new Uint8Array(this.context2D.getImageData(0,0,this.texsizeX,this.texsizeY).data.buffer);this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.textTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.texsizeX,this.texsizeY,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,M),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}},{key:"updateGlobals",value:function(h){this.texsizeX=h.texsizeX,this.texsizeY=h.texsizeY,this.aspectx=h.aspectx,this.aspecty=h.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.canvas.width=this.texsizeX,this.canvas.height=this.texsizeY}},{key:"buildPositions",value:function(){for(var h=2,p=2,d=h/2,x=p/2,M=15,A=7,w=M+1,E=A+1,g=h/M,q=p/A,k=[],L=0;L<E;L++)for(var S=L*q-x,R=0;R<w;R++){var D=R*g-d;k.push(D,-S,0)}for(var B=[],N=0;N<A;N++)for(var Q=0;Q<M;Q++){var P=Q+w*N,U=Q+w*(N+1),$=Q+1+w*(N+1),J=Q+1+w*N;B.push(P,U,J),B.push(U,$,J)}this.vertices=new Float32Array(k),this.indices=new Uint16Array(B)}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var h=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(h,`#version 300 es
       const vec2 halfmad = vec2(0.5);
       in vec2 aPos;
       in vec2 aUv;
       out vec2 uv_orig;
       out vec2 uv;
       void main(void) {
         gl_Position = vec4(aPos, 0.0, 1.0);
         uv_orig = aPos * halfmad + halfmad;
         uv = aUv;
       }`),this.gl.compileShader(h);var p=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(p,`#version 300 es
       precision `.concat(this.floatPrecision,` float;
       precision highp int;
       precision mediump sampler2D;

       in vec2 uv_orig;
       in vec2 uv;
       out vec4 fragColor;
       uniform sampler2D uTexture;
       uniform float textColor;

       void main(void) {
         fragColor = texture(uTexture, uv) * vec4(textColor);
       }`)),this.gl.compileShader(p),this.gl.attachShader(this.shaderProgram,h),this.gl.attachShader(this.shaderProgram,p),this.gl.linkProgram(this.shaderProgram),this.positionLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.uvLocation=this.gl.getAttribLocation(this.shaderProgram,"aUv"),this.textureLoc=this.gl.getUniformLocation(this.shaderProgram,"uTexture"),this.textColorLoc=this.gl.getUniformLocation(this.shaderProgram,"textColor")}},{key:"generateUvs",value:function(h,p,d){for(var x=15,M=7,A=x+1,w=M+1,E=[],g=.75,q=0;q<w;q++)for(var k=0;k<A;k++){var L=k/x,S=(q/M-.5)*g+.5,R=L*2-1,D=S*2-1;h>=1&&(D+=1/this.texsizeY),E.push(R,p?D:-D)}for(var B=Math.max(0,1-h*1.5),N=Math.pow(B,1.8)*1.3,Q=0;Q<w;Q++)for(var P=0;P<A;P++){var U=Q*A+P;E[U]+=N*.07*Math.sin(d.time*.31+E[U]*.39-E[U+1]*1.94),E[U]+=N*.044*Math.sin(d.time*.81-E[U]*1.91+E[U+1]*.27),E[U]+=N*.061*Math.sin(d.time*1.31+E[U]*.61+E[U+1]*.74),E[U+1]+=N*.061*Math.sin(d.time*.37+E[U]*1.83+E[U+1]*.69),E[U+1]+=N*.07*Math.sin(d.time*.67+E[U]*.42-E[U+1]*1.39),E[U+1]+=N*.087*Math.sin(d.time*1.07+E[U]*3.55+E[U+1]*.89)}for(var $=1.01/(Math.pow(h,.21)+.01),J=0;J<E.length/2;J++)E[J*2]*=$,E[J*2+1]*=$*this.invAspecty,E[J*2]=(E[J*2]+1)/2,E[J*2+1]=(E[J*2+1]+1)/2;return new Float32Array(E)}},{key:"renderTitle",value:function(h,p,d){this.gl.useProgram(this.shaderProgram);var x=this.generateUvs(h,p,d);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuf),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.indices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertices,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.positionLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.positionLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,x,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.uvLocation,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.uvLocation),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.textTexture),this.gl.uniform1i(this.textureLoc,0),this.gl.uniform1f(this.textColorLoc,Math.pow(h,.3)),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0)}}]),m}()},"./src/rendering/waves/basicWaveform.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return m});var n=r("./src/rendering/shaders/shaderUtils.js"),i=r("./src/rendering/waves/waveUtils.js");function o(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function l(c,h){for(var p=0;p<h.length;p++){var d=h[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function u(c,h,p){return h&&l(c.prototype,h),p&&l(c,p),c}var m=function(){function c(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,c),this.gl=h;var d=512;this.positions=new Float32Array(d*3),this.positions2=new Float32Array(d*3),this.oldPositions=new Float32Array(d*3),this.oldPositions2=new Float32Array(d*3),this.smoothedPositions=new Float32Array((d*2-1)*3),this.smoothedPositions2=new Float32Array((d*2-1)*3),this.color=[0,0,0,1],this.texsizeX=p.texsizeX,this.texsizeY=p.texsizeY,this.aspectx=p.aspectx,this.aspecty=p.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.floatPrecision=n.default.getFragmentFloatPrecision(this.gl),this.createShader(),this.vertexBuf=this.gl.createBuffer()}return u(c,[{key:"updateGlobals",value:function(p){this.texsizeX=p.texsizeX,this.texsizeY=p.texsizeY,this.aspectx=p.aspectx,this.aspecty=p.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var p=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(p,`#version 300 es
                                      in vec3 aPos;
                                      uniform vec2 thickOffset;
                                      void main(void) {
                                        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);
                                      }`),this.gl.compileShader(p);var d=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(d,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      out vec4 fragColor;
                                      uniform vec4 u_color;
                                      void main(void) {
                                        fragColor = u_color;
                                      }`)),this.gl.compileShader(d),this.gl.attachShader(this.shaderProgram,p),this.gl.attachShader(this.shaderProgram,d),this.gl.linkProgram(this.shaderProgram),this.aPosLoc=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.colorLoc=this.gl.getUniformLocation(this.shaderProgram,"u_color"),this.thickOffsetLoc=this.gl.getUniformLocation(this.shaderProgram,"thickOffset")}},{key:"generateWaveform",value:function(p,d,x,M,A){var w=A.wave_a,E=(A.bass+A.mid+A.treb)/3;if(E>-.01&&w>.001&&x.length>0){var g=c.processWaveform(x,A),q=c.processWaveform(M,A),k=Math.floor(A.wave_mode)%8,L=Math.floor(A.old_wave_mode)%8,S=A.wave_x*2-1,R=A.wave_y*2-1;this.numVert=0,this.oldNumVert=0;for(var D=p&&k!==L?2:1,B=0;B<D;B++){var N=B===0?k:L,Q=A.wave_mystery;(N===0||N===1||N===4)&&(Q<-1||Q>1)&&(Q=Q*.5+.5,Q-=Math.floor(Q),Q=Math.abs(Q),Q=Q*2-1);var P=void 0,U=void 0,$=void 0;if(B===0?(U=this.positions,$=this.positions2):(U=this.oldPositions,$=this.oldPositions2),w=A.wave_a,N===0){if(A.modwavealphabyvolume>0){var J=A.modwavealphaend-A.modwavealphastart;w*=(E-A.modwavealphastart)/J}w=Math.clamp(w,0,1),P=Math.floor(g.length/2)+1;for(var me=1/(P-1),W=Math.floor((g.length-P)/2),ee=0;ee<P-1;ee++){var ue=.5+.4*q[ee+W]+Q,Z=ee*me*2*Math.PI+A.time*.2;if(ee<P/10){var ie=ee/(P*.1);ie=.5-.5*Math.cos(ie*Math.PI);var fe=.5+.4*q[ee+P+W]+Q;ue=(1-ie)*fe+ue*ie}U[ee*3+0]=ue*Math.cos(Z)*this.aspecty+S,U[ee*3+1]=ue*Math.sin(Z)*this.aspectx+R,U[ee*3+2]=0}U[(P-1)*3+0]=U[0],U[(P-1)*3+1]=U[1],U[(P-1)*3+2]=0}else if(N===1){if(w*=1.25,A.modwavealphabyvolume>0){var ye=A.modwavealphaend-A.modwavealphastart;w*=(E-A.modwavealphastart)/ye}w=Math.clamp(w,0,1),P=Math.floor(g.length/2);for(var xe=0;xe<P;xe++){var ge=.53+.43*q[xe]+Q,Ae=g[xe+32]*.5*Math.PI+A.time*2.3;U[xe*3+0]=ge*Math.cos(Ae)*this.aspecty+S,U[xe*3+1]=ge*Math.sin(Ae)*this.aspectx+R,U[xe*3+2]=0}}else if(N===2){if(this.texsizeX<1024?w*=.09:this.texsizeX>=1024&&this.texsizeX<2048?w*=.11:w*=.13,A.modwavealphabyvolume>0){var O=A.modwavealphaend-A.modwavealphastart;w*=(E-A.modwavealphastart)/O}w=Math.clamp(w,0,1),P=g.length;for(var Y=0;Y<g.length;Y++)U[Y*3+0]=q[Y]*this.aspecty+S,U[Y*3+1]=g[(Y+32)%g.length]*this.aspectx+R,U[Y*3+2]=0}else if(N===3){if(this.texsizeX<1024?w*=.15:this.texsizeX>=1024&&this.texsizeX<2048?w*=.22:w*=.33,w*=1.3,w*=A.treb*A.treb,A.modwavealphabyvolume>0){var T=A.modwavealphaend-A.modwavealphastart;w*=(E-A.modwavealphastart)/T}w=Math.clamp(w,0,1),P=g.length;for(var I=0;I<g.length;I++)U[I*3+0]=q[I]*this.aspecty+S,U[I*3+1]=g[(I+32)%g.length]*this.aspectx+R,U[I*3+2]=0}else if(N===4){if(A.modwavealphabyvolume>0){var X=A.modwavealphaend-A.modwavealphastart;w*=(E-A.modwavealphastart)/X}w=Math.clamp(w,0,1),P=g.length,P>this.texsizeX/3&&(P=Math.floor(this.texsizeX/3));for(var le=1/P,se=Math.floor((g.length-P)/2),_e=.45+.5*(Q*.5+.5),we=1-_e,Ce=0;Ce<P;Ce++){var Be=2*Ce*le+(S-1)+q[(Ce+25+se)%g.length]*.44,We=g[Ce+se]*.47+R;Ce>1&&(Be=Be*we+_e*(U[(Ce-1)*3+0]*2-U[(Ce-2)*3+0]),We=We*we+_e*(U[(Ce-1)*3+1]*2-U[(Ce-2)*3+1])),U[Ce*3+0]=Be,U[Ce*3+1]=We,U[Ce*3+2]=0}}else if(N===5){if(this.texsizeX<1024?w*=.09:this.texsizeX>=1024&&this.texsizeX<2048?w*=.11:w*=.13,A.modwavealphabyvolume>0){var re=A.modwavealphaend-A.modwavealphastart;w*=(E-A.modwavealphastart)/re}w=Math.clamp(w,0,1);var V=Math.cos(A.time*.3),j=Math.sin(A.time*.3);P=g.length;for(var he=0;he<g.length;he++){var Me=(he+32)%g.length,Te=q[he]*g[Me]+g[he]*q[Me],Ie=q[he]*q[he]-g[Me]*g[Me];U[he*3+0]=(Te*V-Ie*j)*(this.aspecty+S),U[he*3+1]=(Te*j+Ie*V)*(this.aspectx+R),U[he*3+2]=0}}else if(N===6||N===7){if(A.modwavealphabyvolume>0){var Ze=A.modwavealphaend-A.modwavealphastart;w*=(E-A.modwavealphastart)/Ze}w=Math.clamp(w,0,1),P=Math.floor(g.length/2),P>this.texsizeX/3&&(P=Math.floor(this.texsizeX/3));for(var at=Math.floor((g.length-P)/2),et=Math.PI*.5*Q,it=Math.cos(et),oe=Math.sin(et),ve=[S*Math.cos(et+Math.PI*.5)-it*3,S*Math.cos(et+Math.PI*.5)+it*3],Se=[S*Math.sin(et+Math.PI*.5)-oe*3,S*Math.sin(et+Math.PI*.5)+oe*3],ze=0;ze<2;ze++)for(var Le=0;Le<4;Le++){var Ge=void 0,Ve=!1;switch(Le){case 0:ve[ze]>1.1&&(Ge=(1.1-ve[1-ze])/(ve[ze]-ve[1-ze]),Ve=!0);break;case 1:ve[ze]<-1.1&&(Ge=(-1.1-ve[1-ze])/(ve[ze]-ve[1-ze]),Ve=!0);break;case 2:Se[ze]>1.1&&(Ge=(1.1-Se[1-ze])/(Se[ze]-Se[1-ze]),Ve=!0);break;case 3:Se[ze]<-1.1&&(Ge=(-1.1-Se[1-ze])/(Se[ze]-Se[1-ze]),Ve=!0);break}if(Ve){var nt=ve[ze]-ve[1-ze],qe=Se[ze]-Se[1-ze];ve[ze]=ve[1-ze]+nt*Ge,Se[ze]=Se[1-ze]+qe*Ge}}it=(ve[1]-ve[0])/P,oe=(Se[1]-Se[0])/P;var Ne=Math.atan2(oe,it),ae=Math.cos(Ne+Math.PI*.5),Fe=Math.sin(Ne+Math.PI*.5);if(N===6)for(var Qe=0;Qe<P;Qe++){var je=g[Qe+at];U[Qe*3+0]=ve[0]+it*Qe+ae*.25*je,U[Qe*3+1]=Se[0]+oe*Qe+Fe*.25*je,U[Qe*3+2]=0}else if(N===7){for(var dt=Math.pow(R*.5+.5,2),$e=0;$e<P;$e++){var mt=g[$e+at];U[$e*3+0]=ve[0]+it*$e+ae*(.25*mt+dt),U[$e*3+1]=Se[0]+oe*$e+Fe*(.25*mt+dt),U[$e*3+2]=0}for(var De=0;De<P;De++){var Oe=q[De+at];$[De*3+0]=ve[0]+it*De+ae*(.25*Oe-dt),$[De*3+1]=Se[0]+oe*De+Fe*(.25*Oe-dt),$[De*3+2]=0}}}B===0?(this.positions=U,this.positions2=$,this.numVert=P,this.alpha=w):(this.oldPositions=U,this.oldPositions2=$,this.oldNumVert=P,this.oldAlpha=w)}var yt=.5-.5*Math.cos(d*Math.PI),ot=1-yt;this.oldNumVert>0&&(w=yt*this.alpha+ot*this.oldAlpha);var Je=Math.clamp(A.wave_r,0,1),Bt=Math.clamp(A.wave_g,0,1),Rt=Math.clamp(A.wave_b,0,1);if(A.wave_brighten!==0){var ut=Math.max(Je,Bt,Rt);ut>.01&&(Je/=ut,Bt/=ut,Rt/=ut)}if(this.color=[Je,Bt,Rt,w],this.oldNumVert>0)if(k===7){for(var lt=(this.oldNumVert-1)/(this.numVert*2),pt=0;pt<this.numVert;pt++){var Et=pt*lt,vt=Math.floor(Et),Vt=Et-vt,Zt=this.oldPositions[vt*3+0]*(1-Vt)+this.oldPositions[(vt+1)*3+0]*Vt,_t=this.oldPositions[vt*3+1]*(1-Vt)+this.oldPositions[(vt+1)*3+1]*Vt;this.positions[pt*3+0]=this.positions[pt*3+0]*yt+Zt*ot,this.positions[pt*3+1]=this.positions[pt*3+1]*yt+_t*ot,this.positions[pt*3+2]=0}for(var ht=0;ht<this.numVert;ht++){var ft=(ht+this.numVert)*lt,qt=Math.floor(ft),zt=ft-qt,oa=this.oldPositions[qt*3+0]*(1-zt)+this.oldPositions[(qt+1)*3+0]*zt,Na=this.oldPositions[qt*3+1]*(1-zt)+this.oldPositions[(qt+1)*3+1]*zt;this.positions2[ht*3+0]=this.positions2[ht*3+0]*yt+oa*ot,this.positions2[ht*3+1]=this.positions2[ht*3+1]*yt+Na*ot,this.positions2[ht*3+2]=0}}else if(L===7){for(var la=this.numVert/2,va=(this.oldNumVert-1)/la,gt=0;gt<la;gt++){var ra=gt*va,Nt=Math.floor(ra),Pt=ra-Nt,da=this.oldPositions[Nt*3+0]*(1-Pt)+this.oldPositions[(Nt+1)*3+0]*Pt,jt=this.oldPositions[Nt*3+1]*(1-Pt)+this.oldPositions[(Nt+1)*3+1]*Pt;this.positions[gt*3+0]=this.positions[gt*3+0]*yt+da*ot,this.positions[gt*3+1]=this.positions[gt*3+1]*yt+jt*ot,this.positions[gt*3+2]=0}for(var Tt=0;Tt<la;Tt++){var Sa=Tt*va,ca=Math.floor(Sa),na=Sa-ca,Ft=this.oldPositions2[ca*3+0]*(1-na)+this.oldPositions2[(ca+1)*3+0]*na,Ma=this.oldPositions2[ca*3+1]*(1-na)+this.oldPositions2[(ca+1)*3+1]*na;this.positions2[Tt*3+0]=this.positions[(Tt+la)*3+0]*yt+Ft*ot,this.positions2[Tt*3+1]=this.positions[(Tt+la)*3+1]*yt+Ma*ot,this.positions2[Tt*3+2]=0}}else for(var Ta=(this.oldNumVert-1)/this.numVert,Xt=0;Xt<this.numVert;Xt++){var za=Xt*Ta,ia=Math.floor(za),sa=za-ia,ea=this.oldPositions[ia*3+0]*(1-sa)+this.oldPositions[(ia+1)*3+0]*sa,Ga=this.oldPositions[ia*3+1]*(1-sa)+this.oldPositions[(ia+1)*3+1]*sa;this.positions[Xt*3+0]=this.positions[Xt*3+0]*yt+ea*ot,this.positions[Xt*3+1]=this.positions[Xt*3+1]*yt+Ga*ot,this.positions[Xt*3+2]=0}for(var ba=0;ba<this.numVert;ba++)this.positions[ba*3+1]=-this.positions[ba*3+1];if(this.smoothedNumVert=this.numVert*2-1,i.default.smoothWave(this.positions,this.smoothedPositions,this.numVert),k===7||L===7){for(var ua=0;ua<this.numVert;ua++)this.positions2[ua*3+1]=-this.positions2[ua*3+1];i.default.smoothWave(this.positions2,this.smoothedPositions2,this.numVert)}return!0}return!1}},{key:"drawBasicWaveform",value:function(p,d,x,M,A){if(this.generateWaveform(p,d,x,M,A)){this.gl.useProgram(this.shaderProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.smoothedPositions,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc),this.gl.uniform4fv(this.colorLoc,this.color);var w=1;(A.wave_thick!==0||A.wave_dots!==0)&&(w=4),A.additivewave!==0?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE):this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);for(var E=A.wave_dots!==0?this.gl.POINTS:this.gl.LINE_STRIP,g=0;g<w;g++){var q=2;g===0?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):g===1?this.gl.uniform2fv(this.thickOffsetLoc,[q/this.texsizeX,0]):g===2?this.gl.uniform2fv(this.thickOffsetLoc,[0,q/this.texsizeY]):g===3&&this.gl.uniform2fv(this.thickOffsetLoc,[q/this.texsizeX,q/this.texsizeY]),this.gl.drawArrays(E,0,this.smoothedNumVert)}var k=Math.floor(A.wave_mode)%8;if(k===7){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.smoothedPositions2,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLoc,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLoc);for(var L=0;L<w;L++){var S=2;L===0?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):L===1?this.gl.uniform2fv(this.thickOffsetLoc,[S/this.texsizeX,0]):L===2?this.gl.uniform2fv(this.thickOffsetLoc,[0,S/this.texsizeY]):L===3&&this.gl.uniform2fv(this.thickOffsetLoc,[S/this.texsizeX,S/this.texsizeY]),this.gl.drawArrays(E,0,this.smoothedNumVert)}}}}}],[{key:"processWaveform",value:function(p,d){var x=[],M=d.wave_scale/128,A=d.wave_smoothing,w=M*(1-A);x.push(p[0]*M);for(var E=1;E<p.length;E++)x.push(p[E]*w+x[E-1]*A);return x}}]),c}()},"./src/rendering/waves/customWaveform.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return c});var n=r("./src/utils.js"),i=r("./src/rendering/shaders/shaderUtils.js"),o=r("./src/rendering/waves/waveUtils.js");function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){for(var d=0;d<p.length;d++){var x=p[d];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}function m(h,p,d){return p&&u(h.prototype,p),h}var c=function(){function h(p,d,x){l(this,h),this.index=p,this.gl=d;var M=512;this.pointsData=[new Float32Array(M),new Float32Array(M)],this.positions=new Float32Array(M*3),this.colors=new Float32Array(M*4),this.smoothedPositions=new Float32Array((M*2-1)*3),this.smoothedColors=new Float32Array((M*2-1)*4),this.texsizeX=x.texsizeX,this.texsizeY=x.texsizeY,this.mesh_width=x.mesh_width,this.mesh_height=x.mesh_height,this.aspectx=x.aspectx,this.aspecty=x.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty,this.positionVertexBuf=this.gl.createBuffer(),this.colorVertexBuf=this.gl.createBuffer(),this.floatPrecision=i.default.getFragmentFloatPrecision(this.gl),this.createShader()}return m(h,[{key:"updateGlobals",value:function(d){this.texsizeX=d.texsizeX,this.texsizeY=d.texsizeY,this.mesh_width=d.mesh_width,this.mesh_height=d.mesh_height,this.aspectx=d.aspectx,this.aspecty=d.aspecty,this.invAspectx=1/this.aspectx,this.invAspecty=1/this.aspecty}},{key:"createShader",value:function(){this.shaderProgram=this.gl.createProgram();var d=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(d,`#version 300 es
                                      uniform float uSize;
                                      uniform vec2 thickOffset;
                                      in vec3 aPos;
                                      in vec4 aColor;
                                      out vec4 vColor;
                                      void main(void) {
                                        vColor = aColor;
                                        gl_PointSize = uSize;
                                        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);
                                      }`),this.gl.compileShader(d);var x=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(x,`#version 300 es
                                      precision `.concat(this.floatPrecision,` float;
                                      precision highp int;
                                      precision mediump sampler2D;
                                      in vec4 vColor;
                                      out vec4 fragColor;
                                      void main(void) {
                                        fragColor = vColor;
                                      }`)),this.gl.compileShader(x),this.gl.attachShader(this.shaderProgram,d),this.gl.attachShader(this.shaderProgram,x),this.gl.linkProgram(this.shaderProgram),this.aPosLocation=this.gl.getAttribLocation(this.shaderProgram,"aPos"),this.aColorLocation=this.gl.getAttribLocation(this.shaderProgram,"aColor"),this.sizeLoc=this.gl.getUniformLocation(this.shaderProgram,"uSize"),this.thickOffsetLoc=this.gl.getUniformLocation(this.shaderProgram,"thickOffset")}},{key:"generateWaveform",value:function(d,x,M,A,w,E,g,q){if(g.baseVals.enabled!==0&&d.length>0){var k=Object.assign({},E.mdVSWaves[this.index],E.mdVSFrameMapWaves[this.index],E.mdVSQAfterFrame,E.mdVSTWaveInits[this.index],w),L=g.frame_eqs(k),S=512;Object.prototype.hasOwnProperty.call(L,"samples")?this.samples=L.samples:this.samples=S,this.samples>S&&(this.samples=S),this.samples=Math.floor(this.samples);var R=Math.floor(L.sep),D=L.scaling,B=L.spectrum,N=L.smoothing,Q=L.usedots,P=L.r,U=L.g,$=L.b,J=L.a,me=E.mdVS.wave_scale;if(this.samples-=R,this.samples>=2||Q!==0&&this.samples>=1){var W=B!==0,ee=(W?.15:.004)*D*me,ue=W?M:d,Z=W?A:x,ie=W?0:Math.floor((S-this.samples)/2-R/2),fe=W?0:Math.floor((S-this.samples)/2+R/2),ye=W?(S-R)/this.samples:1,xe=Math.pow(N*.98,.5),ge=1-xe;this.pointsData[0][0]=ue[ie],this.pointsData[1][0]=Z[fe];for(var Ae=1;Ae<this.samples;Ae++){var O=ue[Math.floor(Ae*ye+ie)],Y=Z[Math.floor(Ae*ye+fe)];this.pointsData[0][Ae]=O*ge+this.pointsData[0][Ae-1]*xe,this.pointsData[1][Ae]=Y*ge+this.pointsData[1][Ae-1]*xe}for(var T=this.samples-2;T>=0;T--)this.pointsData[0][T]=this.pointsData[0][T]*ge+this.pointsData[0][T+1]*xe,this.pointsData[1][T]=this.pointsData[1][T]*ge+this.pointsData[1][T+1]*xe;for(var I=0;I<this.samples;I++)this.pointsData[0][I]*=ee,this.pointsData[1][I]*=ee;for(var X=0;X<this.samples;X++){var le=this.pointsData[0][X],se=this.pointsData[1][X];L.sample=X/(this.samples-1),L.value1=le,L.value2=se,L.x=.5+le,L.y=.5+se,L.r=P,L.g=U,L.b=$,L.a=J,g.point_eqs!==""&&(L=g.point_eqs(L));var _e=(L.x*2-1)*this.invAspectx,we=(L.y*-2+1)*this.invAspecty,Ce=L.r,Be=L.g,We=L.b,re=L.a;this.positions[X*3+0]=_e,this.positions[X*3+1]=we,this.positions[X*3+2]=0,this.colors[X*4+0]=Ce,this.colors[X*4+1]=Be,this.colors[X*4+2]=We,this.colors[X*4+3]=re*q}var V=E.mdVSUserKeysWaves[this.index],j=n.default.pick(L,V);return E.mdVSFrameMapWaves[this.index]=j,this.mdVSWaveFrame=L,Q===0&&o.default.smoothWaveAndColor(this.positions,this.colors,this.smoothedPositions,this.smoothedColors,this.samples),!0}}return!1}},{key:"drawCustomWaveform",value:function(d,x,M,A,w,E,g,q){if(q&&this.generateWaveform(x,M,A,w,E,g,q,d)){this.gl.useProgram(this.shaderProgram);var k=this.mdVSWaveFrame.usedots!==0,L=this.mdVSWaveFrame.thick!==0,S=this.mdVSWaveFrame.additive!==0,R,D,B;k?(R=this.positions,D=this.colors,B=this.samples):(R=this.smoothedPositions,D=this.smoothedColors,B=this.samples*2-1),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,R,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aPosLocation,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aPosLocation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.colorVertexBuf),this.gl.bufferData(this.gl.ARRAY_BUFFER,D,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.aColorLocation,4,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.aColorLocation);var N=1;k?L?this.gl.uniform1f(this.sizeLoc,2+(this.texsizeX>=1024?1:0)):this.gl.uniform1f(this.sizeLoc,1+(this.texsizeX>=1024?1:0)):(this.gl.uniform1f(this.sizeLoc,1),L&&(N=4)),S?this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE):this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);for(var Q=k?this.gl.POINTS:this.gl.LINE_STRIP,P=0;P<N;P++){var U=2;P===0?this.gl.uniform2fv(this.thickOffsetLoc,[0,0]):P===1?this.gl.uniform2fv(this.thickOffsetLoc,[U/this.texsizeX,0]):P===2?this.gl.uniform2fv(this.thickOffsetLoc,[0,U/this.texsizeY]):P===3&&this.gl.uniform2fv(this.thickOffsetLoc,[U/this.texsizeX,U/this.texsizeY]),this.gl.drawArrays(Q,0,B)}}}}]),h}()},"./src/rendering/waves/waveUtils.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return l});function n(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function i(u,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function o(u,m,c){return c&&i(u,c),u}var l=function(){function u(){n(this,u)}return o(u,null,[{key:"smoothWave",value:function(c,h,p){for(var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,x=-.15,M=1.15,A=1.15,w=-.15,E=1/(x+M+A+w),g=0,q=0,k,L=1,S=0;S<p-1;S++){k=L,L=Math.min(p-1,S+2);for(var R=0;R<3;R++)h[g*3+R]=c[S*3+R];if(d)for(var D=0;D<3;D++)h[(g+1)*3+D]=(x*c[q*3+D]+M*c[S*3+D]+A*c[k*3+D]+w*c[L*3+D])*E;else{for(var B=0;B<2;B++)h[(g+1)*3+B]=(x*c[q*3+B]+M*c[S*3+B]+A*c[k*3+B]+w*c[L*3+B])*E;h[(g+1)*3+2]=0}q=S,g+=2}for(var N=0;N<3;N++)h[g*3+N]=c[(p-1)*3+N]}},{key:"smoothWaveAndColor",value:function(c,h,p,d,x){for(var M=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,A=-.15,w=1.15,E=1.15,g=-.15,q=1/(A+w+E+g),k=0,L=0,S,R=1,D=0;D<x-1;D++){S=R,R=Math.min(x-1,D+2);for(var B=0;B<3;B++)p[k*3+B]=c[D*3+B];if(M)for(var N=0;N<3;N++)p[(k+1)*3+N]=(A*c[L*3+N]+w*c[D*3+N]+E*c[S*3+N]+g*c[R*3+N])*q;else{for(var Q=0;Q<2;Q++)p[(k+1)*3+Q]=(A*c[L*3+Q]+w*c[D*3+Q]+E*c[S*3+Q]+g*c[R*3+Q])*q;p[(k+1)*3+2]=0}for(var P=0;P<4;P++)d[k*4+P]=h[D*4+P],d[(k+1)*4+P]=h[D*4+P];L=D,k+=2}for(var U=0;U<3;U++)p[k*3+U]=c[(x-1)*3+U];for(var $=0;$<4;$++)d[k*4+$]=h[(x-1)*4+$]}}]),u}()},"./src/utils.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return h});function n(p){return l(p)||o(p)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}function l(p){if(Array.isArray(p)){for(var d=0,x=new Array(p.length);d<p.length;d++)x[d]=p[d];return x}}function u(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function m(p,d){for(var x=0;x<d.length;x++){var M=d[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(p,M.key,M)}}function c(p,d,x){return x&&m(p,x),p}var h=function(){function p(){u(this,p)}return c(p,null,[{key:"atan2",value:function(x,M){var A=Math.atan2(x,M);return A<0&&(A+=2*Math.PI),A}},{key:"cloneVars",value:function(x){return Object.assign({},x)}},{key:"range",value:function(x,M){return M===void 0?n(Array(x).keys()):Array.from({length:M-x},function(A,w){return w+x})}},{key:"pick",value:function(x,M){for(var A={},w=0;w<M.length;w++){var E=M[w];A[E]=x[E]}return A}},{key:"omit",value:function(x,M){for(var A=Object.assign({},x),w=0;w<M.length;w++){var E=M[w];delete A[E]}return A}}]),p}()},"./src/visualizer.js":function(t,a,r){r.r(a),r.d(a,"default",function(){return m});var n=r("./src/audio/audioProcessor.js"),i=r("./src/rendering/renderer.js");function o(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function l(c,h){for(var p=0;p<h.length;p++){var d=h[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function u(c,h,p){return h&&l(c.prototype,h),c}var m=function(){function c(h,p,d){o(this,c),this.audio=new n.default(h);var x=p.getContext("webgl2",{alpha:!1,antialias:!1,depth:!1,stencil:!1,premultipliedAlpha:!1});this.baseValsDefaults={decay:.98,gammaadj:2,echo_zoom:2,echo_alpha:0,echo_orient:0,red_blue:0,brighten:0,darken:0,wrap:1,darken_center:0,solarize:0,invert:0,fshader:0,b1n:0,b2n:0,b3n:0,b1x:1,b2x:1,b3x:1,b1ed:.25,wave_mode:0,additivewave:0,wave_dots:0,wave_thick:0,wave_a:.8,wave_scale:1,wave_smoothing:.75,wave_mystery:0,modwavealphabyvolume:0,modwavealphastart:.75,modwavealphaend:.95,wave_r:1,wave_g:1,wave_b:1,wave_x:.5,wave_y:.5,wave_brighten:1,mv_x:12,mv_y:9,mv_dx:0,mv_dy:0,mv_l:.9,mv_r:1,mv_g:1,mv_b:1,mv_a:1,warpanimspeed:1,warpscale:1,zoomexp:1,zoom:1,rot:0,cx:.5,cy:.5,dx:0,dy:0,warp:1,sx:1,sy:1,ob_size:.01,ob_r:0,ob_g:0,ob_b:0,ob_a:0,ib_size:.01,ib_r:.25,ib_g:.25,ib_b:.25,ib_a:0},this.shapeBaseValsDefaults={enabled:0,sides:4,additive:0,thickoutline:0,textured:0,num_inst:1,tex_zoom:1,tex_ang:0,x:.5,y:.5,rad:.1,ang:0,r:1,g:0,b:0,a:1,r2:0,g2:1,b2:0,a2:0,border_r:1,border_g:1,border_b:1,border_a:.1},this.waveBaseValsDefaults={enabled:0,samples:512,sep:0,scaling:1,smoothing:.5,r:1,g:1,b:1,a:1,spectrum:0,usedots:0,thick:0,additive:0},this.renderer=new i.default(x,this.audio,d)}return u(c,[{key:"connectAudio",value:function(p){this.audioNode=p,this.audio.connectAudio(p)}},{key:"disconnectAudio",value:function(p){this.audio.disconnectAudio(p)}},{key:"loadPreset",value:function(p){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=Object.assign({},p);x.baseVals=Object.assign({},this.baseValsDefaults,x.baseVals);for(var M=0;M<x.shapes.length;M++)x.shapes[M].baseVals=Object.assign({},this.shapeBaseValsDefaults,x.shapes[M].baseVals);for(var A=0;A<x.waves.length;A++)x.waves[A].baseVals=Object.assign({},this.waveBaseValsDefaults,x.waves[A].baseVals);if(typeof x.init_eqs!="function"){x.init_eqs=new Function("a","".concat(x.init_eqs_str," return a;")),x.frame_eqs=new Function("a","".concat(x.frame_eqs_str," return a;")),x.pixel_eqs_str&&x.pixel_eqs_str!==""?x.pixel_eqs=new Function("a","".concat(x.pixel_eqs_str," return a;")):x.pixel_eqs="";for(var w=0;w<x.shapes.length;w++)x.shapes[w].baseVals.enabled!==0&&(x.shapes[w]=Object.assign({},x.shapes[w],{init_eqs:new Function("a","".concat(x.shapes[w].init_eqs_str," return a;")),frame_eqs:new Function("a","".concat(x.shapes[w].frame_eqs_str," return a;"))}));for(var E=0;E<x.waves.length;E++)if(x.waves[E].baseVals.enabled!==0){var g={init_eqs:new Function("a","".concat(x.waves[E].init_eqs_str," return a;")),frame_eqs:new Function("a","".concat(x.waves[E].frame_eqs_str," return a;"))};x.waves[E].point_eqs_str&&x.waves[E].point_eqs_str!==""?g.point_eqs=new Function("a","".concat(x.waves[E].point_eqs_str," return a;")):g.point_eqs="",x.waves[E]=Object.assign({},x.waves[E],g)}}this.renderer.loadPreset(x,d)}},{key:"loadExtraImages",value:function(p){this.renderer.loadExtraImages(p)}},{key:"setRendererSize",value:function(p,d){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.renderer.setRendererSize(p,d,x)}},{key:"setInternalMeshSize",value:function(p,d){this.renderer.setInternalMeshSize(p,d)}},{key:"setOutputAA",value:function(p){this.renderer.setOutputAA(p)}},{key:"render",value:function(p){this.renderer.render(p)}},{key:"launchSongTitleAnim",value:function(p){this.renderer.launchSongTitleAnim(p)}},{key:"toDataURL",value:function(){return this.renderer.toDataURL()}},{key:"warpBufferToDataURL",value:function(){return this.renderer.warpBufferToDataURL()}}]),c}()}})})})(butterchurn$1);var butterchurnExports=butterchurn$1.exports;const butterchurn=getDefaultExportFromCjs$1(butterchurnExports);var butterchurnPresets_min={exports:{}};(function(s,e){(function(t,a){s.exports=a()})(typeof self<"u"?self:commonjsGlobal$1,function(){return function(t){var a={};function r(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=a,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:o})},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=165)}([function(t,a,r){t.exports=!r(5)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,a){t.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},function(t,a){var r=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=r)},function(t,a){var r=t.exports={version:"2.5.3"};typeof __e=="number"&&(__e=r)},function(t,a,r){var n=r(15),i=r(16),o=r(18),l=Object.defineProperty;a.f=r(0)?Object.defineProperty:function(u,m,c){if(n(u),m=o(m,!0),n(c),i)try{return l(u,m,c)}catch{}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(u[m]=c.value),u}},function(t,a){t.exports=function(r){try{return!!r()}catch{return!0}}},function(t,a,r){a.__esModule=!0,a.default=function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}},function(t,a,r){a.__esModule=!0;var n,i=r(8),o=(n=i)&&n.__esModule?n:{default:n};a.default=function(){function l(u,m){for(var c=0;c<m.length;c++){var h=m[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),(0,o.default)(u,h.key,h)}}return function(u,m,c){return m&&l(u.prototype,m),c&&l(u,c),u}}()},function(t,a,r){t.exports={default:r(9),__esModule:!0}},function(t,a,r){r(10);var n=r(3).Object;t.exports=function(i,o,l){return n.defineProperty(i,o,l)}},function(t,a,r){var n=r(11);n(n.S+n.F*!r(0),"Object",{defineProperty:r(4).f})},function(t,a,r){var n=r(2),i=r(3),o=r(12),l=r(14),u=function(m,c,h){var p,d,x,M=m&u.F,A=m&u.G,w=m&u.S,E=m&u.P,g=m&u.B,q=m&u.W,k=A?i:i[c]||(i[c]={}),L=k.prototype,S=A?n:w?n[c]:(n[c]||{}).prototype;for(p in A&&(h=c),h)(d=!M&&S&&S[p]!==void 0)&&p in k||(x=d?S[p]:h[p],k[p]=A&&typeof S[p]!="function"?h[p]:g&&d?o(x,n):q&&S[p]==x?function(R){var D=function(B,N,Q){if(this instanceof R){switch(arguments.length){case 0:return new R;case 1:return new R(B);case 2:return new R(B,N)}return new R(B,N,Q)}return R.apply(this,arguments)};return D.prototype=R.prototype,D}(x):E&&typeof x=="function"?o(Function.call,x):x,E&&((k.virtual||(k.virtual={}))[p]=x,m&u.R&&L&&!L[p]&&l(L,p,x)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,a,r){var n=r(13);t.exports=function(i,o,l){if(n(i),o===void 0)return i;switch(l){case 1:return function(u){return i.call(o,u)};case 2:return function(u,m){return i.call(o,u,m)};case 3:return function(u,m,c){return i.call(o,u,m,c)}}return function(){return i.apply(o,arguments)}}},function(t,a){t.exports=function(r){if(typeof r!="function")throw TypeError(r+" is not a function!");return r}},function(t,a,r){var n=r(4),i=r(19);t.exports=r(0)?function(o,l,u){return n.f(o,l,i(1,u))}:function(o,l,u){return o[l]=u,o}},function(t,a,r){var n=r(1);t.exports=function(i){if(!n(i))throw TypeError(i+" is not an object!");return i}},function(t,a,r){t.exports=!r(0)&&!r(5)(function(){return Object.defineProperty(r(17)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,a,r){var n=r(1),i=r(2).document,o=n(i)&&n(i.createElement);t.exports=function(l){return o?i.createElement(l):{}}},function(t,a,r){var n=r(1);t.exports=function(i,o){if(!n(i))return i;var l,u;if(o&&typeof(l=i.toString)=="function"&&!n(u=l.call(i))||typeof(l=i.valueOf)=="function"&&!n(u=l.call(i))||!o&&typeof(l=i.toString)=="function"&&!n(u=l.call(i)))return u;throw TypeError("Can't convert object to primitive value")}},function(t,a){t.exports=function(r,n){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:n}}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.42,decay:1,echo_zoom:.999823,echo_alpha:.5,echo_orient:1,wave_mode:5,wave_thick:1,wave_brighten:0,wrap:0,darken:1,wave_a:.001185,wave_scale:.325446,wave_smoothing:.9,modwavealphastart:.5,modwavealphaend:1,warpanimspeed:2.630064,warpscale:3.209168,zoomexp:1.000158,dx:1e-5,dy:1e-5,warp:.01,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.005,ob_a:.5,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:.1,mv_x:6.4,mv_y:4.8,mv_l:5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.thresh=0;a.dx_r=0;a.dy_r=0;a.tg1=0;a.tg2=0;a.tg3=0;a.six=0;",frame_eqs_str:"a.wave_r=.5+.5*Math.sin(1.6*a.time);a.wave_g=.5+.5*Math.sin(4.1*a.time);a.wave_b=-1+(1-a.wave_r+1-a.wave_g);a.warp=2;a.ob_r+=a.wave_b*above(Math.sin(.1*a.time),0);a.ob_b+=a.wave_g*above(Math.sin(.1*a.time),0);a.ob_g+=a.wave_r*above(Math.sin(.1*a.time),0);a.ob_r+=a.wave_g*below(Math.sin(.1*a.time),0);a.ob_b+=a.wave_r*below(Math.sin(.1*a.time),0);a.ob_g+=a.wave_b*below(Math.sin(.1*a.time),0);",pixel_eqs_str:`a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.05*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.056*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.tg1=Math.abs(Math.sin(a.time));a.tg2=22*above(a.tg1,.75)+12*below(a.tg1,.25)+18*above(a.tg1,.25)*below(a.tg1,.5)+12*above(a.tg1,.5)*below(a.tg1,.75);a.tg3=.00001<Math.abs(equal(a.thresh,2))?a.tg2:a.tg3;a.six=Math.sin(a.x);a.dx+=
a.dx_r*Math.sin(Math.abs(a.tg3*a.y))*Math.sin(a.time);a.dy+=a.dy_r*Math.sin(Math.abs(a.tg3*a.x))*Math.cos(a.time);a.dx+=a.dx_r*pow(a.rad,2*a.y)*Math.sin(a.time);a.dy+=a.dy_r*pow(a.rad,2*a.x)*Math.sin(a.time);a.zoom-=.0825*pow(a.rad,6*a.x)*Math.cos(6*a.ang);a.rot-=.039375*Math.sin(1.25*a.time)*pow(a.rad,a.x)*Math.sin(1.45*a.time)*Math.sin(a.time);`,warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:1,echo_orient:1,wave_mode:5,wave_brighten:0,wave_a:.001,wave_scale:1.447722,wave_smoothing:.5,modwavealphastart:.5,modwavealphaend:1,fshader:1,dx:1e-5,dy:1e-5,warp:.01,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.015,ob_a:1,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:0,mv_y:0,mv_l:1,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.pfdx_r=0;a.pfthresh=0;a.thresh=0;a.ladder=0;a.q1=0;a.leafset=0;a.dy_r=0;a.pfdy_r=0;a.leaf=0;a.dx_r=0;a.q2=0;a.q3=0;a.leafset=3;",frame_eqs_str:`a.wave_r=.5+.5*Math.sin(1.6*a.time);a.wave_g=.5+.5*Math.sin(4.1*a.time);a.wave_b=-1+(1-a.wave_r+1-a.wave_g);a.warp=0;a.pfthresh=3*above(a.bass_att,a.pfthresh)+(1-above(a.bass_att,a.pfthresh))*(.96*(a.pfthresh-1.3)+1.3);a.pfdx_r=.015*equal(a.pfthresh,3)*Math.sin(5*a.time)+(1-equal(a.pfthresh,3))*a.pfdx_r;a.pfdy_r=.015*equal(a.pfthresh,3)*Math.sin(6*a.time)+(1-equal(a.pfthresh,3))*a.pfdy_r;a.q1=a.wave_r;a.q2=a.wave_g;a.q3=a.wave_b;a.ob_r=1-.75*Math.abs(a.q1);a.ob_g=1-.75*Math.abs(a.q2);
a.ob_b=1-.75*Math.abs(a.q3);a.echo_zoom+=Math.min(Math.max(.75,50*a.pfdx_r),1);a.echo_orient+=16*a.pfdy_r;a.dx+=15.1*a.pfdx_r;a.dy+=15.1*a.pfdy_r;a.ob_size+=.005*a.bass_att;a.ib_a-=Math.min(.5,.5-Math.abs(a.dx+a.dy));`,pixel_eqs_str:`a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.015*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.015*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.ladder=Math.abs(Math.sin(1*a.time));a.leaf=5*below(a.ladder,.2)+8*above(a.ladder,.2)*below(a.ladder,.4)+12*above(a.ladder,.4)*below(a.ladder,.6)+18*above(a.ladder,.6)*below(a.ladder,.8)+24*above(a.ladder,.8);a.leafset=.00001<Math.abs(equal(a.thresh,
2))?a.leaf:a.leafset;a.zoom+=.05*(.75-Math.cos(a.leafset*a.rad))*(1-a.rad);a.zoom-=Math.abs(.05*(.75-Math.cos(4*a.rad)));`,warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:.96,echo_zoom:.99663,echo_orient:1,wave_mode:2,wave_dots:1,wave_brighten:0,wrap:0,darken:1,wave_a:.001,wave_scale:.011726,wave_smoothing:.9,warpanimspeed:.010284,warpscale:.01,warp:.01,wave_r:.5,wave_g:.4,wave_b:.3,ob_size:0,ob_r:.11,ob_b:.1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:64,mv_y:48,mv_l:5,mv_r:0,mv_g:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:32,additive:1,rad:.194774,r:0,b:1,a:1e-6,r2:.63,g2:.7,b2:1,a2:.07,border_a:0},init_eqs_str:"a.lens_scale=0;a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.pos_scale=0;a.cubesize=0;a.xq=0;a.sang=0;a.flip=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;a.flip=1;",frame_eqs_str:`a.flip=-a.flip;a.lens_scale=.5*a.flip+.5;a.lens_scale=1+2.4*a.lens_scale;a.pos_scale=.00001<Math.abs(equal(a.flip,-1))?.5:a.lens_scale;a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),
a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(-a.xp,a.zp)*a.pos_scale+.5;a.y=div(-a.yp,a.zp)*a.pos_scale*1.333+.5;a.rad=a.rad*(1+div(a.q8,
3))*a.lens_scale;`},{baseVals:{enabled:1,sides:6,rad:.043785,r:.3,g:.6,b:1,g2:0,b2:1,border_a:0},init_eqs_str:"a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;",frame_eqs_str:`a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);
a.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;a.a=Math.min(a.a+div(a.q8,2),1);a.r=Math.min(a.r*(1+a.q8),1);a.g=Math.min(a.g*(1+a.q8),1);a.r2=Math.min(div(a.q8,2),1);a.g2=Math.min(div(a.q8,4),1);a.rad*=1+div(a.q8,7);`},{baseVals:{enabled:1,sides:36,rad:.284278,r:0,a:0,r2:.23,g2:.54,b2:1,a2:.05,border_g:.8,border_b:.4,border_a:.45},init_eqs_str:"a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;",frame_eqs_str:`a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);
a.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;a.a2=Math.min(a.a2*(1+div(a.q8,2)),1);a.r2=Math.min(a.r2*(1+div(a.q8,4)),1);a.g2=Math.min(a.g2*(1+div(a.q8,3)),1);a.border_a=Math.min(a.border_a*(1+a.q8),1);`},{baseVals:{enabled:1,sides:6,additive:1,rad:.158045,r:.3,g:.6,b:1,a:.140001,r2:.4,g2:.5,b2:1,border_a:0},init_eqs_str:"a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.tm=0;a.zp=0;a.q2=0;a.sample=0;a.q8=0;",frame_eqs_str:`a.t1=.25*a.q1;a.sample=1;a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);
a.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;a.a=Math.min(a.a*a.q8,1);a.rad*=1+a.q8;`}],waves:[{baseVals:{enabled:1,thick:1,additive:1,r:.05,g:.09},init_eqs_str:"a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.ang=0;a.tm=0;a.zp=0;a.q2=0;",frame_eqs_str:"a.t1=.25*a.q1;",point_eqs_str:`a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.tm=4*a.q1+4*a.sample;a.xp=Math.sin(a.tm)*Math.cos(3*a.tm)*.5+.5;a.yp=Math.sin(1.1*a.tm)*Math.sin(4.1*a.tm)*.5+.5;a.zp=Math.sin(2.9*a.tm)*Math.cos(1.77*a.tm)*.5+.5;a.xp=div(Math.floor(a.xp*a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(Math.floor(a.yp*a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(Math.floor(a.zp*a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp*a.sang+a.zp*
a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;`},{baseVals:{enabled:0}},{baseVals:{enabled:1,usedots:1,thick:1},init_eqs_str:"a.cang=0;a.n=0;a.yq=0;a.xp=0;a.fix=0;a.yp=0;a.t1=0;a.q1=0;a.cubesize=0;a.xq=0;a.sang=0;a.zq=0;a.ang=0;a.zp=0;a.q2=0;",frame_eqs_str:"a.t1=.25*a.q1;",point_eqs_str:`a.n=6.283*a.sample;a.cubesize=a.q2;a.fix=.5*div(1,a.cubesize);a.xp=div(randint(a.cubesize),a.cubesize)-.5+a.fix;a.yp=div(randint(a.cubesize),a.cubesize)-.5+a.fix;a.zp=div(randint(a.cubesize),a.cubesize)-.5+a.fix;a.ang=a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp*a.sang+a.zp*a.cang;a.yq=a.yp;a.zq=a.xp*a.cang-a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.ang=.75*a.t1;a.sang=Math.sin(a.ang);a.cang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sang+a.zp*a.cang;a.zq=a.yp*a.cang-
a.zp*a.sang;a.xp=a.xq;a.yp=a.yq;a.zp=a.zq;a.zp+=2;a.x=div(a.xp,a.zp)+.5;a.y=1.333*div(a.yp,a.zp)+.5;`},{baseVals:{enabled:0}}],init_eqs_str:"a.q1=0;a.beat=0;a.vol=0;a.bc=0;a.size=0;a.q2=0;a.trigger=0;a.q7=0;a.mtime=0;a.q8=0;a.mv_x=64;a.mv_y=48;a.nut=0;a.stp=0;a.stq=0;a.rtp=0;a.rtq=0;a.wvr=0;a.decay=0;a.dcsp=0;a.size=4;a.bc=0;",frame_eqs_str:"a.decay=.95;a.zoom=1.005;a.vol=.25*(a.bass+a.mid+a.treb);a.vol*=a.vol;a.q8=a.vol;a.mtime+=.01*a.vol*div(75,a.fps);a.q7=a.mtime;a.monitor=div(512,8);a.warp=0;a.q1=.9*a.mtime;a.beat=above(a.vol,1);a.bc=Math.max(a.bc,0);a.bc=.00001<Math.abs(equal(a.bc,0))?a.bc+a.beat:a.bc-div(div(1,a.fps),4);a.trigger=equal(a.bc,1);a.monitor=a.size;a.size+=a.trigger;a.size=.00001<Math.abs(above(a.size,10))?4:a.size;a.q2=Math.floor(a.size);",pixel_eqs_str:"",pixel_eqs:"",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:5,decay:.95,echo_zoom:1.006596,echo_orient:1,wave_mode:2,wave_dots:1,wave_brighten:0,wave_a:.019788,wave_scale:.011726,wave_smoothing:.9,warpanimspeed:.010284,warpscale:.01,fshader:1,warp:.01,wave_r:.5,wave_g:.4,wave_b:.3,ob_size:0,ob_r:.11,ob_b:.1,ib_size:.005,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:31.999994,mv_y:24.000004,mv_dx:.02,mv_dy:-.02,mv_l:1,mv_r:.49,mv_g:.48,mv_b:.300001,mv_a:0},shapes:[{baseVals:{enabled:1,textured:1,rad:1.670888,tex_ang:.942478,tex_zoom:.534261,g:1,b:1,r2:1,b2:1,a2:1,border_a:.17},init_eqs_str:"a.flux=0;a.q5=0;a.fluxs=0;a.advflux=0;a.q3=0;a.adv=0;a.advs=0;",frame_eqs_str:"a.flux=9*a.q5;a.fluxs=Math.max(a.flux,0);a.fluxs=Math.min(a.fluxs,1);a.advflux=a.q3*a.fluxs+-a.q3*(1-a.fluxs);a.adv+=a.advflux;a.advs=div(a.adv,256);a.ang=a.advs;a.rad=1.671+div(a.q3,25);"},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:3,x:.59,rad:.444842,r:0,r2:.1,g2:.05,border_a:0},init_eqs_str:"a.rotator=0;a.dir=0;a.mover=0;a.dir=3;a.mover=0;a.rotator=.255;",frame_eqs_str:`a.ang=a.rotator;a.x=.00001<Math.abs(equal(a.dir,1))?1-a.mover:.00001<Math.abs(equal(a.dir,1.5))?.15:.00001<Math.abs(equal(a.dir,2))?0:.00001<Math.abs(equal(a.dir,2.5))?0:.00001<Math.abs(equal(a.dir,3))?0+a.mover:.00001<Math.abs(equal(a.dir,3.5))?1:(equal(a.dir,4),1);a.y=.00001<Math.abs(equal(a.dir,1))?1:.00001<Math.abs(equal(a.dir,1.5))?1:.00001<Math.abs(equal(a.dir,2))?1-a.mover:.00001<Math.abs(equal(a.dir,2.5))?0:.00001<Math.abs(equal(a.dir,3))?0:.00001<Math.abs(equal(a.dir,
3.5))?0:.00001<Math.abs(equal(a.dir,4))?0+a.mover:1;a.mover=.00001<Math.abs(equal(a.dir,1))?a.mover+.005:.00001<Math.abs(equal(a.dir,1.5))?0:.00001<Math.abs(equal(a.dir,2))?a.mover+.005:.00001<Math.abs(equal(a.dir,2.5))?0:.00001<Math.abs(equal(a.dir,3))?a.mover+.005:.00001<Math.abs(equal(a.dir,3.5))?0:.00001<Math.abs(equal(a.dir,4))?a.mover+.005:0;a.dir=.00001<Math.abs(equal(a.dir,1))?.00001<Math.abs(above(a.mover,.995))?1.5:a.dir:.00001<Math.abs(equal(a.dir,1.5))?.00001<Math.abs(below(a.rotator,
-1.29))?2:a.dir:.00001<Math.abs(equal(a.dir,2))?.00001<Math.abs(above(a.mover,.995))?2.5:a.dir:.00001<Math.abs(equal(a.dir,2.5))?.00001<Math.abs(below(a.rotator,-2.85))?3:a.dir:.00001<Math.abs(equal(a.dir,3))?.00001<Math.abs(above(a.mover,.995))?3.5:a.dir:.00001<Math.abs(equal(a.dir,3.5))?.00001<Math.abs(below(a.rotator,-4.44))?4:a.dir:.00001<Math.abs(equal(a.dir,4))?.00001<Math.abs(above(a.mover,.995))?4.5:a.dir:.00001<Math.abs(equal(a.dir,4.5))?.00001<Math.abs(below(a.rotator,-5.94))?1:a.dir:a.dir;
a.rotator=.00001<Math.abs(equal(a.dir,1.5))?.00001<Math.abs(above(a.rotator,-1.31))?a.rotator-.05:a.rotator:.00001<Math.abs(equal(a.dir,2))?-1.3:.00001<Math.abs(equal(a.dir,2.5))?.00001<Math.abs(above(a.rotator,-2.87))?a.rotator-.05:a.rotator:.00001<Math.abs(equal(a.dir,3))?-2.86:.00001<Math.abs(equal(a.dir,3.5))?.00001<Math.abs(above(a.rotator,-4.46))?a.rotator-.05:a.rotator:.00001<Math.abs(equal(a.dir,4))?-4.45:.00001<Math.abs(equal(a.dir,4.5))?.00001<Math.abs(above(a.rotator,-5.97))?a.rotator-
.05:a.rotator:.00001<Math.abs(equal(a.dir,4))?-5.96:.26;a.b=above(a.mid,1.5);a.r2=above(a.mid,1.5);a.g2=above(a.mid,1.5);a.b2=above(a.mid,1.5);`},{baseVals:{enabled:1,sides:3,additive:1,x:.84,r:.98,g:1,b:.98,a:.3,g2:.09,border_a:0},init_eqs_str:"a.q1=0;",frame_eqs_str:"a.x=.4*Math.sin(div(a.time,2))+.5;a.y=.4*Math.sin(a.time)+.5;a.rad=div(a.q1*a.q1,2);a.ang=4*a.q1;a.r=.7+.5*Math.sin(div(a.time,2));a.g=.7+.5*Math.sin(div(a.time,2)+2);a.b=.7+.5*Math.sin(div(a.time,2)+4);"}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.speedinv=0;a.q1=0;a.q5=0;a.flux=0;a.q4=0;a.q2=0;a.qb=0;a.speed=0;a.qc=0;a.q3=0;a.qa=0;a.mv_x=64;a.mv_y=48;a.nut=0;a.stp=0;a.stq=0;a.rtp=0;a.rtq=0;a.wvr=0;a.decay=0;a.dcsp=0;a.q1=0;a.q2=0;a.q3=0;",frame_eqs_str:"a.decay=1;a.zoom=1;a.speed=.8;a.speedinv=1-a.speed;a.q1=a.qa*a.speed+a.bass*a.speedinv;a.q2=a.qb*a.speed+a.mid*a.speedinv;a.q3=a.qc*a.speed+a.treb*a.speedinv;a.qa=a.q1;a.qb=a.q2;a.qc=a.q3;a.flux=Math.sin(div(a.time,2));a.q4=.5*a.flux+.5;a.q5=a.flux;",pixel_eqs_str:"",pixel_eqs:"",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.21,decay:.96,echo_zoom:.99663,echo_orient:1,wave_mode:2,wave_dots:1,wave_brighten:0,brighten:1,invert:1,wave_a:.001,wave_scale:.011726,wave_smoothing:.9,warpanimspeed:.037492,warpscale:.014889,warp:.033004,wave_r:.5,wave_g:.4,wave_b:.3,ob_size:.055,ob_r:1,ob_g:1,ob_b:1,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:0,mv_y:43.199997,mv_l:1,mv_g:.91,mv_b:.71,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,r:.1,b:.7},init_eqs_str:"a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;",frame_eqs_str:"a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;",point_eqs_str:`a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5);a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.xq=a.xp;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;a.ang=3.14+1.5*
Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-.5;
a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);`},{baseVals:{enabled:1,r:.2,b:.6},init_eqs_str:"a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;",frame_eqs_str:"a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;",point_eqs_str:`a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5)+.1;a.yp=-a.yp;a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;
a.ang=3.14+1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-
.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);`},{baseVals:{enabled:1,usedots:1,thick:1,additive:1,g:.6,b:.1},init_eqs_str:"a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.t8=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.ang=0;a.sinang=0;a.tm=0;a.t2=0;a.zp=0;a.t4=0;a.q8=0;",frame_eqs_str:"a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;a.t8=Math.floor(2*Math.sin(2*a.time)+3);",point_eqs_str:`a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5);a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.xq=a.xp;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm+1;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;a.ang=3.14+
1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-
.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=above(Math.sin(128*a.tm*a.t8),0);a.r=a.t4;a.g=a.t5;a.b=a.t6;`},{baseVals:{enabled:1,usedots:1,thick:1,additive:1,g:.3,b:.1},init_eqs_str:"a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.t8=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.ang=0;a.sinang=0;a.tm=0;a.t2=0;a.zp=0;a.t4=0;a.q8=0;",frame_eqs_str:"a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;a.t8=Math.floor(2*Math.sin(2*a.time)+3);",point_eqs_str:`a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5)+.1;a.yp=-a.yp;a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm+1;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=
.3;a.ang=3.14+1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*
Math.cos(a.tm)-.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.a*=above(Math.sin(128*a.tm*a.t8),0);a.r=a.t4;a.g=a.t5;a.b=a.t6;`}],init_eqs_str:'a.meanbass_att=0;a.q1=0;a["var"]=0;a.flip=0;a.lastbeat=0;a.beatrate=0;a.mode=0;a.peakbass_att=0;a.beatcounter=0;a.att=0;a.volume=0;a.beat=0;a.vol=0;a.mtime=0;a.q8=0;a.mv_x=64;a.mv_y=48;a.nut=0;a.stp=0;a.stq=0;a.rtp=0;a.rtq=0;a.wvr=0;a.decay=0;a.dcsp=0;a.warp=0;',frame_eqs_str:`a.volume=.3*(a.bass+a.mid+a.att);a.beatrate=equal(a.beatrate,0)+(1-equal(a.beatrate,0))*(below(a.volume,.01)+(1-below(a.volume,.01))*a.beatrate);a.lastbeat+=equal(a.lastbeat,0)*a.time;a.meanbass_att=.1*(9*a.meanbass_att+a.bass_att);a.peakbass_att=Math.max(a.bass_att,a.peakbass_att);a.beatrate=Math.max(.00001<Math.abs(a.beat)?.00001<Math.abs(below(a.time-a.lastbeat,2*a.beatrate))?.1*(9*a.beatrate+a.time-a.lastbeat):a.beatrate:a.beatrate,.1);a.peakbass_att=a.beat*a.bass_att+(1-
a.beat)*a.peakbass_att*(.95*above(a.time-a.lastbeat,2*a.beatrate)+.995*(1-above(a.time-a.lastbeat,2*a.beatrate)));a.lastbeat=a.beat*a.time+(1-a.beat)*a.lastbeat;a.peakbass_att=Math.max(a.peakbass_att,1.1*a.meanbass_att);a.beat=above(a.volume,.8)*below(a.peakbass_att-a.bass_att,.05*a.peakbass_att)*above(a.time-a.lastbeat,.1+.5*(a.beatrate-.1));a.beatcounter+=a.beat;a.mode=.00001<Math.abs(a.beat*equal(mod(a.beatcounter,2),0))?1-a.mode:a.mode;a.flip=2*a.mode-1;a.monitor=a.flip;a.q8=a.flip;a.decay=1;
a.zoom=1.002;a.vol=.25*(a.bass_att+a.mid_att+a.treb_att);a.vol*=a.vol;a.mtime+=.1*a.vol*a.flip*div(55,a.fps);a.q1=.4*a.mtime;a.warp=0;`,pixel_eqs_str:'a["var"]=Math.tan(a.time)*a.treb*a.treb;a.zoom=1+div(a.rad,40)+div(a["var"],40);',warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.999,echo_zoom:1.006596,echo_alpha:.5,echo_orient:3,wave_mode:2,additivewave:1,wave_dots:1,wave_thick:1,wave_a:4.099998,wave_scale:1.18647,wave_smoothing:.63,wave_mystery:-.2,modwavealphastart:.71,modwavealphaend:1.28,warpscale:1.331,zoom:.999514,warp:.01,wave_r:.3,wave_g:.6,ob_size:.005,ob_r:.4999,ob_b:1,ob_a:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:.2,mv_r:0,mv_g:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""}],init_eqs_str:"a.new_mid=0;a.q6=0;a.q1=0;a.q5=0;a.treb_c=0;a.vol_att=0;a.zoome=0;a.mid_c=0;a.new_treb=0;a.q4=0;a.rad_cycle=0;a.vol_c=0;a.bass_c=0;a.rote=0;a.vol=0;a.new_bass=0;a.q2=0;a.q3=0;a.q7=0;a.q8=0;",frame_eqs_str:`a.vol_att=.25*a.treb_att+.25*a.mid_att+div(.25*a.bass_att+.5*Math.sin(a.vol),a.vol);a.vol=a.bass+a.treb+a.mid;a.new_bass=.25*a.bass+.5*Math.sin(.25*a.bass_att);a.new_treb=.25*a.treb+.5*Math.sin(.25*a.treb_att);a.new_mid=.25*a.mid+.4*Math.sin(.25*a.mid_att);a.bass_c=a.q1-Math.sin(bitand(a.bass_att,.54*a.time));a.treb_c=a.q2-Math.sin(bitand(a.treb_att,.44*a.time));a.mid_c=a.q3-Math.sin(bitand(a.mid_att,.24*a.time));a.vol_c=a.q4-Math.sin(bitand(a.vol_att,.64*a.time));a.q1=Math.sin(bitand(a.bass-
a.new_bass,.63*a.time));a.q2=Math.sin(bitand(a.treb-a.new_treb,.43*a.time));a.q3=Math.sin(bitand(a.mid-a.new_mid,.23*a.time));a.q4=Math.sin(bitand(a.vol,.65*a.time));a.q5=a.bass_c;a.q6=a.treb_c;a.q7=a.mid_c;a.q8=a.vol_c;a.wave_mystery=a.bass_att-1;a.wave_r+=.2*Math.sin(.43*a.time);a.wave_b-=.2*Math.sin(.54*a.time);a.wave_g-=.4*Math.sin(.34*a.time);a.ob_a=0;`,pixel_eqs_str:"a.rad_cycle=a.rad*a.rad*a.x*60*a.rad*Math.sin(a.q6);a.rote=a.rot+.1*Math.sin(a.rad_cycle*Math.sin(3.14*a.rad))+.01*Math.sin(a.q1)*Math.tan(a.rad);a.zoome=a.zoom+.1*Math.sin(3.14*a.rad*Math.sin(3.14*a.ang)*Math.sin(a.q2)-a.rote);a.zoom=a.zoome+.05*Math.sin(3.14*a.rad*a.q2)*Math.sin(a.q4);a.rot=a.rote*a.rad+div(div(a.ang,2)*Math.sin(a.q3)*Math.sin(3.14*a.ang*Math.sin(a.q3)*Math.sin(a.q4)),2)+.1*Math.sin(3.14*a.ang)*Math.sin(a.q1);",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:0,decay:1,echo_zoom:1,wave_mode:1,wave_brighten:0,wave_a:1,wave_scale:.504218,wave_mystery:.24,warpanimspeed:9.8608,warpscale:16.2174,zoomexp:1.503744,zoom:1.0201,warp:.819544,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.005,ob_a:.2,ib_size:.005,ib_r:0,ib_g:0,ib_b:0,ib_a:.06,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""}],init_eqs_str:"a.xpos=0;a.yamptarg=0;a.ydir=0;a.zoom_exp=0;a.yaccel=0;a.xamptarg=0;a.xamp=0;a.xspeed=0;a.ypos=0;a.xaccel=0;a.att=0;a.vol=0;a.yamp=0;a.xdir=0;a.yspeed=0;",frame_eqs_str:`a.dx=-.0005;a.dy=-.0005;a.vol=div(a.bass+a.mid+a.att,6);a.xamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.5*a.vol*a.bass_att,.5):a.xamptarg;a.xamp+=.5*(a.xamptarg-a.xamp);a.xdir=.00001<Math.abs(above(Math.abs(a.xpos),a.xamp))?-sign(a.xpos):.00001<Math.abs(below(Math.abs(a.xspeed),.1))?2*above(a.xpos,0)-1:a.xdir;a.xaccel=a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);a.xspeed=a.xspeed+a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);
a.xpos+=.001*a.xspeed;a.wave_x=a.xpos+.5;a.yamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.3*a.vol*a.treb_att,.5):a.yamptarg;a.yamp+=.5*(a.yamptarg-a.yamp);a.ydir=.00001<Math.abs(above(Math.abs(a.ypos),a.yamp))?-sign(a.ypos):.00001<Math.abs(below(Math.abs(a.yspeed),.1))?2*above(a.ypos,0)-1:a.ydir;a.yaccel=a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.yspeed=a.yspeed+a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.ypos+=.001*a.yspeed;a.wave_y=
a.ypos+.5;a.wave_r+=.35*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.35*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.35*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.rot+=.03*(.6*Math.sin(.381*a.time)+.4*Math.sin(.479*a.time));a.cx+=.41*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.41*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.wave_mystery+=.15*(.6*Math.sin(.629*a.time)+.4*Math.sin(1.826*a.time));a.warp*=a.vol;a.zoom-=.02*a.zoom*
a.bass_att;a.zoom_exp=1.5*(.6*Math.sin(.381*a.time)+.4*Math.sin(.479*a.time));a.ob_a=1-2*a.vol;a.monitor=a.zoom_exp;`,pixel_eqs_str:"",pixel_eqs:"",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:3,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_brighten:0,darken:1,wave_a:.002,wave_scale:.14,wave_smoothing:0,wave_mystery:-.84,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_g:0,wave_b:.6,ob_size:.015,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:23,textured:1,rad:.72143,tex_ang:.62832,tex_zoom:.0402,g:1,b:1,a:.9,r2:.9,b2:1,a2:.3,border_a:0},init_eqs_str:"a.vis=0;a.q27=0;a.q22=0;",frame_eqs_str:"a.vis=div(bnot(mod(a.q27,8))*a.q22,2);a.vis=Math.min(a.vis,1);a.a=div(a.vis,2);a.a2=div(a.vis,2);a.tex_zoom=1;a.rad=.3*a.vis;"},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:5,additive:1,num_inst:4,x:.9,rad:.24732,tex_zoom:.40839,g:.6,a:.4,g2:0,b2:.6,border_a:0},init_eqs_str:"a.blue=0;a.ampl=0;a.steps=0;a.k1=0;a.q24=0;a.green=0;a.red=0;a.trig=0;a.q27=0;a.q28=0;",frame_eqs_str:`a.steps=a.q28+1;a.steps=4;a.ampl=.2;a.x=.5+a.ampl*Math.cos(6.28*(div(a.q27,a.steps)+div(a.instance,4)));a.y=.5+a.ampl*Math.sin(6.28*(div(a.q27,a.steps)+div(a.instance,4)));a.a=.4;a.a2=0;a.trig=a.q24*bnot(mod(a.q27,4));a.red=bnot(a.trig)*a.red+div(randint(100),100)*a.trig;a.green=bnot(a.trig)*a.green+div(randint(100),100)*a.trig;a.blue=bnot(a.trig)*a.blue+div(randint(100),100)*a.trig;a.k1=div(a.instance,a.num_inst);a.r=a.red*a.k1;a.g=a.green*(1-a.k1);a.b=4*a.blue*a.k1*(1-a.k1);
a.r=a.red;a.g=a.green;a.b=a.blue;a.r2=a.r;a.b2=a.b;a.g2=a.g;`},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.px=0;a.index2=0;a.speed_=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q15=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.py=0;a.movz=0;a.trel=0;a.q9=0;a.rott=0;a.vol__=0;a.is_beat=0;a.k1=0;a.q24=0;a.vx=0;a.dec_slow=0;a.q11=0;a.q10=0;a.vy=0;a.vz=0;a.q4=0;a.dir=0;a.q16=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.q17=0;a.vol=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.speed=0;a.q3=0;a.t0=0;a.vol_=0;a.q7=0;a.q28=0;a.q20=0;a.q8=0;a.ang0=0;a.speed_=1;a.vx=0;a.vy=0;a.vz=0;a.trel=0;a.p1=0;a.dir=0;a.ang0=
0;`,frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.96,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.5);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q24=a.is_beat;a.vol=a.bass_att+a.mid_att+
a.treb_att;a.vol_=a.dec_med*a.vol_+(1-a.dec_med)*a.vol;a.vol__=a.dec_med*a.vol__+(1-a.dec_med)*a.vol_;a.q27=a.index+1;a.q28=a.index2+1;a.k1=a.is_beat*equal(mod(a.index,4),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,8));a.vx=a.vx*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vy=a.vy*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vz=a.vz*bnot(a.trig)+
a.trig*(div(randint(100),100)-.5);a.q10=.2+a.vy*a.vy*4;a.q11=.5*Math.cos(div(a.time,9))+.3;a.speed=Math.min(a.vol_-a.vol__+.5,1);a.speed=Math.max(a.speed,-.5);a.speed_=bnot(a.trig)*a.speed_+a.trig*a.speed;a.movz+=div(1,a.fps)*a.speed_;a.q9=a.movz;a.q12=2*Math.min(a.q22,6);a.trig=bnot(mod(a.index,4))*a.q24;a.dir=bnot(a.trig)*a.dir+a.trig*(randint(10)-5);a.trel+=div(.2,a.fps)*a.dir;a.q5=Math.cos(a.trel);a.q6=Math.sin(a.trel+0*a.q27*mod(a.q28,2));a.q7=-a.q6;a.q8=a.q5;a.px=a.px*a.dec_med+(1-a.dec_med)*
a.vx;a.py=a.py*a.dec_med+(1-a.dec_med)*a.vy;a.q15=div(a.px,3);a.q16=div(a.py,3);a.q13=Math.min(2,1+Math.abs(8*a.px*a.py));a.ang0=a.ang0*a.dec_med+a.vz*(1-a.dec_med);a.q17=2*a.ang0;a.zoom=1.1;a.rot=.2*Math.sin(bnot(mod(a.q28,2))*a.q28);a.dx=0;a.monitor=a.q11;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 uv6_1;
  vec2 uv1_2;
  vec2 tmpvar_3;
  tmpvar_3 = (uv - 0.5);
  float x_4;
  x_4 = (abs(tmpvar_3.x) - abs(tmpvar_3.y));
  float tmpvar_5;
  tmpvar_5 = (18.0 * sqrt((x_4 * x_4)));
  uv1_2 = (tmpvar_3 - (clamp (
    ((sin(tmpvar_5) / cos(tmpvar_5)) * normalize(tmpvar_3))
  , vec2(-3.0, -3.0), vec2(3.0, 3.0)) / 60.0));
  uv6_1 = (0.4 * cos((
    (uv1_2 * 4.0)
   * q28)));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = (((texture (sampler_main, 
    ((uv1_2 * (q11 + (q10 * tmpvar_5))) + 0.5)
  ).xyz + 
    (vec3((0.006 / sqrt(dot (uv6_1, uv6_1)))) * (1.0 + roam_cos).xyz)
  ) * 0.99) - 0.025);
  ret = tmpvar_6.xyz;
 }`,comp:`float xlat_mutableang2;
vec2 xlat_mutablers0;
vec2 xlat_mutableuv2;
 shader_body { 
  vec2 uv_1;
  vec3 ret1_3;
  uv_1 = ((uv - 0.5) * aspect.xy);
  vec2 tmpvar_4;
  tmpvar_4.x = q15;
  tmpvar_4.y = q16;
  uv_1 = (uv_1 + tmpvar_4);
  mat2 tmpvar_5;
  tmpvar_5[uint(0)] = _qb.xy;
  tmpvar_5[1u] = _qb.zw;
  uv_1 = (uv_1 * tmpvar_5);
  float tmpvar_6;
  float tmpvar_7;
  tmpvar_7 = (min (abs(
    (uv_1.y / uv_1.x)
  ), 1.0) / max (abs(
    (uv_1.y / uv_1.x)
  ), 1.0));
  float tmpvar_8;
  tmpvar_8 = (tmpvar_7 * tmpvar_7);
  tmpvar_8 = (((
    ((((
      ((((-0.01213232 * tmpvar_8) + 0.05368138) * tmpvar_8) - 0.1173503)
     * tmpvar_8) + 0.1938925) * tmpvar_8) - 0.3326756)
   * tmpvar_8) + 0.9999793) * tmpvar_7);
  tmpvar_8 = (tmpvar_8 + (float(
    (abs((uv_1.y / uv_1.x)) > 1.0)
  ) * (
    (tmpvar_8 * -2.0)
   + 1.570796)));
  tmpvar_6 = (tmpvar_8 * sign((uv_1.y / uv_1.x)));
  if ((abs(uv_1.x) > (1e-08 * abs(uv_1.y)))) {
    if ((uv_1.x < 0.0)) {
      if ((uv_1.y >= 0.0)) {
        tmpvar_6 += 3.141593;
      } else {
        tmpvar_6 = (tmpvar_6 - 3.141593);
      };
    };
  } else {
    tmpvar_6 = (sign(uv_1.y) * 1.570796);
  };
  xlat_mutablers0.x = ((tmpvar_6 / 3.1416) * 2.0);
  xlat_mutablers0.y = (0.03 / sqrt(dot (uv_1, uv_1)));
  ret1_3 = vec3(0.0, 0.0, 0.0);
  for (int n_2 = 0; n_2 <= 10; n_2++) {
    float tmpvar_9;
    tmpvar_9 = fract((-(q9) + (
      float(n_2)
     / 10.0)));
    xlat_mutableang2 = (((q1 * 3.14) * float(n_2)) / 10.0);
    float tmpvar_10;
    tmpvar_10 = cos(xlat_mutableang2);
    float tmpvar_11;
    tmpvar_11 = sin(xlat_mutableang2);
    mat2 tmpvar_12;
    tmpvar_12[uint(0)].x = tmpvar_10;
    tmpvar_12[uint(0)].y = -(tmpvar_11);
    tmpvar_12[1u].x = tmpvar_11;
    tmpvar_12[1u].y = tmpvar_10;
    xlat_mutableuv2 = (uv_1 * ((q13 * tmpvar_9) * tmpvar_12));
    ret1_3 = max (ret1_3, (texture (sampler_main, (xlat_mutableuv2 + 0.5)).xyz * (1.0 - tmpvar_9)));
  };
  vec4 tmpvar_13;
  tmpvar_13.w = 1.0;
  tmpvar_13.xyz = ((ret1_3 * 2.0) + ((
    (bass_att * xlat_mutablers0.y)
   * texture (sampler_main, 
    ((uv_1 * q12) + vec2(0.5, 0.0))
  ).yzx) * clamp (
    (1.0 - (ret1_3 * 32.0))
  , 0.0, 1.0)));
  ret = tmpvar_13.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.965,echo_zoom:1.483827,echo_alpha:.5,echo_orient:3,wave_mode:7,additivewave:1,wave_brighten:0,wrap:0,darken_center:1,darken:1,wave_a:.001,wave_scale:1.285751,wave_smoothing:.63,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:.01,warpscale:1.470245,zoomexp:4.778023,zoom:.998162,warp:.01,sx:1.001828,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:.005,ob_r:1,ob_g:.5,ob_b:.5,ob_a:1,ib_size:.5,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:4.800001,mv_dx:.4,mv_l:1,mv_r:0,mv_g:.5,mv_a:.1},shapes:[{baseVals:{enabled:1,sides:3,additive:1,thickoutline:1,textured:1,x:1,y:.59,rad:.559231,ang:3.39292,tex_zoom:100,r:0,g:1,b:1,g2:0,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"",frame_eqs_str:"a.x=.1*Math.sin(div(a.time,10))+.5+.1*a.treb_att;"},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:6,textured:1,x:.3,y:.7,rad:1.089252,ang:.816814,tex_ang:3.141592,tex_zoom:.504215,g:1,b:1,r2:1,b2:1,border_a:0},init_eqs_str:"",frame_eqs_str:""},{baseVals:{enabled:1,sides:3,textured:1,rad:.284278,ang:3.141593,tex_ang:4.900885,tex_zoom:2.987755,g:1,b:1,r2:.95,b2:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:'a["var"]=0;',frame_eqs_str:'a.ang=div(a.time,10);a.tex_zoom=3.4+.03*a.bass;a["var"]=above(a.bass_att,.7);a.a=a["var"];a.a2=a["var"];a.border_a=a["var"];'}],waves:[{baseVals:{enabled:1,usedots:1,thick:1,additive:1,r:0,a:.06},init_eqs_str:"a.px=0;a.xoffset2=0;a.py=0;a.xoffset1=0;a.pheight=0;a.pphase=0;a.yspout=0;a.pphase2=0;a.xspout=0;a.lrorient=0;a.yheight=0;",frame_eqs_str:"",point_eqs_str:`a.xspout=.5;a.yspout=-.01;a.pphase=9999*a.sample*a.sample*.0001;a.pphase2=.1+.01*mod(3349*a.sample*a.sample,100);a.pheight=.002*mod(9893*a.sample,100);a.yheight=.01*mod(1231*a.sample*a.sample,100);a.r=.01*mod(5454*a.sample,100)*Math.abs(Math.sin(.25*a.time));a.g=.01*mod(9954*a.sample,100);a.xoffset1=Math.cos(a.time*a.pphase2+a.pphase)*a.pheight;a.xoffset2=-1*Math.cos(a.time*a.pphase2+a.pphase)*a.pheight;a.lrorient=.00001<Math.abs(below(Math.cos(a.time*a.pphase2+a.pphase),Math.cos((a.time-
.1)*a.pphase2+a.pphase)))?0:1;a.px=.00001<Math.abs(equal(a.lrorient,0))?a.xspout-a.pheight+a.xoffset1:a.xspout+a.pheight-a.xoffset2;a.py=a.yspout+Math.abs(Math.sin(a.time*a.pphase2+a.pphase))*a.yheight;a.x=a.px;a.y=a.py;`},{baseVals:{enabled:1,usedots:1,thick:1,additive:1,r:0},init_eqs_str:"a.pphase=0;a.pheight=0;a.xspout=0;a.yspout=0;a.px=0;a.py=0;",frame_eqs_str:"",point_eqs_str:`a.pphase=5671*a.sample*Math.cos(.0001*a.time);a.pheight=.005*mod(7654*a.sample,100)*Math.sin(.2*a.time);a.xspout=.00001<Math.abs(below(Math.abs(Math.sin(.2*a.time)),.005))?.3+.01*randint(40):a.xspout;a.yspout=.00001<Math.abs(below(Math.abs(Math.sin(.2*a.time)),.005))?.3+.01*randint(40):a.yspout;a.px=a.xspout+Math.cos(a.time+a.pphase)*a.pheight;a.py=a.yspout+Math.sin(a.time+a.pphase)*a.pheight;a.x=a.px;a.y=a.py;a.a=Math.abs(.3*Math.sin(.2*a.time)+.1*a.treb_att);a.r=2*a.treb;
`},{baseVals:{enabled:1,thick:1,additive:1,b:0},init_eqs_str:"a.n=0;a.yq=0;a.xp=0;a.yr=0;a.xs=0;a.yp=0;a.xr=0;a.q1=0;a.xq=0;a.flip=0;a.ca=0;a.ys=0;a.sa=0;a.zq=0;a.phs=0;a.ang=0;a.tm=0;a.zp=0;a.zr=0;",frame_eqs_str:"",point_eqs_str:`a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+4*a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=(.1*a.flip-.05)*a.sample;a.zp=0;a.ang=20*a.tm+.4*Math.sin(76*a.tm+4*a.time);a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.xr=a.xp*a.sa+a.yp*a.ca;a.yr=a.xp*a.ca-a.yp*a.sa;a.zr=a.zp;a.xp=a.xr;a.yp=a.yr+.05+.2*(.5*Math.sin(a.tm)+.5)+.05;a.zp=a.zr;a.ang=Math.sin(2*a.tm);a.xq=a.xp;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.yq=a.yp*a.sa+a.zp*a.ca;a.zq=a.yp*a.ca-a.zp*a.sa;a.ang=8*a.tm;
a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.xp=a.xq*a.sa+a.yq*a.ca;a.yp=a.xq*a.ca-a.yq*a.sa;a.zp=a.zq;a.zp-=.3;a.ang=3.14+2.5*Math.sin(2*a.tm-.5);a.xq=a.xp;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.yq=a.yp*a.sa+a.zp*a.ca;a.zq=a.yp*a.ca-a.zp*a.sa;a.ang=-1+Math.cos(3*a.tm+.5);a.xp=a.xq*a.sa+a.yq*a.ca;a.yp=a.xq*a.ca-a.yq*a.sa;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(1*a.tm)-1.05;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.xq=a.xp*a.sa+a.zp*a.ca;a.yq=a.yp;a.zq=a.xp*a.ca-a.zp*a.sa;a.ang=Math.cos(a.tm);
a.xp=a.xq;a.sa=Math.sin(a.ang);a.ca=Math.cos(a.ang);a.yp=a.yq*a.ca-a.zq*a.sa;a.zp=a.yq*a.sa+a.zq*a.ca;a.zp+=1.5;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=1-a.sample;`},{baseVals:{enabled:0}}],init_eqs_str:"a.vol=0;a.mtime=0;a.q1=0;",frame_eqs_str:"a.decay=.999;a.wrap=Math.sin(10*a.time);a.mv_dx=a.bass;a.ib_a=.005;a.vol=.25*(a.bass+a.mid+a.treb);a.vol*=a.vol;a.mtime+=.01*a.vol*div(55,a.fps);a.q1=.5*a.time;",pixel_eqs_str:"a.zoom=1.005-div(a.rad,100);a.rot=div(a.rad,600);a.sy=-1;",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,echo_zoom:1.006596,echo_alpha:.5,additivewave:1,wave_thick:1,wave_brighten:0,wrap:0,wave_a:4.099998,wave_scale:.01,wave_smoothing:.63,wave_mystery:-.4,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoom:.999513,warp:.01,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:.005,ob_r:.01,ob_a:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:.5,mv_r:.35,mv_g:.35,mv_b:.35,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""}],init_eqs_str:"a.q8=0;a.oldq8=0;",frame_eqs_str:"a.ob_r=.5+.5*Math.sin(2*a.time);a.ob_g=.5+.5*Math.sin(1.23*a.time);a.ob_b=.5+.5*Math.sin(1.321*a.time);a.wave_a=0;a.q8=a.oldq8+.003*div(pow(1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6),a.fps);a.oldq8=a.q8;a.warp=0;",pixel_eqs_str:"a.rot=.1*(a.rad+Math.cos(5+5*Math.sin(1.211*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(.973*a.q8))*a.y-.5));a.dx=.005*(Math.cos(5+5*Math.sin(1.311*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(.9431*a.q8))*a.y-.5));a.dy=.005*(Math.cos(5+5*Math.sin(1.021*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(.987*a.q8))*a.y-.5));a.zoom=1-.005*(a.rad+Math.cos(5+5*Math.sin(.943*a.q8)*a.x-.5)-Math.sin((5+5*Math.sin(1.0961*a.q8))*a.y-.5));",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:1,echo_zoom:1,wave_mode:7,additivewave:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:100,wave_scale:.438649,wave_smoothing:.5,modwavealphastart:.5,modwavealphaend:1,zoomexp:.999996,fshader:1,dx:1e-5,dy:1e-5,warp:.01,wave_y:.976,ob_size:.005,ob_r:.4,ob_g:.3,ob_a:1,ib_r:1,ib_g:.6,ib_b:0,ib_a:1,mv_x:24.959999,mv_y:19.199999,mv_l:.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""}],init_eqs_str:"a.q1=0;a.thresh=0;a.dx_r=0;a.dy_r=0;",frame_eqs_str:`a.warp=0;a.wave_r=.5+.5*Math.sin(.894*a.time);a.wave_g=.5+.5*Math.sin(1.14*a.time);a.wave_b=.5+.5*Math.sin(3-a.bass_att);a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*((a.thresh-1.3)*(.9+.1*Math.sin(2.8*a.time))+1.3);a.dx_r=.004*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.004*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.q1=a.thresh;a.dx=1.1*a.dx_r;a.dy=1.1*a.dy_r;a.dx+=.00001<Math.abs(above(a.bass,1.35))?
31*a.dx_r:0;a.dy=.00001<Math.abs(above(a.bass,1.3))?0:a.dy;a.decay=.995+.004*Math.sin(.369*a.time)+.001*Math.sin(1.54*a.time);`,pixel_eqs_str:"a.zoom-=.01*a.q1*a.rad;a.zoomexp=1+.2*(a.rad-.2*a.q1);a.sx-=Math.cos(a.y*(6.28+3.14*Math.sin(a.time)))*(.009+.003*Math.sin(2.18*a.time))*Math.sin(.3*a.time);a.rot=.001*Math.sin(3.14*a.x)*Math.sin(.67*a.time);",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.94,echo_zoom:.9998,echo_alpha:.4999,echo_orient:3,wave_mode:1,additivewave:1,wave_dots:1,wave_brighten:0,wave_a:1.254574,wave_scale:.45029,wave_smoothing:0,zoomexp:1.008151,zoom:.659411,warp:.01,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.005,ob_r:1,ob_a:1,ib_size:.005,ib_r:0,ib_g:0,ib_b:0,ib_a:.9,mv_x:64,mv_y:48,mv_l:0,mv_r:0,mv_g:.7,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.bblock=0;a.grid=0;a.q6=0;a.q1=0;a.q5=0;a.tth=0;a.tblock=0;a.bpulse=0;a.pulse=0;a.mblock=0;a.q4=0;a.mpulse=0;a.mod_state=0;a.bth=0;a.mres=0;a.tpulse=0;a.tres=0;a.le=0;a.ccl=0;a.q2=0;a.bres=0;a.q3=0;a.mth=0;a.q7=0;a.q8=0;",frame_eqs_str:`a.warp=0;a.le=1.5+2*Math.sin(a.bass_att);a.bpulse=band(above(a.le,a.bth),above(a.le-a.bth,a.bblock));a.bblock=a.le-a.bth;a.bth=.00001<Math.abs(above(a.le,a.bth))?a.le+div(114,a.le+10)-7.407:a.bth+div(.07*a.bth,a.bth-12)+.1*below(a.bth,2.7)*(2.7-a.bth);a.bth=.00001<Math.abs(above(a.bth,6))?6:a.bth;a.bres=a.bpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.bpulse)*a.bres;a.le=1.5+2*Math.sin(a.treb_att);a.tpulse=band(above(a.le,a.tth),above(a.le-a.tth,a.tblock));a.tblock=a.le-a.tth;a.tth=
.00001<Math.abs(above(a.le,a.tth))?a.le+div(114,a.le+10)-7.407:a.tth+div(.07*a.tth,a.tth-12)+.1*below(a.tth,2.7)*(2.7-a.tth);a.tth=.00001<Math.abs(above(a.tth,6))?6:a.tth;a.tres=a.tpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.tpulse)*a.tres;a.le=1.5+2*Math.sin(a.mid_att);a.mpulse=band(above(a.le,a.mth),above(a.le-a.mth,a.mblock));a.mblock=a.le-a.mth;a.mth=.00001<Math.abs(above(a.le,a.mth))?a.le+div(114,a.le+10)-7.407:a.mth+div(.07*a.mth,a.mth-12)+.1*below(a.mth,2.7)*(2.7-a.mth);a.mth=.00001<Math.abs(above(a.mth,
6))?6:a.mth;a.mres=a.mpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.mpulse)*a.mres;a.pulse=.00001<Math.abs(above(Math.abs(a.pulse),3.14))?-3.14:a.pulse+.003*(a.bth+a.mth+a.tth);a.q1=a.bres;a.q2=a.tres;a.q3=a.mres;a.q4=Math.sin(a.pulse);a.mod_state=(above(a.q1,0)+above(a.q2,0)+above(a.q3,0))*(1+above(a.q4,0));a.ccl=a.ccl+a.tpulse+a.mpulse-a.bpulse;a.q5=Math.cos(a.pulse*(.5+.1*a.mod_state));a.q6=Math.sin(a.pulse*(.5+pow(.25,a.mod_state)));a.q7=a.mod_state;a.q8=a.ccl;a.ob_r=.5+.5*Math.cos(a.q1+a.q7);a.ob_g=
.5+.5*Math.cos(3.14*a.q2+a.q7);a.ob_b=.5+.5*Math.cos(2*a.q3+Math.sin(.0816*a.time));a.ib_size=.025+.02*a.q2;a.ob_size=.03+.02*a.q3-.002*a.q7;a.wave_r=.5+.5*Math.sin(a.q1*a.q7+2.183*a.time);a.wave_g=.5+.5*Math.sin(3*a.q2+1.211*a.time);a.wave_b=.5+.5*Math.sin(a.q3+1.541*a.time);a.ob_a=.8+.2*a.q2;a.zoom+=.01*a.q4;`,pixel_eqs_str:"a.grid=mod(pow(2*Math.sin(a.rad*a.q6*a.q2+a.x*a.y*a.q6*a.q3),1+mod(a.q7,5)),2);a.rot=bnot(a.grid)+a.grid*a.q4;a.sx+=.003*Math.sin((a.q2+.5)*a.x);a.sy+=.003*Math.sin((a.q1+3.4)*a.y);a.zoom+=.11*Math.cos(3.14*a.rad)*a.q4;",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:.96,echo_zoom:2.216266,echo_alpha:.78,wave_mode:5,additivewave:1,wave_dots:1,wave_brighten:0,brighten:1,wave_a:1.254574,wave_scale:.931011,wave_smoothing:0,zoomexp:1.0081,fshader:.4,zoom:.820774,cx:.4999,warp:.01,sx:.999998,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.005,ob_r:1,ob_a:1,ib_size:.005,ib_r:0,ib_g:0,ib_b:0,ib_a:.9,mv_x:0,mv_y:0,mv_l:.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""}],init_eqs_str:"a.bblock=0;a.grid=0;a.q6=0;a.snee=0;a.q1=0;a.q5=0;a.tth=0;a.tblock=0;a.bpulse=0;a.pulse=0;a.mblock=0;a.q4=0;a.snur=0;a.mpulse=0;a.mod_state=0;a.bth=0;a.mres=0;a.tpulse=0;a.tres=0;a.le=0;a.ccl=0;a.q2=0;a.bres=0;a.q3=0;a.mth=0;a.q7=0;a.q8=0;",frame_eqs_str:`a.warp=0;a.le=1.5+2*Math.sin(a.bass_att);a.bpulse=band(above(a.le,a.bth),above(a.le-a.bth,a.bblock));a.bblock=a.le-a.bth;a.bth=.00001<Math.abs(above(a.le,a.bth))?a.le+div(114,a.le+10)-7.407:a.bth+div(.07*a.bth,a.bth-12)+.1*below(a.bth,2.7)*(2.7-a.bth);a.bth=.00001<Math.abs(above(a.bth,6))?6:a.bth;a.bres=a.bpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.bpulse)*a.bres;a.le=1.5+2*Math.sin(a.treb_att);a.tpulse=band(above(a.le,a.tth),above(a.le-a.tth,a.tblock));a.tblock=a.le-a.tth;a.tth=
.00001<Math.abs(above(a.le,a.tth))?a.le+div(114,a.le+10)-7.407:a.tth+div(.07*a.tth,a.tth-12)+.1*below(a.tth,2.7)*(2.7-a.tth);a.tth=.00001<Math.abs(above(a.tth,6))?6:a.tth;a.tres=a.tpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.tpulse)*a.tres;a.le=1.5+2*Math.sin(a.mid_att);a.mpulse=band(above(a.le,a.mth),above(a.le-a.mth,a.mblock));a.mblock=a.le-a.mth;a.mth=.00001<Math.abs(above(a.le,a.mth))?a.le+div(114,a.le+10)-7.407:a.mth+div(.07*a.mth,a.mth-12)+.1*below(a.mth,2.7)*(2.7-a.mth);a.mth=.00001<Math.abs(above(a.mth,
6))?6:a.mth;a.mres=a.mpulse*Math.sin(a.pulse+.5*a.le)+bnot(a.mpulse)*a.mres;a.pulse=.00001<Math.abs(above(Math.abs(a.pulse),3.14))?-3.14:a.pulse+.003*(a.bth+a.mth+a.tth);a.q1=a.bres;a.q2=a.tres;a.q3=a.mres;a.q4=Math.sin(a.pulse);a.mod_state=(above(a.q1,0)+above(a.q2,0)+above(a.q3,0))*(1+above(a.q4,0));a.ccl=a.ccl+a.tpulse+a.mpulse-a.bpulse;a.q5=Math.cos(a.pulse*(.5+.1*a.mod_state));a.q6=Math.sin(a.pulse*(.5+pow(.25,a.mod_state)));a.q7=a.mod_state;a.q8=a.ccl;a.ob_r=.5+.5*Math.cos(a.q1+a.q7);a.ob_g=
.5+.5*Math.cos(3.14*a.q2+a.q7);a.ob_b=.5+.5*Math.cos(2*a.q3+Math.sin(.0816*a.time));a.ib_size=.025+.02*a.q2;a.ob_size=.03+.02*a.q3-.002*a.q7;a.wave_r=.5+.5*Math.sin(a.q1*a.q7+2.183*a.time);a.wave_g=.5+.5*Math.sin(3*a.q2+1.211*a.time);a.wave_b=.5+.5*Math.sin(a.q3+1.541*a.time);a.ob_a=.8+.2*a.q2;a.rot=1;a.cx+=.05*a.q4;a.cy+=.05*a.q5;a.zoom=.95+.05*a.q6;`,pixel_eqs_str:`a.snee=bnot(above(Math.sin(a.ang)-a.x,.5)*above(a.q2,0)+above(a.y-Math.cos(a.ang),.5)*above(a.q1,0));a.snur=bnot(below(a.x,.5)*above(a.q3,0)+below(a.y,.5)*below(a.q7,4));a.grid=Math.sin(sigmoid(Math.sin(6.28*a.y*a.q2),Math.sin(6.28*a.x*a.q6))*(10+a.q7));a.zoom=a.zoom+.02*Math.cos(2*a.rad+a.rad*a.q2)*sign(a.snee)-.04*Math.sin(3.14*a.rad*a.q3-3.14*Math.cos(3.14*a.rad*a.snur-3.14*a.q6));a.sx=.00001<Math.abs(below(a.x,.5)*below(a.y,.5))?a.sx+.2*a.q4*a.snur:1+.1*a.q2*a.grid;a.sy=
.00001<Math.abs(below(a.x,.5)*below(a.y,.5))?a.sy+.2*a.q5*a.snee:1+.1*a.q2*a.grid;`,warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:4.990001,decay:1,echo_zoom:10.784553,wave_mode:7,additivewave:1,wave_dots:1,wave_brighten:0,wrap:0,wave_a:.997938,wave_scale:1.990516,wave_smoothing:0,wave_mystery:-1,modwavealphastart:.5,modwavealphaend:1,warpscale:.999998,zoomexp:.999985,fshader:1,zoom:.9999,dy:1e-5,warp:.01,wave_r:.400001,wave_g:.4,wave_y:1,ob_size:0,ob_r:.300001,ob_g:1,ob_b:.3,ob_a:.100001,ib_size:.005,ib_r:0,ib_g:0,ib_b:0,ib_a:.5,mv_x:8.960042,mv_y:12.960033,mv_dx:-.26,mv_dy:.44,mv_l:5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""},{baseVals:{},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:""}],init_eqs_str:"a.maxdbass=0;a.f=0;a.ttan1=0;a.avgbass=0;a.dbass=0;a.q1=0;a.prevavgbass=0;a.amt=0;a.cheat=0;a.totx=0;a.flip=0;a.lastbeat=0;a.ttan2=0;a.bpm=0;a.pctg=0;a.prevrot=0;a.interval=0;a.q4=0;a.pbass=0;a.toty=0;a.beat=0;a.vol=0;a.q2=0;a.dist=0;a.lastflip=0;a.prevvol=0;a.q3=0;a.isleftytonosy=0;a.sure=0;a.flip=-1;",frame_eqs_str:`a.warp=0;a.decay=1;a.vol=div(.75*(a.bass_att+a.mid_att+a.treb_att),3)+.25*a.prevvol;a.prevavgbass=a.avgbass;a.avgbass+=.01*(a.bass-a.avgbass);a.q4=Math.max(1.001*a.avgbass-.999*a.prevavgbass,0);a.q4=Math.min(a.q4,.006);a.sure=.00001<Math.abs(equal(a.sure,0))?.6:a.sure;a.interval=.00001<Math.abs(equal(a.interval,0))?40:a.interval;a.lastbeat=.00001<Math.abs(equal(a.lastbeat,0))?a.frame-a.fps:a.lastbeat;a.dbass=div(a.bass-a.pbass,a.fps);a.beat=above(a.dbass,.6*a.maxdbass)*above(a.frame-
a.lastbeat,div(a.fps,3));a.sure=.00001<Math.abs(a.beat*below(Math.abs(a.frame-(a.interval+a.lastbeat)),div(a.fps,5)))?Math.min(.095+a.sure,1):a.beat*(a.sure-.095)+(1-a.beat)*a.sure*.9996;a.sure=Math.max(.5,a.sure);a.cheat=.00001<Math.abs(above(a.frame,a.lastbeat+a.interval+Math.floor(div(a.fps,10)))*above(a.sure,.91))?1:a.cheat;a.beat=.00001<Math.abs(a.cheat)?1:a.beat;a.sure=.00001<Math.abs(a.cheat)?.95*a.sure:a.sure;a.maxdbass=Math.max(.999*a.maxdbass,a.dbass);a.maxdbass=Math.max(.012,a.maxdbass);
a.maxdbass=Math.min(.02,a.maxdbass);a.interval=.00001<Math.abs(a.beat)?a.frame-a.lastbeat:a.interval;a.lastbeat=.00001<Math.abs(a.beat)?a.frame-a.cheat*Math.floor(div(a.fps,10)):a.lastbeat;a.cheat=0;a.pbass=a.bass;a.lastflip=.00001<Math.abs(above(div(a.bass,a.avgbass),2)*above(a.frame-a.lastflip,100)*a.beat)?a.frame:a.lastflip;a.flip=.00001<Math.abs(equal(a.frame,a.lastflip))?Math.abs(a.flip)-1:a.flip;a.wave_mystery=a.flip;a.ob_size=div(.08*below(a.frame-a.lastbeat,div(a.fps,8))*(a.frame-a.lastbeat),
a.fps);a.f=Math.abs(Math.cos(div(a.time,8)+.54+Math.sin(div(a.time,3)+1.075)));a.ob_r=1*a.f+(1-a.f);a.ob_g=.3*a.f+(1-a.f);a.ob_b=.3*a.f+.3*(1-a.f);a.f=div(a.frame-a.lastbeat,a.interval);a.f*=above(a.f,.8)*below(a.f,1);a.f=Math.max(0,a.f);a.f=Math.min(a.f,1);a.wave_g=.4+.6*a.f;a.wave_b=.4+.6*(1-a.f);a.q1=div(3.1416*(a.wave_mystery+1),2);a.q2=.25*Math.cos(a.time+Math.abs(2*Math.sin(2*a.time+2.311)*(a.vol-a.amt))*Math.sin(7.45*a.time+.876));a.q3=-a.q2;a.amt+=.05*(a.vol-a.amt);a.prevvol=a.vol;a.bpm+=
.01*(div(60*a.fps,a.interval)-a.bpm);a.monitor=0*a.pctg+1*a.bpm;`,pixel_eqs_str:"a.x-=.5;a.y=-(a.y-.5);a.ttan1=Math.tan(a.q1+1.5708)*(a.x-a.q3)-a.y+a.q2;a.ttan2=Math.tan(a.q1+1.5708);a.isleftytonosy=above(a.ttan1*sign(3.1416-a.q1),0);a.dist=div(Math.abs(a.ttan1),sqrt(a.ttan2*a.ttan2+1));a.totx=div(.5*Math.cos(a.q1)*sign(a.isleftytonosy-.5)*sqr(a.dist),.5-a.q2);a.toty=div(-.5*Math.sin(a.q1)*sign(a.isleftytonosy-.5)*sqr(a.dist),.5-a.q2);a.dx+=a.totx;a.dy+=a.toty;a.prevrot=a.q1;a.zoom=1-div(25*a.q4*sqrt(pow(.5-a.dist,3)),Math.abs(.5-a.q2));",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:.997,echo_zoom:.996629,echo_orient:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.001185,wave_scale:.01,wave_smoothing:.27,wave_mystery:-.38,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoom:.999514,warp:.01,ob_size:0,ob_r:.01,ob_a:1,ib_size:0,ib_r:1,ib_g:1,ib_b:1,ib_a:1,mv_x:64,mv_y:48,mv_l:.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0},shapes:[{baseVals:{enabled:1,sides:3,rad:.34,ang:.53,r:.56,g:.36,r2:.9,a2:.5,border_a:0},init_eqs_str:"a.angle=0;a.bassspin=0;a.q1=0;a.q2=0;a.bassspin=0;a.angle=0;",frame_eqs_str:"a.ang=a.angle;a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.angle+=a.bassspin;a.r=.3*a.bass;a.g=.3*a.treb;a.b=.3*a.mid;a.r2=.8+.2*Math.sin(1.2*a.time);a.g2=.8+.2*Math.sin(.9777*a.time);a.b2=.8+.2*Math.sin(.7005*a.time);a.border_a=1*above(a.bass+a.treb+a.mid,5);a.x=.5+a.q1;a.y=.5+a.q2;"},{baseVals:{enabled:1,sides:100,additive:1,textured:1,rad:.108073,g:1,b:1,r2:1,b2:1,a2:1,border_a:0},init_eqs_str:"a.bassspin=0;a.xpos=0;a.ypos=0;a.q1=0;a.q2=0;a.bassspin=0;a.xpos=.25;a.ypos=.25;",frame_eqs_str:"a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.xpos+=a.bassspin;a.ypos+=a.bassspin;a.x=.5+a.q1+.13*Math.sin(a.xpos);a.y=.5+a.q2+.18*Math.cos(a.ypos);"},{baseVals:{enabled:1,sides:29,additive:1,textured:1,rad:.105693,g:1,b:1,r2:1,b2:1,a2:1,border_a:0},init_eqs_str:"a.bassspin=0;a.xpos=0;a.ypos=0;a.q1=0;a.q2=0;a.bassspin=0;a.xpos=2.3;a.ypos=2.3;",frame_eqs_str:"a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.xpos+=a.bassspin;a.ypos+=a.bassspin;a.x=.5+a.q1+.13*Math.sin(a.xpos);a.y=.5+a.q2+.18*Math.cos(a.ypos);"},{baseVals:{enabled:1,sides:100,additive:1,textured:1,rad:.091434,g:1,b:1,r2:1,b2:1,a2:1,border_a:0},init_eqs_str:"a.bassspin=0;a.xpos=0;a.ypos=0;a.q1=0;a.q2=0;a.bassspin=0;a.xpos=4.5;a.ypos=4.5;",frame_eqs_str:"a.bassspin=.00001<Math.abs(above(.05*a.bass,a.bassspin))?a.bassspin+.001:a.bassspin-.001;a.bassspin*=above(a.bassspin,0);a.xpos+=a.bassspin;a.ypos+=a.bassspin;a.x=.5+a.q1+.13*Math.sin(a.xpos);a.y=.5+a.q2+.18*Math.cos(a.ypos);"}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.xpos=0;a.yamptarg=0;a.ydir=0;a.q1=0;a.yaccel=0;a.xamptarg=0;a.xamp=0;a.xspeed=0;a.ypos=0;a.xaccel=0;a.att=0;a.vol=0;a.q2=0;a.yamp=0;a.xdir=0;a.yspeed=0;",frame_eqs_str:`a.warp=0;a.decay=.92;a.vol=div(a.bass+a.mid+a.att,6);a.xamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.5*a.vol*a.bass_att,.5):a.xamptarg;a.xamp+=.5*(a.xamptarg-a.xamp);a.xdir=.00001<Math.abs(above(Math.abs(a.xpos),a.xamp))?-sign(a.xpos):.00001<Math.abs(below(Math.abs(a.xspeed),.1))?2*above(a.xpos,0)-1:a.xdir;a.xaccel=a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);a.xspeed=a.xspeed+a.xdir*a.xamp-a.xpos-.055*a.xspeed*below(Math.abs(a.xpos),a.xamp);
a.xpos+=.001*a.xspeed;a.yamptarg=.00001<Math.abs(equal(mod(a.frame,15),0))?Math.min(.3*a.vol*a.treb_att,.5):a.yamptarg;a.yamp+=.5*(a.yamptarg-a.yamp);a.ydir=.00001<Math.abs(above(Math.abs(a.ypos),a.yamp))?-sign(a.ypos):.00001<Math.abs(below(Math.abs(a.yspeed),.1))?2*above(a.ypos,0)-1:a.ydir;a.yaccel=a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.yspeed=a.yspeed+a.ydir*a.yamp-a.ypos-.055*a.yspeed*below(Math.abs(a.ypos),a.yamp);a.ypos+=.001*a.yspeed;a.q1=a.ypos;a.q2=a.xpos;`,pixel_eqs_str:"a.zoom+=a.q1*a.q2*2;a.rot=10+a.rad*a.treb*.1;",warp:"",comp:""}},function(t,a){t.exports={baseVals:{rating:3,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wrap:0,darken_center:1,solarize:1,wave_a:.001,zoom:.97,rot:-6.27999,warp:52e-5,wave_r:0,wave_g:0,wave_b:0,ob_r:1,ob_g:1,ob_b:1,mv_r:.8,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,textured:1,x:.25,y:.75,rad:4.44708,tex_zoom:.22746,r:0,a:.1,g2:0,a2:.2,border_r:0,border_g:0,border_a:0},init_eqs_str:"a.q1=0;a.tex_capture=0;a.q3=0;a.tex_saw=.4;",frame_eqs_str:"a.ang=.2*a.q1;a.tex_capture=above(a.q3,1);a.tex_zoom=.6;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1,smoothing:0},init_eqs_str:"a.q1=0;a.speed=0;a.v=0;a.xs=0;a.ys=0;",frame_eqs_str:"",point_eqs_str:`a.q1=0;a.speed=.8*a.bass_att;a.v=1E6*a.sample+a.value2*a.bass*.1;a.xs+=Math.sin(a.v)*a.speed*Math.atan(1.51*a.v);a.ys+=Math.sin(a.v)*a.speed*Math.atan(10*a.v);a.x=.5+.5*Math.sin(.1*a.xs)*Math.cos(.2*a.time+a.xs);a.y=.5+.5*Math.sin(.12*a.ys)*Math.cos(.1*a.time+a.xs);a.x=.8*a.x+.1;a.y=.8*a.y+.1;a.r=.5*Math.sin(1.22*a.time)+.6;a.g=.4+.4*Math.sin(1.307*a.time+2*a.y);a.b=.4+.4*Math.sin(1.959*a.time+2*a.x);a.xs=.00001<Math.abs(above(a.xs,1E3))?0:a.xs;a.ys=.00001<Math.abs(above(a.ys,
1E3))?0:a.ys;`},{baseVals:{enabled:1,thick:1,smoothing:0},init_eqs_str:"a.q1=0;a.speed=0;a.v=0;a.xs=0;a.ys=0;",frame_eqs_str:"",point_eqs_str:`a.q1=0;a.speed=.8*a.bass_att;a.v=1E6*a.sample+a.value2*a.bass*.1;a.xs+=Math.sin(a.v)*a.speed*Math.atan(1.51*a.v);a.ys+=Math.sin(a.v)*a.speed*Math.atan(10*a.v);a.x=.5+.5*Math.sin(.1*a.xs)*Math.cos(.2*a.time+a.xs);a.y=.5+.5*Math.sin(.14*a.ys)*Math.cos(.1*a.time+a.xs);a.x=.8*a.x+.1;a.y=.8*a.y+.1;a.x=.6*a.x+.2;a.y=.6*a.y+.2;a.r=.5*Math.sin(1.322*a.time)+.6;a.g=.4+.4*Math.sin(1.5407*a.time+2*a.y);a.b=.4+.4*Math.sin(1.759*a.time+2*a.x);a.xs=.00001<Math.abs(above(a.xs,1E3))?0:a.xs;
a.ys=.00001<Math.abs(above(a.ys,1E3))?0:a.ys;`},{baseVals:{enabled:1,thick:1,smoothing:0},init_eqs_str:"a.q1=0;a.speed=0;a.v=0;a.xs=0;a.ys=0;",frame_eqs_str:"",point_eqs_str:`a.q1=0;a.speed=.8*a.bass_att;a.v=1E6*a.sample+a.value2*a.bass*.1;a.xs+=Math.sin(a.v)*a.speed*Math.atan(1.51*a.v);a.ys+=Math.sin(a.v)*a.speed*Math.atan(10*a.v);a.x=.5+.5*Math.sin(.1*a.xs)*Math.cos(.2*a.time+a.xs);a.y=.5+.5*Math.sin(.14*a.ys)*Math.cos(.1*a.time+a.xs);a.x=.8*a.x+.1;a.y=.8*a.y+.1;a.x=.25*a.x+.375;a.y=.25*a.y+.375;a.r=.5*Math.sin(1.622*a.time)+.6;a.g=.4+.4*Math.sin(1.2407*a.time+2*a.y);a.b=.4+.4*Math.sin(1.359*a.time+2*a.x);a.xs=.00001<Math.abs(above(a.xs,1E3))?
0:a.xs;a.ys=.00001<Math.abs(above(a.ys,1E3))?0:a.ys;`},{baseVals:{enabled:0}}],init_eqs_str:"a.basstime=0;a.stickybit=0;a.volavg2=0;a.q1=0;a.decay_r=0;a.sample1=0;a.difftime=0;a.diff=0;a.decay_b=0;a.edge=0;a.volavg=0;a.bit2=0;a.vol=0;a.q2=0;a.q3=0;a.basssum=0;a.decay_g=0;a.sample2=0;",frame_eqs_str:`a.basstime+=.03*a.bass;a.q1=4*a.basstime;a.basstime=.00001<Math.abs(below(a.basstime,1E3))?1E3:a.basstime;a.basstime+=.03*a.bass_att;a.vol=pow(a.bass+a.mid+a.treb,2);a.basssum=a.vol;a.stickybit=mod(a.time,2);a.volavg+=a.vol*equal(a.stickybit,1);a.sample1+=equal(a.stickybit,1);a.volavg2+=a.vol*equal(a.stickybit,0);a.sample2+=equal(a.stickybit,0);a.edge=bnot(equal(a.bit2,a.stickybit));a.volavg-=a.volavg*a.edge*a.stickybit;a.volavg2-=a.volavg2*a.edge*equal(a.stickybit,0);a.sample1-=
a.sample1*a.edge*a.stickybit;a.sample2-=a.sample2*a.edge*equal(a.stickybit,0);a.diff=.00001<Math.abs(equal(a.stickybit,1))?div(a.basssum,div(a.volavg2,a.sample2)):0;a.diff=.00001<Math.abs(equal(a.stickybit,0))?div(a.basssum,div(a.volavg,a.sample1)):a.diff;a.q3=a.diff;a.bit2=mod(a.time,2);a.difftime+=.03*a.diff;a.q2=a.difftime;a.difftime=.00001<Math.abs(above(a.difftime,2E3))?0:a.difftime;a.monitor=3.14*Math.abs(Math.cos(a.time));a.mv_a=above(a.diff,10);`,pixel_eqs_str:"a.zoom=1+.05*a.q3*a.rad;a.decay_r=.2*a.rad*Math.sin(.35*a.q2)+.85+.1*Math.sin(a.q2);a.decay_g=.2*a.rad*Math.sin(.5*a.q2)+.85+.1*Math.sin(.7*a.q2);a.decay_b=.2*a.rad*Math.sin(.4*a.q2)+.85+.1*Math.sin(.8*a.q2);a.rot=0;",warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (vec2(1.0, 0.0) * texsize.z);
  vec2 tmpvar_3;
  tmpvar_3 = (vec2(0.0, 1.0) * texsize.z);
  ret_1 = (((
    (texture (sampler_main, (uv + tmpvar_2)).xyz + texture (sampler_main, (uv + tmpvar_2)).xyz)
   * 0.5) + (
    (texture (sampler_main, (uv + tmpvar_3)).xyz + texture (sampler_main, (uv + tmpvar_3)).xyz)
   * 0.5)) - texture (sampler_main, ((
    (uv - 0.5)
   * 0.9) + 0.5)).xyz);
  ret_1 = (ret_1 - 0.4);
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = ret_1;
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = ((0.5 - uv) + 0.5);
  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, tmpvar_2).xyz, vec3(0.5, 0.5, 0.5)) * 2.0);
  ret_1 = (((
    ((texture (sampler_blur3, uv).xyz * scale3) + bias3)
   * 2.0) + (
    ((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3)
   * 2.0)) + ret_1);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ret_1;
  ret = tmpvar_3.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,gammaadj:1.07,decay:.95,echo_zoom:1,echo_alpha:.5,echo_orient:1,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,brighten:1,darken:1,invert:1,wave_a:4.1,wave_scale:1.286,wave_smoothing:.63,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoom:.99951,warp:.01,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:.5,ob_r:.01,ib_size:.26,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,spectrum:1,thick:1},init_eqs_str:"a.xang=0;a.fov=0;a.yang=0;a.my=0;a.oz=0;a.ayang=0;a.mz=0;a.oy=0;a.mod=0;a.azang=0;a.mx=0;a.vol=0;a.sp=0;a.zang=0;a.axang=0;a.ox=0;",frame_eqs_str:"",point_eqs_str:`a.sp=1607.68*a.sample;a.vol=.33*(a.bass_att+a.mid_att+a.treb_att);a.vol=.2+.5*(a.value1+a.value2);a.vol=.2;a.mod=.00001<Math.abs(below(a.mid_att,1.8))?a.mid_att+.2:2;a.ox=.5*Math.sin(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.oy=(a.sample-0)*a.mod;a.oz=.5*Math.cos(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.xang=.672*a.time;a.axang=0;a.yang=-1.351*a.time;a.ayang=0;a.zang=-.401*a.time;a.azang=0;a.fov=.6+.2*Math.sin(a.time);a.fov=.5;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=
a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=a.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz=Math.abs(a.oz)-2;a.x=div(a.ox*a.fov,a.oz)+.5;a.x=.75*(a.x-.5)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;a.r=1+Math.sin(a.sp);a.b=.5+.5*Math.sin(1.57*a.sample);a.g=.5+.5*Math.cos(1.57*a.sample);a.a=.5+.25*(a.oz+
2);`},{baseVals:{enabled:1,spectrum:1,thick:1},init_eqs_str:"a.xang=0;a.fov=0;a.yang=0;a.my=0;a.oz=0;a.ayang=0;a.mz=0;a.oy=0;a.mod=0;a.azang=0;a.mx=0;a.vol=0;a.sp=0;a.zang=0;a.axang=0;a.ox=0;",frame_eqs_str:"",point_eqs_str:`a.sp=1607.68*a.sample;a.vol=.33*(a.bass_att+a.mid_att+a.treb_att);a.vol=.2+.5*(a.value1+a.value2);a.vol=.2;a.mod=.00001<Math.abs(below(a.bass_att,1.8))?a.bass_att+.2:2;a.ox=.5*Math.sin(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.oy=(a.sample-0)*a.mod;a.oz=.5*Math.cos(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.xang=-.321*a.time;a.axang=0;a.yang=1.531*a.time;a.ayang=0;a.zang=-.101*a.time;a.azang=0;a.fov=.6+.2*Math.sin(a.time);a.fov=.5;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=
a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=a.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz=Math.abs(a.oz)-2;a.x=div(a.ox*a.fov,a.oz)+.5;a.x=.75*(a.x-.5)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;a.g=1+Math.sin(a.sp);a.r=.5+.5*Math.sin(1.57*a.sample);a.b=.5+.5*Math.cos(1.57*a.sample);a.a=.5+.25*(a.oz+
2);`},{baseVals:{enabled:1,spectrum:1,thick:1},init_eqs_str:"a.xang=0;a.fov=0;a.yang=0;a.my=0;a.oz=0;a.ayang=0;a.mz=0;a.oy=0;a.mod=0;a.azang=0;a.mx=0;a.vol=0;a.sp=0;a.zang=0;a.axang=0;a.ox=0;",frame_eqs_str:"",point_eqs_str:`a.sp=1607.68*a.sample;a.vol=.33*(a.bass_att+a.mid_att+a.treb_att);a.vol=.2+.5*(a.value1+a.value2);a.vol=.2;a.mod=.00001<Math.abs(below(a.treb_att,1.8))?a.treb_att+.2:2;a.ox=.5*Math.sin(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.oy=(a.sample-0)*a.mod;a.oz=.5*Math.cos(a.sp)*Math.sin(3.14*a.sample)*a.vol;a.xang=.221*a.time;a.axang=0;a.yang=-.411*a.time;a.ayang=0;a.zang=1.201*a.time;a.azang=0;a.fov=.6+.2*Math.sin(a.time);a.fov=.5;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=
a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=a.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz=Math.abs(a.oz)-2;a.x=div(a.ox*a.fov,a.oz)+.5;a.x=.75*(a.x-.5)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;a.b=1+Math.sin(a.sp);a.g=.5+.5*Math.sin(1.57*a.sample);a.r=.5+.5*Math.cos(1.57*a.sample);a.a=.5+.25*(a.oz+
2);`},{baseVals:{enabled:0}}],init_eqs_str:"a.it=0;a.radm=0;a.mod=0;",frame_eqs_str:"a.wave_a=0;",pixel_eqs_str:"a.it=.3*Math.sin(.2*a.time);a.radm=.5*a.rad;a.rot=.02*Math.sin(20*(a.radm+a.it));a.mod=Math.sin(5*a.ang);a.mod*=a.mod*a.mod*a.mod*a.mod;a.zoom=1+Math.abs(.01*a.mod);a.zoom*=Math.min(1.05,Math.max(1,Math.max(a.bass,a.treb)));",warp:` shader_body { 
  vec3 xfer_1;
  vec3 ret_2;
  vec4 tmpvar_3;
  vec2 tmpvar_4;
  tmpvar_4 = (uv - 0.5);
  tmpvar_3 = texture (sampler_main, (tmpvar_4 + 0.5));
  ret_2 = (tmpvar_3.xyz / ((tmpvar_3.x + tmpvar_3.y) + tmpvar_3.z));
  ret_2 = texture (sampler_main, ((tmpvar_4 * dot (ret_2, vec3(1.0, 0.975, 0.95))) + 0.5)).xyz;
  vec3 tmpvar_5;
  tmpvar_5 = clamp (((ret_2 - 0.05) * 99.0), 0.0, 1.0);
  xfer_1.x = tmpvar_5.x;
  xfer_1.yz = (tmpvar_5.yz * clamp ((
    (0.1 - ret_2.xy)
   * 99.0), 0.0, 1.0));
  ret_2 = (ret_2 + (vec3(-0.014, 0.014, 0.0) * tmpvar_5.xxx));
  ret_2 = (ret_2 + (vec3(0.0, -0.08, 0.08) * xfer_1.yyy));
  ret_2 = (ret_2 + (vec3(0.0, 0.0, -0.02) * xfer_1.zzz));
  ret_2 = (ret_2 + (vec3(5.0, 15.0, 40.0) * (
    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5)
   / 256.0)));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ret_2;
  ret = tmpvar_6.xyz;
 }`,comp:""}},function(t,a){t.exports={baseVals:{rating:2,gammaadj:1,wave_mode:7,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wave_a:.001,wave_scale:.958,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:30.965,warpscale:2.572,zoom:1.00901,warp:54e-5,wave_r:0,wave_g:0,wave_b:0,mv_x:25.6,mv_y:9.6,mv_l:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;a.rg=0;a.q9=0;",frame_eqs_str:`a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=
a.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;a.rg=Math.max(.77*a.rg,.02+.5*Math.min(2,1.3*Math.max(0,a.mid_att-
1)));a.q9=a.rg;a.zoom+=.1*a.q9;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  ret_1 = texture (sampler_main, uv).xyz;
  ret_1 = (ret_1 + ((ret_1 - 
    ((((
      (texture (sampler_blur1, uv).xyz * scale1)
     + bias1) * 0.3) + ((
      (texture (sampler_blur2, uv).xyz * scale2)
     + bias2) * 0.4)) + (((texture (sampler_blur3, uv).xyz * scale3) + bias3) * 0.3))
  ) * 0.3));
  ret_1 = (ret_1 * 0.9);
  ret_1 = (ret_1 + ((
    ((texture (sampler_noise_lq, ((
      (uv_orig * texsize.xy)
     * 
      (texsize_noise_lq.zw * 0.4)
    ) + rand_frame.xy)).xyz - 0.5) / 256.0)
   * 122.0) * (
    (clamp ((treb_att - 1.0), 0.0, 1.0) * 0.4)
   + 0.3)));
  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ret_1;
  ret = tmpvar_2.xyz;
 }`,comp:`vec2 xlat_mutabledz;
vec3 xlat_mutableret1;
vec2 xlat_mutableuv3;
 shader_body { 
  vec2 tmpvar_1;
  tmpvar_1.y = 0.0;
  tmpvar_1.x = texsize.z;
  vec2 tmpvar_2;
  tmpvar_2.x = 0.0;
  tmpvar_2.y = texsize.w;
  vec2 uv_3;
  float inten_4;
  float dist_5;
  vec2 uv1_6;
  vec3 ret_7;
  vec2 tmpvar_8;
  tmpvar_8 = ((uv - 0.5) * aspect.xy);
  float tmpvar_9;
  tmpvar_9 = (time / 18.0);
  dist_5 = (1.0 - fract((0.25 + tmpvar_9)));
  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);
  uv_3 = (tmpvar_8 * aspect.yx);
  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));
  xlat_mutabledz.x = (inten_4 * ((2.0 * 
    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))
  ) - (2.0 * 
    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))
  )));
  xlat_mutabledz.y = (inten_4 * ((2.0 * 
    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))
  ) - (2.0 * 
    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))
  )));
  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));
  dist_5 = (1.0 - fract((0.5 + tmpvar_9)));
  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);
  uv_3 = (tmpvar_8 * aspect.yx);
  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));
  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))
   - 
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))
  )));
  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))
   - 
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))
  )));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));
  dist_5 = (1.0 - fract((0.75 + tmpvar_9)));
  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);
  uv_3 = (tmpvar_8 * aspect.yx);
  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));
  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))
   - 
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))
  )));
  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))
   - 
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))
  )));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));
  dist_5 = (1.0 - fract((1.0 + tmpvar_9)));
  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);
  uv_3 = (tmpvar_8 * aspect.yx);
  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));
  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))
   - 
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))
  )));
  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))
   - 
    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))
  )));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));
  xlat_mutabledz = (xlat_mutabledz * (0.5 + rand_preset.z));
  vec2 tmpvar_10;
  tmpvar_10 = (2.0 * (rand_preset.xy - 0.5));
  uv1_6 = (4.0 * tmpvar_8);
  vec2 tmpvar_11;
  tmpvar_11 = sin(((uv1_6 + xlat_mutabledz) + tmpvar_10));
  vec2 tmpvar_12;
  tmpvar_12 = sin(((uv1_6 + 
    (xlat_mutabledz * 1.4)
  ) + tmpvar_10));
  vec2 tmpvar_13;
  tmpvar_13 = sin(((uv1_6 + 
    (xlat_mutabledz * 1.8)
  ) + tmpvar_10));
  vec3 tmpvar_14;
  tmpvar_14.x = inversesqrt(dot (tmpvar_11, tmpvar_11));
  tmpvar_14.y = inversesqrt(dot (tmpvar_12, tmpvar_12));
  tmpvar_14.z = inversesqrt(dot (tmpvar_13, tmpvar_13));
  ret_7 = (((
    (tmpvar_14 * ((vec3(0.01, 0.01, 0.01) * (1.0 + 
      (rand_preset.xyz / 2.0)
    )) * (0.5 + rand_preset.y)))
   * 
    ((((rand_preset.x - 0.5) * 4.0) * xlat_mutableret1) + (8.0 * (1.0 + rand_preset)).xyz)
  ) - (xlat_mutableret1.x * 0.5)) + ((xlat_mutableret1.y + xlat_mutableret1.z) / 3.0));
  ret_7 = (ret_7 - ((slow_roam_sin.wzy * roam_cos.zxy) * 0.4));
  ret_7 = (ret_7 * (1.0 + ret_7));
  vec4 tmpvar_15;
  tmpvar_15.w = 1.0;
  tmpvar_15.xyz = ret_7;
  ret = tmpvar_15.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.995,echo_zoom:1,echo_orient:1,wave_mode:5,wave_brighten:0,wrap:0,wave_a:100,wave_scale:.721,wave_smoothing:.5,modwavealphastart:.5,modwavealphaend:1,fshader:1,dx:1e-5,dy:1e-5,warp:.01,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:0,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:0,mv_y:0,mv_l:1,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.thresh=0;a.dx_r=0;a.dy_r=0;a.xs=0;",frame_eqs_str:"a.wave_r=.5+.5*Math.sin(6*a.time);a.wave_g=.5+.5*Math.sin(4.1*a.time);a.wave_b=-1+(1-a.wave_r+1-a.wave_g);a.warp=0;",pixel_eqs_str:`a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.015*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.015*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.xs=above(Math.sin(12*a.dx_r*a.bass),0)*a.dy_r*Math.sin(2*a.rad)+below(Math.sin(12*a.dx_r*a.bass),0)*Math.cos(a.time)*a.dx_r*Math.sin(.6*a.rad);a.zoom+=Math.abs(12*a.xs);a.rot+=5*a.xs*Math.cos(1-a.xs*a.rad*12*a.dx_r);a.dx+=a.dx_r;
a.dy+=a.dy_r;`,warp:` shader_body { 
  vec2 my_uv_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);
  float tmpvar_4;
  vec2 tmpvar_5;
  tmpvar_5 = (uv + vec2(0.005, 0.0));
  vec2 tmpvar_6;
  tmpvar_6 = (uv - vec2(0.005, 0.0));
  tmpvar_4 = (((
    (texture (sampler_blur2, tmpvar_5).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_6).xyz * scale2)
   + bias2)).x * tmpvar_3.x);
  float tmpvar_7;
  vec2 tmpvar_8;
  tmpvar_8 = (uv + vec2(0.0, 0.005));
  vec2 tmpvar_9;
  tmpvar_9 = (uv - vec2(0.0, 0.005));
  tmpvar_7 = (((
    (texture (sampler_blur2, tmpvar_8).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_9).xyz * scale2)
   + bias2)).x * tmpvar_3.y);
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_4;
  tmpvar_10.y = tmpvar_7;
  vec2 tmpvar_11;
  tmpvar_11.x = (((
    (texture (sampler_blur2, tmpvar_5).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_6).xyz * scale2)
   + bias2)).x * tmpvar_3.x);
  tmpvar_11.y = (((
    (texture (sampler_blur2, tmpvar_8).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_9).xyz * scale2)
   + bias2)).x * tmpvar_3.y);
  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;
  vec4 tmpvar_12;
  tmpvar_12 = texture (sampler_blur3, uv);
  ret_2.x = (ret_2.x + ((ret_2.x - 
    ((tmpvar_12.xyz * scale3) + bias3)
  .x) * 0.1));
  ret_2.x = (ret_2.x + 0.004);
  vec2 tmpvar_13;
  tmpvar_13.x = tmpvar_7;
  tmpvar_13.y = -(tmpvar_4);
  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - 
    ((tmpvar_12.xyz * scale3) + bias3)
  .y)));
  ret_2.z = texture (sampler_fw_main, my_uv_1).z;
  vec2 x_14;
  x_14 = (my_uv_1 - uv);
  ret_2.z = (ret_2.z + ((
    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))
   * 180.0) / sqrt(
    dot (tmpvar_3, tmpvar_3)
  )));
  ret_2.z = (ret_2.z * 0.8);
  ret_2.z = (ret_2.z + 0.004);
  vec2 tmpvar_15;
  tmpvar_15.x = -(tmpvar_7);
  tmpvar_15.y = tmpvar_4;
  my_uv_1 = (tmpvar_15 * 0.045);
  vec2 tmpvar_16;
  tmpvar_16.x = (((
    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)
   + bias2)).y * tmpvar_3.x);
  tmpvar_16.y = (((
    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)
   + bias2)).y * tmpvar_3.y);
  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));
  ret_2.y = texture (sampler_fw_main, my_uv_1).y;
  ret_2.y = (ret_2.y + ((
    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)
   * 0.1) + 0.01));
  vec4 tmpvar_17;
  tmpvar_17.w = 1.0;
  tmpvar_17.xyz = ret_2;
  ret = tmpvar_17.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  ret_1 = texture (sampler_main, uv).xyz;
  ret_1 = (ret_1 * hue_shader);
  vec3 tmpvar_2;
  tmpvar_2 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.5, 1.0, 0.1));
  ret_1 = tmpvar_2;
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = tmpvar_2;
  ret = tmpvar_3.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.998,echo_zoom:1.421,wave_mode:7,additivewave:1,modwavealphabyvolume:1,darken_center:1,wave_a:1.193,wave_scale:1.489,wave_smoothing:0,modwavealphastart:.87,modwavealphaend:1.09,warpscale:3.138,zoom:1.003,warp:.09218,wave_r:.5,wave_g:.5,wave_b:.5,wave_x:.6,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.t2=0;",frame_eqs_str:`a.wave_r+=.365*(.6*Math.sin(4.437*a.time)+.4*Math.sin(3.97*a.time));a.wave_g+=.365*(.6*Math.sin(4.344*a.time)+.4*Math.sin(3.841*a.time));a.wave_b+=.365*(.6*Math.sin(4.251*a.time)+.4*Math.sin(3.055*a.time));a.rot+=.02*(.6*Math.sin(.181*a.time)+.09*Math.sin(-.279*a.time));a.zoom+=.025*(.6*Math.sin(.3131*a.time+2)+.4*Math.sin(-.479*a.time+4));a.decay-=.01*equal(mod(a.frame,6),0);a.t2=6*a.time;a.wave_x=.5+.2*(.6*Math.sin(.374*a.t2)+.4*Math.sin(.294*a.t2));a.wave_y=.5+.2*(.6*Math.sin(.393*
a.t2)+.4*Math.sin(.223*a.t2));`,pixel_eqs_str:"a.dx=0;a.dy=0;a.dx+=2*div(Math.cos(29.37*a.y-1.9*a.time),a.pixelsx);a.dy+=2*div(Math.cos(33.21*a.x-1.7*a.time),a.pixelsy);a.dx+=1.5*div(Math.cos(77.55*a.y-2.1*a.time),a.pixelsx);a.dy+=1.5*div(Math.cos(78.32*a.x-2.4*a.time),a.pixelsy);",warp:` shader_body { 
  vec2 dxy_1;
  dxy_1.x = cos(((154.56 * uv_orig.y) - time));
  dxy_1.y = cos(((154.56 * uv_orig.x) - time));
  float tmpvar_2;
  tmpvar_2 = (time * 5.0);
  dxy_1.x = (dxy_1.x + cos((
    (412.16 * uv_orig.y)
   - tmpvar_2)));
  dxy_1.y = (dxy_1.y + cos((
    (412.16 * uv_orig.x)
   - tmpvar_2)));
  dxy_1.y = (dxy_1.y + 0.15);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = (max (texture (sampler_fw_main, (uv + 
    (dxy_1 * texsize.zw)
  )).xyz, (texture (sampler_main, uv_orig).xyz * 0.8)) - 0.004);
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * 0.8) + ((
    (texture (sampler_blur1, uv).xyz * scale1)
   + bias1) * 0.7));
  ret = tmpvar_1.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.9,echo_zoom:1.169,wave_mode:2,additivewave:1,wave_dots:1,wave_thick:1,wave_a:.274,wave_scale:2.827,wave_smoothing:.09,modwavealphastart:.83,modwavealphaend:1.31,warpscale:3.138,zoom:.993,warp:54e-5,wave_r:.5,wave_g:.5,wave_b:.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;",frame_eqs_str:`a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=
a.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - 
    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)
  ) * 0.2));
  ret_1 = (ret_1 - 0.02);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ret_1;
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 1.15);
  ret = tmpvar_1.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,additivewave:1,wave_brighten:0,wave_a:.001,wave_scale:.01,wave_smoothing:.63,wave_mystery:-1,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:30.965,warpscale:2.572,zoom:1.00901,warp:54e-5,wave_r:.65,wave_g:.65,wave_b:.65,mv_x:12.8,mv_y:9.6,mv_l:1,mv_g:.91,mv_b:.71,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,additive:1,rad:.49138,r:0,g:1,b:1,border_a:0},init_eqs_str:"a.q4=0;a.q5=0;",frame_eqs_str:"a.x=.5+a.q4;a.y=.5+a.q5;a.a=a.bass_att+a.mid_att+a.treb_att;a.a*=.25;a.a=a.a*a.a*1.5;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;",frame_eqs_str:`a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=
a.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;a.zoom+=.005*(.6*Math.sin(.1934*a.time+3)+.4*Math.sin(.307*
a.time+9));a.zoom+=.2*Math.max(0,a.bass_att-1.1);a.warp+=.5*Math.max(0,a.treb-1.1);`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - 
    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)
  ) * 0.6));
  ret_1 = (ret_1 * 0.9);
  ret_1 = (ret_1 + ((
    ((texture (sampler_noise_lq, ((
      (uv_orig * texsize.xy)
     * 
      (texsize_noise_lq.zw * 0.4)
    ) + rand_frame.xy)).xyz - 0.5) / 256.0)
   * 12.0) * clamp (
    (treb_att - 1.0)
  , 0.0, 1.0)));
  vec3 tmpvar_3;
  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));
  ret_1 = tmpvar_3;
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = tmpvar_3;
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec3 N_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3 = (vec2(1.0, 0.0) * texsize.zw);
  N_1.x = ((texture (sampler_main, (uv_orig + tmpvar_3)).xyz - texture (sampler_main, (uv_orig - tmpvar_3)).xyz).x * 0.8);
  vec2 tmpvar_4;
  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);
  N_1.y = ((texture (sampler_main, (uv_orig + tmpvar_4)).xyz - texture (sampler_main, (uv_orig - tmpvar_4)).xyz).x * 0.8);
  N_1.x = (N_1.x + ((
    ((texture (sampler_blur1, (uv_orig + tmpvar_3)).xyz * scale1) + bias1)
   - 
    ((texture (sampler_blur1, (uv_orig - tmpvar_3)).xyz * scale1) + bias1)
  ).x * 0.2));
  N_1.y = (N_1.y + ((
    ((texture (sampler_blur1, (uv_orig + tmpvar_4)).xyz * scale1) + bias1)
   - 
    ((texture (sampler_blur1, (uv_orig - tmpvar_4)).xyz * scale1) + bias1)
  ).x * 0.2));
  N_1.z = -0.077;
  vec3 tmpvar_5;
  tmpvar_5 = normalize(N_1);
  N_1 = tmpvar_5;
  vec3 tmpvar_6;
  tmpvar_6.z = -0.8;
  tmpvar_6.x = q9;
  tmpvar_6.y = q10;
  vec3 tmpvar_7;
  tmpvar_7.z = 0.0;
  tmpvar_7.xy = ((uv_orig * 2.0) - 1.0);
  vec3 tmpvar_8;
  tmpvar_8 = normalize((tmpvar_6 - tmpvar_7));
  vec3 tmpvar_9;
  tmpvar_9 = normalize((tmpvar_7 - vec3(0.0, 0.0, 1.0)));
  ret_2 = (vec3(clamp (dot (tmpvar_5, tmpvar_8), 0.0, 1.0)) * vec3(1.2, 0.9, 0.7));
  ret_2 = (ret_2 * normalize((
    (texture (sampler_blur3, uv_orig).xyz * scale3)
   + bias3).yzx));
  ret_2 = (ret_2 + (pow (
    clamp (dot (normalize((tmpvar_9 + 
      ((2.0 * tmpvar_5) * dot (tmpvar_9, tmpvar_5))
    )), tmpvar_8), 0.0, 1.0)
  , 32.0) * 0.5));
  vec4 tmpvar_10;
  tmpvar_10.w = 1.0;
  tmpvar_10.xyz = ret_2;
  ret = tmpvar_10.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:1,echo_zoom:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.535239,wave_smoothing:0,wave_mystery:-.48,modwavealphastart:1,modwavealphaend:1.1,warpscale:3.138,fshader:1,zoom:1.023,warp:.122616,wave_g:.65,wave_b:0,mv_x:6.4,mv_y:48,mv_dx:.5,mv_dy:.5,mv_l:5,mv_r:.013716,mv_g:.872347,mv_b:.522466,mv_a:0},shapes:[{baseVals:{enabled:1,thickoutline:1,textured:1,rad:.746302,tex_zoom:.942039,g:1,b:1,r2:1,b2:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.val=0;",frame_eqs_str:"a.ang=.5*Math.sin(a.time)+.5;a.val=3;a.a2=.33*a.val;a.a=.33*a.val;a.rad=.4*Math.cos(.3*a.time)+.65;a.x=.25*Math.sin(.25*a.time)+.5;a.y=.25*Math.cos(.45*a.time)+.5;"},{baseVals:{enabled:1,thickoutline:1,textured:1,rad:.746302,tex_zoom:.942039,g:1,b:1,r2:1,b2:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.val=0;",frame_eqs_str:"a.ang=.5*Math.cos(.3*a.time)+.5;a.val=3;a.a2=.33*a.val;a.a=.33*a.val;a.rad=.4*Math.sin(.3*a.time)+.65;a.x=.25*Math.cos(.25*a.time)+.5;a.y=.25*Math.sin(.45*a.time)+.5;"},{baseVals:{enabled:1,thickoutline:1,rad:.364564,r:0,g2:0,a2:1,border_r:0,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.h2=0;a.vr=0;a.vg=0;a.vb=0;a.dist=0;a.maat=0;",frame_eqs_str:"a.h2+=.8*above(a.treb,1.32)*.9;a.vr=.5*Math.sin(.8*a.h2)+.5;a.vg=.5*Math.sin(.5*a.h2)+.5;a.vb=.5*Math.sin(.1*a.h2)+.5;a.g=a.vg;a.r=a.vr;a.b=a.vb;a.g2=a.g;a.r2=a.r;a.b2=a.b;a.dist=.01*mod(a.frame,100);a.maat+=above(a.bass_att,1.5);a.maat*=below(a.maat,16);a.x=.00001<Math.abs(below(a.maat,8))?.00001<Math.abs(below(a.maat,4))?a.dist:1-a.dist:a.x;a.y=.00001<Math.abs(above(a.maat,8))?.00001<Math.abs(above(a.maat,4))?a.dist:1-a.dist:a.y;"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;",frame_eqs_str:`a.wave_r=1;a.wave_g=0;a.wave_b=0;a.wave_r=sqrt(a.wave_r);a.wave_g=sqrt(a.wave_g);a.wave_b=sqrt(a.wave_b);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=a.dx_residual;a.dy+=
a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_main, (uv + (
    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)
   * 0.03))).xyz - 0.004);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec3 ret_2;
  uv_1 = (0.05 + (0.9 * uv));
  ret_2 = (abs((
    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)
   - texture (sampler_main, uv_1).xyz)) * 6.0);
  ret_2 = (ret_2 * 1.333);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ret_2;
  ret = tmpvar_3.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.7,echo_zoom:1.16936,wave_mode:2,wave_dots:1,wave_brighten:0,wave_a:.001,wave_scale:.011726,wave_smoothing:.9,zoom:.999902,warp:.01,wave_r:.5,wave_g:.4,wave_b:.3,ob_size:.0065,ib_size:.26,mv_x:0,mv_y:43.199997,mv_l:1,mv_g:.91,mv_b:.71,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,r:.1,b:.7},init_eqs_str:"a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;",frame_eqs_str:"a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;",point_eqs_str:`a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5);a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.xq=a.xp;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;a.ang=3.14+1.5*
Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-.5;
a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);`},{baseVals:{enabled:1,r:.2,b:.6},init_eqs_str:"a.n=0;a.yq=0;a.xp=0;a.t5=0;a.xs=0;a.yp=0;a.t1=0;a.q1=0;a.cosang=0;a.r1=0;a.g2=0;a.xq=0;a.t3=0;a.flip=0;a.t6=0;a.ys=0;a.zq=0;a.phs=0;a.r2=0;a.ang=0;a.sinang=0;a.tm=0;a.b2=0;a.t2=0;a.zp=0;a.g1=0;a.t4=0;a.b1=0;a.q8=0;",frame_eqs_str:"a.t1=.5*Math.sin(a.time)+.5;a.t2=.5*Math.sin(a.time+2.1)+.5;a.t3=.5*Math.sin(a.time+4.2)+.5;a.t4=.5*Math.sin(a.time+1.1)+.5;a.t5=.5*Math.sin(a.time+3.1)+.5;a.t6=.5*Math.sin(a.time+5.2)+.5;",point_eqs_str:`a.n=6.283*a.sample;a.phs=.2*-a.sample;a.tm=a.q1+a.phs;a.flip+=1;a.flip*=below(a.flip,2);a.xp=0;a.yp=.1*a.flip+.2*(.5*Math.sin(a.tm)+.5)+.1;a.yp=-a.yp;a.zp=0;a.ang=.5*Math.sin(2*a.tm)+.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.yq=a.yp;a.zq=a.zp;a.ang=8*a.tm;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.3;
a.ang=3.14+1.5*Math.sin(2*a.tm-.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp;a.yq=a.yp*a.sinang+a.zp*a.cosang;a.zq=a.yp*a.cosang-a.zp*a.sinang;a.ang=-1+Math.cos(3.1*a.tm+.5);a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq*a.sinang+a.yq*a.cosang;a.yp=a.xq*a.cosang-a.yq*a.sinang;a.zp=a.zq;a.zp-=.35;a.ang=1.75*Math.cos(2.3*a.tm)-1.05;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xq=a.xp*a.sinang+a.zp*a.cosang;a.yq=a.yp;a.zq=a.xp*a.cosang-a.zp*a.sinang;a.ang=.5*Math.cos(a.tm)-
.5;a.sinang=Math.sin(a.ang);a.cosang=Math.cos(a.ang);a.xp=a.xq;a.yp=a.yq*a.cosang-a.zq*a.sinang;a.zp=a.yq*a.sinang+a.zq*a.cosang;a.zp+=2;a.xs=div(a.xp,a.zp);a.ys=div(a.yp,a.zp);a.x=a.xs+.5;a.y=1.3*a.ys+.5;a.a=.00001<Math.abs(equal(a.q8,1))?1-a.sample:a.sample;a.a*=a.a;a.b+=.3*pow(1-a.sample,2);a.r1=a.t1;a.g1=a.t2;a.b1=a.t3;a.r2=a.t4;a.g2=a.t5;a.b2=a.t6;a.r=a.r1*a.flip+a.r2*(1-a.flip);a.g=a.g1*a.flip+a.g2*(1-a.flip);a.b=a.b1*a.flip+a.b2*(1-a.flip);`},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.movement=0;a.q1=0;",frame_eqs_str:"a.movement=a.movement+.01*(a.bass+a.bass_att)+.001*pow(a.bass+1,3);a.q1=a.movement;a.monitor=a.q1;",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  ret_1 = texture (sampler_main, uv).xyz;
  vec2 tmpvar_2;
  tmpvar_2 = (normalize((uv - uv_orig)) * texsize.zw);
  vec4 tmpvar_3;
  tmpvar_3.w = 0.0;
  tmpvar_3.xyz = ret_1;
  vec4 tmpvar_4;
  tmpvar_4.w = 0.0;
  tmpvar_4.xyz = max (tmpvar_3, (texture (sampler_main, (uv - tmpvar_2)) * 0.9)).xyz;
  vec4 tmpvar_5;
  tmpvar_5.w = 0.0;
  tmpvar_5.xyz = max (tmpvar_4, (texture (sampler_main, (uv + tmpvar_2)) * 0.97)).xyz;
  vec4 tmpvar_6;
  tmpvar_6.w = 0.0;
  tmpvar_6.xyz = max (tmpvar_5, (texture (sampler_main, (uv + 
    (tmpvar_2 * 2.0)
  )) * 0.97)).xyz;
  ret_1 = (max (tmpvar_6, (texture (sampler_main, 
    (uv + (tmpvar_2 * 3.0))
  ) * 0.9)).xyz * 0.92);
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = ret_1;
  ret = tmpvar_7.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec3 ret_2;
  uv_1 = (0.05 + (0.9 * uv));
  ret_2 = (abs((
    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)
   - texture (sampler_main, uv_1).xyz)) * 6.0);
  ret_2 = (ret_2 * 1.333);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ret_2;
  ret = tmpvar_3.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,echo_zoom:1,echo_orient:3,wave_mode:1,wave_thick:1,wrap:0,darken_center:1,wave_a:.3,wave_scale:.881,wave_smoothing:.5,wave_mystery:-1,warpscale:2.853,zoomexp:3.6,zoom:1.02109,rot:-.16,warp:.309,wave_r:.6,wave_g:.6,wave_b:.6,wave_y:.47,mv_l:1.75},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.q8=0;a.oldq8=0;",frame_eqs_str:`a.wave_r+=.4*(.6*Math.sin(.933*a.time)+.4*Math.sin(1.045*a.time));a.wave_g+=.4*(.6*Math.sin(.9*a.time)+.4*Math.sin(.956*a.time));a.wave_b+=.4*(.6*Math.sin(.91*a.time)+.4*Math.sin(.92*a.time));a.q8=a.oldq8+(.00001<Math.abs(above(a.bass+a.bass_att,1.8))?a.q8+.0005*pow(a.bass+a.bass_att-1,9):0);a.oldq8=a.q8;a.monitor=a.q8;a.zoom+=.023*(.6*Math.sin(.339*a.q8)+.4*Math.sin(.276*a.q8));a.rot+=.03*(.6*Math.sin(.381*a.q8)+.4*Math.sin(.579*a.q8));a.mv_r=a.wave_r;a.mv_b=a.wave_b;a.mv_g=
a.wave_g;a.mv_x=1.25;a.mv_y=1.25;a.mv_dx=.1*Math.sin(1.1*a.time);a.mv_dy=.1*Math.cos(1.112*a.time);`,pixel_eqs_str:"a.rot+=div(1,10*(a.rad+.2+.1*Math.sin(a.q8)));",warp:"",comp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1 = texture (sampler_main, uv);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = (tmpvar_1.xyz * (1.0 + (
    (abs((fract(
      (tmpvar_1.xyz * 8.0)
    ) - 0.5)) - 0.25)
   * 0.4)));
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:2.001,decay:.95,echo_zoom:.9996,wave_mode:1,wrap:0,wave_a:3.072644,wave_scale:1.285746,wave_smoothing:0,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoom:.999513,warp:.0101,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:.005,ob_a:.8,ib_size:0,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"",frame_eqs_str:"a.wave_r+=.5*Math.sin(1.13*a.time);a.wave_g+=.5*Math.sin(1.23*a.time);a.wave_b+=.5*Math.sin(1.33*a.time);",pixel_eqs_str:"a.zoom+=.05*(Math.sin(6*a.ang)+.3*Math.sin(Math.sin(2*a.time*Math.sin(a.time)*a.rad))-.1*Math.cos(a.rad));a.rot+=.5*Math.sin(.5-a.rad)*Math.cos(.02*(.5-a.rad)+a.time);a.sx+=.01*(.99-a.rad)*Math.sin(.733*a.time)*below(Math.sin(a.time),0);a.sy+=.01*(.99-a.rad)*Math.cos(.953*a.time)*above(Math.sin(a.time),0);a.zoom-=.05*(1-a.rad)*below(a.rad,.5);",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_main, (uv + (
    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)
   * 0.03))).xyz - 0.004);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec3 ret_2;
  uv_1 = (0.03 + (0.94 * uv));
  vec2 tmpvar_3;
  tmpvar_3 = (texsize.zw * 0.7);
  ret_2 = (texture (sampler_main, (uv_1 + (tmpvar_3 * vec2(3.5, 0.0)))).xyz * 3.0);
  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + 
    (tmpvar_3 * vec2(0.0, 3.5))
  )).xyz * 3.0));
  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + 
    (tmpvar_3 * vec2(0.0, -3.5))
  )).xyz * -2.0));
  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + 
    (tmpvar_3 * vec2(-3.5, 0.0))
  )).xyz * -2.0));
  ret_2 = (ret_2 / 2.0);
  ret_2 = (ret_2 * (1.0 + (0.15 * 
    ((texture (sampler_noise_lq, (rand_frame.xy + (
      (uv_1 * texsize.xy)
     * texsize_noise_lq.zw))).xxx * 2.0) - 1.0)
  )));
  vec3 tmpvar_4;
  tmpvar_4 = pow (ret_2, vec3(0.5, 0.8, 1.0));
  ret_2 = tmpvar_4;
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = tmpvar_4;
  ret = tmpvar_5.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:.97,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:2,wave_brighten:0,wrap:0,wave_a:100,wave_scale:.797,wave_smoothing:.5,modwavealphastart:.5,modwavealphaend:1,dx:1e-5,dy:1e-5,warp:.01,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.005,ob_a:1,ib_r:0,ib_g:0,ib_b:0,ib_a:.1,mv_x:0,mv_y:0,mv_l:1,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.thresh=0;a.dx_r=0;a.dy_r=0;",frame_eqs_str:"a.warp=0;a.ob_r=a.ob_r+.8*Math.sin(1.1*a.time)+1.1*Math.cos(2*a.time);a.ob_b=a.ob_b+.9*Math.sin(1.2*a.time)+Math.cos(1.5*a.time);a.ob_g=a.ob_g+.7*Math.sin(a.time)+Math.sin(.4*a.time);a.wave_r=Math.abs(a.ob_r+.2);a.wave_g=Math.abs(a.ob_g+.2);a.wave_b=Math.abs(a.ob_b+.2);a.ib_b=a.ib_b+.44*Math.cos(1.5*a.time)+.7*Math.tan(a.time);a.ib_g+=2*Math.sin(a.time*a.bass_att);a.ib_r=a.ib_r+.8*Math.sin(1.2*a.time)+1.3*Math.cos(1.8*a.time);",pixel_eqs_str:`a.thresh=2*above(a.bass_att,a.thresh)+(1-above(a.bass_att,a.thresh))*(.96*(a.thresh-1.3)+1.3);a.dx_r=.015*equal(a.thresh,2)*Math.sin(5*a.time)+(1-equal(a.thresh,2))*a.dx_r;a.dy_r=.015*equal(a.thresh,2)*Math.sin(6*a.time)+(1-equal(a.thresh,2))*a.dy_r;a.zoom+=.07*a.treb*Math.abs(Math.sin(a.time*a.rad))*(.3-a.rad);a.dy+=a.dy_r*below(a.rad,.5-.2*a.time);a.dx+=a.dx_r*below(a.rad,.5-.2*a.time);a.rot+=.7*a.bass_att*Math.sin(Math.abs(a.dx_r*(1-a.rad)*2*a.time+Math.cos(12*a.rad)))*.2;
`,warp:` shader_body { 
  vec3 ret_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - 
    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)
  ) * 0.3));
  ret_1 = (ret_1 * 0.9);
  ret_1 = (ret_1 + ((
    (texture (sampler_noise_lq, ((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 0.1))).xyz - 0.5)
   / 256.0) * 28.0));
  vec3 tmpvar_3;
  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));
  ret_1 = tmpvar_3;
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = tmpvar_3;
  ret = tmpvar_4.xyz;
 }`,comp:""}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:.5,additivewave:1,modwavealphabyvolume:1,wave_a:.009,wave_scale:2.713,wave_smoothing:0,modwavealphastart:1.2,modwavealphaend:1.2,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:.44,wave_g:.4,ob_size:.015,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:3,additive:1,num_inst:175,rad:.20065,ang:.75398,tex_ang:3.14159,tex_zoom:.99979,r:0,g2:0,border_r:.01,border_g:0,border_a:1},init_eqs_str:"a.my_z=0;a.d=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.q12=0;a.w2=0;a.x1=0;a.q13=0;a.q15=0;a.dy1=0;a.zoom=0;a.p=0;a.q5=0;a.dz1=0;a.z3=0;a.w3=0;a.my_x=0;a.x3=0;a.my_y=0;a.q11=0;a.dd=0;a.q4=0;a.yy1=0;a.q16=0;a.w1=0;a.x2=0;a.q17=0;a.l=0;a.y2=0;a.dx1=0;a.zz1=0;a.q14=0;a.z1=0;a.q3=0;a.q32=0;a.xx1=0;",frame_eqs_str:`a.xx1=.00001<Math.abs(equal(a.instance,0))?a.q11:a.xx1;a.yy1=.00001<Math.abs(equal(a.instance,0))?a.q12:a.yy1;a.zz1=.00001<Math.abs(equal(a.instance,0))?a.q13:a.zz1;a.dx1=a.q14*(a.yy1-a.xx1);a.dy1=a.xx1*(a.q15-a.zz1)-a.yy1;a.dz1=a.xx1*a.yy1-a.q16*a.zz1;a.dd=sqrt(a.dx1*a.dx1+a.dy1*a.dy1+a.dz1*a.dz1);a.xx1+=div(a.q17*a.dx1,a.dd);a.yy1+=div(a.q17*a.dy1,a.dd);a.zz1+=div(a.q17*a.dz1,a.dd);a.my_x=.1*a.xx1;a.my_y=.1*a.yy1;a.my_z=.1*a.zz1-3;a.d=4.75;a.zoom=.55+.25*Math.sin(.5*a.q32);
a.w1=a.q3;a.w2=a.q4;a.w3=a.q5;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;a.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*a.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));
a.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.rad=div(a.rad,a.d);a.ang-=div(a.instance,a.num_inst)*Math.asin(1)*8;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.movz=0;a.trel=0;a.q9=0;a.rott=0;a.vol__=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.trel_=0;a.vx=0;a.dec_slow=0;a.q11=0;a.q10=0;a.vy=0;a.q4=0;a.dir=0;a.dir_=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.vol=0;a.p1=0;a.peak=0;a.dec_fast=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.vol_=0;a.q7=0;a.q28=0;a.q20=0;a.q8=0;a.step=0;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.96,div(30,a.fps));a.dec_fast=pow(.6,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,0+a.avg+a.peak)*above(a.time,a.t0+.1);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q24=a.is_beat;
a.vol=a.bass_att+a.mid_att+a.treb_att;a.vol_=a.dec_med*a.vol_+(1-a.dec_med)*a.vol;a.vol__=a.dec_med*a.vol__+(1-a.dec_med)*a.vol_;a.q27=a.index+1;a.q28=a.index2+1;a.q23=a.q22-div(.1,a.q22);a.q23=Math.max(a.q23,1);a.k1=a.is_beat*equal(mod(a.index,8),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_fast*a.p2+(1-a.dec_fast)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,2));a.vx=a.vx*bnot(a.trig)+a.trig*(div(Math.floor(randint(100)),
100)-.5);a.vy=a.vy*bnot(a.trig)+a.trig*(div(Math.floor(randint(100)),100)-.5);a.q10=.2+a.vy*a.vy*2;a.q11=div(Math.sin(div(a.time,9)),2)+.4;a.movz-=div(1,a.fps)*(.3+a.vx);a.q9=a.movz;a.q12=2*Math.min(a.q22,6);a.q13=Math.min(2,1+Math.abs(8*a.vy*a.vx));a.dir_=a.bass-1;a.trig=bnot(mod(a.index,4))*a.q24;a.dir=bnot(a.trig)*a.dir+a.trig*(Math.floor(randint(10))-5);a.trel+=div(.1,a.fps)*a.dir;a.trel_=a.dec_med*a.trel_+(1-a.dec_med)*a.trel;a.q5=Math.cos(a.trel_);a.q6=Math.sin(a.trel_+0*a.q27*mod(a.q28,2));
a.q7=-a.q6;a.q8=a.q5;a.zoom=1.02;a.rot=.5*Math.sin(bnot(mod(a.q28,2))*a.q28);a.rot=0*Math.sin(div(a.time,3));a.dx=0;a.monitor=a.q11;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = ((uv * texsize.xy) * 0.08);
  vec3 tmpvar_2;
  tmpvar_2 = (texture (sampler_main, (uv - (
    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)
   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, 
    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)
  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ((mix (tmpvar_2, 
    (1.0 - tmpvar_2.zyx)
  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (
    (1.0 - rad)
  , 18.0)));
  ret = tmpvar_3.xyz;
 }`,comp:`vec3 xlat_mutableneu;
vec2 xlat_mutablers0;
vec2 xlat_mutablerss;
vec2 xlat_mutableuv2;
 shader_body { 
  vec2 uv_1;
  vec2 ofs_2;
  vec3 ret1_3;
  uv_1 = ((uv - 0.5) * aspect.xy);
  vec2 tmpvar_4;
  tmpvar_4.x = q5;
  tmpvar_4.y = q6;
  uv_1 = (uv_1 + (tmpvar_4 / 4.0));
  mat2 tmpvar_5;
  tmpvar_5[uint(0)] = _qb.xy;
  tmpvar_5[1u] = _qb.zw;
  uv_1 = (uv_1 * tmpvar_5);
  float tmpvar_6;
  float tmpvar_7;
  tmpvar_7 = (min (abs(
    (uv_1.y / uv_1.x)
  ), 1.0) / max (abs(
    (uv_1.y / uv_1.x)
  ), 1.0));
  float tmpvar_8;
  tmpvar_8 = (tmpvar_7 * tmpvar_7);
  tmpvar_8 = (((
    ((((
      ((((-0.01213232 * tmpvar_8) + 0.05368138) * tmpvar_8) - 0.1173503)
     * tmpvar_8) + 0.1938925) * tmpvar_8) - 0.3326756)
   * tmpvar_8) + 0.9999793) * tmpvar_7);
  tmpvar_8 = (tmpvar_8 + (float(
    (abs((uv_1.y / uv_1.x)) > 1.0)
  ) * (
    (tmpvar_8 * -2.0)
   + 1.570796)));
  tmpvar_6 = (tmpvar_8 * sign((uv_1.y / uv_1.x)));
  if ((abs(uv_1.x) > (1e-08 * abs(uv_1.y)))) {
    if ((uv_1.x < 0.0)) {
      if ((uv_1.y >= 0.0)) {
        tmpvar_6 += 3.141593;
      } else {
        tmpvar_6 = (tmpvar_6 - 3.141593);
      };
    };
  } else {
    tmpvar_6 = (sign(uv_1.y) * 1.570796);
  };
  xlat_mutablers0.x = (((tmpvar_6 / 3.1416) * 6.0) * q28);
  xlat_mutablers0.y = inversesqrt(dot (uv_1, uv_1));
  vec2 tmpvar_9;
  tmpvar_9.x = (xlat_mutablers0.x + (q9 * 8.0));
  tmpvar_9.y = (xlat_mutablers0.y + ((q9 * q28) * 4.0));
  xlat_mutablerss = (tmpvar_9 / 12.0);
  vec2 tmpvar_10;
  tmpvar_10.x = q5;
  tmpvar_10.y = q6;
  ofs_2 = (0.1 * tmpvar_10.yx);
  float tmpvar_11;
  float tmpvar_12;
  tmpvar_12 = -(q9);
  tmpvar_11 = fract(tmpvar_12);
  mat2 tmpvar_13;
  tmpvar_13[uint(0)].x = 1.0;
  tmpvar_13[uint(0)].y = -0.0;
  tmpvar_13[1u].x = 0.0;
  tmpvar_13[1u].y = 1.0;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_11)
   * tmpvar_13)) * aspect.yx);
  vec2 tmpvar_14;
  tmpvar_14 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));
  xlat_mutableneu = (texture (sampler_main, tmpvar_14).xyz + ((texture (sampler_blur1, tmpvar_14).xyz * scale1) + bias1));
  ret1_3 = max (vec3(0.0, 0.0, 0.0), ((xlat_mutableneu * 
    (1.0 - (tmpvar_11 * tmpvar_11))
  ) * 2.0));
  float tmpvar_15;
  tmpvar_15 = fract((tmpvar_12 + 0.3333333));
  mat2 tmpvar_16;
  tmpvar_16[uint(0)].x = -0.4990803;
  tmpvar_16[uint(0)].y = -0.8665558;
  tmpvar_16[1u].x = 0.8665558;
  tmpvar_16[1u].y = -0.4990803;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_15)
   * tmpvar_16)) * aspect.yx);
  vec2 tmpvar_17;
  tmpvar_17 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));
  xlat_mutableneu = (texture (sampler_main, tmpvar_17).xyz + ((texture (sampler_blur1, tmpvar_17).xyz * scale1) + bias1));
  ret1_3 = max (ret1_3, ((xlat_mutableneu * 
    (1.0 - (tmpvar_15 * tmpvar_15))
  ) * 2.0));
  float tmpvar_18;
  tmpvar_18 = fract((tmpvar_12 + 0.6666667));
  mat2 tmpvar_19;
  tmpvar_19[uint(0)].x = -0.5018377;
  tmpvar_19[uint(0)].y = 0.8649619;
  tmpvar_19[1u].x = -0.8649619;
  tmpvar_19[1u].y = -0.5018377;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_18)
   * tmpvar_19)) * aspect.yx);
  vec2 tmpvar_20;
  tmpvar_20 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));
  xlat_mutableneu = (texture (sampler_main, tmpvar_20).xyz + ((texture (sampler_blur1, tmpvar_20).xyz * scale1) + bias1));
  ret1_3 = max (ret1_3, ((xlat_mutableneu * 
    (1.0 - (tmpvar_18 * tmpvar_18))
  ) * 2.0));
  float tmpvar_21;
  tmpvar_21 = fract((tmpvar_12 + 1.0));
  mat2 tmpvar_22;
  tmpvar_22[uint(0)].x = 0.9999949;
  tmpvar_22[uint(0)].y = 0.003185092;
  tmpvar_22[1u].x = -0.003185092;
  tmpvar_22[1u].y = 0.9999949;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_21)
   * tmpvar_22)) * aspect.yx);
  vec2 tmpvar_23;
  tmpvar_23 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));
  xlat_mutableneu = (texture (sampler_main, tmpvar_23).xyz + ((texture (sampler_blur1, tmpvar_23).xyz * scale1) + bias1));
  ret1_3 = max (ret1_3, ((xlat_mutableneu * 
    (1.0 - (tmpvar_21 * tmpvar_21))
  ) * 2.0));
  vec2 tmpvar_24;
  tmpvar_24.x = (ret1_3.x + ret1_3.z);
  tmpvar_24.y = (ret1_3.x - ret1_3.y);
  vec4 tmpvar_25;
  tmpvar_25.w = 1.0;
  tmpvar_25.xyz = ((ret1_3 + (
    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))
   * roam_sin).xyz) + ((2.0 * 
    (bass_att * ((texture (sampler_blur1, fract(
      (xlat_mutablerss + (tmpvar_24 / 2.0))
    )).xyz * scale1) + bias1).zxy)
  ) * clamp (
    (1.0 - (ret1_3 * 4.0))
  , 0.0, 1.0)));
  ret = tmpvar_25.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.14,decay:1,echo_zoom:1,wave_mode:6,wave_thick:1,wave_brighten:0,wrap:0,darken:1,wave_a:1.17,wave_scale:.797,wave_smoothing:0,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoomexp:.9995,zoom:.9998,rot:.02,dy:-.008,warp:.01,sx:1.0098,wave_r:.5,wave_g:.5,wave_b:.5,wave_x:.9,ob_size:.005,ob_a:.8,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:44.8,mv_y:38.4,mv_l:5,mv_g:.91,mv_b:.71,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.q12=0;a.q18=0;a.q6=0;a.bass_thresh=0;a.wg=0;a.q11=0;a.q10=0;a.wb=0;a.q17=0;a.vol=0;a.q2=0;a.q3=0;a.wr=0;a.q7=0;a.q8=0;",frame_eqs_str:`a.wave_r+=.3*Math.sin(50*a.vol);a.wave_b+=.3*Math.sin(20*a.vol);a.wave_g+=.5*Math.sin(35*a.vol);a.q8=a.wave_r;a.q7=a.wave_b;a.q6=a.wave_g;a.wr=.5+.4*(.6*Math.sin(1.1*a.time)+.4*Math.sin(.8*a.time));a.wb=.5+.4*(.6*Math.sin(1.6*a.time)+.4*Math.sin(.5*a.time));a.wg=.5+.4*(.6*Math.sin(1.34*a.time)+.4*Math.sin(.4*a.time));a.monitor=a.wg;a.q10=a.wr;a.q11=a.wb;a.q12=a.wg;a.q18=.007*Math.sin(.1*a.time);a.q17=-.007*Math.sin(.254*a.time);a.q2=a.bass_thresh;a.vol=.25*(a.bass+a.mid+a.treb);
a.vol*=a.vol;a.q3=a.vol;a.warp=0;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 noise3_1;
  vec3 tmpvar_2;
  tmpvar_2 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur1, uv).xyz * scale1) + bias1));
  vec2 tmpvar_3;
  tmpvar_3 = (0.5 + ((
    (uv - vec2(0.0, 1.0))
   - 0.5) * (1.0 + 
    (tmpvar_2.y * 0.03)
  )));
  vec2 tmpvar_4;
  tmpvar_4.x = (tmpvar_3.x + pow (tmpvar_2.x, 0.0));
  tmpvar_4.y = (tmpvar_3.y + pow (tmpvar_2.x, 0.005));
  noise3_1 = (texture (sampler_noise_lq, ((
    (uv_orig * texsize.xy)
   * texsize_noise_lq.zw) + rand_frame.xy)).xyz * fract(q15));
  vec3 tmpvar_5;
  tmpvar_5 = (noise3_1 * (vec3(1.0, 1.0, 1.0) - vec3(fract(
    (q3 * 0.5)
  ))));
  noise3_1 = tmpvar_5;
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_main, fract(tmpvar_4));
  vec3 tmpvar_7;
  tmpvar_7.x = q10;
  tmpvar_7.y = q11;
  tmpvar_7.z = q12;
  vec3 tmpvar_8;
  tmpvar_8 = mix (tmpvar_5, tmpvar_7, tmpvar_6.xxx);
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = (tmpvar_6.xyz + clamp ((
    (tmpvar_6.yzx * tmpvar_8.zxy)
   - 
    (tmpvar_6.zxy * tmpvar_8.yzx)
  ), 0.0, 1.0));
  ret = tmpvar_9.xyz;
 }`,comp:` shader_body { 
  vec2 uv1_1;
  vec2 tmpvar_2;
  tmpvar_2.y = 0.0;
  tmpvar_2.x = texsize.z;
  vec2 tmpvar_3;
  tmpvar_3.x = 0.0;
  tmpvar_3.y = texsize.w;
  vec2 tmpvar_4;
  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;
  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;
  uv1_1 = ((0.3 * cos(
    ((uv - 0.5) * 2.0)
  )) - tmpvar_4);
  float tmpvar_5;
  tmpvar_5 = clamp ((0.04 / sqrt(
    dot (uv1_1, uv1_1)
  )), 0.0, 1.0);
  uv1_1 = ((0.3 * cos(
    (uv1_1 * 12.0)
  )) - (9.0 * tmpvar_4));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (
    (0.04 / sqrt(dot (uv1_1, uv1_1)))
  , 0.0, 1.0))));
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.14,decay:1,echo_zoom:1,wave_mode:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,darken:1,wave_a:.001,wave_scale:.179,wave_smoothing:0,wave_mystery:.3,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoomexp:.8195,zoom:1.0697,dy:.006,warp:.01,sx:.9996,wave_g:0,wave_b:0,ob_a:.8,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:0,mv_y:0,mv_l:1,mv_g:.91,mv_b:.71,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.q12=0;a.q18=0;a.q6=0;a.q5=0;a.bass_thresh=0;a.wg=0;a.q11=0;a.q10=0;a.wb=0;a.q17=0;a.vol=0;a.q2=0;a.q3=0;a.wr=0;a.q7=0;a.mtime=0;a.q8=0;",frame_eqs_str:`a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.91*(a.bass_thresh-1.3)+1.3);a.wave_r=.5+.5*(.6*Math.sin(1.3*a.time)+.4*Math.sin(.98*a.time));a.wave_b=.5+.5*(.6*Math.sin(1.1*a.time)+.4*Math.sin(.78*a.time));a.wave_g=.5+.5*(.6*Math.sin(1.2*a.time)+.4*Math.sin(.6*a.time));a.q8=a.wave_r;a.q7=a.wave_b;a.q6=a.wave_g;a.wr=.5+.4*(.6*Math.sin(.2*a.time)+.4*Math.sin(.8*a.time));a.wb=.5+.4*(.6*Math.sin(.377*a.time)+.4*Math.sin(.5*a.time));a.wg=.5+
.4*(.6*Math.sin(.7*a.time)+.4*Math.sin(.4*a.time));a.q10=a.wr;a.q11=a.wb;a.q12=a.wg;a.q10=.8;a.q11=.2;a.q12=.1;a.q18=.01*Math.sin(.1*a.mtime);a.q17=-.01*Math.sin(.254*a.mtime);a.q2=a.bass_thresh;a.vol=.25*(a.bass+a.mid+a.treb);a.vol*=a.vol;a.q3=a.vol;a.q5=.5*a.vol;a.mtime+=.01*a.vol;a.q2=.25*a.mtime;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 noise2_1;
  vec3 ret_2;
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) + texture (sampler_main, uv).xyz);
  vec2 tmpvar_4;
  tmpvar_4 = (0.5 + ((uv - 0.5) * (1.0 + 
    (tmpvar_3.y * 0.05)
  )));
  vec2 tmpvar_5;
  tmpvar_5.x = (tmpvar_4.x + pow (tmpvar_3.x, q17));
  tmpvar_5.y = (tmpvar_4.y + pow (tmpvar_3.x, q18));
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_fc_main, fract(tmpvar_5));
  vec3 tmpvar_7;
  tmpvar_7.x = q10;
  tmpvar_7.y = q11;
  tmpvar_7.z = q12;
  noise2_1 = (texture (sampler_noise_lq, ((
    (uv_orig * texsize.xy)
   * texsize_noise_lq.zw) + rand_frame.xy)).xyz + ((tmpvar_7 * vec3(rad)) * vol));
  vec3 a_8;
  a_8 = (1.0 - tmpvar_6.xyz);
  ret_2 = (tmpvar_6.xyz + (0.3 * clamp (
    ((a_8.yzx * noise2_1.zxy) - (a_8.zxy * noise2_1.yzx))
  , 0.0, 1.0)));
  ret_2 = (ret_2 * 0.97);
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = ret_2;
  ret = tmpvar_9.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  ret_1 = (texture (sampler_main, uv).xyz * vec3(0.9, 0.3, 0.5));
  ret_1 = (ret_1 * 1.34);
  ret_1 = (ret_1 * ret_1);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ret_1;
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.28,decay:.8,echo_zoom:1,echo_orient:3,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,brighten:1,wave_a:.001,wave_scale:1.286,wave_smoothing:.63,modwavealphastart:.71,modwavealphaend:1.3,zoomexp:3.04777,zoom:1.0173,warp:.01605,wave_g:.65,wave_b:.65,ob_size:0,ob_a:1,mv_x:64,mv_y:48,mv_l:0,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1,additive:1,g:0,b:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"},{baseVals:{enabled:1,thick:1,additive:1,r:0,g:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.1);"},{baseVals:{enabled:1,thick:1,additive:1,r:0,b:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"},{baseVals:{enabled:1,thick:1,additive:1,g:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.bass,.5)*.02*a.bass;a.ma-=3.1415*above(a.treb,.5)*.02*a.treb;a.mx+=.0008*Math.cos(a.ma);a.my+=.0008*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.2);"}],init_eqs_str:"a.z=0;a.w=0;a.d_x=0;a.q25=0;a.index=0;a.q12=0;a.q18=0;a.q13=0;a.q15=0;a.q29=0;a.dt=0;a.q1=0;a.dec_med=0;a.dm=0;a.mm=0;a.tt=0;a.is_beat=0;a.q31=0;a.q23=0;a.q24=0;a.dec_slow=0;a.q11=0;a.q16=0;a.q26=0;a.avg=0;a.r=0;a.db=0;a.beat=0;a.q17=0;a.d_y=0;a.peak=0;a.bb=0;a.q27=0;a.q14=0;a.t0=0;a.q32=0;a.q28=0;a.q30=0;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,2);a.d_x=.00001<Math.abs(a.is_beat)?.001*(randint(2E3)-1E3):a.d_x;a.d_y=.00001<Math.abs(a.is_beat)?.001*(randint(2E3)-1E3):a.d_y;a.r=
.00001<Math.abs(a.is_beat)?.001*(randint(2E3)-1E3):a.r;a.z=.00001<Math.abs(a.is_beat)?.001*randint(1E3):a.z;a.zoom=1.03+.06*a.z;a.rot=.06*a.r;a.dx=.01*a.d_x;a.dy=.01*a.d_y;a.q1=1;a.q23=div(randint(1E3),1E3);a.q24=div(randint(1E3),1E3);a.q25=6.28*div(randint(1E3),1E3);a.q26=a.q25-3.14;a.q27=div(randint(1E3),12E3)+.04;a.q28=div(randint(1E3),1E3);a.q29=div(randint(1E3),1E3);a.q30=6.28*div(randint(1E3),1E3);a.q31=a.q30-3.14;a.q32=div(randint(1E3),14E3)+.04;a.db=.98*a.db+.2*a.bass;a.bb+=.1*a.db;a.dt=.98*
a.dt+.2*a.treb;a.tt+=.1*a.dt;a.dm=.98*a.dm+.2*a.mid;a.mm+=.1*a.dm;a.w=.1*(a.bb-a.tt);a.q11=Math.sin(a.w);a.q12=Math.cos(a.w);a.q13=.5+.25*Math.sin(.1*(a.bb-a.mm));a.q14=.5+.25*Math.sin(.1*(a.tt-a.mm));a.q15=4;a.q16=.06;a.q17=Math.sin(-a.w);a.q18=Math.cos(-a.w);`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 8.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.x;
  tmpvar_5.y = tmpvar_4.x;
  vec2 tmpvar_6;
  vec2 tmpvar_7;
  tmpvar_7 = mix (uv_orig, uv, vec2(0.1, 0.1));
  tmpvar_6 = (tmpvar_7 + ((tmpvar_5 * texsize.zw) * 2.0));
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_3.y;
  tmpvar_8.y = tmpvar_4.y;
  vec2 tmpvar_9;
  tmpvar_9 = (mix (uv_orig, uv, vec2(0.3, 0.3)) + ((tmpvar_8 * texsize.zw) * 2.0));
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_3.z;
  tmpvar_10.y = tmpvar_4.z;
  vec2 tmpvar_11;
  tmpvar_11 = (tmpvar_7 + ((tmpvar_10 * texsize.zw) * 2.0));
  ret_1.x = (texture (sampler_main, tmpvar_6).x - ((texture (sampler_main, tmpvar_6).xyz - 
    ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)
  ).x * 0.01));
  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - 
    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)
  ).y * 0.01));
  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - 
    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)
  ).z * 0.01));
  ret_1 = (ret_1 + (-0.004 + (
    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)).xyz - 0.5)
   * 0.1)));
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = ret_1;
  ret = tmpvar_12.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 8.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.z;
  tmpvar_5.y = tmpvar_4.z;
  vec2 tmpvar_6;
  tmpvar_6.x = tmpvar_3.y;
  tmpvar_6.y = tmpvar_4.y;
  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - 
    (tmpvar_5 * 0.2)
  )).yyy) * ((
    (-(tmpvar_3.y) + tmpvar_4.y)
   + 1.0) + (
    (-(tmpvar_3.z) + tmpvar_4.z)
   * 2.0)));
  vec3 tmpvar_7;
  tmpvar_7 = mix (mix (ret_1, vec3(0.3, 0.0, 0.8), vec3((
    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)
  .x * 1.4))), vec3(1.0, 0.9, 0.4), texture (sampler_main, uv).zzz);
  ret_1 = tmpvar_7;
  vec4 tmpvar_8;
  tmpvar_8.w = 1.0;
  tmpvar_8.xyz = tmpvar_7;
  ret = tmpvar_8.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:1,gammaadj:1,decay:1,echo_zoom:1,wrap:0,darken_center:1,brighten:1,darken:1,wave_a:.001,warpanimspeed:.141,warpscale:14.497,zoom:.99951,warp:.75055,wave_r:0,wave_g:0,wave_b:0,ob_size:.5,ob_r:.01,ib_size:.26,mv_a:0},shapes:[{baseVals:{enabled:1,sides:6,rad:.17809,ang:.26,tex_zoom:.39711,g:.7,b:.6,r2:.4,g2:0,a2:1,border_a:0},init_eqs_str:"a.q3=0;",frame_eqs_str:"a.x=.11+.22*randint(5);a.y=.1+.16*mod(2*a.time,6);a.b=.6+.3*a.q3;a.g=.7+.2*a.q3;a.r=.7;a.g2=.3*a.g;a.r2=.3*a.r;a.b2=.3*a.b;"},{baseVals:{enabled:1,sides:6,additive:1,rad:.17809,ang:.26,tex_zoom:.99999,g:1,b:.4,a:.5,r2:.2,g2:0,b2:.3,a2:.6,border_r:0,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.q3=0;",frame_eqs_str:"a.x=.11+.22*randint(5);a.y=.1+.16*mod(2*a.time,6);a.b=.6+.3*a.q3;a.g=.7+.2*a.q3;a.r=.7;a.g2=.3*a.g;a.r2=.3*a.r;a.b2=.3*a.b;"},{baseVals:{enabled:1,sides:6,textured:1,rad:.17633,ang:.26,tex_zoom:1.19615,r2:1,b2:1,a2:.2,border_r:0,border_g:0,border_b:0,border_a:.2},init_eqs_str:"a.q3=0;a.q4=0;a.q5=0;a.q1=0;",frame_eqs_str:"a.x=.22*randint(6);a.y=.18+.16*mod(2*a.time,5);a.g=1.5*a.q3;a.r=1.3*a.q4;a.b=1.7*a.q5;a.tex_ang=-a.q1;a.tex_zoom=2+Math.sin(a.q1);"},{baseVals:{enabled:1,sides:6,textured:1,rad:.16284,ang:.26,r2:.8,g2:.8,b2:.8,a2:.2,border_r:0,border_g:0,border_b:0,border_a:.2},init_eqs_str:"a.q3=0;a.q2=0;a.q1=0;",frame_eqs_str:"a.x=.11+.22*randint(5);a.y=.1+.16*mod(2*a.time,6);a.r=.3*a.q3;a.b=.2*a.q2;a.g=.1*a.q1;a.tex_ang=a.q1;a.tex_zoom=2+1.2*Math.sin(1.5*a.q1);"}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.y3=0;a.y1=0;a.q12=0;a.w2=0;a.ref_ang=0;a.x1=0;a.vx3=0;a.q13=0;a.q6=0;a.q1=0;a.q5=0;a.q9=0;a.vx1=0;a.vx4=0;a.x3=0;a.q11=0;a.q10=0;a.q4=0;a.vy4=0;a.bounce=0;a.x4=0;a.w1=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.vy1=0;a.q2=0;a.q14=0;a.v1=0;a.vx2=0;a.q3=0;a.y4=0;a.q7=0;a.vy3=0;a.v2=0;a.q8=0;a.x1=.5;a.x2=.51;a.y2=1;a.y1=.7;a.x3=.8;a.y3=.5;a.x4=.2;a.y4=.5;a.ax1=0;a.ay1=0;a.ax2=0;a.ay2=0;a.ax3=0;a.ay3=0;a.vx1=0;a.vx2=0;",frame_eqs_str:`a.sx=1+.01*mod(8*a.bass,8)*equal(mod(a.time,Math.floor(24-2*a.bass)),0);a.sy=1+.01*mod(8*a.mid,8)*equal(mod(a.time,12+Math.floor(24-2*a.bass)),0);a.zoom=.99;a.wave_a=0;a.r=.12+.004*Math.max(a.bass_att,a.treb_att);a.bounce=below(a.y1,a.r);a.y1+=a.vy1;a.vy1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy1)+.1*(a.r-a.y1):a.vy1-div(.0036,a.fps);a.bounce=below(a.x1,a.r);a.x1+=a.vx1;a.vx1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx1)+.1*(a.r-a.x1):a.vx1;a.bounce=above(a.x1,1-a.r);a.vx1=
.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx1)+.04*(1-a.r-a.x1):a.vx1;a.bounce=below(a.y2,a.r);a.y2+=a.vy2;a.vy2=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy2)+.1*(a.r-a.y2):a.vy2-div(.0036,a.fps);a.bounce=below(a.x2,a.r);a.x2+=a.vx2;a.vx2=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx2)+.1*(a.r-a.x2):a.vx2;a.bounce=above(a.x2,1-a.r);a.vx2=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx2)+.1*(1-a.r-a.x2):a.vx2;a.bounce=below(a.y3,a.r);a.y3+=a.vy3;a.vy3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy3)+.1*(a.r-
a.y3):a.vy3-div(.0036,a.fps);a.bounce=below(a.x3,a.r);a.x3+=a.vx3;a.vx3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx3)+.1*(a.r-a.x3):a.vx3;a.bounce=above(a.x3,1-a.r);a.vx3=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx3)+.1*(1-a.r-a.x3):a.vx3;a.bounce=below(a.y4,a.r);a.y4+=a.vy4;a.vy4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy4)+.1*(a.r-a.y4):a.vy4-div(.0036,a.fps);a.bounce=below(a.x4,a.r);a.x4+=a.vx4;a.vx4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx4)+.1*(a.r-a.x4):a.vx4;a.bounce=above(a.x4,1-a.r);
a.vx4=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx4)+.1*(1-a.r-a.x4):a.vx4;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-a.vy2)),2*a.r);a.ref_ang=Math.atan2(a.x2-a.x1,a.y2-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx2,a.vy2);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;
a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.bounce=
below(sqrt(sqr(a.x1+a.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),2*a.r);a.ref_ang=Math.atan2(a.x3-a.x1,a.y3-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx3,a.vy3);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+
Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x3-a.vx3)+sqr(a.y2+a.vy2-a.y3-a.vy3)),2*a.r);a.ref_ang=
Math.atan2(a.x3-a.x2,a.y3-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx3,a.vy3);a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;
a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x4-a.vx4)+sqr(a.y1+a.vy1-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x1,a.y4-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=
sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx4,a.vy4);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+
Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x4-a.vx4)+sqr(a.y2+a.vy2-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x2,a.y4-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx4,a.vy4);a.vx2=.00001<
Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?
Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x3+a.vx3-a.x4-a.vx4)+sqr(a.y3+a.vy3-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x3,a.y4-a.y3)+Math.asin(1);a.v1=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx3,a.vy3);a.w2=Math.atan2(a.vx4,a.vy4);a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*
a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy3;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-
a.ref_ang-Math.asin(1)):a.vy4;a.q1=a.aspectx;a.q2=a.aspecty;a.q3=a.x1;a.q4=a.y1;a.q5=a.r;a.q6=a.x2;a.q7=a.y2;a.q8=a.r;a.q9=a.x3;a.q10=a.y3;a.q11=a.r;a.q12=a.x4;a.q13=a.y4;a.q14=a.r;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  ret_1.z = (texture (sampler_main, uv).z * 0.5);
  vec2 tmpvar_2;
  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);
  vec2 tmpvar_3;
  tmpvar_3 = (texsize.zw * 4.0);
  vec2 tmpvar_4;
  tmpvar_4.x = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).y * 0.5);
  tmpvar_4.y = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).y * 0.5);
  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (
    (tmpvar_4 * texsize.zw)
   * 4.0)), 0.0, 1.0)).y;
  ret_1.y = (ret_1.y + ((
    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))
  .y * 0.025) + -0.014));
  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));
  vec2 tmpvar_5;
  tmpvar_5.x = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).x * 0.5);
  tmpvar_5.y = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).x * 0.5);
  ret_1.x = ((texture (sampler_main, (uv - 
    ((tmpvar_5 * texsize.zw) * 4.0)
  )).x - (ret_1.y * 0.01)) + 0.004);
  ret_1.x = (ret_1.x + ((
    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)
   * 0.01) + (ret_1.z * 0.14)));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ret_1;
  ret = tmpvar_6.xyz;
 }`,comp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1.x = q3;
  tmpvar_1.y = q4;
  vec2 tmpvar_2;
  tmpvar_2.x = q6;
  tmpvar_2.y = q7;
  vec2 tmpvar_3;
  tmpvar_3.x = q9;
  tmpvar_3.y = q10;
  vec2 tmpvar_4;
  tmpvar_4.x = q12;
  tmpvar_4.y = q13;
  vec2 tmpvar_5;
  tmpvar_5 = (texsize.zw * 1.2);
  vec3 tmpvar_6;
  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);
  vec3 tmpvar_7;
  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);
  vec2 tmpvar_8;
  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_9;
  x_9 = ((uv - (tmpvar_8 * 8.0)) - (1.0 - tmpvar_1));
  vec2 tmpvar_10;
  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_11;
  x_11 = ((uv - (tmpvar_10 * 8.0)) - (1.0 - tmpvar_2));
  vec2 tmpvar_12;
  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_13;
  x_13 = ((uv - (tmpvar_12 * 8.0)) - (1.0 - tmpvar_3));
  vec2 tmpvar_14;
  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_15;
  x_15 = ((uv - (tmpvar_14 * 8.0)) - (1.0 - tmpvar_4));
  vec4 tmpvar_16;
  tmpvar_16.w = 1.0;
  tmpvar_16.xyz = (mix (texture (sampler_main, uv).xyz, max (
    max ((vec3((1.0 - pow (
      sqrt(dot (x_9, x_9))
    , 0.2))) * vec3(2.0, 1.0, -1.0)), (vec3((1.0 - pow (
      sqrt(dot (x_11, x_11))
    , 0.2))) * vec3(2.0, -1.0, 1.0)))
  , 
    max ((vec3((1.0 - pow (
      sqrt(dot (x_13, x_13))
    , 0.2))) * vec3(-1.0, 1.0, 2.0)), (vec3((1.0 - pow (
      sqrt(dot (x_15, x_15))
    , 0.2))) * vec3(1.0, -1.0, 2.0)))
  ), vec3(0.5, 0.5, 0.5)) * 1.25);
  ret = tmpvar_16.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.995,echo_zoom:1.007,echo_orient:3,wave_mode:7,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,wave_a:.001,wave_scale:.958,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:0,wave_b:0,ob_size:.05,ob_g:.1,ob_b:1,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:25.6,mv_y:9.6,mv_l:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.look=0;a.n=0;a.reg26=0;a.w=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.h3=0;a.q12=0;a.v3=0;a.q18=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.bt=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.q9=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.v=0;a.slow=0;a.reg36=0;a.mm=0;a.h2=0;a.reg22=0;a.tt=0;a.uvy=0;a.rotz=0;a.bm=0;a.ly=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;
a.reg31=0;a.dirx=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.c2=0;a.reg37=0;a.s3=0;a.yslope=0;a.lampy=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.mt=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.mx=0;a.reg27=0;a.mn=0;a.q19=0;a.beat=0;a.q17=0;a.reg32=0;a.lx=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.bb=0;a.q2=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.h1=0;a.reg17=0;a.v1=0;a.speed=0;a.q3=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.lampx=0;a.ty=0;a.c1=0;a.v2=0;a.q20=
0;a.q8=0;a.avg=.01;a.q7=.25;a.q8=randint(2)-1;a.q16=1+randint(2);a.q18=randint(.8)+.1;a.q30=1;a.q31=128;a.start=1;a.travel=0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=
div(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(5)-2;a.posy=randint(5)-2;a.posz=randint(5)-2;a.c1=Math.cos(a.ran1);a.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*
a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:
.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):
a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);`,frame_eqs_str:`a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.06*30,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.7,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.25,a.fps_);a.rotz=.00001<Math.abs(.00001>Math.abs(a.rotz-0)?1:0)?a.beat*(randint(100)<20*a.travel?1:0)*(div(randint(10),10)-.3):bnot(a.beat*(30>randint(100)?1:0))*a.rotz;a.slow=.00001<Math.abs(bnot(a.slow))?
a.beat*(6>randint(1E3*a.avg)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.look=.00001<Math.abs(bnot(a.look))?a.beat*(12>randint(1E3*a.speed)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.lx=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.lx;a.ly=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.ly;a.lampx=a.lampx*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.lx:.5);a.lampy=a.lampy*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.ly:.5);a.q1=a.lampx;a.q2=a.lampy;a.dirx=a.reg26;a.diry=a.reg27;a.dirz=
a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.2-a.dist_)*(.2>a.dist_?1:0)*2;a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+(1-a.dec_s)*a.rotz*a.ds;a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;a.reg36=a.reg26;
a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg15=a.s3*
a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+a.reg15*a.reg27;
a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;
a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?
-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<
Math.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+2*(Math.abs(a.v1)+
Math.abs(a.v2)+Math.abs(a.v3))+div(1,255)+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.q11=a.v1;a.q12=a.v2;a.q13=a.v3;a.monitor=a.q16;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.h1=div(a.bb-a.mn,a.mx-a.mn);a.h2=div(a.mm-a.mn,a.mx-a.mn);a.h3=div(a.tt-a.mn,a.mx-a.mn);a.v=div(.1333,a.fps);a.bm+=(a.h1-a.h2)*a.v;a.mt+=(a.h2-a.h3)*a.v;a.bt+=(a.h1-a.h3)*a.v;a.w=2*a.bm;a.q3=
Math.sin(a.w);a.q9=Math.cos(a.w);a.q17=a.bm;a.q18=a.mt;a.q19=a.bt;`,pixel_eqs_str:"a.warp=0;a.zoom=1;a.dx=div(-a.q12,a.q16)*(1+0*pow(a.x-.5,2));a.dy=div(a.q13,a.q16)*(1+0*pow(a.y-.5,2));a.rot=a.q11;",warp:`float sustain;
float xlat_mutabledist;
float xlat_mutablestruc;
vec2 xlat_mutableuv1;
vec3 xlat_mutableuv2;
 shader_body { 
  mat3 tmpvar_1;
  tmpvar_1[uint(0)].x = q20;
  tmpvar_1[uint(0)].y = q23;
  tmpvar_1[uint(0)].z = q26;
  tmpvar_1[1u].x = q21;
  tmpvar_1[1u].y = q24;
  tmpvar_1[1u].z = q27;
  tmpvar_1[2u].x = q22;
  tmpvar_1[2u].y = q25;
  tmpvar_1[2u].z = q28;
  vec3 tmpvar_2;
  tmpvar_2.x = q4;
  tmpvar_2.y = q5;
  tmpvar_2.z = q6;
  sustain = (1.0123 - q14);
  vec2 uv_3;
  vec3 ret_4;
  vec2 tmpvar_5;
  tmpvar_5 = (uv - 0.5);
  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_pc_main, uv);
  uv_3 = ((tmpvar_5 * (1.0 - 
    (q10 / (1.0 - ((tmpvar_6.z + 
      (0.003921569 * tmpvar_6.y)
    ) + (q10 * 0.7))))
  )) + 0.5);
  vec4 tmpvar_7;
  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));
  xlat_mutabledist = tmpvar_7.x;
  if ((tmpvar_7.y > 0.2)) {
    vec3 tmpvar_8;
    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));
    vec2 uvi_9;
    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);
    vec2 pix_10;
    vec4 nb2_11;
    vec4 nb_12;
    vec2 x_13;
    x_13 = (uvi_9 - 0.5);
    pix_10 = (texsize.zw * (1.0 + (
      sqrt(dot (x_13, x_13))
     * 8.0)));
    float tmpvar_14;
    tmpvar_14 = (q10 * 0.7);
    vec4 tmpvar_15;
    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));
    nb_12.x = (1.0 - ((tmpvar_15.z + 
      (0.003921569 * tmpvar_15.y)
    ) + tmpvar_14));
    vec4 tmpvar_16;
    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));
    nb_12.y = (1.0 - ((tmpvar_16.z + 
      (0.003921569 * tmpvar_16.y)
    ) + tmpvar_14));
    vec4 tmpvar_17;
    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));
    nb_12.z = (1.0 - ((tmpvar_17.z + 
      (0.003921569 * tmpvar_17.y)
    ) + tmpvar_14));
    vec4 tmpvar_18;
    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));
    nb_12.w = (1.0 - ((tmpvar_18.z + 
      (0.003921569 * tmpvar_18.y)
    ) + tmpvar_14));
    vec4 tmpvar_19;
    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));
    nb2_11.x = (1.0 - ((tmpvar_19.z + 
      (0.003921569 * tmpvar_19.y)
    ) + tmpvar_14));
    vec4 tmpvar_20;
    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));
    nb2_11.y = (1.0 - ((tmpvar_20.z + 
      (0.003921569 * tmpvar_20.y)
    ) + tmpvar_14));
    vec4 tmpvar_21;
    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));
    nb2_11.z = (1.0 - ((tmpvar_21.z + 
      (0.003921569 * tmpvar_21.y)
    ) + tmpvar_14));
    vec4 tmpvar_22;
    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));
    nb2_11.w = (1.0 - ((tmpvar_22.z + 
      (0.003921569 * tmpvar_22.y)
    ) + tmpvar_14));
    vec4 tmpvar_23;
    tmpvar_23 = min (nb_12, nb2_11);
    nb_12.zw = tmpvar_23.zw;
    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);
    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));
  };
  vec4 tmpvar_24;
  tmpvar_24 = texture (sampler_pc_main, uv_3);
  float tmpvar_25;
  tmpvar_25 = min (xlat_mutabledist, (1.0 - (
    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))
   + 
    (q10 * 0.7)
  )));
  xlat_mutabledist = tmpvar_25;
  float tmpvar_26;
  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));
  vec3 tmpvar_27;
  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);
  tmpvar_27.z = tmpvar_26;
  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);
  xlat_mutableuv2 = ((fract(
    ((xlat_mutableuv2 / 8.0) + 0.5)
  ) - 0.5) * 8.0);
  float li_28;
  vec3 zz0_29;
  vec3 zz_30;
  zz0_29 = (xlat_mutableuv2 + q8);
  li_28 = 0.0;
  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);
  float tmpvar_31;
  tmpvar_31 = dot (zz_30, zz_30);
  if ((tmpvar_31 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_31 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_31);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_32;
  tmpvar_32 = dot (zz_30, zz_30);
  if ((tmpvar_32 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_32 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_32);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_33;
  tmpvar_33 = dot (zz_30, zz_30);
  if ((tmpvar_33 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_33 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_33);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_34;
  tmpvar_34 = dot (zz_30, zz_30);
  if ((tmpvar_34 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_34 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_34);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_35;
  tmpvar_35 = dot (zz_30, zz_30);
  if ((tmpvar_35 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_35 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_35);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_36;
  tmpvar_36 = dot (zz_30, zz_30);
  if ((tmpvar_36 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_36 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_36);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_37;
  tmpvar_37 = dot (zz_30, zz_30);
  if ((tmpvar_37 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_37 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_37);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_38;
  tmpvar_38 = dot (zz_30, zz_30);
  if ((tmpvar_38 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_38 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_38);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  vec4 tmpvar_39;
  tmpvar_39.xyz = zz_30;
  tmpvar_39.w = li_28;
  float tmpvar_40;
  tmpvar_40 = sqrt(dot (zz_30, zz_30));
  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);
  vec4 tmpvar_41;
  tmpvar_41 = texture (sampler_pc_main, uv_3);
  float tmpvar_42;
  float tmpvar_43;
  tmpvar_43 = (q10 * 0.7);
  tmpvar_42 = ((log(
    (1.0 + (tmpvar_40 / 24.0))
  ) * 0.02) * (1.0 - (1.0 - 
    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)
  )));
  float tmpvar_44;
  vec4 tmpvar_45;
  tmpvar_45 = texture (sampler_pc_main, uv_3);
  tmpvar_44 = (1.0 - ((tmpvar_45.z + 
    (0.003921569 * tmpvar_45.y)
  ) + tmpvar_43));
  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {
    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, 
      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)
    , vec3(
      (q14 * 4.0)
    )).x));
    float x_46;
    x_46 = ((1.0 - tmpvar_25) * 255.0);
    float ip_47;
    ip_47 = float(int(x_46));
    vec2 tmpvar_48;
    tmpvar_48.x = (x_46 - ip_47);
    tmpvar_48.y = (ip_47 / 255.0);
    ret_4.yz = tmpvar_48;
  } else {
    vec3 tmpvar_49;
    tmpvar_49.y = 0.0;
    tmpvar_49.x = sustain;
    tmpvar_49.z = (1.0 - tmpvar_42);
    vec3 tmpvar_50;
    tmpvar_50.xy = vec2(0.003921569, 0.0);
    tmpvar_50.z = (q14 / 6.0);
    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);
  };
  vec4 tmpvar_51;
  tmpvar_51.w = 1.0;
  tmpvar_51.xyz = ret_4;
  ret = tmpvar_51.xyz;
 }`,comp:`vec2 xlat_mutabled;
vec3 xlat_mutabledx;
vec3 xlat_mutabledy;
 shader_body { 
  vec3 ret_1;
  xlat_mutabled = (texsize.zw * 1.5);
  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);
  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);
  vec2 tmpvar_2;
  tmpvar_2.x = xlat_mutabledx.y;
  tmpvar_2.y = xlat_mutabledy.y;
  vec2 x_3;
  x_3 = (tmpvar_2 * 8.0);
  ret_1 = (((texture (sampler_main, uv).x * 
    (1.0 - sqrt(dot (x_3, x_3)))
  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);
  vec2 tmpvar_4;
  tmpvar_4.x = xlat_mutabledx.z;
  tmpvar_4.y = xlat_mutabledy.z;
  vec2 x_5;
  x_5 = (tmpvar_4 * 4.0);
  vec3 tmpvar_6;
  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));
  ret_1 = tmpvar_6;
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = tmpvar_6;
  ret = tmpvar_7.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.9,echo_zoom:1.169,echo_orient:1,wave_mode:5,additivewave:1,wave_a:0,wave_scale:.9,wave_smoothing:.63,wave_mystery:1,modwavealphastart:2,modwavealphaend:2,warpscale:2.853,rot:.006,warp:0,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:.005,mv_x:0,mv_y:48,mv_dx:-.941,mv_dy:.426,mv_l:5,mv_r:.316,mv_g:.078,mv_b:.942,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:100,textured:1,rad:.78903,ang:.62832,tex_zoom:1.02009,r:0,g:1,b:1,r2:.7,b2:1,border_a:0},init_eqs_str:"a.vx=0;a.vy=0;",frame_eqs_str:""},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.y3=0;a.y1=0;a.xx=0;a.res=0;a.q12=0;a.x1=0;a.vx3=0;a.q13=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.c_x=0;a.c_y=0;a.q9=0;a.d1=0;a.v=0;a.si1=0;a.vx4=0;a.diff=0;a.x3=0;a.q23=0;a.q24=0;a.d2=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.x4=0;a.r=0;a.x2=0;a.beat=0;a.vol=0;a.vy2=0;a.y2=0;a.size=0;a.q2=0;a.q14=0;a.si2=0;a.vx2=0;a.q3=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.strength=0;a.xx1=0;a.velocity=0;a.q8=0;a.c_x=.5;a.c_y=.5;",frame_eqs_str:`a.sx=1+.01*mod(8*a.bass,8)*equal(mod(a.time,Math.floor(24-2*a.bass)),0);a.sy=1+.01*mod(8*a.mid,8)*equal(mod(a.time,12+Math.floor(24-2*a.bass)),0);a.q1=a.aspectx;a.q2=a.aspecty;a.rot=0;a.zoom=1;a.warp=0;a.vol=8*a.bass+4*a.mid+2*a.treb;a.vol*=above(a.vol,17);a.monitor=a.vol;a.beat=above(a.vol,a.res);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+2*a.diff)+(1-a.beat)*(a.res-div(60*(.04*a.diff+.12),a.fps));a.res=Math.max(0,a.res);a.monitor=a.res;a.r=.00001<Math.abs(a.beat)?
.0001*(randint(200)-100):a.r;a.rot=a.r;a.c_x=.00001<Math.abs(a.beat)?.5+.005*(randint(200)-100):a.c_x;a.c_y=.00001<Math.abs(a.beat)?.5+.005*(randint(200)-100):a.c_y;a.q23=a.c_x;a.q24=a.c_y;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+1.5*a.yy1;a.dt=div(.03,a.fps);a.vx2=a.vx2*(1-2*a.dt)+10*a.dt*(a.x1+a.x3-2*a.x2);a.vy2=a.vy2*(1-2*a.dt)+a.dt*(10*(a.y1+a.y3-2*a.y2)-.5);a.vx3=a.vx3*(1-2*a.dt)+10*a.dt*(a.x2+a.x4-2*a.x3);a.vy3=
a.vy3*(1-2*a.dt)+a.dt*(10*(a.y2+a.y4-2*a.y3)-.5);a.vx4=a.vx4*(1-2*a.dt)+10*a.dt*(a.x3-a.x4);a.vy4=a.vy4*(1-2*a.dt)+a.dt*(10*(a.y3-a.y4)-.5);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:.5*Math.abs(a.vx2);a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:.5*-Math.abs(a.vx2);a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:.5*Math.abs(a.vx3);a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:.5*-Math.abs(a.vx3);a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:
.5*Math.abs(a.vx4);a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:.5*-Math.abs(a.vx4);a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:.5*Math.abs(a.vy2);a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:.5*-Math.abs(a.vy2);a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:.5*Math.abs(a.vy3);a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:.5*-Math.abs(a.vy3);a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:.5*Math.abs(a.vy4);a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:.5*-Math.abs(a.vy4);a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=
a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.q11=a.aspectx;a.q12=a.aspecty;a.q13=.8*sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.q14=Math.atan2(a.vx4,a.vy4);`,pixel_eqs_str:`a.d=pow(sqrt(sqr(a.x-a.q3)+sqr(a.y-a.q4)),2)-0;a.v=.03;a.dx=a.v*(a.x-a.q23)*a.d;a.dy=a.v*(a.y-a.q24)*a.d;a.x=.5+(a.x-.5)*a.q11;a.y=.5+(a.y-.5)*a.q12;a.dir=-a.q14+Math.asin(1);a.velocity=a.q13;a.strength=100;a.size=.07;a.xx=a.q4;a.yy=1-a.q8;a.x1=a.xx+Math.cos(a.dir+1.5708)*a.size;a.y1=a.yy-Math.sin(a.dir+1.5708)*a.size;a.x2=a.xx-Math.cos(a.dir+1.5708)*a.size;a.y2=a.yy+Math.sin(a.dir+1.5708)*a.size;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.size;a.si1=1-div(1,
1+pow(2,100*-a.d1));a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.size;a.si2=1-div(1,1+pow(2,100*-a.d2));a.dx+=(a.si1*Math.sin(a.y1-a.y)*a.d1-a.si2*Math.sin(a.y2-a.y)*a.d2)*a.strength*a.velocity;a.dy+=(-a.si1*Math.sin(a.x1-a.x)*a.d1+a.si2*Math.sin(a.x2-a.x)*a.d2)*a.strength*a.velocity;`,warp:`vec2 xlat_mutabled;
vec3 xlat_mutabledx;
vec3 xlat_mutabledy;
 shader_body { 
  vec3 ret_1;
  vec3 tmpvar_2;
  tmpvar_2 = (texture (sampler_noise_lq, ((
    (uv_orig * texsize.xy)
   * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5);
  xlat_mutabled = (texsize.zw * 4.0);
  xlat_mutabledx = (((texture (sampler_blur1, 
    (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))
  ).xyz * scale1) + bias1));
  xlat_mutabledy = (((texture (sampler_blur1, 
    (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))
  ).xyz * scale1) + bias1));
  xlat_mutabled = uv;
  vec2 tmpvar_3;
  tmpvar_3.x = xlat_mutabledx.y;
  tmpvar_3.y = xlat_mutabledy.y;
  vec2 tmpvar_4;
  tmpvar_4.x = xlat_mutabledx.z;
  tmpvar_4.y = xlat_mutabledy.z;
  vec4 tmpvar_5;
  tmpvar_5 = texture (sampler_main, uv_orig);
  ret_1.y = ((texture (sampler_main, (uv - 
    ((tmpvar_3 * texsize.zw) * 6.0)
  )).y - 0.008) + ((1.0 - tmpvar_5.x) * 0.018));
  ret_1.z = ((texture (sampler_main, (uv - 
    ((tmpvar_4 * texsize.zw) * 6.0)
  )).z - 0.008) + (tmpvar_5.x * 0.018));
  ret_1.x = texture (sampler_fc_main, (uv + ((tmpvar_2.xy * texsize.zw) * 0.5))).x;
  ret_1.x = (ret_1.x + ((
    (ret_1.x - ((texture (sampler_blur3, uv).xyz * scale3) + bias3).x)
   * 0.15) + (tmpvar_2 * 0.0042)).x);
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ret_1;
  ret = tmpvar_6.xyz;
 }`,comp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1.x = q3;
  tmpvar_1.y = q4;
  vec2 tmpvar_2;
  tmpvar_2.x = q6;
  tmpvar_2.y = q7;
  vec2 tmpvar_3;
  tmpvar_3.x = q9;
  tmpvar_3.y = q10;
  vec2 tmpvar_4;
  tmpvar_4.x = q12;
  tmpvar_4.y = q13;
  vec2 tmpvar_5;
  tmpvar_5 = (texsize.zw * 1.25);
  vec3 tmpvar_6;
  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);
  vec3 tmpvar_7;
  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);
  vec2 tmpvar_8;
  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_9;
  x_9 = ((uv - (tmpvar_8 * 8.0)) - tmpvar_1);
  vec2 tmpvar_10;
  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_11;
  x_11 = ((uv - (tmpvar_10 * 8.0)) - tmpvar_2);
  vec2 tmpvar_12;
  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_13;
  x_13 = ((uv - (tmpvar_12 * 8.0)) - tmpvar_3);
  vec2 tmpvar_14;
  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec2 x_15;
  x_15 = ((uv - (tmpvar_14 * 8.0)) - tmpvar_4);
  vec4 tmpvar_16;
  tmpvar_16.w = 1.0;
  tmpvar_16.xyz = mix (texture (sampler_main, uv).xyz, max (max (
    (vec3((1.0 - pow (sqrt(
      dot (x_9, x_9)
    ), 0.2))) * vec3(2.0, 1.0, -1.0))
  , 
    (vec3((1.0 - pow (sqrt(
      dot (x_11, x_11)
    ), 0.2))) * vec3(2.0, -1.0, 1.0))
  ), max (
    (vec3((1.0 - pow (sqrt(
      dot (x_13, x_13)
    ), 0.2))) * vec3(-1.0, 1.0, 2.0))
  , 
    (vec3((1.0 - pow (sqrt(
      dot (x_15, x_15)
    ), 0.2))) * vec3(1.0, -1.0, 2.0))
  )), vec3(0.5, 0.5, 0.5));
  ret = tmpvar_16.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.955,echo_zoom:.997,echo_alpha:.5,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,wave_a:.001,wave_scale:.49,wave_smoothing:0,modwavealphastart:.71,modwavealphaend:1.3,warpscale:16.016,zoomexp:11.56276,fshader:1,zoom:1.05971,warp:.13126,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:0,ob_a:1,ib_size:0,mv_x:64,mv_y:48,mv_l:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:14,additive:1,num_inst:126,rad:.0303,tex_ang:.62832,r:0,b:1,g2:0,b2:1,a2:1,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"},{baseVals:{enabled:1,sides:14,additive:1,num_inst:128,rad:.03,tex_ang:.62832,r:0,b:1,g2:0,b2:1,a2:1,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.1);"},{baseVals:{enabled:1,sides:14,additive:1,num_inst:32,rad:.0297,tex_ang:.62832,r:0,b:1,g2:0,b2:1,a2:1,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"},{baseVals:{enabled:1,sides:14,additive:1,num_inst:16,rad:.0303,tex_ang:.62832,r:0,b:1,g2:0,b2:1,a2:1,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"a.ma+=3.1415*above(a.bass,.5)*.02*a.bass;a.ma-=3.1415*above(a.treb,.5)*.02*a.treb;a.mx+=.0008*Math.cos(a.ma);a.my+=.0008*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.2);"}],waves:[{baseVals:{enabled:1,thick:1,additive:1,scaling:2.0231,smoothing:0,r:0,b:0},init_eqs_str:"a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);a.a=a.beat;",point_eqs_str:"a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*4;a.x=-.05+1.1*a.sample;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.y3=0;a.y1=0;a.xx=0;a.si3=0;a.q12=0;a.t1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.q9=0;a.d1=0;a.si1=0;a.vx4=0;a.grav=0;a.x3=0;a.d2=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.m1=0;a.spring=0;a.si2=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;",frame_eqs_str:`a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0005*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-
a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*
a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<
Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.zoom=1;a.r=.96*a.r+(a.x1-.5);a.rot=.1*a.r;a.q12=Math.atan2(a.vx4,a.vy4);a.q11=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.zoom=1.001;a.rot=0;a.warp=.2;a.wave_a=0;`,pixel_eqs_str:`a.dir=-a.q12+Math.asin(1);a.b1=.1;a.m1=25*a.q11;a.t1=.05;a.xx=a.q4;a.yy=1-a.q8;a.x1=a.xx+Math.cos(a.dir+1.5708)*a.b1;a.y1=a.yy-Math.sin(a.dir+1.5708)*a.b1;a.x2=a.xx-Math.cos(a.dir+1.5708)*a.b1;a.y2=a.yy+Math.sin(a.dir+1.5708)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.si1=1-div(1,1+pow(2,1E3*-a.d1));a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si2=1-div(1,1+pow(2,1E3*-a.d2));a.si3=0*-pow(a.q5,3);a.dx=2*(a.si1*Math.sin(a.y1-a.y)*a.m1*
a.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2+a.si3*Math.cos(a.dir)*a.t1);a.dy=2*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2-a.si3*Math.sin(a.dir)*a.t1);`,warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 8.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.z;
  tmpvar_5.y = tmpvar_4.z;
  vec2 tmpvar_6;
  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));
  ret_1.z = (((texture (sampler_main, tmpvar_6).z - 
    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)
  ) - 0.008) + ((texture (sampler_noise_lq, 
    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)
  ).xyz - 0.5) * 0.1)).x;
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_3.x;
  tmpvar_7.y = tmpvar_4.x;
  vec2 tmpvar_8;
  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));
  ret_1.x = texture (sampler_main, tmpvar_8).x;
  ret_1.x = (ret_1.x + ((
    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))
  .x * 0.4) + 0.006));
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_3.x;
  tmpvar_9.y = tmpvar_4.x;
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_3.y;
  tmpvar_10.y = tmpvar_4.y;
  vec2 tmpvar_11;
  tmpvar_11.x = tmpvar_3.z;
  tmpvar_11.y = tmpvar_4.z;
  ret_1.y = texture (sampler_fc_main, (((uv - 
    ((tmpvar_9 * texsize.zw) * 8.0)
  ) + (
    (tmpvar_10 * texsize.zw)
   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;
  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));
  ret_1.y = (ret_1.y - (0.004 + (
    clamp (ret_1.z, 0.0, 1.0)
   * 0.012)));
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = ret_1;
  ret = tmpvar_12.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 4.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.z;
  tmpvar_5.y = tmpvar_4.z;
  vec2 tmpvar_6;
  tmpvar_6.x = tmpvar_3.y;
  tmpvar_6.y = tmpvar_4.y;
  vec2 tmpvar_7;
  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));
  vec4 tmpvar_8;
  tmpvar_8 = texture (sampler_main, uv);
  ret_1 = (((
    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)
  .x * 
    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)
  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);
  ret_1 = (mix (ret_1, (
    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))
   * 1.4), vec3((
    (texture (sampler_main, tmpvar_7).x * 0.8)
   + 
    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)
  .x))) * clamp ((1.0 - 
    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)
  ), 0.0, 1.0));
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_3.y;
  tmpvar_9.y = tmpvar_4.y;
  vec3 tmpvar_10;
  vec3 tmpvar_11;
  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));
  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (
    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)
   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);
  ret_1 = tmpvar_10;
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = tmpvar_10;
  ret = tmpvar_12.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.9,echo_zoom:1.169,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,wave_a:1.413,wave_scale:.418,wave_smoothing:0,wave_mystery:-.66,modwavealphastart:2,modwavealphaend:2,warpanimspeed:.626,warpscale:1.331,zoomexp:1.00001,zoom:.99951,warp:.08925,wave_r:0,wave_g:0,wave_x:.24,wave_y:.44,ob_size:.5,ob_r:.01,ib_size:.26,mv_x:64,mv_y:48,mv_l:0,mv_a:0},shapes:[{baseVals:{enabled:1,additive:1,rad:.0277,ang:6.03186,tex_ang:6.03186,tex_zoom:.6839,g:1,r2:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.an=0;a.q6=0;a.q4=0;a.q5=0;a.q3=0;a.q2=0;a.q1=0;",frame_eqs_str:"a.an+=a.q6;a.ang=.5*a.an;a.x=a.q4;a.y=a.q5;a.rad=a.q3*sqrt(2);a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"},{baseVals:{enabled:1,additive:1,rad:.0277,ang:6.03186,tex_ang:6.03186,tex_zoom:.6839,g:1,r2:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.an=0;a.q9=0;a.q7=0;a.q8=0;a.q3=0;a.q2=0;a.q1=0;",frame_eqs_str:"a.an+=a.q9;a.ang=.5*a.an;a.x=a.q7;a.y=a.q8;a.rad=a.q3*sqrt(2);a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"},{baseVals:{enabled:1,additive:1,rad:.0277,ang:6.03186,tex_ang:6.03186,tex_zoom:.6839,b:1,r2:1,g2:0,b2:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.an=0;a.q12=0;a.q10=0;a.q11=0;a.q3=0;a.q2=0;a.q1=0;",frame_eqs_str:"a.an+=a.q12;a.ang=.5*a.an;a.x=a.q10;a.y=a.q11;a.rad=a.q3*sqrt(2);a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1,additive:1,scaling:2.0231,smoothing:0,r:0},init_eqs_str:"a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);a.a=a.beat;",point_eqs_str:"a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.y3=0;a.y1=0;a.q12=0;a.w2=0;a.ref_ang=0;a.du=0;a.x1=0;a.vx3=0;a.q13=0;a.q6=0;a.q1=0;a.q5=0;a.q9=0;a.vx1=0;a.mult=0;a.x3=0;a.q11=0;a.q10=0;a.ang2=0;a.dv=0;a.vr3=0;a.vr2=0;a.q4=0;a.bounce=0;a.vr=0;a.v2r=0;a.w1=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.vy1=0;a.q2=0;a.q14=0;a.dist=0;a.vr1=0;a.v1=0;a.vx2=0;a.q3=0;a.q7=0;a.vy3=0;a.v2=0;a.q8=0;a.x1=.5;a.y1=.6;a.x2=.5;a.y2=.4;a.x3=.5;a.y3=.2;a.vr1=.0001;a.vr2=0;a.vr3=0;a.vx1=0;a.vx2=0;a.vx3=0;",frame_eqs_str:`a.zoom=1;a.warp=0;a.wave_a=0;a.r=.03+.004*(a.bass_att+a.treb_att);a.monitor=a.aspecty;a.vr=Math.sin(a.vr1)*a.r;a.bounce=below(a.y1,a.r-.5*(a.aspectx-1));a.y1+=a.vy1;a.vy1=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vy1)+.1*(a.r-a.y1-.5*(a.aspectx-1)):a.vy1-div(.018,a.fps);a.vx1=.00001<Math.abs(a.bounce)?a.vx1+.15*(a.vr-a.vx1):a.vx1;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vx1-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.bounce=above(a.x1,1-a.r+.5*(a.aspecty-1));a.vx1=.00001<Math.abs(a.bounce)?
.96*-Math.abs(a.vx1)+.1*(1-a.r-a.x1+.5*(a.aspecty-1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?a.vy1+.15*(a.vr-a.vy1):a.vy1;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vy1-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.bounce=below(a.x1,a.r-.5*(a.aspecty-1));a.x1+=a.vx1;a.vx1=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vx1)+.1*(a.r-a.x1-.5*(a.aspecty-1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?a.vy1+.15*(-a.vr-a.vy1):a.vy1;a.vr=.00001<Math.abs(a.bounce)?a.vr-.85*(a.vy1+a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));
a.vr=Math.sin(a.vr2)*a.r;a.bounce=below(a.y2,a.r-.5*(a.aspectx-1));a.y2+=a.vy2;a.vy2=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vy2)+.1*(a.r-a.y2-.5*(a.aspectx-1)):a.vy2-div(.018,a.fps);a.vx2=.00001<Math.abs(a.bounce)?a.vx2+.15*(a.vr-a.vx2):a.vx2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vx2-a.vr):a.vr;a.vr2=Math.asin(div(a.vr,a.r));a.bounce=above(a.x2,1-a.r+.5*(a.aspecty-1));a.vx2=.00001<Math.abs(a.bounce)?.96*-Math.abs(a.vx2)+.1*(1-a.r-a.x2+.5*(a.aspecty-1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?
a.vy2+.15*(a.vr-a.vy2):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vy2-a.vr):a.vr;a.vr2=Math.asin(div(a.vr,a.r));a.bounce=below(a.x2,a.r-.5*(a.aspecty-1));a.x2+=a.vx2;a.vx2=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vx2)+.1*(a.r-a.x2-.5*(a.aspecty-1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?a.vy2+.15*(-a.vr-a.vy2):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr-.85*(a.vy2+a.vr):a.vr;a.vr2=Math.asin(div(a.vr,a.r));a.vr=Math.sin(a.vr3)*a.r;a.bounce=below(a.y3,a.r-.5*(a.aspectx-1));a.y3+=a.vy3;a.vy3=.00001<
Math.abs(a.bounce)?.96*Math.abs(a.vy3)+.1*(a.r-a.y3-.5*(a.aspectx-1)):a.vy3-div(.018,a.fps);a.vx3=.00001<Math.abs(a.bounce)?a.vx3+.15*(a.vr-a.vx3):a.vx3;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vx3-a.vr):a.vr;a.vr3=Math.asin(div(a.vr,a.r));a.bounce=above(a.x3,1-a.r+.5*(a.aspecty-1));a.vx3=.00001<Math.abs(a.bounce)?.96*-Math.abs(a.vx3)+.1*(1-a.r-a.x3+.5*(a.aspecty-1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?a.vy3+.15*(a.vr-a.vy3):a.vy3;a.vr=.00001<Math.abs(a.bounce)?a.vr+.85*(a.vy3-a.vr):a.vr;a.vr3=
Math.asin(div(a.vr,a.r));a.bounce=below(a.x3,a.r-.5*(a.aspecty-1));a.x3+=a.vx3;a.vx3=.00001<Math.abs(a.bounce)?.96*Math.abs(a.vx3)+.1*(a.r-a.x3-.5*(a.aspecty-1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?a.vy3+.15*(-a.vr-a.vy3):a.vy3;a.vr=.00001<Math.abs(a.bounce)?a.vr-.85*(a.vy3+a.vr):a.vr;a.vr3=Math.asin(div(a.vr,a.r));a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-a.vy2)),2*a.r);a.bounce*=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-a.vy2)),sqrt(sqr(a.x1-a.x2)+sqr(a.y1-
a.y2)));a.ref_ang=Math.atan2(a.x2-a.x1,a.y2-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx2,a.vy2);a.vr=Math.sin(a.vr1)*a.r;a.v2r=Math.sin(a.vr2)*a.r;a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?
Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+
.1*(a.v2r-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.9*(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.v2r=.00001<Math.abs(a.bounce)?a.v2r+.9*(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.v2r):a.v2r;a.vr2=Math.asin(div(a.v2r,a.r));a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),2*a.r);a.bounce*=below(sqrt(sqr(a.x1+
a.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),sqrt(sqr(a.x1-a.x3)+sqr(a.y1-a.y3)));a.ref_ang=Math.atan2(a.x3-a.x1,a.y3-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx3,a.vy3);a.vr=Math.sin(a.vr1)*a.r;a.v2r=Math.sin(a.vr3)*a.r;a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v2*
Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;
a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.vr=.00001<Math.abs(a.bounce)?a.vr+.9*(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr;a.vr1=Math.asin(div(a.vr,a.r));a.v2r=.00001<Math.abs(a.bounce)?a.v2r+.9*(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.v2r):a.v2r;a.vr3=Math.asin(div(a.v2r,a.r));a.bounce=below(sqrt(sqr(a.x3+
a.vx3-a.x2-a.vx2)+sqr(a.y3+a.vy3-a.y2-a.vy2)),2*a.r);a.bounce*=below(sqrt(sqr(a.x2+a.vx2-a.x3-a.vx3)+sqr(a.y2+a.vy2-a.y3-a.vy3)),sqrt(sqr(a.x2-a.x3)+sqr(a.y2-a.y3)));a.ref_ang=Math.atan2(a.x2-a.x3,a.y2-a.y3)+Math.asin(1);a.v1=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx3,a.vy3);a.w2=Math.atan2(a.vx2,a.vy2);a.vr=Math.sin(a.vr3)*a.r;a.v2r=Math.sin(a.vr2)*a.r;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.sin(a.ref_ang)*
a.v1*Math.cos(a.w1-a.ref_ang))+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.v2r-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy3;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.sin(a.ref_ang+
Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.v2r-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.vr=.00001<Math.abs(a.bounce)?a.vr+.9*(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr;a.vr3=Math.asin(div(a.vr,a.r));a.v2r=.00001<Math.abs(a.bounce)?a.v2r+.9*(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.v2r):a.v2r;
a.vr2=Math.asin(div(a.v2r,a.r));a.q1=a.aspectx;a.q2=a.aspecty;a.q3=2*a.r;a.q4=a.x1;a.q5=a.y1;a.q6=a.vr1;a.q7=a.x2;a.q8=a.y2;a.q9=a.vr2;a.q10=a.x3;a.q11=a.y3;a.q12=a.vr3;a.q13=Math.atan2(div(a.x1+a.x2+a.x3,3)-.5,div(a.y1+a.y2+a.y3,3)-.5);a.q14=.2*sigmoid(sqrt(sqr(div(a.x1+a.x2+a.x3,3)-.5)+sqr(div(a.y1+a.y2+a.y3,3)-.5)),2);`,pixel_eqs_str:"a.du=2*a.x-1-div(2*(a.q4+a.q7+a.q10-1.5),3);a.dv=2*a.y-1+div(2*(a.q5+a.q8+a.q11-1.5),3);a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv);a.mult=.4*Math.sin(.05*a.dist)*a.q14;a.dx=a.mult*Math.sin(2*a.ang2+a.q13)*a.aspectx;a.dy=a.mult*Math.cos(2*a.ang2+a.q13)*a.aspecty;",warp:` shader_body { 
  float n_1;
  vec3 ret_2;
  vec4 tmpvar_3;
  tmpvar_3 = texture (sampler_pw_main, uv);
  ret_2 = tmpvar_3.xyz;
  n_1 = (clamp ((texture (sampler_pw_main, 
    (uv + texsize.zw)
  ).x * 999.0), 0.0, 1.0) + clamp ((texture (sampler_pw_main, 
    (uv + (texsize.zw * vec2(1.0, 0.0)))
  ).x * 999.0), 0.0, 1.0));
  n_1 = (n_1 + clamp ((texture (sampler_pw_main, 
    (uv + (texsize.zw * vec2(1.0, -1.0)))
  ).x * 999.0), 0.0, 1.0));
  n_1 = (n_1 + clamp ((texture (sampler_pw_main, 
    (uv + (texsize.zw * vec2(0.0, 1.0)))
  ).x * 999.0), 0.0, 1.0));
  n_1 = (n_1 + clamp ((texture (sampler_pw_main, 
    (uv + (texsize.zw * vec2(0.0, -1.0)))
  ).x * 999.0), 0.0, 1.0));
  n_1 = (n_1 + clamp ((texture (sampler_pw_main, 
    (uv + (texsize.zw * vec2(-1.0, 1.0)))
  ).x * 999.0), 0.0, 1.0));
  n_1 = (n_1 + clamp ((texture (sampler_pw_main, 
    (uv + (texsize.zw * vec2(-1.0, 0.0)))
  ).x * 999.0), 0.0, 1.0));
  n_1 = (n_1 + clamp ((texture (sampler_pw_main, 
    (uv - texsize.zw)
  ).x * 999.0), 0.0, 1.0));
  if ((n_1 < 1.9)) {
    ret_2 = (tmpvar_3.xyz - 0.4);
  };
  if ((n_1 > 3.1)) {
    ret_2 = (ret_2 - 0.4);
  };
  bool tmpvar_4;
  if ((ret_2.x < 0.1)) {
    tmpvar_4 = (abs((n_1 - 3.0)) < 0.5);
  } else {
    tmpvar_4 = bool(0);
  };
  if (tmpvar_4) {
    ret_2 = (ret_2 + 0.4);
  };
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = ret_2;
  ret = tmpvar_5.xyz;
 }`,comp:` shader_body { 
  vec3 ret2_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3 = (texsize.zw * 8.0);
  vec2 tmpvar_4;
  tmpvar_4.x = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1)).y;
  tmpvar_4.y = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1)).y;
  vec2 tmpvar_5;
  tmpvar_5 = (uv + (tmpvar_4 * 0.55));
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_blur3, uv);
  ret_2 = (vec3((0.25 * dot (
    clamp ((2.0 * ((tmpvar_6.xyz * scale3) + bias3)), 0.0, 1.0)
  , vec3(0.32, 0.49, 0.29)))) - (0.8 * dot (
    clamp (((20.0 * (
      (0.6 * ((texture (sampler_blur2, uv).xyz * scale2) + bias2))
     - 0.01)) - 2.0), 0.0, 1.0)
  , vec3(0.32, 0.49, 0.29))));
  vec4 tmpvar_7;
  tmpvar_7 = texture (sampler_blur1, uv);
  ret_2 = (ret_2 + dot (clamp (
    ((30.0 * ((texture (sampler_main, uv).xyz + 
      (((tmpvar_7.xyz * scale1) + bias1) * 0.15)
    ) - 0.01)) - 2.0)
  , 0.0, 1.0), vec3(0.32, 0.49, 0.29)));
  ret_2 = (ret_2 + 1.0);
  vec3 tmpvar_8;
  tmpvar_8 = mix (ret_2, (ret_2 * (
    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)
   - 
    ((texture (sampler_blur1, tmpvar_5).xyz * scale1) + bias1)
  )), pow (hue_shader, ret_2));
  ret2_1 = (vec3((-0.5 * dot (
    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)
  , vec3(0.32, 0.49, 0.29)))) + (0.8 * (
    (texture (sampler_blur1, tmpvar_5).xyz * scale1)
   + bias1)));
  ret2_1 = (ret2_1 - (0.9 * texture (sampler_main, tmpvar_5).xyz));
  ret2_1 = (ret2_1 - 1.5);
  vec3 tmpvar_9;
  tmpvar_9 = mix (ret2_1, (ret2_1 * (
    ((tmpvar_6.xyz * scale3) + bias3)
   - 
    ((tmpvar_7.xyz * scale1) + bias1)
  )), pow (hue_shader.zxy, tmpvar_8));
  ret2_1 = tmpvar_9;
  vec3 tmpvar_10;
  tmpvar_10 = abs((tmpvar_8 - tmpvar_9));
  ret_2 = (tmpvar_10 * tmpvar_10);
  ret_2 = (ret_2 * 1.15);
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = ret_2;
  ret = tmpvar_11.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1,decay:.9,echo_zoom:1,wave_brighten:0,wrap:0,wave_a:.001,wave_scale:5.715,wave_smoothing:.9,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.162,warpscale:5.582,zoomexp:.32104,zoom:.9901,warp:.11563,wave_r:0,wave_g:0,wave_b:0,ob_size:0,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,thickoutline:1,textured:1,rad:.05343,tex_zoom:12.77228,g:1,b:1,a:0,r2:1,b2:1,a2:1,border_g:0,border_a:0},init_eqs_str:"a.vx=0;a.vy=0;",frame_eqs_str:""},{baseVals:{enabled:1,sides:100,textured:1,y:.75,rad:.46753,g:1,b:1,r2:1,b2:1,border_a:0},init_eqs_str:"a.w=0;a.q1=0;",frame_eqs_str:"a.w=4*-Math.atan2(.5,a.q1)+4*Math.asin(1);a.ang=a.w;a.x=.5+.19*Math.sin(a.w);a.y=.5+.26*Math.cos(a.w);"},{baseVals:{enabled:1,sides:100,textured:1,y:.75,rad:.46753,g:1,b:1,r2:1,b2:1,border_a:0},init_eqs_str:"a.w=0;a.q1=0;",frame_eqs_str:"a.w=4*-Math.atan2(.5,a.q1)+4*Math.asin(1)+div(2*Math.asin(1),3);a.ang=a.w;a.x=.5+.19*Math.sin(a.w);a.y=.5+.26*Math.cos(a.w);"},{baseVals:{enabled:1,sides:100,textured:1,y:.75,rad:.46753,g:1,b:1,r2:1,b2:1,border_a:0},init_eqs_str:"a.w=0;a.q1=0;",frame_eqs_str:"a.w=4*-Math.atan2(.5,a.q1)+4*Math.asin(1)-div(2*Math.asin(1),3);a.ang=a.w;a.x=.5+.19*Math.sin(a.w);a.y=.5+.26*Math.cos(a.w);"}],waves:[{baseVals:{enabled:1,usedots:1,thick:1,additive:1,scaling:2.44415,smoothing:0},init_eqs_str:"a.d=0;a.n=0;a.y1=0;a.xx=0;a.z=0;a.w=0;a.t5=0;a.t1=0;a.x1=0;a.cl3=0;a.j3=0;a.cl2=0;a.zoom=0;a.j=0;a.cl1=0;a.t8=0;a.v=0;a.t3=0;a.t6=0;a.pi3=0;a.t7=0;a.c2=0;a.j2=0;a.s3=0;a.t=0;a.k=0;a.zz=0;a.c3=0;a.t2=0;a.bb=0;a.s1=0;a.s2=0;a.t4=0;a.yy=0;a.c=0;a.c1=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:`a.t1=0;a.v=.01;a.j+=.01*a.bass;a.j2+=.01*a.mid_att;a.j3+=.01*a.treb_att;a.t2=a.j;a.t3=a.j2;a.t4=a.j3;a.k=.99*a.k+div(10*a.mid,a.fps);a.t5=-a.k;a.cl1=a.cl1-.0005-.003*a.bass;a.cl1=.00001<Math.abs(above(a.cl1,1))?0:a.cl1;a.cl1=.00001<Math.abs(below(a.cl1,0))?1:a.cl1;a.t8=a.cl1;a.cl2=a.cl2+.0001+.001*a.mid-.0005*a.bass-.0005*a.treb;a.cl2=.00001<Math.abs(above(a.cl2,1))?0:a.cl2;a.cl2=.00001<Math.abs(below(a.cl2,0))?1:a.cl2;a.t7=a.cl2;a.cl3=a.cl3+.0001+.001*a.treb-.0005*a.bass-.0005*
a.mid;a.cl3=.00001<Math.abs(above(a.cl3,1))?0:a.cl3;a.cl3=.00001<Math.abs(below(a.cl3,0))?1:a.cl3;a.t6=a.cl3;`,point_eqs_str:`a.xx=div(mod(983624912364*a.sample,1E7)+100,1E7);a.yy=div(mod(1896575575*a.xx,1E7)+100,1E7);a.zz=div(mod(58652340875*a.yy,1E7)+100,1E7);a.d=sqrt(sqr(a.xx)+sqr(a.yy)+sqr(a.zz));a.zz=a.zz+a.t8-(.00001<Math.abs(above(a.zz+a.t8,1))?1:0)-.5;a.xx=a.xx+a.t7-(.00001<Math.abs(above(a.xx+a.t7,1))?1:0)-.5;a.yy=a.yy+a.t6-(.00001<Math.abs(above(a.yy+a.t6,1))?1:0)-.5;a.v=.001;a.w=1;a.bb=a.d*a.d*.5;a.n=.3;a.s1=Math.sin(Math.sin(a.t2*a.w+a.bb)*a.n);a.s2=Math.sin(Math.sin(a.t3*a.w+a.bb)*a.n);
a.s3=Math.sin(Math.sin(a.t4*a.w+a.bb)*a.n);a.c1=Math.cos(Math.sin(a.t2*a.w+a.bb)*a.n);a.c2=Math.cos(Math.sin(a.t3*a.w+a.bb)*a.n);a.c3=Math.cos(Math.sin(a.t4*a.w+a.bb)*a.n);a.z=(a.c3*a.s1*a.c2+a.s3*a.s2)*a.xx-(a.c3*a.s1*a.s2-a.s3*a.c2)*a.yy+a.c3*a.c1*a.zz;a.x1=a.c1*a.c2*a.xx+a.c1*a.s2*a.yy-a.s1*a.zz;a.y1=(a.s3*a.s1*a.c2-a.c3*a.s2)*a.xx+(a.s3*a.s1*a.s2+a.c3*a.c2)*a.yy+a.s3*a.c1*a.zz;a.zoom=.5*div(1,a.z+.5);a.x=.5+a.zoom*a.x1+0*Math.sin(.1*a.time);a.y=.5+a.zoom*a.y1+0*Math.cos(.16801*a.time);a.pi3=2.0941239;
a.t=2*a.z+1*a.t2;a.c=3;a.r=Math.sin(a.t)*a.c;a.g=Math.sin(a.t+a.pi3)*a.c;a.b=Math.sin(a.t-a.pi3)*a.c;a.r=.00001<Math.abs(above(a.r,1))?1:a.r;a.r=.00001<Math.abs(below(a.r,0))?0:a.r;a.g=.00001<Math.abs(above(a.g,1))?1:a.g;a.g=.00001<Math.abs(below(a.g,0))?0:a.g;a.b=.00001<Math.abs(above(a.b,1))?1:a.b;a.b=.00001<Math.abs(below(a.b,0))?0:a.b;a.a=-a.z+.7;`},{baseVals:{enabled:1,thick:1,scaling:2.44415,smoothing:0,a:.05},init_eqs_str:"a.t8=0;a.q1=0;a.pi3=0;a.t=0;a.q4=0;a.q6=0;a.c=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.t8=1;",point_eqs_str:`a.t8=-a.t8;a.y=.48*a.sample;a.x=.5+.04*a.t8-a.t8*a.sample*.02+(sqr(2*a.sample-1)-1)*a.q1*.5;a.pi3=2.0941239;a.t=10*-(a.q4-a.q6)+a.sample*Math.asin(1)*4.01;a.c=9;a.r=Math.sin(a.t)*a.c;a.g=Math.sin(a.t+a.pi3)*a.c;a.b=Math.sin(a.t-a.pi3)*a.c;a.r=.00001<Math.abs(above(a.r,1))?1:a.r;a.r=.00001<Math.abs(below(a.r,0))?0:a.r;a.g=.00001<Math.abs(above(a.g,1))?1:a.g;a.g=.00001<Math.abs(below(a.g,0))?0:a.g;a.b=.00001<Math.abs(above(a.b,1))?1:a.b;a.b=.00001<Math.abs(below(a.b,0))?0:a.b;
`},{baseVals:{enabled:1,samples:49,scaling:2.44415,smoothing:0,r:0,g:0,b:0},init_eqs_str:"a.t8=0;a.q1=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.t8=1;",point_eqs_str:"a.t8=-1;a.y=.48*a.sample;a.x=.5+.04*a.t8-a.t8*a.sample*.02+(sqr(2*a.sample-1)-1)*a.q1*.5;"},{baseVals:{enabled:1,samples:49,scaling:2.44415,smoothing:0,r:0,g:0,b:0},init_eqs_str:"a.t8=0;a.q1=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.t8=1;",point_eqs_str:"a.t8=1;a.y=.48*a.sample;a.x=.5+.04*a.t8-a.t8*a.sample*.02+(sqr(2*a.sample-1)-1)*a.q1*.5;"}],init_eqs_str:"a.d=0;a.vt=0;a.q6=0;a.q1=0;a.q5=0;a.vb=0;a.q9=0;a.v=0;a.mm=0;a.tt=0;a.q4=0;a.bb=0;a.q2=0;a.q3=0;a.vvm=0;a.vvb=0;a.vm=0;a.vvt=0;a.x1=0;a.y1=0;",frame_eqs_str:`a.zoom=1;a.q1=.1*(a.bass-a.treb);a.vvb=.00001<Math.abs(below(a.vvb,0))?0:a.vvb;a.vvm=.00001<Math.abs(below(a.vvm,0))?0:a.vvm;a.vvt=.00001<Math.abs(below(a.vvt,0))?0:a.vvt;a.vb=.85*a.vb+(1-a.vb)*pow(a.bass,2)*.001;a.vvb=.95*a.vvb+(1-a.vvb)*a.vb*.2;a.vm=.85*a.vm+(1-a.vm)*pow(a.mid,2)*.01;a.vvm=.95*a.vvm+(1-a.vvm)*a.vm*.2;a.vt=.85*a.vt+(1-a.vt)*pow(a.treb,2)*.001;a.vvt=.95*a.vvt+(1-a.vvt)*a.vt*.2;a.q1=(a.vvb-a.vvt)*a.vvm;a.q2=a.vvm;a.q3=a.vvt;a.v=.2;a.d=0;a.bb=a.bb+a.vvb*a.v-a.d;
a.mm=a.mm+a.vvm*a.v-a.d;a.tt=a.tt+a.vvt*a.v-a.d;a.q4=a.bb;a.q5=a.mm;a.q6=a.tt;a.q4=.00001<Math.abs(above(Math.abs(a.q1),.02))?.99:1;a.q9=.5+.5*Math.sin(.14*a.time);`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_fc_main, uv) * q4).xyz;
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1.x = 0.5;
  tmpvar_1.y = (1.0 - q9);
  vec2 tmpvar_2;
  tmpvar_2 = (uv_orig - tmpvar_1);
  float tmpvar_3;
  tmpvar_3 = (3.0 / tmpvar_2.y);
  vec2 tmpvar_4;
  tmpvar_4.x = ((tmpvar_2.x * tmpvar_3) * q9);
  tmpvar_4.y = (tmpvar_3 * q9);
  vec4 tmpvar_5;
  tmpvar_5 = texture (sampler_main, fract(((1.0 - 
    abs(((fract(
      ((tmpvar_2 + vec2(0.5, 1.0)) * 0.5)
    ) * 2.0) - 1.0))
  ) - (
    ((texture (sampler_noise_hq, ((tmpvar_4 * 0.05) + (vec2(0.1, -0.05) * time))) - 0.5) * float(int((tmpvar_2.y > 0.0))))
  .xy * 0.025))));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = (((tmpvar_5.xyz * tmpvar_5.xyz) * 1.4) - 0.04);
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.56,decay:1,echo_zoom:.362,echo_orient:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:1.599,wave_smoothing:0,wave_mystery:-.5,modwavealphastart:2,modwavealphaend:2,warpscale:.107,zoomexp:.1584,fshader:1,warp:.01,wave_r:.51,wave_g:.5,ob_size:0,ob_a:1,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:.5,mv_r:0,mv_g:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.y3=0;a.y1=0;a.xx=0;a.s=0;a.t1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.mm=0;a.tt=0;a.grav=0;a.x3=0;a.xx2=0;a.q4=0;a.a=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.mx=0;a.mn=0;a.vy2=0;a.y2=0;a.bb=0;a.q2=0;a.m1=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;",frame_eqs_str:`a.ib_r=.3*Math.sin(5*a.time)+.7;a.ib_g=.3*Math.sin(4*a.time)+.3;a.ib_b=.5*Math.sin(4*div(a.time,3))+.5;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0002*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-
2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<
Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?
a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q4=a.x4;a.q8=a.y4;a.q1=a.aspectx;a.q2=a.aspecty;a.zoom=1;a.warp=0;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.ob_r=div(a.bb-a.mn,a.mx-a.mn);a.ob_b=div(a.mm-a.mn,a.mx-a.mn);a.ob_g=div(a.tt-a.mn,a.mx-a.mn);a.q6=Math.atan2(a.vx4,
a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.a=.95*a.a+a.q5;a.s=.9*a.s+a.a;a.q3=.1*a.s;a.monitor=a.s;a.wave_a=0;`,pixel_eqs_str:"a.x=.5+(a.x-.5)*a.q1;a.y=.5+(a.y-.5)*a.q2;a.dir=-a.q6+0*Math.asin(1);a.b1=.1;a.m1=25*a.q5;a.t1=.05;a.xx=a.q4;a.yy=1-a.q8;a.dx=0;a.dy=0;a.d=sqrt((a.x-a.xx)*(a.x-a.xx)+(a.y-a.yy)*(a.y-a.yy));a.r=.05;a.v=-35*a.q5;a.dx=a.v*Math.sin(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q2;a.dy=a.v*Math.cos(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q1;",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  tmpvar_1.xyz = ((texture (sampler_main, clamp (
    (uv - (((vec2(0.0, 32.0) * texsize.zw) * dot (
      (tmpvar_2.xyz - 0.35)
    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))
  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, 
    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)
  ) - 0.5) * 0.0038).xyz);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec2 uv1_1;
  vec2 tmpvar_2;
  tmpvar_2.y = 0.0;
  tmpvar_2.x = texsize.z;
  vec2 tmpvar_3;
  tmpvar_3.x = 0.0;
  tmpvar_3.y = texsize.w;
  vec2 tmpvar_4;
  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;
  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;
  uv1_1 = ((0.3 * cos(
    ((uv - 0.5) * 2.0)
  )) - tmpvar_4);
  float tmpvar_5;
  tmpvar_5 = clamp ((0.04 / sqrt(
    dot (uv1_1, uv1_1)
  )), 0.0, 1.0);
  uv1_1 = ((0.3 * cos(
    (uv1_1 * 12.0)
  )) - (9.0 * tmpvar_4));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (
    (0.04 / sqrt(dot (uv1_1, uv1_1)))
  , 0.0, 1.0))));
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,modwavealphabyvolume:1,wave_a:.207,wave_scale:.397,wave_smoothing:0,wave_mystery:.24,modwavealphaend:1.17,warpscale:16.016,zoomexp:11.56276,zoom:1.05971,warp:.13126,ob_size:.005,ob_a:1,ib_size:0,mv_x:64,mv_y:48,mv_l:0,mv_r:.35,mv_g:.35,mv_b:.35,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.cx1=0;a.y3=0;a.y1=0;a.cy1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.grav=0;a.x3=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.q8=0;",frame_eqs_str:`a.decay=1;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+1.5*(a.xx1-a.xx2);a.y1=.5+a.yy1;a.spring=18;a.grav=1;a.resist=5;a.bounce=.9;a.dt=.0003;a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-
a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*
a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=
a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q6=Math.atan2(a.vx4,a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.zoom=1.001;a.rot=0;a.warp=.2;a.wave_a=0;`,pixel_eqs_str:"a.r=.2;a.cx1=a.q4;a.cy1=a.q5;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=-(a.r*a.r-a.d*a.d)*a.q3;a.x1=.00001<Math.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y1=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.v=1;a.dx=a.x1*a.v;a.dy=a.y1*a.v;",warp:` shader_body { 
  vec2 uv_1;
  vec3 ret_2;
  uv_1 = (0.5 + ((uv - 0.5) * 1.002));
  vec2 tmpvar_3;
  tmpvar_3 = (texsize.zw * 8.0);
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_5;
  tmpvar_5 = (((texture (sampler_blur1, 
    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_6;
  tmpvar_6.x = tmpvar_4.x;
  tmpvar_6.y = tmpvar_5.x;
  vec2 tmpvar_7;
  tmpvar_7 = fract(((0.5 + 
    (uv_1 - 0.5)
  ) - (tmpvar_6 * texsize.zw)));
  ret_2.x = texture (sampler_main, tmpvar_7).x;
  ret_2.x = (ret_2.x + ((
    (ret_2.x - ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2))
  .x * 0.4) + 0.006));
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_5.x;
  tmpvar_8.y = -(tmpvar_4.x);
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_4.z;
  tmpvar_9.y = tmpvar_5.z;
  ret_2.z = max ((clamp (
    (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1).x - 0.3)
  , 0.0, 1.0) * 2.0), (texture (sampler_fc_main, (
    (uv_1 - ((tmpvar_8 * texsize.zw) * 8.0))
   + 
    ((tmpvar_9 * texsize.zw) * 4.0)
  )).z - 0.008));
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_4.y;
  tmpvar_10.y = tmpvar_5.y;
  ret_2.y = max (ret_2.x, (texture (sampler_fc_main, (uv_1 + 
    (tmpvar_10 * texsize.zw)
  )).y - 0.016));
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = ret_2;
  ret = tmpvar_11.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 6.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));
  tmpvar_5.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));
  vec2 tmpvar_6;
  tmpvar_6 = (uv - (0.25 * tmpvar_5));
  vec2 tmpvar_7;
  tmpvar_7.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));
  tmpvar_7.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));
  vec2 tmpvar_8;
  tmpvar_8 = (uv + (0.25 * tmpvar_7));
  ret_1 = ((0.8 * (
    (texture (sampler_blur3, tmpvar_6).xyz * scale3)
   + bias3)) - ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1));
  ret_1 = (ret_1 + (0.6 * (
    (texture (sampler_blur1, uv).xyz * scale1)
   + bias1)));
  ret_1 = (ret_1 - ((
    (texture (sampler_blur2, tmpvar_8).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur1, tmpvar_8).xyz * scale1)
   + bias1)));
  ret_1 = (ret_1 + ((1.2 * texture (sampler_main, tmpvar_8).xyz) + (0.15 * 
    ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1)
  )));
  ret_1 = (ret_1 + 1.0);
  float tmpvar_9;
  tmpvar_9 = dot (ret_1, vec3(0.32, 0.49, 0.29));
  ret_1 = (mix (vec3(tmpvar_9), (
    (0.75 * vec3(tmpvar_9))
   * 
    dot ((((0.6 * 
      ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)
    ) - (0.7 * texture (sampler_main, uv).xyz)) - (0.3 * (
      (texture (sampler_blur1, tmpvar_8).xyz * scale1)
     + bias1))), vec3(0.32, 0.49, 0.29))
  ), pow (hue_shader, vec3(tmpvar_9))) * 0.9);
  ret_1 = (ret_1 * ret_1);
  vec3 tmpvar_10;
  tmpvar_10 = sqrt(ret_1);
  ret_1 = tmpvar_10;
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = tmpvar_10;
  ret = tmpvar_11.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1,wave_thick:1,wrap:0,wave_a:.004,wave_scale:9.731,wave_smoothing:0,wave_mystery:1,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.442,warpscale:7.315,zoomexp:1.50374,warp:.08563,wave_y:.04,ob_size:0,ob_g:1,ob_a:1,ib_size:0,ib_r:1,ib_g:0,ib_b:.75,ib_a:1,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:3,additive:1,num_inst:400,rad:.16283,tex_zoom:.73458,g:1,b:1,a:.5,g2:0,border_a:0},init_eqs_str:"a.bending=0;a.ppo=0;a.index=0;a.i3=0;a.dir=0;a.i4=0;a.size=0;a.q2=0;a.q32=0;a.sample=0;a.i3=0;a.i4=0;",frame_eqs_str:`a.i3=.00001<Math.abs(equal(a.instance,0))?0:a.i3;a.i4=.00001<Math.abs(equal(a.instance,0))?0:a.i4;a.ppo=8;a.index=a.i4*a.q32;a.sample=mod(a.i3,a.ppo);a.size=40*a.gmegabuf[Math.floor(a.index+4)];a.x=a.gmegabuf[Math.floor(a.index)];a.y=a.gmegabuf[Math.floor(a.index+1)];a.ang=a.gmegabuf[Math.floor(a.index+9)];a.rad=.05*a.size;a.r=a.gmegabuf[Math.floor(a.index+5)];a.g=a.gmegabuf[Math.floor(a.index+6)];a.b=a.gmegabuf[Math.floor(a.index+7)];a.sample=div(a.sample,a.ppo);a.bending=
5*a.gmegabuf[Math.floor(a.index+12)]+5*a.gmegabuf[Math.floor(a.index+10)];a.dir=-a.ang+(a.sample-.4)*a.bending;a.ang=1.5*Math.asin(1)-a.dir+.05*a.bending;a.x+=.06*(a.sample-.3)*Math.cos(a.dir)*a.size+Math.sin(a.dir)*a.size*a.bending*.01;a.y+=.06*(a.sample-.3)*Math.sin(a.dir)*a.size-Math.cos(a.dir)*a.size*a.bending*.01;a.x=.5+div(a.x-.5,a.q2);a.rad=1.5*a.rad-.05*a.sample*a.size;a.i3+=1;a.i4=.00001<Math.abs(equal(mod(a.i3,a.ppo),0))?a.i4+1:a.i4;`}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:1,samples:65,spectrum:1,usedots:1,thick:1,additive:1,scaling:.33408,smoothing:0,a:0},init_eqs_str:"a.d=0;a.q32=0;a.t8=0;a.t1=0;a.t2=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.t8=1;a.t1=.5;a.t2=.9;",point_eqs_str:"a.d=0;a.y=.2+a.value1+a.value2;a.x=.9-.8*a.sample;a.gmegabuf[Math.floor((64*a.sample-1)*a.q32+14)]=a.value1+a.value2;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.fric=0;a.d=0;a.nliststart=0;a.w=0;a.random=0;a.index2=0;a.index=0;a.w2=0;a.rotatefactor=0;a.ref_ang=0;a.smaller=0;a.dt=0;a.q1=0;a.j=0;a.v=0;a.count=0;a.shock=0;a.nn=0;a.vrr=0;a.check=0;a.gravity=0;a.vr2=0;a.direction=0;a.bouncefactor=0;a.smallestfind=0;a.distance=0;a.bounce=0;a.vr=0;a.vv1=0;a.vv2=0;a.vrr2=0;a.w1=0;a.attributes=0;a.i=0;a.m2=0;a.hit=0;a.q2=0;a.m1=0;a.h=0;a.v1=0;a.acceleration=0;a.findindex=0;a.friction=0;a.pi2=0;a.sample=0;a.v2=0;a.dampening=0;for(var b=a.i=
0;1048576>b;b++)a.gmegabuf[Math.floor(a.i)]=0,a.i+=1;a.count=50;a.attributes=32;a.nliststart=24;a.minradius=.004;a.maxradius=.04;a.v=0;for(b=a.index=0;b<a.count;b++)a.gmegabuf[Math.floor(a.index*a.attributes)]=div(randint(1E3),1E3),a.gmegabuf[Math.floor(a.index*a.attributes+1)]=div(randint(1E3),1E3),a.gmegabuf[Math.floor(a.index*a.attributes+2)]=a.v*(div(randint(1E3),1E3)-.5),a.gmegabuf[Math.floor(a.index*a.attributes+3)]=a.v*(div(randint(1E3),1E3)-.5),a.gmegabuf[Math.floor(a.index*a.attributes+4)]=
a.minradius+div((a.maxradius-a.minradius)*(a.index+1),a.count),a.gmegabuf[Math.floor(a.index*a.attributes+5)]=0,a.gmegabuf[Math.floor(a.index*a.attributes+6)]=1,a.gmegabuf[Math.floor(a.index*a.attributes+7)]=1,a.gmegabuf[Math.floor(a.index*a.attributes+8)]=pow(a.gmegabuf[Math.floor(a.index*a.attributes+4)],3),a.gmegabuf[Math.floor(a.index*a.attributes+9)]=div(4*Math.asin(1)*randint(1E3),1E3),a.gmegabuf[Math.floor(a.index*a.attributes+10)]=0,a.gmegabuf[Math.floor(a.index*a.attributes+13)]=div(a.index,
a.count-1),a.gmegabuf[Math.floor(a.index*a.attributes+14)]=0,a.index+=1;a.q30=a.nliststart;a.q31=a.count;a.q32=a.attributes;`,frame_eqs_str:`a.dt=div(1,a.fps);a.warp=0;a.zoom=1;a.wave_a=0;a.gravity=0*a.dt;a.dampening=0;a.friction=2048*a.dt;a.shock=.002;a.pi2=Math.asin(1);a.nn=3;a.check=2;a.bouncefactor=.1;a.rotatefactor=0;a.h=.5*(a.aspecty-1);a.w=.5*(a.aspectx-1);a.index=0;for(var c=a.index2=0;c<a.count;c++){a.random=div(randint(1E3),1E3);a.sample=a.gmegabuf[Math.floor(a.index+13)];a.gmegabuf[Math.floor(a.index+11)]=.92*a.gmegabuf[Math.floor(a.index+11)]-4*a.gmegabuf[Math.floor(a.index+12)]*a.dt+2*(a.random-.5)*
a.dt*a.gmegabuf[Math.floor(a.index+14)];a.gmegabuf[Math.floor(a.index+12)]+=60*a.gmegabuf[Math.floor(a.index+11)]*a.dt;a.v=sqrt(sqr(a.gmegabuf[Math.floor(a.index+2)])+sqr(a.gmegabuf[Math.floor(a.index+3)]));a.fric=Math.max(0,1-sqr(a.v*a.friction)-2*a.v);a.gmegabuf[Math.floor(a.index+2)]*=a.fric;a.gmegabuf[Math.floor(a.index+3)]*=a.fric;a.gmegabuf[Math.floor(a.index+10)]=a.gmegabuf[Math.floor(a.index+10)]*a.fric+a.v*a.gmegabuf[Math.floor(a.index+12)]*0;a.acceleration=0*a.random+.003*Math.abs(a.gmegabuf[Math.floor(a.index+
11)]);a.direction=a.gmegabuf[Math.floor(a.index+9)]-a.pi2;a.gmegabuf[Math.floor(a.index+2)]+=Math.sin(a.direction)*a.acceleration;a.gmegabuf[Math.floor(a.index+3)]+=Math.cos(a.direction)*a.acceleration;a.gmegabuf[Math.floor(a.index)]+=60*a.gmegabuf[Math.floor(a.index+2)]*a.dt;a.gmegabuf[Math.floor(a.index+1)]+=60*a.gmegabuf[Math.floor(a.index+3)]*a.dt;a.gmegabuf[Math.floor(a.index+9)]+=.5*a.gmegabuf[Math.floor(a.index+10)];a.gmegabuf[Math.floor(a.index+3)]-=a.gravity;a.vr=Math.sin(a.gmegabuf[Math.floor(a.index+
10)])*a.gmegabuf[Math.floor(a.index+4)];a.bounce=above(a.gmegabuf[Math.floor(a.index+1)],1-a.gmegabuf[Math.floor(a.index+4)]+a.w);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+2)]+(a.vr+a.gmegabuf[Math.floor(a.index+2)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?-Math.abs(a.gmegabuf[Math.floor(a.index+3)])*a.dampening-a.shock:a.gmegabuf[Math.floor(a.index+3)];a.vr=.00001<Math.abs(a.bounce)?
a.vr-(a.gmegabuf[Math.floor(a.index+2)]+a.vr)*(1-a.rotatefactor):a.vr;a.bounce=below(a.gmegabuf[Math.floor(a.index+1)],a.gmegabuf[Math.floor(a.index+4)]-a.w);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+2)]+(a.vr-a.gmegabuf[Math.floor(a.index+2)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?Math.abs(a.gmegabuf[Math.floor(a.index+3)])*a.dampening+a.shock:a.gmegabuf[Math.floor(a.index+3)];a.vr=
.00001<Math.abs(a.bounce)?a.vr+(a.gmegabuf[Math.floor(a.index+2)]-a.vr)*(1-a.rotatefactor):a.vr;a.bounce=above(a.gmegabuf[Math.floor(a.index)],1-a.gmegabuf[Math.floor(a.index+4)]+a.h);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?-Math.abs(a.gmegabuf[Math.floor(a.index+2)])*a.dampening-a.shock:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+3)]+(a.vr-a.gmegabuf[Math.floor(a.index+3)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+
3)];a.vr=.00001<Math.abs(a.bounce)?a.vr+(a.gmegabuf[Math.floor(a.index+3)]-a.vr)*(1-a.rotatefactor):a.vr;a.bounce=below(a.gmegabuf[Math.floor(a.index)],a.gmegabuf[Math.floor(a.index+4)]-a.h);a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.bounce)?Math.abs(a.gmegabuf[Math.floor(a.index+2)])*a.dampening+a.shock:a.gmegabuf[Math.floor(a.index+2)];a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.bounce)?a.gmegabuf[Math.floor(a.index+3)]-(a.vr+a.gmegabuf[Math.floor(a.index+3)])*a.rotatefactor:a.gmegabuf[Math.floor(a.index+
3)];a.vr=.00001<Math.abs(a.bounce)?a.vr-(a.gmegabuf[Math.floor(a.index+3)]+a.vr)*(1-a.rotatefactor):a.vr;a.gmegabuf[Math.floor(a.index+10)]=Math.asin(div(a.vr,a.gmegabuf[Math.floor(a.index+4)]));a.i=0;for(var b=a.j=0;b<a.count;b++)a.d=sqrt(sqr(a.gmegabuf[Math.floor(a.index)]-a.gmegabuf[Math.floor(a.i)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.i+1)])),a.d=.00001<Math.abs(equal(a.d,0))?10:a.d,a.d-=.5*(a.gmegabuf[Math.floor(a.index+4)]+a.gmegabuf[Math.floor(a.i+4)]),a.megabuf[Math.floor(a.j)]=
a.i,a.megabuf[Math.floor(a.j+1)]=a.d,a.j+=2,a.i+=a.attributes;for(b=a.i=0;b<a.nn;b++){a.j=a.i;a.smallestfind=10;a.findindex=-1;for(var d=0;d<a.count-a.j;d++)a.distance=a.megabuf[Math.floor(2*a.j+1)],a.smaller=above(a.smallestfind,a.distance),a.smallestfind=.00001<Math.abs(a.smaller)?a.distance:a.smallestfind,a.findindex=.00001<Math.abs(a.smaller)?2*a.j:a.findindex,a.j+=1;a.j=a.megabuf[Math.floor(2*a.i)];a.d=a.megabuf[Math.floor(2*a.i+1)];a.megabuf[Math.floor(2*a.i)]=a.megabuf[Math.floor(a.findindex)];
a.megabuf[Math.floor(2*a.i+1)]=a.megabuf[Math.floor(a.findindex+1)];a.megabuf[Math.floor(a.findindex)]=a.j;a.megabuf[Math.floor(a.findindex+1)]=a.d;a.i+=1}for(b=a.i=0;b<a.nn;b++)a.gmegabuf[Math.floor(a.index+a.nliststart+a.i)]=a.megabuf[Math.floor(2*a.i)],a.i+=1;for(b=a.i=0;b<a.check;b++)a.index2=a.megabuf[Math.floor(a.i)],a.hit=below(sqrt(sqr(a.gmegabuf[Math.floor(a.index)]-a.gmegabuf[Math.floor(a.index2)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.index2+1)])),a.gmegabuf[Math.floor(a.index+
4)]+a.gmegabuf[Math.floor(a.index2+4)])*above(sqrt(sqr(a.gmegabuf[Math.floor(a.index)]-a.gmegabuf[Math.floor(a.index2)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.index2+1)])),sqrt(sqr(a.gmegabuf[Math.floor(a.index+0)]-a.gmegabuf[Math.floor(a.index2+0)]+a.gmegabuf[Math.floor(a.index+2)]-a.gmegabuf[Math.floor(a.index2+2)])+sqr(a.gmegabuf[Math.floor(a.index+1)]-a.gmegabuf[Math.floor(a.index2+1)]+a.gmegabuf[Math.floor(a.index+3)]-a.gmegabuf[Math.floor(a.index2+3)]))),a.ref_ang=Math.atan2(a.gmegabuf[Math.floor(a.index2)]-
a.gmegabuf[Math.floor(a.index)],a.gmegabuf[Math.floor(a.index2+1)]-a.gmegabuf[Math.floor(a.index+1)])+a.pi2,a.v1=sqrt(sqr(a.gmegabuf[Math.floor(a.index+2)])+sqr(a.gmegabuf[Math.floor(a.index+3)])),a.v2=sqrt(sqr(a.gmegabuf[Math.floor(a.index2+2)])+sqr(a.gmegabuf[Math.floor(a.index2+3)])),a.w1=Math.atan2(a.gmegabuf[Math.floor(a.index+2)],a.gmegabuf[Math.floor(a.index+3)]),a.w2=Math.atan2(a.gmegabuf[Math.floor(a.index2+2)],a.gmegabuf[Math.floor(a.index2+3)]),a.vr2=Math.sin(a.gmegabuf[Math.floor(a.index2+
10)])*a.gmegabuf[Math.floor(a.index2+4)],a.m1=a.gmegabuf[Math.floor(a.index+8)],a.m2=a.gmegabuf[Math.floor(a.index2+8)],a.vv1=div((a.m1-a.m2)*a.v1+2*a.m2*a.v2,a.m1+a.m2),a.vv2=div((a.m2-a.m1)*a.v2+2*a.m1*a.v1,a.m1+a.m2),a.vrr=div((a.m1-a.m2)*a.vr+2*a.m2*a.vr2,a.m1+a.m2),a.vrr2=div((a.m2-a.m1)*a.vr2+2*a.m1*a.vr,a.m1+a.m2),a.gmegabuf[Math.floor(a.index+2)]=.00001<Math.abs(a.hit)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.vr2-Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))+Math.cos(a.ref_ang)*
a.vv1*Math.sin(a.w2-a.ref_ang):a.gmegabuf[Math.floor(a.index+2)],a.gmegabuf[Math.floor(a.index+3)]=.00001<Math.abs(a.hit)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+.1*(a.vr-a.vr2-Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang))-Math.sin(a.ref_ang)*a.vv1*Math.sin(a.w2-a.ref_ang):a.gmegabuf[Math.floor(a.index+3)],a.gmegabuf[Math.floor(a.index2+2)]=.00001<Math.abs(a.hit)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.vr2-a.vr-Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))+Math.cos(a.ref_ang)*
a.vv2*Math.sin(a.w1-a.ref_ang):a.gmegabuf[Math.floor(a.index2+2)],a.gmegabuf[Math.floor(a.index2+3)]=.00001<Math.abs(a.hit)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+.1*(a.vr2-a.vr-Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang))-Math.sin(a.ref_ang)*a.vv2*Math.sin(a.w1-a.ref_ang):a.gmegabuf[Math.floor(a.index2+3)],a.vr=.00001<Math.abs(a.hit)?a.vr+(Math.cos(a.w1-a.ref_ang)*(a.v1-a.v2)-a.vr):a.vr,a.gmegabuf[Math.floor(a.index+10)]=Math.asin(div(a.vr,a.gmegabuf[Math.floor(a.index+4)])),a.vr2=
.00001<Math.abs(a.hit)?a.vr2+(Math.cos(a.w2-a.ref_ang)*(a.v2-a.v1)-a.vr2):a.vr2,a.gmegabuf[Math.floor(a.index2+10)]=Math.asin(div(a.vr2,a.gmegabuf[Math.floor(a.index2+4)])),a.i+=2;a.index+=a.attributes}a.q1=a.aspectx;a.q2=a.aspecty;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  ret_1.z = (texture (sampler_main, uv).z * 0.5);
  vec2 tmpvar_2;
  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);
  vec2 tmpvar_3;
  tmpvar_3 = (texsize.zw * 4.0);
  vec2 tmpvar_4;
  tmpvar_4.x = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).y * 0.5);
  tmpvar_4.y = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).y * 0.5);
  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (
    (tmpvar_4 * texsize.zw)
   * 4.0)), 0.0, 1.0)).y;
  ret_1.y = (ret_1.y + ((
    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))
  .y * 0.025) + -0.014));
  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));
  vec2 tmpvar_5;
  tmpvar_5.x = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).x * 0.5);
  tmpvar_5.y = (((2.0 * 
    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)
  )).x * 0.5);
  ret_1.x = ((texture (sampler_main, (uv - 
    ((tmpvar_5 * texsize.zw) * 4.0)
  )).x - (ret_1.y * 0.01)) + 0.004);
  ret_1.x = (ret_1.x + ((
    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)
   * 0.01) + (ret_1.z * 0.14)));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ret_1;
  ret = tmpvar_6.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 4.0);
  vec2 tmpvar_3;
  tmpvar_3.x = (((2.0 * 
    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)
  )) * 0.5).y;
  tmpvar_3.y = (((2.0 * 
    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)
  )) * 0.5).y;
  vec2 tmpvar_4;
  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 128.0));
  vec4 tmpvar_5;
  tmpvar_5 = texture (sampler_main, uv);
  ret_1 = (((
    ((texture (sampler_blur2, tmpvar_4).xyz * scale2) + bias2)
  .x * 
    clamp ((1.0 - tmpvar_5.y), 0.0, 1.0)
  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);
  ret_1 = (mix (mix (ret_1, 
    (pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0)) * 1.4)
  , vec3(
    ((texture (sampler_main, tmpvar_4).x * 0.8) + ((texture (sampler_blur1, tmpvar_4).xyz * scale1) + bias1).x)
  )), vec3(1.0, 1.0, 1.0), (
    (pow (hue_shader, vec3(8.0, 8.0, 8.0)) * texture (sampler_main, clamp (uv, 0.0, 1.0)).y)
   * 1.2)) * clamp ((1.0 - tmpvar_5.z), 0.0, 1.0));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ret_1;
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.995,echo_zoom:1.007,echo_orient:3,wave_thick:1,modwavealphabyvolume:1,wave_a:.9,wave_scale:2.997,wave_smoothing:0,wave_mystery:-.5,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.274,warpscale:7.98,zoom:.99951,warp:.20929,wave_r:.02,wave_g:.02,wave_b:0,ob_size:.5,ob_r:1,ob_g:.12,ob_b:1,ob_a:.37,ib_size:0,ib_a:1,mv_x:0,mv_y:0,mv_l:5,mv_a:0,b1ed:.2},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.w=0;a.h3=0;a.q12=0;a.q6=0;a.bt=0;a.q1=0;a.q5=0;a.startx=0;a.v=0;a.mm=0;a.h2=0;a.tt=0;a.bm=0;a.q11=0;a.q10=0;a.q4=0;a.a=0;a.mt=0;a.b=0;a.mx=0;a.mn=0;a.bb=0;a.q2=0;a.starty=0;a.h1=0;a.q3=0;a.q7=0;a.x1=0;a.y1=.001;a.z1=0;",frame_eqs_str:`a.zoom=1;a.wave_a=0;a.startx=.3;a.starty=.3;a.a=.55;a.b=.05;a.d=.09;a.q1=a.aspectx;a.q2=a.aspecty;a.q5=a.a;a.q6=a.b;a.q7=a.d;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.h1=div(a.bb-a.mn,a.mx-a.mn);a.h2=div(a.mm-a.mn,a.mx-a.mn);a.h3=div(a.tt-a.mn,a.mx-a.mn);a.v=div(.1333,a.fps);a.bm+=(a.h1-a.h2)*a.v;a.mt+=(a.h2-a.h3)*a.v;a.bt+=(a.h1-a.h3)*a.v;a.w=2*a.bm;a.q3=Math.sin(a.w);
a.q4=Math.cos(a.w);a.q10=a.bm;a.q11=a.mt;a.q12=a.bt;`,pixel_eqs_str:"a.x=.5+(a.x-.51)*a.q1;a.y=.5-(a.y-.5)*a.q2;a.dx=a.x*(1-a.x)-div(a.q5*a.x*a.y,a.x+a.q6);a.dy=-a.q7*a.y*(1-div(a.y,a.x));a.dx=div(.02*-a.dx,a.q1);a.dy=div(.02*-a.dy,a.q2);",warp:` shader_body { 
  vec2 my_uv2_1;
  vec2 dz_2;
  vec3 ret_3;
  vec2 tmpvar_4;
  tmpvar_4 = (texsize.zw * 4.0);
  vec3 tmpvar_5;
  tmpvar_5 = ((2.0 * (
    (texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)
   + bias1)));
  vec3 tmpvar_6;
  tmpvar_6 = ((2.0 * (
    (texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)
   + bias1)));
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_5.x;
  tmpvar_7.y = tmpvar_6.x;
  vec2 tmpvar_8;
  tmpvar_8 = (tmpvar_7 * texsize.zw);
  ret_3.x = (texture (sampler_fw_main, (uv - tmpvar_8)).x - ((
    (texture (sampler_blur3, uv).xyz * scale3)
   + bias3).x - (
    (texture (sampler_blur1, (uv + tmpvar_8)).xyz * scale1)
   + bias1).x));
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_5.y;
  tmpvar_9.y = tmpvar_6.y;
  dz_2 = (-(tmpvar_9) * texsize.zw);
  ret_3.y = ((texture (sampler_fw_main, (uv - dz_2)).y - 0.06) - ((
    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)
  .y - 
    ((texture (sampler_blur1, (uv + dz_2)).xyz * scale1) + bias1)
  .y) * 1.3));
  vec2 tmpvar_10;
  tmpvar_10 = ((uv_orig - 0.5) * (1.8 - (
    (bass_att - treb_att)
   * 0.015)));
  vec2 tmpvar_11;
  tmpvar_11.x = ((tmpvar_10.x * tmpvar_10.x) - (tmpvar_10.y * tmpvar_10.y));
  tmpvar_11.y = ((2.0 * tmpvar_10.x) * tmpvar_10.y);
  my_uv2_1 = (tmpvar_11 + vec2(0.28, 0.4));
  vec2 tmpvar_12;
  tmpvar_12.x = ((2.0 * (
    (texture (sampler_blur1, (my_uv2_1 + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (my_uv2_1 - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)
   + bias1))).z;
  tmpvar_12.y = ((2.0 * (
    (texture (sampler_blur1, (my_uv2_1 + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (my_uv2_1 - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)
   + bias1))).z;
  dz_2 = (tmpvar_12 * texsize.zw);
  ret_3.z = (texture (sampler_main, clamp ((my_uv2_1 + dz_2), 0.0, 1.0)).z - 0.014);
  vec4 tmpvar_13;
  tmpvar_13.w = 1.0;
  tmpvar_13.xyz = ret_3;
  ret = tmpvar_13.xyz;
 }`,comp:` shader_body { 
  vec3 dy_1;
  vec3 dx_2;
  vec2 mirror_uv_3;
  vec3 ret_4;
  vec2 tmpvar_5;
  tmpvar_5 = ((uv - 0.5) * aspect.xy);
  vec2 tmpvar_6;
  tmpvar_6.x = ((q4 * tmpvar_5.x) - (q3 * tmpvar_5.y));
  tmpvar_6.y = ((q3 * tmpvar_5.x) + (q4 * tmpvar_5.y));
  vec2 tmpvar_7;
  tmpvar_7 = (0.5 - (tmpvar_6 * 2.0));
  vec2 numerator_8;
  numerator_8 = (tmpvar_7 - vec2(0.0, 0.5));
  vec2 denominator_9;
  denominator_9 = (tmpvar_7 - vec2(1.0, 0.5));
  vec2 tmpvar_10;
  tmpvar_10.x = ((numerator_8.x * denominator_9.x) + (numerator_8.y * denominator_9.y));
  tmpvar_10.y = ((numerator_8.y * denominator_9.x) - (numerator_8.x * denominator_9.y));
  vec2 tmpvar_11;
  tmpvar_11 = (((tmpvar_10 / 
    ((denominator_9.x * denominator_9.x) + (denominator_9.y * denominator_9.y))
  ) + 0.5) - vec2(0.5, 0.5));
  float tmpvar_12;
  tmpvar_12 = sqrt(dot (tmpvar_11, tmpvar_11));
  float tmpvar_13;
  float tmpvar_14;
  tmpvar_14 = (min (abs(
    (tmpvar_11.x / tmpvar_11.y)
  ), 1.0) / max (abs(
    (tmpvar_11.x / tmpvar_11.y)
  ), 1.0));
  float tmpvar_15;
  tmpvar_15 = (tmpvar_14 * tmpvar_14);
  tmpvar_15 = (((
    ((((
      ((((-0.01213232 * tmpvar_15) + 0.05368138) * tmpvar_15) - 0.1173503)
     * tmpvar_15) + 0.1938925) * tmpvar_15) - 0.3326756)
   * tmpvar_15) + 0.9999793) * tmpvar_14);
  tmpvar_15 = (tmpvar_15 + (float(
    (abs((tmpvar_11.x / tmpvar_11.y)) > 1.0)
  ) * (
    (tmpvar_15 * -2.0)
   + 1.570796)));
  tmpvar_13 = (tmpvar_15 * sign((tmpvar_11.x / tmpvar_11.y)));
  if ((abs(tmpvar_11.y) > (1e-08 * abs(tmpvar_11.x)))) {
    if ((tmpvar_11.y < 0.0)) {
      if ((tmpvar_11.x >= 0.0)) {
        tmpvar_13 += 3.141593;
      } else {
        tmpvar_13 = (tmpvar_13 - 3.141593);
      };
    };
  } else {
    tmpvar_13 = (sign(tmpvar_11.x) * 1.570796);
  };
  vec2 tmpvar_16;
  tmpvar_16.x = (tmpvar_13 * 0.1591549);
  tmpvar_16.y = tmpvar_12;
  vec2 tmpvar_17;
  tmpvar_17.x = ((tmpvar_16.x * 2.0) + q11);
  tmpvar_17.y = ((0.3 * log(tmpvar_12)) + q12);
  vec2 tmpvar_18;
  tmpvar_18 = (0.5 + (0.5 - abs(
    ((fract((tmpvar_17 * 0.5)) * 2.0) - 1.0)
  )));
  vec2 tmpvar_19;
  tmpvar_19 = (texsize.zw * 3.0);
  vec3 tmpvar_20;
  tmpvar_20 = ((2.0 * (
    (texture (sampler_blur1, (tmpvar_18 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (tmpvar_18 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)
   + bias1)));
  vec3 tmpvar_21;
  tmpvar_21 = ((2.0 * (
    (texture (sampler_blur1, (tmpvar_18 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (tmpvar_18 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)
   + bias1)));
  vec2 tmpvar_22;
  tmpvar_22.x = tmpvar_20.x;
  tmpvar_22.y = tmpvar_21.x;
  mirror_uv_3 = (tmpvar_18 + ((tmpvar_22 * texsize.zw) * 4.0));
  ret_4 = ((mix (ret_4, vec3(1.0, 1.0, 1.0), 
    ((((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1).x * (1.0 - (
      (texture (sampler_blur2, mirror_uv_3).xyz * scale2)
     + bias2).x)) * (pow (hue_shader, vec3(4.0, 4.0, 4.0)) * 1.4))
  ) * texture (sampler_main, mirror_uv_3).xxx) + ((
    (1.0 - texture (sampler_main, mirror_uv_3).x)
   * 
    ((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1)
  .x) * vec3(3.0, 3.0, 3.0)));
  vec2 tmpvar_23;
  tmpvar_23.x = tmpvar_20.x;
  tmpvar_23.y = tmpvar_21.x;
  mirror_uv_3 = (mirror_uv_3 - ((tmpvar_23 * texsize.zw) * 24.0));
  dx_2 = ((2.0 * (
    (texture (sampler_blur1, (mirror_uv_3 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (mirror_uv_3 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)
   + bias1)));
  dy_1 = ((2.0 * (
    (texture (sampler_blur1, (mirror_uv_3 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)
   + bias1)) - (2.0 * (
    (texture (sampler_blur1, (mirror_uv_3 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)
   + bias1)));
  vec2 tmpvar_24;
  tmpvar_24.x = -(dx_2.y);
  tmpvar_24.y = dy_1.y;
  vec2 tmpvar_25;
  tmpvar_25 = (tmpvar_24 * 0.25);
  vec3 tmpvar_26;
  tmpvar_26 = mix (ret_4, vec3(1.0, 1.0, 1.0), (mix (vec3(1.0, 0.7, 0.2), vec3(0.15, 0.0, 0.5), vec3(
    ((((
      ((mirror_uv_3.x * 0.8) - mirror_uv_3.y)
     + 0.75) + tmpvar_25.x) + tmpvar_25.y) - 0.1)
  )) * texture (sampler_main, mirror_uv_3).y));
  vec2 tmpvar_27;
  vec2 tmpvar_28;
  tmpvar_28 = ((0.5 + (
    (uv - 0.5)
   * aspect.wz)) - vec2(0.5, 0.5));
  vec2 tmpvar_29;
  tmpvar_29.x = ((q4 * tmpvar_28.x) - (q3 * tmpvar_28.y));
  tmpvar_29.y = ((q3 * tmpvar_28.x) + (q4 * tmpvar_28.y));
  tmpvar_27 = (vec2(0.5, 0.5) + tmpvar_29);
  mirror_uv_3 = tmpvar_27.yx;
  vec2 tmpvar_30;
  tmpvar_30 = (vec2(1.0, 0.0) * texsize.zw);
  dx_2 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_30)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_30)).xyz));
  vec2 tmpvar_31;
  tmpvar_31 = (vec2(0.0, 1.0) * texsize.zw);
  dy_1 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_31)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_31)).xyz));
  vec2 tmpvar_32;
  tmpvar_32.x = dx_2.z;
  tmpvar_32.y = dy_1.z;
  vec3 tmpvar_33;
  tmpvar_33 = mix (tmpvar_26, vec3(0.9, 0.9, 1.0), vec3((1.0 - texture (sampler_main, (tmpvar_27.yx - tmpvar_32)).z)));
  ret_4 = tmpvar_33;
  vec4 tmpvar_34;
  tmpvar_34.w = 1.0;
  tmpvar_34.xyz = tmpvar_33;
  ret = tmpvar_34.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.995,echo_zoom:1.007,echo_orient:3,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,wave_a:1.413,wave_scale:.418,wave_smoothing:0,wave_mystery:-.66,modwavealphastart:2,modwavealphaend:2,warpanimspeed:.626,warpscale:8.642,zoomexp:7.10084,zoom:.99951,warp:.09014,wave_r:0,wave_g:0,wave_x:.24,wave_y:.44,ob_size:0,ob_a:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:48,additive:1,rad:.0277,ang:6.03186,tex_ang:6.03186,tex_zoom:.6839,r:0,g:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.q3=0;a.q4=0;a.q5=0;a.q2=0;a.q1=0;",frame_eqs_str:"a.x=a.q3;a.y=a.q4;a.rad=a.q5;a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"},{baseVals:{enabled:1,sides:48,additive:1,rad:.0277,ang:6.03186,tex_ang:6.03186,tex_zoom:.6839,r:0,b:1,g2:0,b2:1,a2:1,border_r:0,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.q6=0;a.q7=0;a.q8=0;a.q2=0;a.q1=0;",frame_eqs_str:"a.x=a.q6;a.y=a.q7;a.rad=a.q8;a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1,additive:1,scaling:2.0231,smoothing:0,g:0,b:0},init_eqs_str:"a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);a.a=a.beat;",point_eqs_str:"a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.y3=0;a.y1=0;a.xx=0;a.q12=0;a.w2=0;a.ref_ang=0;a.q18=0;a.x1=0;a.vx3=0;a.q13=0;a.q15=0;a.q6=0;a.q1=0;a.q5=0;a.q9=0;a.d1=0;a.si1=0;a.vx1=0;a.vx4=0;a.x3=0;a.d2=0;a.q11=0;a.q10=0;a.q4=0;a.vy4=0;a.dir=0;a.bounce=0;a.q16=0;a.x4=0;a.w1=0;a.r=0;a.x2=0;a.q17=0;a.vy2=0;a.y2=0;a.vy1=0;a.q2=0;a.m1=0;a.q14=0;a.si2=0;a.v1=0;a.vx2=0;a.q3=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.v2=0;a.b1=0;a.q8=0;a.x1=.5;a.x2=.51;a.y2=.9;a.y1=.7;a.x3=.8;a.y3=.5;a.x4=.2;a.y4=.5;a.ax1=0;a.ay1=0;a.ax2=0;a.ay2=0;a.ax3=
0;a.ay3=0;a.vx1=0;a.vx2=0;`,frame_eqs_str:`a.zoom=1.002;a.warp=.2;a.wave_a=0;a.r=.04+.008*Math.max(a.bass_att,a.treb_att);a.bounce=below(a.y1,a.r);a.y1+=a.vy1;a.vy1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy1)+.1*(a.r-a.y1):a.vy1-div(.018,a.fps);a.bounce=below(a.x1,a.r);a.x1+=a.vx1;a.vx1=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx1)+.1*(a.r-a.x1):a.vx1;a.bounce=above(a.x1,1-a.r);a.vx1=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx1)+.04*(1-a.r-a.x1):a.vx1;a.bounce=below(a.y2,a.r);a.y2+=a.vy2;a.vy2=.00001<Math.abs(a.bounce)?
.94*Math.abs(a.vy2)+.1*(a.r-a.y2):a.vy2-div(.018,a.fps);a.bounce=below(a.x2,a.r);a.x2+=a.vx2;a.vx2=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx2)+.1*(a.r-a.x2):a.vx2;a.bounce=above(a.x2,1-a.r);a.vx2=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx2)+.1*(1-a.r-a.x2):a.vx2;a.bounce=below(a.y3,a.r);a.y3+=a.vy3;a.vy3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy3)+.1*(a.r-a.y3):a.vy3-div(.018,a.fps);a.bounce=below(a.x3,a.r);a.x3+=a.vx3;a.vx3=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx3)+.1*(a.r-a.x3):a.vx3;
a.bounce=above(a.x3,1-a.r);a.vx3=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx3)+.1*(1-a.r-a.x3):a.vx3;a.bounce=below(a.y4,a.r);a.y4+=a.vy4;a.vy4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vy4)+.1*(a.r-a.y4):a.vy4-div(.018,a.fps);a.bounce=below(a.x4,a.r);a.x4+=a.vx4;a.vx4=.00001<Math.abs(a.bounce)?.94*Math.abs(a.vx4)+.1*(a.r-a.x4):a.vx4;a.bounce=above(a.x4,1-a.r);a.vx4=.00001<Math.abs(a.bounce)?.94*-Math.abs(a.vx4)+.1*(1-a.r-a.x4):a.vx4;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x2-a.vx2)+sqr(a.y1+a.vy1-a.y2-
a.vy2)),2*a.r);a.ref_ang=Math.atan2(a.x2-a.x1,a.y2-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx2,a.vy2);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-
Math.asin(1)):a.vy1;a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy2;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x3-a.vx3)+sqr(a.y1+a.vy1-a.y3-a.vy3)),2*a.r);a.ref_ang=Math.atan2(a.x3-a.x1,a.y3-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*
a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx3,a.vy3);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-
a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x3-a.vx3)+sqr(a.y2+a.vy2-a.y3-a.vy3)),2*a.r);a.ref_ang=Math.atan2(a.x3-a.x2,a.y3-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx3,
a.vy3);a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=
.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy3;a.bounce=below(sqrt(sqr(a.x1+a.vx1-a.x4-a.vx4)+sqr(a.y1+a.vy1-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x1,a.y4-a.y1)+Math.asin(1);a.v1=sqrt(a.vx1*a.vx1+a.vy1*a.vy1);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx1,a.vy1);a.w2=Math.atan2(a.vx4,a.vy4);a.vx1=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+
Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx1;a.vy1=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy1;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+
Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x2+a.vx2-a.x4-a.vx4)+sqr(a.y2+a.vy2-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x2,a.y4-a.y2)+Math.asin(1);a.v1=sqrt(a.vx2*a.vx2+a.vy2*a.vy2);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx2,a.vy2);a.w2=Math.atan2(a.vx4,a.vy4);a.vx2=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx2;a.vy2=.00001<
Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy2;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.bounce=below(sqrt(sqr(a.x3+
a.vx3-a.x4-a.vx4)+sqr(a.y3+a.vy3-a.y4-a.vy4)),2*a.r);a.ref_ang=Math.atan2(a.x4-a.x3,a.y4-a.y3)+Math.asin(1);a.v1=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);a.v2=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.w1=Math.atan2(a.vx3,a.vy3);a.w2=Math.atan2(a.vx4,a.vy4);a.vx3=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vx3;a.vy3=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v1*Math.cos(a.w1-a.ref_ang)+Math.cos(a.ref_ang+
Math.asin(1))*a.v2*Math.cos(a.w2-a.ref_ang-Math.asin(1)):a.vy3;a.vx4=.00001<Math.abs(a.bounce)?Math.sin(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.sin(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vx4;a.vy4=.00001<Math.abs(a.bounce)?Math.cos(a.ref_ang)*a.v2*Math.cos(a.w2-a.ref_ang)+Math.cos(a.ref_ang+Math.asin(1))*a.v1*Math.cos(a.w1-a.ref_ang-Math.asin(1)):a.vy4;a.q1=a.aspectx;a.q2=a.aspecty;a.q3=a.x1;a.q4=a.y1;a.q5=2*a.r;a.q6=a.x2;a.q7=a.y2;a.q8=2*a.r;a.q9=a.x3;a.q10=a.y3;
a.q11=2*a.r;a.q12=a.x4;a.q13=a.y4;a.q14=2*a.r;a.q15=Math.atan2(a.vx4,a.vy4);a.q16=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.q17=Math.atan2(a.vx3,a.vy3);a.q18=sqrt(a.vx3*a.vx3+a.vy3*a.vy3);`,pixel_eqs_str:`a.x=.5+(a.x-.5)*a.q2;a.y=.5+(a.y-.5)*a.q1;a.dir=-a.q15+Math.asin(1);a.b1=.075;a.m1=25*a.q16;a.xx=a.q12;a.yy=1-a.q13;a.x1=a.xx-Math.sin(a.dir)*a.b1;a.y1=a.yy-Math.cos(a.dir)*a.b1;a.x2=a.xx+Math.sin(a.dir)*a.b1;a.y2=a.yy+Math.cos(a.dir)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si1=sigmoid(-a.d1,1E3);a.si2=sigmoid(-a.d2,1E3);a.dx=3*(a.si1*Math.sin(a.y1-a.y)*a.m1*a.d1-a.si2*Math.sin(a.y2-a.y)*
a.m1*a.d2)*a.q1;a.dy=3*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2)*a.q2;a.dir=-a.q17+Math.asin(1);a.m1=25*a.q18;a.xx=a.q9;a.yy=1-a.q10;a.x1=a.xx-Math.sin(a.dir)*a.b1;a.y1=a.yy-Math.cos(a.dir)*a.b1;a.x2=a.xx+Math.sin(a.dir)*a.b1;a.y2=a.yy+Math.cos(a.dir)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si1=sigmoid(-a.d1,1E3);a.si2=sigmoid(-a.d2,1E3);a.dx+=3*(a.si1*Math.sin(a.y1-a.y)*a.m1*
a.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2)*a.q1;a.dy+=3*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2)*a.q2;`,warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 8.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.z;
  tmpvar_5.y = tmpvar_4.z;
  vec2 tmpvar_6;
  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));
  ret_1.z = (((texture (sampler_main, tmpvar_6).z - 
    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)
  ) - 0.008) + ((texture (sampler_noise_lq, 
    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)
  ).xyz - 0.5) * 0.1)).x;
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_3.x;
  tmpvar_7.y = tmpvar_4.x;
  vec2 tmpvar_8;
  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));
  ret_1.x = texture (sampler_main, tmpvar_8).x;
  ret_1.x = (ret_1.x + ((
    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))
  .x * 0.4) + 0.006));
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_3.x;
  tmpvar_9.y = tmpvar_4.x;
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_3.y;
  tmpvar_10.y = tmpvar_4.y;
  vec2 tmpvar_11;
  tmpvar_11.x = tmpvar_3.z;
  tmpvar_11.y = tmpvar_4.z;
  ret_1.y = texture (sampler_fc_main, (((uv - 
    ((tmpvar_9 * texsize.zw) * 8.0)
  ) + (
    (tmpvar_10 * texsize.zw)
   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;
  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));
  ret_1.y = (ret_1.y - (0.004 + (
    clamp (ret_1.z, 0.0, 1.0)
   * 0.04)));
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = ret_1;
  ret = tmpvar_12.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 4.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.z;
  tmpvar_5.y = tmpvar_4.z;
  vec2 tmpvar_6;
  tmpvar_6.x = tmpvar_3.y;
  tmpvar_6.y = tmpvar_4.y;
  vec2 tmpvar_7;
  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));
  vec4 tmpvar_8;
  tmpvar_8 = texture (sampler_main, uv);
  ret_1 = (((
    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)
  .x * 
    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)
  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);
  ret_1 = (mix (ret_1, (
    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))
   * 1.4), vec3((
    (texture (sampler_main, tmpvar_7).x * 0.8)
   + 
    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)
  .x))) * clamp ((1.0 - 
    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)
  ), 0.0, 1.0));
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_3.y;
  tmpvar_9.y = tmpvar_4.y;
  vec3 tmpvar_10;
  vec3 tmpvar_11;
  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));
  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (
    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)
   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);
  ret_1 = tmpvar_10;
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = tmpvar_10;
  ret = tmpvar_12.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.5,echo_zoom:1.03,wave_brighten:0,wrap:0,wave_a:.001,wave_scale:.01,wave_smoothing:0,modwavealphastart:1,modwavealphaend:1,warpscale:.107,zoomexp:4.28632,fshader:1,warp:.01743,wave_r:0,wave_g:0,wave_b:0,ob_size:0,ob_g:1,ob_a:1,ib_size:0,ib_r:1,ib_g:1,ib_b:1,ib_a:1,mv_x:64,mv_y:48,mv_l:5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:100,textured:1,rad:.789,ang:.6283,tex_zoom:1.17257,r:0,g:1,border_a:0},init_eqs_str:"a.an=0;a.vx=0;a.vy=0;",frame_eqs_str:"a.rad=.65+.1*a.bass;a.an=.99*a.an+.1*(a.bass-a.treb);a.ang=.1*a.an+.6;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:495,sep:4,spectrum:1,thick:1,additive:1,scaling:100,smoothing:1,r:0,g:.04,b:0,a:.99},init_eqs_str:"a.my_z=0;a.d=0;a.n=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.t5=0;a.w2=0;a.t1=0;a.x1=0;a.q6=0;a.zoom=0;a.p=0;a.q1=0;a.q5=0;a.t8=0;a.z3=0;a.w3=0;a.t3=0;a.my_x=0;a.x3=0;a.t6=0;a.my_y=0;a.pi=0;a.q4=0;a.t7=0;a.rd=0;a.w1=0;a.x2=0;a.t2=0;a.l=0;a.y2=0;a.q2=0;a.z1=0;a.q3=0;a.t4=0;a.t2=0;a.t3=0;a.t4=0;a.ab=1;",frame_eqs_str:"a.t1=a.q1;a.t2=a.q2;a.t3=a.q3;a.t4=a.q4;a.t5=a.q5;a.t6=a.q6;a.t8=.07;a.t7=1;",point_eqs_str:`a.t7=-a.t7;a.pi=Math.asin(1);a.n=180;a.rd=.075;a.my_x=.5*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_y=.5*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_z=Math.sin(a.sample*a.pi*a.n)*a.rd;a.d=1.4;a.zoom=.65;a.w1=a.q2;a.w2=a.q3;a.w3=a.q4;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;
a.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*a.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));a.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.b=-a.z3+.5;a.b=.5*Math.min(1,Math.max(0,
a.b));a.r=1-2*a.b;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.n=0;a.n2=0;a.j3=0;a.q1=0;a.q5=0;a.n1=0;a.q9=0;a.v=0;a.q10=0;a.q4=0;a.j2=0;a.k=0;a.j1=0;a.q2=0;a.q3=0;a.x1=0;a.y1=0;",frame_eqs_str:"a.q1=0;a.v=.4;a.j1=.95*a.j1+sqr(4*a.bass)*a.v;a.j2=.95*a.j2+sqr(4*a.mid)*a.v;a.j3=.95*a.j3+sqr(4*a.treb)*a.v;a.n+=.0052*a.j1;a.n1+=.0052*a.j2;a.n2+=.0052*a.j3;a.q2=.01*a.n;a.q3=.01*a.n1;a.q4=.01*a.n2;a.k=.99*a.k+sqr(2*a.mid_att);a.q5=0*a.k;a.zoom=1.0016;a.warp=0;a.rot=-0;a.q9=a.aspectx;a.q10=a.aspecty;",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 4.0);
  vec2 tmpvar_3;
  tmpvar_3.x = (((texture (sampler_blur2, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale2) + bias2)).z;
  tmpvar_3.y = -(((
    (texture (sampler_blur2, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)
   + bias2)).z);
  vec2 tmpvar_4;
  tmpvar_4 = (uv + ((tmpvar_3 * texsize.zw) * 60.0));
  vec2 x_5;
  x_5 = (tmpvar_4 - uv);
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_main, uv);
  vec4 tmpvar_7;
  tmpvar_7 = texture (sampler_blur1, uv);
  ret_1.z = (((texture (sampler_main, tmpvar_4).z + 
    (((tmpvar_6.z - (
      (tmpvar_7.xyz * scale1)
     + bias1).z) * 200.0) * sqrt(dot (x_5, x_5)))
  ) * 0.96) - 0.02);
  vec2 tmpvar_8;
  tmpvar_8.x = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1)).y;
  tmpvar_8.y = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1)).y;
  ret_1.y = ((texture (sampler_main, (uv_orig + 
    ((tmpvar_8 * texsize.zw) * 6.0)
  )).y + (
    (tmpvar_6.y - ((tmpvar_7.xyz * scale1) + bias1).y)
   * 0.1)) - 0.016);
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = ret_1;
  ret = tmpvar_9.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 8.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.z;
  tmpvar_5.y = tmpvar_4.z;
  vec2 tmpvar_6;
  tmpvar_6.x = tmpvar_3.y;
  tmpvar_6.y = tmpvar_4.y;
  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - 
    (tmpvar_5 * 0.2)
  )).yyy) * ((
    (-(tmpvar_3.y) + tmpvar_4.y)
   + 1.0) + (
    (-(tmpvar_3.z) + tmpvar_4.z)
   * 2.0)));
  vec3 tmpvar_7;
  tmpvar_7 = mix (mix (ret_1, vec3(0.2, 0.0, 0.4), vec3((
    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)
  .x * 1.4))), vec3(1.0, 0.9, 0.8), texture (sampler_main, uv).zzz);
  ret_1 = tmpvar_7;
  vec4 tmpvar_8;
  tmpvar_8.w = 1.0;
  tmpvar_8.xyz = tmpvar_7;
  ret = tmpvar_8.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:1,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:.5,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wave_a:2.789,wave_scale:.292,wave_smoothing:0,wave_mystery:.12,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.01,warpscale:100,zoomexp:.92178,zoom:.9901,warp:.01,wave_g:0,ob_size:0,ob_r:.2,ob_a:.1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:100,additive:1,thickoutline:1,x:.43,y:.42,rad:.15799,ang:.1885,tex_zoom:.87865,r:0,g:1,g2:0,border_a:0},init_eqs_str:"a.q4=0;a.q8=0;",frame_eqs_str:"a.x=a.q4;a.y=a.q8;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.y3=0;a.y1=0;a.xx=0;a.si3=0;a.t1=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.d1=0;a.si1=0;a.vx4=0;a.grav=0;a.x3=0;a.d2=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.m1=0;a.spring=0;a.si2=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;",frame_eqs_str:`a.decay=1;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+a.xx1-a.xx2;a.y1=.5+a.yy1;a.spring=18;a.grav=1;a.resist=.2;a.bounce=.9;a.dt=.0003;a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*
a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*
a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=
a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.zoom=1.004;a.q6=Math.atan2(a.vx4,a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);`,pixel_eqs_str:`a.dir=-a.q6+Math.asin(1);a.b1=.08;a.m1=45*a.q5;a.t1=.5;a.xx=.5+div(a.q4-.5,a.aspectx);a.yy=1-(.5+div(a.q8-.5,a.aspecty));a.x1=a.xx+Math.cos(a.dir+1.5708)*a.b1;a.y1=a.yy-Math.sin(a.dir+1.5708)*a.b1;a.x2=a.xx-Math.cos(a.dir+1.5708)*a.b1;a.y2=a.yy+Math.sin(a.dir+1.5708)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.si1=1-div(1,1+pow(2,100*-a.d1));a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si2=1-div(1,1+pow(2,100*-a.d2));a.si3=0*-pow(a.q5,
3);a.dx=div(2*(a.si1*Math.sin(a.y1-a.y)*a.m1*a.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2+a.si3*Math.cos(a.dir)*a.t1),a.aspectx);a.dy=div(2*(-a.si1*Math.sin(a.x1-a.x)*a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2-a.si3*Math.sin(a.dir)*a.t1),a.aspecty);`,warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 8.0);
  vec2 tmpvar_3;
  tmpvar_3.x = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1)).x;
  tmpvar_3.y = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1)).x;
  vec2 tmpvar_4;
  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 0.5));
  ret_1.x = texture (sampler_fw_main, tmpvar_4).x;
  ret_1.x = (ret_1.x + ((
    (ret_1.x - ((texture (sampler_blur3, tmpvar_4).xyz * scale3) + bias3).x)
   * 0.2) - 0.004));
  ret_1.y = ((texture (sampler_fw_main, uv_orig).y * 0.98) - 0.004);
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = ret_1;
  ret = tmpvar_5.xyz;
 }`,comp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = (texsize.zw * 4.0);
  vec2 tmpvar_2;
  tmpvar_2.x = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_1))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_1))
  ).xyz * scale1) + bias1)).x;
  tmpvar_2.y = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_1))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_1))
  ).xyz * scale1) + bias1)).x;
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = mix ((vec3(0.0, 0.0, 1.0) * texture (sampler_main, uv).x), vec3(1.0, 0.0, 0.0), texture (sampler_main, (uv - tmpvar_2)).yyy);
  ret = tmpvar_3.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:1,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:.5,wave_thick:1,wave_brighten:0,wrap:0,wave_a:.004,wave_scale:.01,wave_smoothing:0,wave_mystery:-.44,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.137,warpscale:13.125,zoom:.99951,warp:.99213,wave_y:.04,ob_size:.015,ob_r:.1,ob_g:.25,ob_a:1,ib_size:0,ib_b:1,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,thickoutline:1,rad:.02015,tex_ang:.12566,tex_zoom:1.51878,r:0,a:.1,g2:0,border_a:0},init_eqs_str:"",frame_eqs_str:""},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.y3=0;a.y1=0;a.q12=0;a.x1=0;a.vx3=0;a.q13=0;a.q15=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.q9=0;a.vx4=0;a.x3=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.q16=0;a.x4=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.q14=0;a.vx2=0;a.q3=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.q8=0;",frame_eqs_str:`a.warp=0;a.wave_a=0;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+1.5*a.yy1;a.dt=div(.03,a.fps);a.vx2=a.vx2*(1-2*a.dt)+10*a.dt*(a.x1+a.x3-2*a.x2);a.vy2=a.vy2*(1-2*a.dt)+a.dt*(10*(a.y1+a.y3-2*a.y2)-.5);a.vx3=a.vx3*(1-2*a.dt)+10*a.dt*(a.x2+a.x4-2*a.x3);a.vy3=a.vy3*(1-2*a.dt)+a.dt*(10*(a.y2+a.y4-2*a.y3)-.5);a.vx4=a.vx4*(1-2*a.dt)+10*a.dt*(a.x3-a.x4);a.vy4=a.vy4*(1-2*a.dt)+a.dt*(10*(a.y3-a.y4)-.5);a.x2+=
a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:.5*Math.abs(a.vx2);a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:.5*-Math.abs(a.vx2);a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:.5*Math.abs(a.vx3);a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:.5*-Math.abs(a.vx3);a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:.5*Math.abs(a.vx4);a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:.5*-Math.abs(a.vx4);a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:.5*Math.abs(a.vy2);
a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:.5*-Math.abs(a.vy2);a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:.5*Math.abs(a.vy3);a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:.5*-Math.abs(a.vy3);a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:.5*Math.abs(a.vy4);a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:.5*-Math.abs(a.vy4);a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.q11=a.aspectx;a.q12=a.aspecty;a.q13=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);
a.q14=Math.atan2(a.vx4,a.vy4);a.q15=Math.sin(a.q14);a.q16=Math.cos(a.q14);`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 uv_1;
  vec2 my_uv_2;
  vec3 ret_3;
  vec2 tmpvar_4;
  tmpvar_4.x = q4;
  tmpvar_4.y = (1.0 - q8);
  vec2 tmpvar_5;
  tmpvar_5.x = -(q15);
  tmpvar_5.y = q16;
  vec2 domain_6;
  vec2 uv_rot_7;
  domain_6 = (uv - tmpvar_4);
  domain_6 = (domain_6 * aspect.xy);
  float tmpvar_8;
  tmpvar_8 = (1.0/((1.0 + exp(
    ((sqrt(dot (domain_6, domain_6)) - 0.07) * 50.0)
  ))));
  domain_6 = (domain_6 + ((tmpvar_5 * q13) * (aspect.wz * tmpvar_8)));
  float tmpvar_9;
  tmpvar_9 = sin(tmpvar_8);
  float tmpvar_10;
  tmpvar_10 = cos(tmpvar_8);
  uv_rot_7.x = ((tmpvar_10 * domain_6.x) - (tmpvar_9 * domain_6.y));
  uv_rot_7.y = ((tmpvar_9 * domain_6.x) + (tmpvar_10 * domain_6.y));
  uv_rot_7 = (uv_rot_7 * aspect.zw);
  uv_rot_7 = (uv_rot_7 + tmpvar_4);
  uv_1 = (clamp ((tmpvar_4 + 
    ((uv_rot_7 - tmpvar_4) * mix (1.0, 4.0, tmpvar_8))
  ), 0.0, 1.0) + (texsize.zw * vec2(0.0, 0.15)));
  vec2 tmpvar_11;
  tmpvar_11 = mix (uv_orig, uv_1, vec2(0.2, 0.2));
  uv_1 = tmpvar_11;
  vec2 tmpvar_12;
  tmpvar_12 = (vec2(1280.0, 1024.0) * texsize.zw);
  float tmpvar_13;
  tmpvar_13 = (((
    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)
   + bias2)).x * tmpvar_12.x);
  float tmpvar_14;
  tmpvar_14 = (((
    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)
   + bias2)).x * tmpvar_12.y);
  vec2 tmpvar_15;
  tmpvar_15.x = tmpvar_13;
  tmpvar_15.y = tmpvar_14;
  vec2 tmpvar_16;
  tmpvar_16.x = (((
    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)
   + bias2)).x * tmpvar_12.x);
  tmpvar_16.y = (((
    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)
   + bias2)).x * tmpvar_12.y);
  ret_3.x = texture (sampler_fw_main, ((tmpvar_11 - (tmpvar_15 * 0.006)) + (tmpvar_16 * 0.003))).x;
  ret_3.x = (ret_3.x + ((ret_3.x - 
    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)
  .x) * 0.1));
  ret_3.x = (ret_3.x + 0.004);
  vec2 tmpvar_17;
  tmpvar_17.x = tmpvar_14;
  tmpvar_17.y = -(tmpvar_13);
  my_uv_2 = (uv_orig + ((tmpvar_17 * 0.05) * (1.2 - 
    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)
  .y)));
  ret_3.z = texture (sampler_fw_main, my_uv_2).z;
  vec2 x_18;
  x_18 = (my_uv_2 - uv_orig);
  ret_3.z = (ret_3.z + ((
    ((ret_3.z - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1).z) * sqrt(dot (x_18, x_18)))
   * 180.0) / sqrt(
    dot (tmpvar_12, tmpvar_12)
  )));
  ret_3.z = (ret_3.z * 0.85);
  ret_3.z = (ret_3.z + 0.008);
  vec2 tmpvar_19;
  tmpvar_19.x = -(tmpvar_14);
  tmpvar_19.y = tmpvar_13;
  my_uv_2 = (tmpvar_19 * 0.045);
  vec2 tmpvar_20;
  tmpvar_20.x = (((
    (texture (sampler_blur2, (tmpvar_11 + vec2(0.01, 0.0))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (tmpvar_11 - vec2(0.01, 0.0))).xyz * scale2)
   + bias2)).y * tmpvar_12.x);
  tmpvar_20.y = (((
    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.01))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.01))).xyz * scale2)
   + bias2)).y * tmpvar_12.y);
  my_uv_2 = (my_uv_2 + (tmpvar_11 - (tmpvar_20 * 0.03)));
  ret_3.y = texture (sampler_fw_main, my_uv_2).y;
  ret_3.y = (ret_3.y + ((
    (ret_3.y - ((texture (sampler_blur3, my_uv_2).xyz * scale3) + bias3).y)
   * 0.1) + 0.03));
  vec4 tmpvar_21;
  tmpvar_21.w = 1.0;
  tmpvar_21.xyz = ret_3;
  ret = tmpvar_21.xyz;
 }`,comp:` shader_body { 
  vec2 dz_1;
  vec3 dy_2;
  vec3 dx_3;
  vec2 d_4;
  vec3 ret_5;
  vec2 tmpvar_6;
  vec2 tmpvar_7;
  tmpvar_7 = (vec2(1.0, 0.0) * texsize.zw);
  tmpvar_6.x = (texture (sampler_main, (uv + tmpvar_7)).xyz - texture (sampler_main, (uv - tmpvar_7)).xyz).y;
  vec2 tmpvar_8;
  tmpvar_8 = (vec2(0.0, 1.0) * texsize.zw);
  tmpvar_6.y = (texture (sampler_main, (uv + tmpvar_8)).xyz - texture (sampler_main, (uv - tmpvar_8)).xyz).y;
  d_4 = (texsize.zw * 2.0);
  dx_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * d_4))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * d_4))
  ).xyz * scale1) + bias1));
  dy_2 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * d_4))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * d_4))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_9;
  tmpvar_9.x = dx_3.y;
  tmpvar_9.y = dy_2.y;
  dz_1 = ((tmpvar_6 * 3.0) + tmpvar_9);
  ret_5 = (vec3(((
    pow ((sqrt(dot (dz_1, dz_1)) * 0.8), 0.7)
   + 
    (((texture (sampler_blur2, uv).xyz * scale2) + bias2).y * 0.4)
  ) - 0.1)) * vec3(0.3, 0.5, 0.7));
  vec2 tmpvar_10;
  tmpvar_10.x = dx_3.x;
  tmpvar_10.y = dy_2.x;
  vec3 tmpvar_11;
  tmpvar_11 = mix (mix (ret_5, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, 
    (uv + ((tmpvar_10 * texsize.zw) * 18.0))
  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv).zzz);
  ret_5 = tmpvar_11;
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = tmpvar_11;
  ret = tmpvar_12.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:.5,wave_thick:1,wave_brighten:0,wave_a:.004,wave_scale:.267,wave_smoothing:0,wave_mystery:-.44,modwavealphastart:1,modwavealphaend:1,warpscale:16.016,zoomexp:11.56276,zoom:1.05971,warp:.13126,wave_y:.04,ob_size:0,ob_a:1,ib_size:0,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:100,thickoutline:1,rad:.01,tex_ang:.12566,tex_zoom:1.51878,g:.99,b:1,a:.1,g2:0,border_a:0},init_eqs_str:"",frame_eqs_str:""},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.v=0;a.t=0;a.q12=0;a.q13=0;a.q11=div(.5,Math.asin(1));",frame_eqs_str:"a.zoom=1;a.v=.9*a.v+.04*(a.bass-a.treb);a.t+=.01*a.v;a.q12=.1*a.time+a.t;a.q13=.25+.01*(a.bass_att-a.treb_att);",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 my_uv_1;
  vec2 d_2;
  vec3 ret_3;
  vec2 tmpvar_4;
  tmpvar_4 = (texsize.zw * 4.0);
  vec3 tmpvar_5;
  tmpvar_5 = (((texture (sampler_blur1, 
    fract((uv + (vec2(1.0, 0.0) * tmpvar_4)))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    fract((uv - (vec2(1.0, 0.0) * tmpvar_4)))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_6;
  tmpvar_6 = (((texture (sampler_blur1, 
    fract((uv + (vec2(0.0, 1.0) * tmpvar_4)))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    fract((uv - (vec2(0.0, 1.0) * tmpvar_4)))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_7;
  tmpvar_7 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);
  d_2 = -(tmpvar_4);
  float tmpvar_8;
  tmpvar_8 = (d_2 * 4.0).x;
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_5.y;
  tmpvar_9.y = tmpvar_6.y;
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_5.x;
  tmpvar_10.y = tmpvar_6.x;
  vec2 tmpvar_11;
  tmpvar_11 = ((uv - (tmpvar_9 * d_2)) - (tmpvar_10 * tmpvar_8));
  ret_3.y = texture (sampler_fc_main, (tmpvar_11 - floor(tmpvar_11))).y;
  ret_3.y = (ret_3.y + ((
    (ret_3.y - tmpvar_7.y)
   * 0.042) + -0.0075));
  vec2 tmpvar_12;
  tmpvar_12.x = tmpvar_5.x;
  tmpvar_12.y = tmpvar_6.x;
  vec2 tmpvar_13;
  tmpvar_13.x = tmpvar_5.z;
  tmpvar_13.y = tmpvar_6.z;
  my_uv_1 = ((uv - (tmpvar_12 * d_2)) - (tmpvar_13 * tmpvar_8));
  ret_3.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;
  ret_3.x = (ret_3.x + ((
    (ret_3.x - tmpvar_7.x)
   * 0.042) + -0.0075));
  vec2 tmpvar_14;
  tmpvar_14.x = tmpvar_5.z;
  tmpvar_14.y = tmpvar_6.z;
  vec2 tmpvar_15;
  tmpvar_15.x = tmpvar_5.y;
  tmpvar_15.y = tmpvar_6.y;
  my_uv_1 = ((uv - (tmpvar_14 * d_2)) - (tmpvar_15 * tmpvar_8));
  ret_3.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;
  ret_3.z = (ret_3.z + ((
    (ret_3.z - tmpvar_7.z)
   * 0.042) + -0.0075));
  vec4 tmpvar_16;
  tmpvar_16.w = 1.0;
  tmpvar_16.xyz = ret_3;
  ret = tmpvar_16.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  uv_1 = uv;
  vec3 ret_2;
  float tmpvar_3;
  tmpvar_3 = -(q12);
  vec2 tmpvar_4;
  tmpvar_4 = ((uv - 0.5) * aspect.wz);
  float tmpvar_5;
  float tmpvar_6;
  tmpvar_6 = (min (abs(
    (tmpvar_4.x / tmpvar_4.y)
  ), 1.0) / max (abs(
    (tmpvar_4.x / tmpvar_4.y)
  ), 1.0));
  float tmpvar_7;
  tmpvar_7 = (tmpvar_6 * tmpvar_6);
  tmpvar_7 = (((
    ((((
      ((((-0.01213232 * tmpvar_7) + 0.05368138) * tmpvar_7) - 0.1173503)
     * tmpvar_7) + 0.1938925) * tmpvar_7) - 0.3326756)
   * tmpvar_7) + 0.9999793) * tmpvar_6);
  tmpvar_7 = (tmpvar_7 + (float(
    (abs((tmpvar_4.x / tmpvar_4.y)) > 1.0)
  ) * (
    (tmpvar_7 * -2.0)
   + 1.570796)));
  tmpvar_5 = (tmpvar_7 * sign((tmpvar_4.x / tmpvar_4.y)));
  if ((abs(tmpvar_4.y) > (1e-08 * abs(tmpvar_4.x)))) {
    if ((tmpvar_4.y < 0.0)) {
      if ((tmpvar_4.x >= 0.0)) {
        tmpvar_5 += 3.141593;
      } else {
        tmpvar_5 = (tmpvar_5 - 3.141593);
      };
    };
  } else {
    tmpvar_5 = (sign(tmpvar_4.x) * 1.570796);
  };
  vec2 tmpvar_8;
  tmpvar_8.x = ((tmpvar_5 * q11) - tmpvar_3);
  tmpvar_8.y = (((q13 * 
    log(sqrt(dot (tmpvar_4, tmpvar_4)))
  ) + (tmpvar_5 * q11)) + tmpvar_3);
  uv_1 = (0.5 + (0.5 - abs(
    ((fract((tmpvar_8 * 0.5)) * 2.0) - 1.0)
  )));
  vec4 tmpvar_9;
  tmpvar_9 = texture (sampler_main, uv_1);
  ret_2 = (vec3(dot (tmpvar_9.xyz, vec3(0.32, 0.49, 0.29))) * mix (vec3(1.0, 1.0, 1.0), vec3(0.2, 0.5, 1.0), tmpvar_9.xxx));
  ret_2 = (ret_2 * 2.0);
  vec4 tmpvar_10;
  tmpvar_10.w = 1.0;
  tmpvar_10.xyz = ret_2;
  ret = tmpvar_10.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:.5,wave_thick:1,wave_brighten:0,wrap:0,wave_a:.004,wave_scale:.242,wave_smoothing:0,wave_mystery:-.44,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.88,warpscale:9.181,zoomexp:.65309,zoom:.87866,warp:.04914,wave_y:.04,ob_size:.05,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,thickoutline:1,y:.04,rad:.01,tex_ang:.12566,tex_zoom:1.51878,r:0,a:0,g2:0,b2:.01,border_a:0},init_eqs_str:"",frame_eqs_str:""},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1,additive:1,scaling:2.0231,smoothing:0,r:0,b:0},init_eqs_str:"a.tt3=0;a.tt2=0;a.tt1=0;a.d=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.r=1;a.g=0;a.b=1;",point_eqs_str:"a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.6+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.c_inv_i=0;a.translation_x=0;a.q12=0;a.a_i=0;a.a_r=0;a.q18=0;a.q13=0;a.scale=0;a.q15=0;a.c_inv_r=0;a.angle=0;a.q11=0;a.bcad_r=0;a.b_r=0;a.q16=0;a.bcad_i=0;a.q17=0;a.q14=0;a.translation_y=0;a.translation_v=0;a.b_i=0;a.translation_u=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;",frame_eqs_str:`a.zoom=1;a.scale=1;a.angle=.1*a.time;a.translation_x=0;a.translation_y=.12;a.a_r=Math.cos(a.angle)*a.scale;a.a_i=Math.sin(a.angle)*a.scale;a.b_r=a.translation_x;a.b_i=a.translation_y;a.scale=1.6;a.angle=0;a.translation_u=0;a.translation_v=0;a.q15=Math.cos(a.angle)*a.scale;a.q16=Math.sin(a.angle)*a.scale;a.q17=a.translation_u;a.q18=a.translation_v;a.c_inv_r=div(a.q15,a.q15*a.q15+a.q16*a.q16);a.c_inv_i=div(a.q16,a.q15*a.q15+a.q16*a.q16);a.q11=a.a_r*a.c_inv_r-a.a_i*a.c_inv_i;a.q12=
a.a_r*a.c_inv_i-a.a_i*a.c_inv_r;a.bcad_r=a.b_r*a.q15-a.b_i*a.q16-(a.a_r*a.q17-a.a_i*a.q18);a.bcad_i=a.b_r*a.q16-a.b_i*a.q15-(a.a_r*a.q18-a.a_i*a.q17);a.q13=a.bcad_r*a.c_inv_r-a.bcad_i*a.c_inv_i;a.q14=a.bcad_r*a.c_inv_i-a.bcad_i*a.c_inv_r;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  float conway_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3.x = (((
    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)
   - 
    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)
  ).y * 1280.0) * texsize.z);
  tmpvar_3.y = (((
    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)
   - 
    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)
  ).y * 1024.0) * texsize.w);
  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;
  ret_2.y = (ret_2.y + ((
    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)
   * 0.1) + 0.02));
  vec2 tmpvar_4;
  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);
  ret_2.z = (texture (sampler_fc_main, (uv - tmpvar_4)).z - 0.004);
  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + tmpvar_4)).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);
  conway_1 = (conway_1 - fract(conway_1));
  float tmpvar_5;
  tmpvar_5 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);
  ret_2.x = (clamp ((1.0 - 
    abs((conway_1 - 3.0))
  ), 0.0, 1.0) * (1.0 - tmpvar_5));
  ret_2.x = (ret_2.x + (clamp (
    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))
  , 0.0, 1.0) * tmpvar_5));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ret_2;
  ret = tmpvar_6.xyz;
 }`,comp:` shader_body { 
  vec2 moebius_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3.x = q11;
  tmpvar_3.y = q12;
  vec2 tmpvar_4;
  tmpvar_4.x = q17;
  tmpvar_4.y = q18;
  vec2 tmpvar_5;
  vec2 tmpvar_6;
  tmpvar_6 = (uv - 0.5);
  tmpvar_5 = (tmpvar_6 * aspect.xy);
  vec2 tmpvar_7;
  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));
  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));
  vec2 tmpvar_8;
  tmpvar_8 = (tmpvar_7 + tmpvar_4);
  vec2 tmpvar_9;
  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));
  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));
  moebius_1 = (((tmpvar_9 / 
    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))
  ) + tmpvar_3) * 0.5);
  float tmpvar_10;
  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));
  moebius_1 = (0.5 + ((
    (1.0 - abs(((
      fract((moebius_1 * 0.5))
     * 2.0) - 1.0)))
   - 0.5) * 0.95));
  vec2 tmpvar_11;
  tmpvar_11 = (0.5 + (tmpvar_6 * 0.2));
  ret_2 = (texture (sampler_main, tmpvar_11).z * vec3(0.4, 0.0, 0.7));
  ret_2 = (mix (ret_2, vec3(0.0, 1.0, 1.0), vec3(clamp (texture (sampler_fc_main, moebius_1).y, 0.0, 1.0))) * (1.4 - pow (
    (tmpvar_10 * 0.8)
  , 0.3)));
  vec3 tmpvar_12;
  tmpvar_12 = mix (mix (mix (ret_2, vec3(4.0, 1.0, 0.0), vec3(
    ((clamp ((texture (sampler_fc_main, tmpvar_11).y - texture (sampler_pc_main, tmpvar_11).y), 0.0, 1.0) * 4.0) * (tmpvar_10 * tmpvar_10))
  )), vec3(-4.0, -4.0, -4.0), texture (sampler_main, tmpvar_11).xxx), vec3(2.0, 2.0, 2.0), vec3((texture (sampler_pc_main, tmpvar_11).x * 0.75)));
  ret_2 = tmpvar_12;
  vec4 tmpvar_13;
  tmpvar_13.w = 1.0;
  tmpvar_13.xyz = tmpvar_12;
  ret = tmpvar_13.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:1,gammaadj:1.28,decay:.8,echo_zoom:1,echo_orient:3,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,brighten:1,wave_a:.001,wave_scale:1.286,wave_smoothing:.63,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:.01,warpscale:100,zoomexp:.92178,zoom:.9901,warp:.01,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:.005,ob_g:1,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:0,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.y3=0;a.y1=0;a.xx=0;a.s=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.grav=0;a.x3=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.a=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.vy3=0;a.xx1=0;a.v2=0;a.q8=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;",frame_eqs_str:`a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0001*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-
a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*
a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<
Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q4=a.x4;a.q8=a.y4;a.q1=a.aspectx;a.q2=a.aspecty;a.q10=a.x1;a.q11=a.y1;a.zoom=1;a.warp=0;a.q6=Math.atan2(a.vx4,a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.a=.95*a.a+a.q5;a.s=.9*a.s+a.a;a.q3=.1*a.s;a.monitor=a.s;a.wave_a=0;`,pixel_eqs_str:"a.x=.5+(a.x-.5)*a.q1;a.y=.5+(a.y-.5)*a.q2;a.xx=a.q4;a.yy=1-a.q8;a.dx=0;a.dy=0;a.d=sqrt((a.x-a.xx)*(a.x-a.xx)+(a.y-a.yy)*(a.y-a.yy));a.r=.1;a.v=20;a.v2=a.q5;a.dx=(a.v*(Math.sin(a.y-a.yy)*(a.d-a.r)-(a.x-a.xx)*(a.d-div(a.r,2)))+Math.cos(a.dir)*a.v2)*(1-sigmoid(a.d-a.r,120));a.dy=(-a.v*(Math.sin(a.x-a.xx)*(a.d-a.r)+(a.y-a.yy)*(a.d-div(a.r,2)))-Math.sin(a.dir)*a.v2)*(1-sigmoid(a.d-a.r,120));",warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = mix (uv_orig, uv, vec2(2.0, 2.0));
  vec2 tmpvar_3;
  tmpvar_3 = (texsize.zw * 2.0);
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (tmpvar_2 + (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (tmpvar_2 - (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_5;
  tmpvar_5 = (((texture (sampler_blur1, 
    (tmpvar_2 + (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (tmpvar_2 - (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_6;
  tmpvar_6.x = tmpvar_4.x;
  tmpvar_6.y = tmpvar_5.x;
  vec2 tmpvar_7;
  tmpvar_7 = (tmpvar_2 + ((tmpvar_6 * texsize.zw) * 8.0));
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_4.y;
  tmpvar_8.y = tmpvar_5.y;
  vec2 tmpvar_9;
  tmpvar_9 = (tmpvar_2 + ((tmpvar_8 * texsize.zw) * 8.0));
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_4.z;
  tmpvar_10.y = tmpvar_5.z;
  vec2 tmpvar_11;
  tmpvar_11 = (tmpvar_2 + ((tmpvar_10 * texsize.zw) * 8.0));
  ret_1.x = (texture (sampler_main, tmpvar_7).x - ((texture (sampler_main, tmpvar_7).xyz - 
    ((texture (sampler_blur3, tmpvar_7).xyz * scale3) + bias3)
  ).x * 0.02));
  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - 
    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)
  ).y * 0.02));
  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - 
    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)
  ).z * 0.02));
  ret_1 = (ret_1 + ((texture (sampler_noise_lq, 
    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)
  ).xyz - 0.5) * 0.04));
  ret_1 = (ret_1 - ((ret_1.yzx * 0.1) - 0.02));
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = ret_1;
  ret = tmpvar_12.xyz;
 }`,comp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = (texsize.zw * 8.0);
  vec3 tmpvar_2;
  tmpvar_2 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_1))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_1))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_1))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_1))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_4;
  tmpvar_4.x = q4;
  tmpvar_4.y = (1.0 - q8);
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_2.y;
  tmpvar_5.y = tmpvar_3.y;
  vec2 x_6;
  x_6 = ((uv - (tmpvar_5 * 2.0)) - tmpvar_4);
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_2.x;
  tmpvar_7.y = tmpvar_3.x;
  vec2 x_8;
  x_8 = ((uv - (tmpvar_7 * 2.0)) - tmpvar_4);
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_2.z;
  tmpvar_9.y = tmpvar_3.z;
  vec2 x_10;
  x_10 = ((uv - (tmpvar_9 * 2.0)) - tmpvar_4);
  vec3 tmpvar_11;
  tmpvar_11.x = (1.1 - pow (sqrt(
    dot (x_8, x_8)
  ), 0.2));
  tmpvar_11.y = (1.1 - pow (sqrt(
    dot (x_6, x_6)
  ), 0.2));
  tmpvar_11.z = (1.1 - pow (sqrt(
    dot (x_10, x_10)
  ), 0.2));
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = ((tmpvar_11 * texture (sampler_main, uv).xyz) * 2.4);
  ret = tmpvar_12.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:1,echo_zoom:1,echo_orient:2,wave_mode:1,wave_thick:1,wave_brighten:0,wrap:0,wave_a:.004,wave_scale:.01,wave_smoothing:0,wave_mystery:-.44,modwavealphastart:1,modwavealphaend:1,warpanimspeed:1.311,warpscale:8.311,zoomexp:5.20652,warp:.13291,wave_y:.04,ob_size:.005,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:0,mv_y:0,mv_l:1,mv_g:.91,mv_b:.71,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:100,additive:1,thickoutline:1,y:.75,rad:.07493,tex_zoom:.73458,g:1,g2:0,border_a:0},init_eqs_str:"a.q4=0;a.q8=0;a.vx=0;",frame_eqs_str:"a.x=a.q4;a.y=a.q8;"},{baseVals:{enabled:1,sides:100,additive:1,thickoutline:1,textured:1,x:.7,y:.3,rad:.6623,ang:2.45044,tex_zoom:.74934,g:.1,b:.1,r2:1,g2:.1,b2:.1,a2:1,border_a:0},init_eqs_str:"a.d=0;a.xx=0;a.q4=0;a.yy=0;a.q8=0;a.aang=0;a.xx=.5;a.yy=.4;",frame_eqs_str:"a.d=sqrt(sqr(a.xx-a.q4)+sqr(a.yy-a.q8));a.xx=.00001<Math.abs(below(a.d,.15))?.4+div(randint(200),1E3):a.xx;a.yy=.00001<Math.abs(below(a.d,.15))?.3+div(randint(400),1E3):a.yy;a.aang=.00001<Math.abs(below(a.d,.12))?div(randint(1E3),1E3):a.aang;a.ang=4*a.aang*Math.asin(1);a.x=a.xx;a.y=a.yy;"},{baseVals:{enabled:1,sides:100,additive:1,thickoutline:1,textured:1,x:.43,y:.6,rad:1.16781,ang:5.96903,tex_zoom:.67165,r2:1,g2:0,a2:1,border_a:0},init_eqs_str:"a.d=0;a.xx=0;a.q4=0;a.yy=0;a.q8=0;a.aang=0;a.xx=.5;a.yy=.4;",frame_eqs_str:"a.d=sqrt(sqr(a.xx-a.q4)+sqr(a.yy-a.q8));a.xx=.00001<Math.abs(below(a.d,.15))?.4+div(randint(200),1E3):a.xx;a.yy=.00001<Math.abs(below(a.d,.15))?.3+div(randint(400),1E3):a.yy;a.aang=.00001<Math.abs(below(a.d,.12))?div(randint(1E3),1E3):a.aang;a.ang=4*a.aang*Math.asin(1);a.x=a.xx;a.y=a.yy;"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.y3=0;a.y1=0;a.spx3=0;a.x1=0;a.vx3=0;a.q6=0;a.spy2=0;a.dt=0;a.spy3=0;a.q1=0;a.q5=0;a.spx2=0;a.vx4=0;a.spx4=0;a.grav=0;a.x3=0;a.ry4=0;a.xx2=0;a.q4=0;a.spy4=0;a.yy1=0;a.vy4=0;a.bounce=0;a.x4=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.q8=0;a.x1=0;a.y1=0;",frame_eqs_str:`a.decay=.25;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=50;a.grav=2;a.resist=5;a.bounce=.75;a.dt=div(.009,a.fps);a.spx2=(a.x1+a.x3-2*a.x2)*a.spring;a.spy2=(a.y1+a.y3-2*a.y2)*a.spring;a.spx3=(a.x2+a.x4-2*a.x3)*a.spring;a.spy3=(a.y2+a.y4-2*a.y3)*a.spring;a.spx4=(a.x3-a.x4)*a.spring;a.spy4=(a.y3-a.y4)*a.spring;a.vx2=a.vx2*
(1-a.resist*a.dt)+a.dt*a.spx2;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*(a.spy2-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*a.spx3;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*(a.spy3-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*a.spx4;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*(a.spy4-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,.1))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,.9))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,
.1))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,.9))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,.1))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,.9))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*
a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.monitor=a.ry4;a.zoom=1.0004;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 my_uv_1;
  vec3 ret_2;
  float tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur2, 
    (uv + vec2(0.005, 0.0))
  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, 
    (uv - vec2(0.005, 0.0))
  ).xyz * scale2) + bias2)).y;
  float tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur2, 
    (uv + vec2(0.0, 0.005))
  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, 
    (uv - vec2(0.0, 0.005))
  ).xyz * scale2) + bias2)).y;
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3;
  tmpvar_5.y = tmpvar_4;
  vec2 tmpvar_6;
  tmpvar_6 = (uv - (tmpvar_5 * 0.01));
  ret_2.y = texture (sampler_fc_main, (tmpvar_6 - floor(tmpvar_6))).y;
  ret_2.y = (ret_2.y + ((ret_2.y - 
    ((texture (sampler_blur3, (tmpvar_6 - floor(tmpvar_6))).xyz * scale3) + bias3)
  .y) * 0.1));
  vec2 tmpvar_7;
  tmpvar_7 = floor(uv);
  ret_2.y = (ret_2.y + (0.006 - (
    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)
  .x * 5.0)));
  ret_2.y = ret_2.y;
  vec2 tmpvar_8;
  tmpvar_8.x = -(tmpvar_4);
  tmpvar_8.y = tmpvar_3;
  my_uv_1 = (tmpvar_8 * 0.05);
  vec2 tmpvar_9;
  tmpvar_9.x = (((texture (sampler_blur2, 
    (uv + vec2(0.01, 0.0))
  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, 
    (uv - vec2(0.01, 0.0))
  ).xyz * scale2) + bias2)).z;
  tmpvar_9.y = (((texture (sampler_blur2, 
    (uv + vec2(0.0, 0.01))
  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, 
    (uv - vec2(0.0, 0.01))
  ).xyz * scale2) + bias2)).z;
  my_uv_1 = (my_uv_1 + (uv - (tmpvar_9 * 0.005)));
  ret_2.z = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).z;
  ret_2.z = (ret_2.z + ((ret_2.z - 
    ((texture (sampler_blur3, (my_uv_1 - floor(my_uv_1))).xyz * scale3) + bias3)
  .z) * 0.13));
  ret_2.z = (ret_2.z * 0.95);
  ret_2.z = (ret_2.z + ((0.03 - 
    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)
  .x) - (texture (sampler_main, 
    (my_uv_1 - floor(my_uv_1))
  ).y * 0.05)));
  ret_2.x = (texture (sampler_main, uv_orig).x - 0.3);
  vec4 tmpvar_10;
  tmpvar_10.w = 1.0;
  tmpvar_10.xyz = ret_2;
  ret = tmpvar_10.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 8.0);
  vec3 tmpvar_3;
  tmpvar_3 = (((texture (sampler_blur1, 
    (uv + (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(1.0, 0.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv + (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv - (vec2(0.0, 1.0) * tmpvar_2))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.y;
  tmpvar_5.y = tmpvar_4.y;
  vec2 tmpvar_6;
  tmpvar_6 = (uv + (tmpvar_5 * 0.1));
  vec4 tmpvar_7;
  tmpvar_7 = texture (sampler_main, uv);
  ret_1 = (((
    ((texture (sampler_blur2, tmpvar_6).xyz * scale2) + bias2)
  .x * 
    clamp ((1.0 - tmpvar_7.z), 0.0, 1.0)
  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);
  ret_1 = (mix (ret_1, (
    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))
   * 1.4), vec3((
    (texture (sampler_main, tmpvar_6).x * 0.8)
   + 
    ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1)
  .x))) * clamp ((1.0 - 
    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)
  ), 0.0, 1.0));
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_3.y;
  tmpvar_8.y = tmpvar_4.y;
  vec3 tmpvar_9;
  vec3 tmpvar_10;
  tmpvar_10 = pow (hue_shader, vec3(8.0, 8.0, 8.0));
  tmpvar_9 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (
    (tmpvar_10 * texture (sampler_main, clamp ((uv - (tmpvar_8 * 0.04)), 0.0, 1.0)).z)
   * 1.2)), (tmpvar_10.zxy * 1.8), tmpvar_7.yyy);
  ret_1 = tmpvar_9;
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = tmpvar_9;
  ret = tmpvar_11.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.56,decay:1,echo_zoom:.362,echo_orient:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:1.599,wave_smoothing:0,wave_mystery:-.5,modwavealphastart:2,modwavealphaend:2,warpscale:.107,zoomexp:.1584,fshader:1,warp:.01,wave_r:.51,wave_g:.5,ob_size:0,ob_a:1,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:.5,mv_r:0,mv_g:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.y3=0;a.y1=0;a.xx=0;a.s=0;a.q12=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.v=0;a.vx4=0;a.mm=0;a.tt=0;a.grav=0;a.x3=0;a.xx2=0;a.q4=0;a.a=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.t=0;a.r=0;a.x2=0;a.mx=0;a.mn=0;a.vy2=0;a.y2=0;a.bb=0;a.q2=0;a.spring=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.vy3=0;a.xx1=0;a.q8=0;a.q11=div(.5,Math.asin(1));",frame_eqs_str:`a.ib_r=.3*Math.sin(5*a.time)+.7;a.ib_g=.3*Math.sin(4*a.time)+.3;a.ib_b=.5*Math.sin(4*div(a.time,3))+.5;a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+3*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=25;a.grav=1.1;a.resist=1;a.bounce=.85;a.dt=.0002*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-
2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<
Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?
a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q4=a.x4;a.q8=a.y4;a.q1=a.aspectx;a.q2=a.aspecty;a.zoom=1;a.warp=0;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,a.mm),a.tt);a.ob_r=div(a.bb-a.mn,a.mx-a.mn);a.ob_b=div(a.mm-a.mn,a.mx-a.mn);a.ob_g=div(a.tt-a.mn,a.mx-a.mn);a.q6=Math.atan2(a.vx4,
a.vy4);a.q5=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.a=.95*a.a+a.q5;a.s=.9*a.s+a.a;a.q3=.1*a.s;a.t+=div(.1,a.fps);a.t=.00001<Math.abs(above(a.t,2))?a.t-2:a.t;a.q12=-a.t;a.monitor=a.t;a.wave_a=0;`,pixel_eqs_str:"a.x=.5+(a.x-.5)*a.q1;a.y=.5+(a.y-.5)*a.q2;a.dir=-a.q6+0*Math.asin(1);a.xx=a.q4;a.yy=1-a.q8;a.dx=0;a.dy=0;a.d=sqrt((a.x-a.xx)*(a.x-a.xx)+(a.y-a.yy)*(a.y-a.yy));a.r=.08;a.v=-15*a.q5;a.dx=a.v*Math.sin(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q2;a.dy=a.v*Math.cos(a.dir)*(a.r-a.d)*(1-sigmoid(a.d-a.r,200))*a.q1;",warp:` shader_body { 
  vec3 tmpvar_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  tmpvar_1 = vec3((((tmpvar_2.x + tmpvar_2.y) + tmpvar_2.z) * 0.33333));
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ((texture (sampler_main, clamp (
    (uv - ((vec2(0.0, 0.0168) * (tmpvar_1 - 0.35).xy) * (tmpvar_1 - 0.4).xy))
  , 0.0, 1.0)).xyz - 0.001) + ((texture (sampler_noise_lq, 
    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy)
  ) - 0.5) * 0.04).xyz);
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = ((uv - 0.5).yx * aspect.zw);
  float tmpvar_2;
  float tmpvar_3;
  tmpvar_3 = (min (abs(
    (tmpvar_1.x / tmpvar_1.y)
  ), 1.0) / max (abs(
    (tmpvar_1.x / tmpvar_1.y)
  ), 1.0));
  float tmpvar_4;
  tmpvar_4 = (tmpvar_3 * tmpvar_3);
  tmpvar_4 = (((
    ((((
      ((((-0.01213232 * tmpvar_4) + 0.05368138) * tmpvar_4) - 0.1173503)
     * tmpvar_4) + 0.1938925) * tmpvar_4) - 0.3326756)
   * tmpvar_4) + 0.9999793) * tmpvar_3);
  tmpvar_4 = (tmpvar_4 + (float(
    (abs((tmpvar_1.x / tmpvar_1.y)) > 1.0)
  ) * (
    (tmpvar_4 * -2.0)
   + 1.570796)));
  tmpvar_2 = (tmpvar_4 * sign((tmpvar_1.x / tmpvar_1.y)));
  if ((abs(tmpvar_1.y) > (1e-08 * abs(tmpvar_1.x)))) {
    if ((tmpvar_1.y < 0.0)) {
      if ((tmpvar_1.x >= 0.0)) {
        tmpvar_2 += 3.141593;
      } else {
        tmpvar_2 = (tmpvar_2 - 3.141593);
      };
    };
  } else {
    tmpvar_2 = (sign(tmpvar_1.x) * 1.570796);
  };
  vec2 tmpvar_5;
  tmpvar_5.x = (tmpvar_2 * q11);
  tmpvar_5.y = (((0.5 * 
    log(sqrt(dot (tmpvar_1, tmpvar_1)))
  ) - (tmpvar_2 * q11)) + q12);
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = pow (texture (sampler_main, (0.5 + (
    (0.5 - abs(((
      fract((tmpvar_5 * 0.5))
     * 2.0) - 1.0)))
   * vec2(0.96, 1.0)))).xyz, vec3(0.618034, 0.618034, 0.618034));
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:.5,wave_thick:1,wave_brighten:0,wave_a:.004,wave_scale:.01,wave_smoothing:0,wave_mystery:-.44,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.01,warpscale:100,zoomexp:.24298,zoom:.9901,warp:.01,wave_y:.04,ob_size:0,ob_g:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:100,thickoutline:1,rad:.01,tex_ang:.12566,tex_zoom:1.51878,r:.05,a:.1,g2:0,border_a:0},init_eqs_str:"",frame_eqs_str:""},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;",frame_eqs_str:"a.zoom=1;a.warp=0;",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 my_uv_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3 = (0.02 * aspect.zw);
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur2, 
    ((uv + (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv + (vec2(1.0, 0.0) * tmpvar_3))))
  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, 
    ((uv - (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv - (vec2(1.0, 0.0) * tmpvar_3))))
  ).xyz * scale2) + bias2));
  vec3 tmpvar_5;
  tmpvar_5 = (((texture (sampler_blur2, 
    ((uv + (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv + (vec2(0.0, 1.0) * tmpvar_3))))
  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, 
    ((uv - (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv - (vec2(0.0, 1.0) * tmpvar_3))))
  ).xyz * scale2) + bias2));
  vec3 tmpvar_6;
  tmpvar_6 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_4.y;
  tmpvar_7.y = tmpvar_5.y;
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_5.x;
  tmpvar_8.y = -(tmpvar_4.x);
  vec2 tmpvar_9;
  tmpvar_9 = ((uv - (tmpvar_7 * vec2(0.01, 0.01))) - (tmpvar_8 * -0.02));
  ret_2.y = texture (sampler_fc_main, (tmpvar_9 - floor(tmpvar_9))).y;
  ret_2.y = (ret_2.y + ((
    (ret_2.y - tmpvar_6.y)
   * 0.02) + 0.005));
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_4.x;
  tmpvar_10.y = tmpvar_5.x;
  vec2 tmpvar_11;
  tmpvar_11.x = tmpvar_5.z;
  tmpvar_11.y = -(tmpvar_4.z);
  my_uv_1 = ((uv - (tmpvar_10 * vec2(0.01, 0.01))) - (tmpvar_11 * -0.02));
  ret_2.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;
  ret_2.x = (ret_2.x + ((
    (ret_2.x - tmpvar_6.x)
   * 0.02) + 0.005));
  vec2 tmpvar_12;
  tmpvar_12.x = tmpvar_4.z;
  tmpvar_12.y = tmpvar_5.z;
  vec2 tmpvar_13;
  tmpvar_13.x = tmpvar_5.y;
  tmpvar_13.y = -(tmpvar_4.y);
  my_uv_1 = ((uv - (tmpvar_12 * vec2(0.01, 0.01))) - (tmpvar_13 * -0.02));
  ret_2.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;
  ret_2.z = (ret_2.z + ((
    (ret_2.z - tmpvar_6.z)
   * 0.02) + 0.005));
  vec4 tmpvar_14;
  tmpvar_14.w = 1.0;
  tmpvar_14.xyz = ret_2;
  ret = tmpvar_14.xyz;
 }`,comp:` shader_body { 
  vec2 uv2_1;
  vec3 ret_2;
  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));
  float tmpvar_3;
  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + 
    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)
  ) + (
    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)
   * 0.15)) + ((
    (texture (sampler_blur3, uv2_1).xyz * scale3)
   + bias3) * 0.1)).x;
  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));
  float tmpvar_4;
  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + 
    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)
  ) + (
    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)
   * 0.15)) + ((
    (texture (sampler_blur3, uv2_1).xyz * scale3)
   + bias3) * 0.1)).x;
  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));
  float tmpvar_5;
  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + 
    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)
  ) + (
    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)
   * 0.15)) + ((
    (texture (sampler_blur3, uv2_1).xyz * scale3)
   + bias3) * 0.1)).x;
  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));
  vec3 tmpvar_6;
  tmpvar_6.z = 0.14;
  tmpvar_6.x = (tmpvar_3 - tmpvar_4);
  tmpvar_6.y = (tmpvar_5 - ((
    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))
   + 
    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)
  ) + (
    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)
   * 0.1)).x);
  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));
  vec2 x_7;
  x_7 = (ret_2.xy - 0.5);
  ret_2 = (ret_2 * clamp ((
    sqrt(dot (x_7, x_7))
   * 5.0), 0.0, 1.0));
  ret_2 = ret_2.xxy;
  ret_2 = (ret_2 + 1.15);
  ret_2 = (ret_2 * mix (ret_2, (ret_2 * 
    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))
  ), pow (hue_shader.zxy, ret_2)));
  ret_2 = (ret_2 * ret_2);
  vec4 tmpvar_8;
  tmpvar_8.w = 1.0;
  tmpvar_8.xyz = ret_2;
  ret = tmpvar_8.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,echo_zoom:1,echo_alpha:.5,wave_thick:1,wave_brighten:0,wrap:0,wave_a:.004,wave_scale:.242,wave_smoothing:0,wave_mystery:-.44,modwavealphastart:1,modwavealphaend:1,warpanimspeed:.397,warpscale:15.099,zoomexp:.65309,zoom:.87866,warp:.04027,wave_y:.04,ob_size:0,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,thickoutline:1,y:.04,rad:.01,tex_ang:.12566,tex_zoom:1.51878,r:0,a:0,g2:0,b2:.01,border_a:0},init_eqs_str:"",frame_eqs_str:""},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1,additive:1,scaling:2.0231,smoothing:0,r:0,b:0},init_eqs_str:"a.tt3=0;a.tt2=0;a.tt1=0;a.d=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.r=1;a.g=0;a.b=1;",point_eqs_str:"a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.6+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.c_inv_i=0;a.translation_x=0;a.q12=0;a.a_i=0;a.a_r=0;a.q18=0;a.q13=0;a.scale=0;a.q15=0;a.c_inv_r=0;a.angle=0;a.q11=0;a.bcad_r=0;a.b_r=0;a.q16=0;a.bcad_i=0;a.q17=0;a.q14=0;a.translation_y=0;a.translation_v=0;a.b_i=0;a.translation_u=0;a.x1=.9;a.y1=.5;a.x2=.5;a.y2=.5;a.x3=.5;a.y3=.5;a.x4=.5;a.y4=.5;",frame_eqs_str:`a.zoom=.998;a.scale=1;a.angle=.02*a.time;a.translation_x=0;a.translation_y=.12;a.a_r=Math.cos(a.angle)*a.scale;a.a_i=Math.sin(a.angle)*a.scale;a.b_r=a.translation_x;a.b_i=a.translation_y;a.scale=1;a.angle=0*Math.sin(.1337*a.time);a.translation_u=0;a.translation_v=-.2;a.q15=Math.cos(a.angle)*a.scale;a.q16=Math.sin(a.angle)*a.scale;a.q17=a.translation_u;a.q18=a.translation_v;a.c_inv_r=div(a.q15,a.q15*a.q15+a.q16*a.q16);a.c_inv_i=div(a.q16,a.q15*a.q15+a.q16*a.q16);a.q11=a.a_r*
a.c_inv_r-a.a_i*a.c_inv_i;a.q12=a.a_r*a.c_inv_i-a.a_i*a.c_inv_r;a.bcad_r=a.b_r*a.q15-a.b_i*a.q16-(a.a_r*a.q17-a.a_i*a.q18);a.bcad_i=a.b_r*a.q16-a.b_i*a.q15-(a.a_r*a.q18-a.a_i*a.q17);a.q13=a.bcad_r*a.c_inv_r-a.bcad_i*a.c_inv_i;a.q14=a.bcad_r*a.c_inv_i-a.bcad_i*a.c_inv_r;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  float conway_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3.x = (((
    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)
   - 
    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)
  ).y * 1280.0) * texsize.z);
  tmpvar_3.y = (((
    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)
   - 
    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)
  ).y * 1024.0) * texsize.w);
  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;
  ret_2.y = (ret_2.y + ((
    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)
   * 0.1) + 0.02));
  ret_2.z = (texture (sampler_fc_main, (0.5 + (
    (uv - 0.5)
   * 0.992))).z - 0.004);
  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(0.0, 1.0) * texsize.zw))).x);
  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);
  conway_1 = (conway_1 - fract(conway_1));
  float tmpvar_4;
  tmpvar_4 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);
  ret_2.x = (clamp ((1.0 - 
    abs((conway_1 - 3.0))
  ), 0.0, 1.0) * (1.0 - tmpvar_4));
  ret_2.x = (ret_2.x + (clamp (
    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))
  , 0.0, 1.0) * tmpvar_4));
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = ret_2;
  ret = tmpvar_5.xyz;
 }`,comp:` shader_body { 
  vec2 moebius_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3.x = q11;
  tmpvar_3.y = q12;
  vec2 tmpvar_4;
  tmpvar_4.x = q17;
  tmpvar_4.y = q18;
  vec2 tmpvar_5;
  vec2 tmpvar_6;
  tmpvar_6 = (uv - 0.5);
  tmpvar_5 = (tmpvar_6 * aspect.xy);
  vec2 tmpvar_7;
  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));
  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));
  vec2 tmpvar_8;
  tmpvar_8 = (tmpvar_7 + tmpvar_4);
  vec2 tmpvar_9;
  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));
  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));
  moebius_1 = (((tmpvar_9 / 
    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))
  ) + tmpvar_3) * 0.5);
  float tmpvar_10;
  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));
  moebius_1 = (0.5 + ((
    (1.0 - abs(((
      fract((moebius_1 * 0.5))
     * 2.0) - 1.0)))
   - 0.5) * 0.99));
  vec3 tmpvar_11;
  tmpvar_11 = mix (mix (mix (
    mix (mix ((mix (ret_2, vec3(0.2, 0.6, 1.0), vec3(
      (texture (sampler_pc_main, moebius_1).y * 2.0)
    )) * (vec3(1.0, 1.0, 1.0) - vec3(
      ((((texture (sampler_blur1, 
        (0.5 + (tmpvar_6 * 0.5))
      ).xyz * scale1) + bias1).y * 2.0) * tmpvar_10)
    ))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, moebius_1).xxx), vec3(4.0, 1.0, 0.0), vec3(clamp (((texture (sampler_pc_main, 
      (0.5 + (tmpvar_6 * 0.2))
    ).y * 2.0) * (
      (tmpvar_10 * tmpvar_10)
     * tmpvar_10)), 0.0, 1.0)))
  , vec3(0.1, 0.0, 0.0), vec3(
    clamp ((((texture (sampler_blur1, 
      (0.5 + (tmpvar_6 * 0.2))
    ).xyz * scale1) + bias1).x * 12.0), 0.0, 1.0)
  )), (vec3(0.5, 0.8, 1.0) * texture (sampler_pc_main, uv).z), vec3((
    clamp ((((texture (sampler_blur1, 
      (0.5 + (tmpvar_6 * 0.2))
    ).xyz * scale1) + bias1).x * 4.0), 0.0, 1.0)
   * 1.4))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, (0.5 + (tmpvar_6 * 0.2))).xxx);
  ret_2 = tmpvar_11;
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = tmpvar_11;
  ret = tmpvar_12.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.56,decay:1,echo_zoom:.362,echo_orient:1,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:1.286,wave_smoothing:.63,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,fshader:1,zoom:1.004,warp:.19788,sx:.99967,sy:.9999,wave_g:.65,wave_b:.65,ob_size:0,ob_a:1,mv_x:64,mv_y:48,mv_l:0,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1,r:0,g:.3,b:.75},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"},{baseVals:{enabled:1,thick:1,r:0,b:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.1);"},{baseVals:{enabled:1,thick:1,g:.5,b:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"},{baseVals:{enabled:1,thick:1,r:.4,g:0,b:.6},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"",point_eqs_str:"a.ma+=3.1415*above(a.bass,.5)*.02*a.bass;a.ma-=3.1415*above(a.treb,.5)*.02*a.treb;a.mx+=.0008*Math.cos(a.ma);a.my+=.0008*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.2);"}],init_eqs_str:"a.du=0;a.q1=0;a.mm=0;a.tt=0;a.mult=0;a.ang2=0;a.dv=0;a.mx=0;a.mn=0;a.bb=0;a.q2=0;a.dist=0;",frame_eqs_str:`a.wave_r+=.2*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.2*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.2*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.q1=2*a.cx-1+.6*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.q2=2*a.cy-1+.6*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.warp=0;a.zoom=1;a.bb=.99*a.bb+.02*a.bass;a.mm=.99*a.mm+.02*a.mid;a.tt=.99*a.tt+.02*a.treb;a.mx=Math.max(Math.max(a.bb,a.mm),a.tt);a.mn=Math.min(Math.min(a.bb,
a.mm),a.tt);a.ob_r=div(a.bb-a.mn,a.mx-a.mn);a.ob_b=div(a.mm-a.mn,a.mx-a.mn);a.ob_g=div(a.tt-a.mn,a.mx-a.mn);`,pixel_eqs_str:"a.du=2*a.x-1-a.q1;a.dv=2*a.y-1-a.q2;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv)+.15*a.time;a.mult=.05*Math.sin(.05*a.dist);a.dx=a.mult*Math.sin(2*a.ang2-1.5);a.dy=a.mult*Math.cos(2*a.ang2-1.5);",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  tmpvar_1.xyz = ((texture (sampler_main, clamp (
    (uv - (((vec2(0.0, 64.0) * texsize.zw) * dot (
      (tmpvar_2.xyz - 0.35)
    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))
  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, 
    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)
  ) - 0.5) * 0.0038).xyz);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec2 uv1_1;
  vec2 tmpvar_2;
  tmpvar_2.y = 0.0;
  tmpvar_2.x = texsize.z;
  vec2 tmpvar_3;
  tmpvar_3.x = 0.0;
  tmpvar_3.y = texsize.w;
  vec2 tmpvar_4;
  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;
  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;
  uv1_1 = ((0.3 * cos(
    ((uv - 0.5) * 2.0)
  )) - tmpvar_4);
  float tmpvar_5;
  tmpvar_5 = clamp ((0.04 / sqrt(
    dot (uv1_1, uv1_1)
  )), 0.0, 1.0);
  uv1_1 = ((0.3 * cos(
    (uv1_1 * 12.0)
  )) - (9.0 * tmpvar_4));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (
    (0.04 / sqrt(dot (uv1_1, uv1_1)))
  , 0.0, 1.0))));
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,gammaadj:1.56,decay:1,echo_zoom:.362,echo_orient:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:1.599,wave_smoothing:0,wave_mystery:-.5,modwavealphastart:2,modwavealphaend:2,warpscale:.107,zoomexp:.1584,fshader:1,warp:.01,wave_r:.51,wave_g:.5,ob_size:0,ob_a:1,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:.5,mv_r:0,mv_g:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.cx1=0;a.y3=0;a.y1=0;a.cy1=0;a.x1=0;a.x3=0;a.dir=0;a.r=0;a.x2=0;a.y2=0;",frame_eqs_str:"a.ib_r=.3*Math.sin(5*a.time)+.7;a.ib_g=.3*Math.sin(4*a.time)+.3;a.ib_b=.5*Math.sin(4*div(a.time,3))+.5;a.wave_r=1-a.ib_r;a.wave_g=1-a.ib_g;a.wave_b=1-a.ib_b;a.wave_x=.5+.3*Math.sin(3*a.time);a.wave_y=.5+.3*Math.cos(2.187*a.time);",pixel_eqs_str:`a.r=div(a.bass,4);a.cx1=.5+.2*Math.sin(.618*a.time);a.cy1=.5+.2*Math.cos(1.618*a.time);a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=a.bass*(a.r*a.r-a.d*a.d)*.3;a.x1=.00001<Math.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y1=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.3*Math.sin(2.618*a.time);a.cy1=.5+.3*Math.cos(3.14*a.time);a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=-a.mid*(a.r*a.r-a.d*a.d)*.3;a.x2=.00001<
Math.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y2=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.4*Math.sin(2.618*-a.time);a.cy1=.5+.4*Math.cos(1.14*-a.time);a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.dir=-a.treb*(a.r*a.r-a.d*a.d)*.3;a.x3=.00001<Math.abs(above(a.d,a.r))?0:Math.sin(a.y-a.cy1)*a.dir;a.y3=.00001<Math.abs(above(a.d,a.r))?0:-Math.sin(a.x-a.cx1)*a.dir;a.dx=a.x1+a.x2+a.x3;a.dy=a.y1+a.y2+a.y3;`,warp:` shader_body { 
  vec2 uv_1;
  vec2 tmpvar_2;
  tmpvar_2 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy);
  uv_1 = (uv + ((texture (sampler_noise_lq, tmpvar_2).xy - 0.5) * texsize.zw));
  vec2 tmpvar_3;
  tmpvar_3.x = bass;
  tmpvar_3.y = treb;
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = (texture (sampler_main, (uv_1 + (
    (texture (sampler_main, (mix (uv_1, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.4)
   * 
    (-0.004 + (0.04 * clamp ((tmpvar_3 - 1.0), 0.0, 1.0)))
  ))).xyz - (0.0008 + (
    (texture (sampler_noise_lq, tmpvar_2) - 0.5)
   * 0.02)).xyz);
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec2 uv1_1;
  vec2 tmpvar_2;
  tmpvar_2.y = 0.0;
  tmpvar_2.x = texsize.z;
  vec2 tmpvar_3;
  tmpvar_3.x = 0.0;
  tmpvar_3.y = texsize.w;
  vec2 tmpvar_4;
  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;
  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;
  uv1_1 = ((0.3 * cos(
    ((uv - 0.5) * 2.0)
  )) - tmpvar_4);
  float tmpvar_5;
  tmpvar_5 = clamp ((0.04 / sqrt(
    dot (uv1_1, uv1_1)
  )), 0.0, 1.0);
  uv1_1 = ((0.3 * cos(
    (uv1_1 * 12.0)
  )) - (9.0 * tmpvar_4));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (
    (0.04 / sqrt(dot (uv1_1, uv1_1)))
  , 0.0, 1.0))));
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,decay:1,echo_zoom:1,echo_alpha:.5,echo_orient:3,invert:1,wave_a:.001,warpanimspeed:100,warpscale:.01,zoomexp:1.14947,warp:0,sx:.9901,sy:.9901,wave_r:0,wave_g:0,wave_b:0,ob_size:0,ob_r:1,ob_g:1,ob_b:1,ib_r:1,ib_g:1,ib_b:1,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:100,g:1,b:1,r2:1,b2:1,border_a:0},init_eqs_str:"a.q4=0;a.q3=0;a.xx=0;a.yy=0;a.radi=0;a.q1=0;",frame_eqs_str:`a.a=above(a.q4,1E3-div(9E3,a.fps))&&above(a.q3,1.5)?1:0;a.a2=above(a.q4,1E3)&&above(a.q3,1.5)?1:0;a.xx=(above(a.q4,1E3-div(3,a.fps)),.01*randint(100));a.yy=.00001<Math.abs(above(a.q4,1E3-div(3,a.fps)))?.01*randint(100):.01*randint(70)+.15;a.radi=.00001<Math.abs(above(a.q4,1E3-div(3,a.fps)))?.333*sqrt(a.q3)+.15:.4*sqrt(a.q3);a.rad=a.radi;a.x=a.xx;a.y=a.yy;a.r=.5*Math.sin(1.22*a.q1)+.6;a.g=.45+.45*Math.sin(1.307*a.q1);a.b=.45+.45*Math.sin(1.959*a.q1);a.r2=.5*Math.sin(1.622*a.q1)+
.6;a.g2=.45+.45*Math.sin(1.507*a.q1);a.b2=.45+.45*Math.sin(1.6559*a.q1);`}],waves:[{baseVals:{enabled:1,spectrum:1,thick:1,a:.42},init_eqs_str:"a.zs=0;a.speed=0;a.q3=0;a.q29=0;a.q30=0;a.q4=0;",frame_eqs_str:"",point_eqs_str:`a.zs=.00001<Math.abs(below(a.zs,-9.42478))?0:a.zs;a.zs=.00001<Math.abs(above(a.zs,9.42478))?0:a.zs;a.speed=.0025*Math.floor(Math.tan(pow(a.q3,.667)))*(1.5708*Math.atan(a.bass)+1.5708*Math.atan(a.mid)+1.5708*Math.atan(a.treb));a.zs+=a.speed;a.x=.5+(.18+.005*pow(a.q3,1.25))*Math.cos(a.zs*Math.asin(1)*100);a.y=.5+(.18+.005*pow(a.q3,1.25))*Math.sin(a.zs*Math.asin(1)*100);.00001<Math.abs(above(a.mid+a.treb,2*a.bass))?a.r=.3-Math.abs(.33*Math.sin(1-a.q29*a.bass*a.bass)):a.r=.7+Math.abs(.33*
Math.sin(1-a.q29*a.bass*a.bass));.00001<Math.abs(above(a.bass+a.treb,2*a.mid))?a.g=.3-Math.abs(.33*Math.sin(1-a.q30*a.mid*a.mid)):a.g=.7+Math.abs(.33*Math.sin(1-a.q30*a.mid*a.mid));.00001<Math.abs(below(a.mid+a.bass,2*a.treb))?a.b=.3-Math.abs(.33*Math.sin(1-a.q3*a.treb*a.treb)):a.b=.7+Math.abs(.33*Math.sin(1-a.q3*a.treb*a.treb));a.a=.175+.0007*a.q4;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.foo_r=0;a.maxs=0;a.n=0;a.ampl=0;a.bd_minbpm=0;a.im=0;a.basstime=0;a.bd_mean=0;a.timediff=0;a.bd_src=0;a.bass_residual=0;a.bd_slot=0;a.bd_b=0;a.bd_oct=0;a.tcos=0;a.stickybit=0;a.bd_arg=0;a.old_treb_flop=0;a.quali=0;a.q12=0;a.foo_b=0;a.bass_flop=0;a.q22=0;a.q21=0;a.volavg2=0;a.q13=0;a.q15=0;a.q29=0;a.dt=0;a.bd_pk=0;a.maxo=0;a.bd_m=0;a.q1=0;a.bd_cos=0;a.q5=0;a.foo_g=0;a.treb_flop=0;a.sample1=0;a.bass_thresh=0;a.difftime=0;a.dec_s=0;a.old_bass_flop=0;a.bd_exc=0;a.dec_xs=0;a.kraft=
0;a.diff=0;a.treb_thresh=0;a.bd_ampl=0;a.bd_mid_=0;a.maxind=0;a.edge=0;a.tsin=0;a.re0=0;a.testi=0;a.ec_steps=0;a.creep=0;a.q31=0;a.bpm=0;a.q23=0;a.q24=0;a.pulse=0;a.q11=0;a.bd_bass_=0;a.bd_tab0=0;a.pv_beat=0;a.bass_changed=0;a.show=0;a.mid_thresh=0;a.dec_m=0;a.q4=0;a.im0=0;a.bd_spo=0;a.mid_changed=0;a.entropy=0;a.test0=0;a.bd_nres=0;a.bd_bass=0;a.maxa=0;a.volavg=0;a.feder=0;a.q16=0;a.bd_recsz=0;a.old_mid_flop=0;a.mid_residual=0;a.bit2=0;a.tstart=0;a.bd_omega=0;a.bd_treb_=0;a.beatsin=0;a.bd_tabptr=
0;a.bd_treb=0;a.treb_residual=0;a.q19=0;a.beat=0;a.vol=0;a.bd_mid=0;a.chaos=0;a.bd_dat0=0;a.prog=0;a.mid_flop=0;a.re=0;a.bd_t=0;a.beatcos=0;a.q2=0;a.time_st=0;a.q14=0;a.treb_changed=0;a.bd_maxbpm=0;a.bd_qual=0;a.vol2=0;a.q3=0;a.t0=0;a.vol_=0;a.m=0;a.oct=0;a.quad=0;a.q32=0;a.basssum=0;a.creepo=0;a.q28=0;a.bd_sin=0;a.sample2=0;a.q30=0;a.change=0;a.beatct=0;a.q20=0;a.q8=0;a.bd_finc=0;for(var b=a.index=0;2E5>b;b++)a.megabuf[Math.floor(a.index)]=0,a.gmegabuf[Math.floor(a.index)]=0,a.index+=1;a.tstart=
a.time;a.bd_recsz=8;a.bd_oct=4;a.bd_spo=30;a.bd_finc=pow(2,div(1,a.bd_spo));a.bd_nres=a.bd_oct*a.bd_spo;a.bd_minbpm=20;a.bd_maxbpm=pow(2,a.bd_oct)*a.bd_minbpm;a.bd_dat0=1E5;a.bd_tab0=a.bd_dat0+a.bd_nres*a.bd_recsz*3;a.reg00=a.bd_minbpm;a.reg01=a.bd_maxbpm;a.reg02=a.bd_recsz;a.reg03=a.bd_nres;a.reg05=a.bd_finc;a.reg06=a.bd_dat0;a.reg07=a.bd_mp0;a.time_st=0;a.timediff=1;`,frame_eqs_str:`a.dt=Math.min(div(1,a.fps),.1);a.dec_m=1-4*a.dt;a.dec_s=1-a.dt;a.dec_xs=1-div(a.dt,6);a.t0=a.time-a.tstart;a.bd_b=a.bass;a.bd_bass_=a.bd_bass_*a.dec_m+(1-a.dec_m)*a.bd_b;a.bd_bass=a.bd_b-a.bd_bass_;a.bd_m=a.mid;a.bd_mid_=a.bd_mid_*a.dec_m+(1-a.dec_m)*a.bd_m;a.bd_mid=a.bd_m-a.bd_mid_;a.bd_t=a.treb;a.bd_treb_=a.bd_treb_*a.dec_m+(1-a.dec_m)*a.bd_t;a.bd_treb=a.bd_t-a.bd_treb_;a.n=0;a.bpm=a.bd_minbpm;for(var b=0;b<a.bd_nres;b++)a.gmegabuf[Math.floor(5E4+a.n*a.bd_recsz)]=0,a.bd_arg=
div(a.bpm,60)*a.t0*6.283,a.gmegabuf[Math.floor(a.bd_tab0+a.n*a.bd_recsz)]=a.bpm,a.bpm*=a.bd_finc,a.n+=1;for(b=a.bd_src=0;3>b;b++){a.bd_exc=a.bd_bass*(.00001>Math.abs(a.bd_src-0)?1:0)+a.bd_mid*(.00001>Math.abs(a.bd_src-1)?1:0)+a.bd_treb*(.00001>Math.abs(a.bd_src-2)?1:0);for(var c=a.oct=0;c<a.bd_oct;c++){a.bd_slot=0;a.bd_pk=0;for(var d=a.bd_mean=0;d<a.bd_spo;d++){a.bd_tabptr=a.bd_tab0+(a.oct*a.bd_spo+a.bd_slot)*a.bd_recsz;a.n=a.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.bd_slot)*a.bd_recsz;a.bpm=
a.gmegabuf[Math.floor(a.bd_tabptr)];a.bd_omega=6.283*div(a.bpm,60);a.feder=sqr(a.bd_omega);a.gmegabuf[Math.floor(a.n+4)]=a.gmegabuf[Math.floor(a.n+2)];a.gmegabuf[Math.floor(a.n+1)]*=1-.5*a.dt*sqrt(div(a.bpm,300));a.ec_steps=2*Math.floor(1+div(a.bpm,50));for(var e=0;e<a.ec_steps;e++)a.kraft=a.bd_exc-a.feder*a.gmegabuf[Math.floor(a.n+2)],a.gmegabuf[Math.floor(a.n+1)]+=div(a.kraft*a.dt,a.ec_steps),a.gmegabuf[Math.floor(a.n+2)]+=div(a.gmegabuf[Math.floor(a.n+1)]*a.dt,a.ec_steps);a.beatcos=a.gmegabuf[Math.floor(a.n+
1)];a.beatsin=a.gmegabuf[Math.floor(a.n+2)]*a.bd_omega;a.quad=sqrt(pow(a.beatsin,2)+pow(a.beatcos,2));a.gmegabuf[Math.floor(a.n)]=.8*a.gmegabuf[Math.floor(a.n)]+.2*a.quad;a.bd_ampl=a.gmegabuf[Math.floor(a.n)];a.bd_mean+=a.bd_ampl;.00001<Math.abs(a.bd_ampl>a.bd_pk?1:0)?a.bd_pk=a.bd_ampl:0;a.bd_slot+=1}a.bd_slot=0;a.bd_qual=pow(div(a.bd_pk,a.bd_mean)*a.bd_spo-1,1);a.gmegabuf[Math.floor(2*(a.bd_src*a.bd_oct+a.oct))]=a.bd_qual;for(d=0;d<a.bd_spo;d++)a.m=5E4+(a.bd_slot+0*a.oct*a.bd_spo)*a.bd_recsz,a.n=
a.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.bd_slot)*a.bd_recsz,a.gmegabuf[Math.floor(a.m)]+=div(a.bd_qual*a.gmegabuf[Math.floor(a.n)],12),a.bd_slot+=1;a.oct+=1}a.bd_src+=1}a.bd_slot=0;a.maxind=0;a.bd_pk=0;for(b=a.bd_mean=0;b<a.bd_spo;b++)a.m=5E4+a.bd_slot*a.bd_recsz,a.gmegabuf[Math.floor(a.m)]=pow(a.gmegabuf[Math.floor(a.m)],1),a.bd_mean+=a.gmegabuf[Math.floor(a.m)],.00001<Math.abs(a.gmegabuf[Math.floor(a.m)]>a.bd_pk?1:0)?(a.bd_pk=a.gmegabuf[Math.floor(a.m)],a.maxind=a.bd_slot):0,a.bd_slot+=1;
a.quali=div(a.bd_pk,a.bd_mean)*a.bd_spo-1;for(b=a.n=0;150>b;b++)a.gmegabuf[Math.floor(50+a.n)]*=0,a.n+=1;a.bd_src=0;a.tsin=0;for(b=a.tcos=0;3>b;b++){for(c=a.oct=0;c<a.bd_oct;c++)a.n=a.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.maxind)*a.bd_recsz,a.bd_tabptr=a.bd_tab0+(a.oct*a.bd_spo+a.maxind)*a.bd_recsz,a.bpm=a.gmegabuf[Math.floor(a.bd_tabptr)],a.im=a.gmegabuf[Math.floor(a.n+1)],a.re=6.283*div(a.gmegabuf[Math.floor(a.n+2)]*a.bpm,60),a.bd_cos=Math.cos(6.28*div(a.bpm,60)*a.time),a.bd_sin=-Math.sin(6.28*
div(a.bpm,60)*a.time),a.re0=a.re*a.bd_cos+a.im*a.bd_sin,a.im0=-a.re*a.bd_sin+a.im*a.bd_cos,a.bd_qual=a.gmegabuf[Math.floor(2*(a.bd_src*a.bd_oct+a.oct))],a.gmegabuf[Math.floor(50+4*a.oct)]+=a.bd_qual*a.im0,a.gmegabuf[Math.floor(4*a.oct+51)]+=a.bd_qual*a.re0,a.gmegabuf[Math.floor(4*a.oct+52)]+=a.bd_qual,a.gmegabuf[100]+=a.bd_qual*a.im0,a.gmegabuf[101]+=a.bd_qual*a.re0,a.re=a.bd_cos*a.re0+a.bd_sin*a.im0,a.im=-a.bd_cos*a.im0+a.bd_sin*a.re0,a.tsin+=5*a.im,a.oct+=1;a.bd_src+=1}a.q30=a.tsin;a.vol=a.bass_att+
a.mid_att+a.treb_att;a.vol_=.95*a.vol_+.05*a.vol;a.q29=a.vol-a.vol_;a.bd_src=0;a.maxo=0;a.maxs=0;for(b=a.maxa=0;3>b;b++){a.oct=1;for(c=0;c<a.bd_oct-1;c++)a.n=a.bd_dat0+(a.bd_nres*a.bd_src+a.oct*a.bd_spo+a.maxind)*a.bd_recsz,a.bd_qual=a.gmegabuf[Math.floor(2*(a.bd_src*a.bd_oct+a.oct))],a.ampl=div(a.bd_qual,1+a.oct*div(a.maxind,a.bd_oct)*0),.00001<Math.abs(a.ampl>a.maxa?1:0)?(a.maxa=a.ampl,a.maxs=a.bd_src,a.maxo=a.oct):0,a.oct+=1;a.bd_src+=1}a.q28=pow(4*a.bd_qual,1.5);a.q31=a.q28;.00001<Math.abs(above(a.q28,
50))?a.q28=pow(5*Math.sin(.5*a.bd_qual),2):0;a.testi=a.bd_nres*a.maxs+a.bd_spo*a.maxo+a.maxind;.00001<Math.abs(bor(a.beat&&.00001>Math.abs(a.prog-0)?1:0,2>Math.abs(a.testi-a.test0)?1:0))?a.test0=a.testi:0;a.n=a.bd_dat0+a.test0*a.bd_recsz;a.creep=a.gmegabuf[Math.floor(a.n+1)];a.beat=(0<a.creep?1:0)*(0>a.creepo?1:0);a.beatct=.00001<Math.abs(a.change)?0:a.beatct+a.beat;a.prog=mod(a.prog+a.beat,8);a.creepo=a.creep;a.show=.00001<Math.abs(a.beat)?1:.5*a.show;a.q4=1E3*div(a.gmegabuf[Math.floor(a.n+1)],a.gmegabuf[Math.floor(a.n)]);
a.q2=a.prog;.00001<Math.abs(a.beat)?(a.timediff=a.time-a.time_st,a.time_st=a.time):a.timediff=a.timediff;.00001<Math.abs(below(a.timediff,.0625))?a.timediff=.0625:a.timediff=a.timediff;a.q8=a.timediff;a.monitor=a.q8;a.q24=a.bd_maxbpm;a.old_bass_flop=a.bass_flop;a.old_treb_flop=a.treb_flop;a.old_mid_flop=a.mid_flop;a.chaos=.9+.1*Math.sin(a.pulse);a.entropy=.00001<Math.abs(equal(a.pulse,-20))?1+a.bass_flop+a.treb_flop+a.mid_flop+.002*a.q4:a.entropy;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-
above(a.bass_att,a.bass_thresh))*((a.bass_thresh-1.6)*a.chaos+1.6);a.bass_flop=Math.abs(a.bass_flop-equal(a.bass_thresh,2));a.treb_thresh=2*above(a.treb_att,a.treb_thresh)+(1-above(a.treb_att,a.treb_thresh))*((a.treb_thresh-1.6)*a.chaos+1.6);a.treb_flop=Math.abs(a.treb_flop-equal(a.treb_thresh,2));a.mid_thresh=2*above(a.mid_att,a.mid_thresh)+(1-above(a.mid_att,a.mid_thresh))*((a.mid_thresh-1.6)*a.chaos+1.6);a.mid_flop=Math.abs(a.mid_flop-equal(a.mid_thresh,2));a.bass_changed=bnot(equal(a.old_bass_flop,
a.bass_flop));a.mid_changed=bnot(equal(a.old_mid_flop,a.mid_flop));a.treb_changed=bnot(equal(a.old_treb_flop,a.treb_flop));a.bass_residual=a.bass_changed*Math.sin(1.5*a.pulse)+bnot(a.bass_changed)*a.bass_residual;a.treb_residual=a.treb_changed*Math.sin(1.5*a.pulse)+bnot(a.treb_changed)*a.treb_residual;a.mid_residual=a.mid_changed*Math.sin(1.5*a.pulse)+bnot(a.mid_changed)*a.mid_residual;a.pulse=.00001<Math.abs(above(Math.abs(a.pulse),20))?-20:a.pulse+.018*(a.bass_thresh+a.mid_thresh+a.treb_thresh);
a.q11=a.mid_residual;a.q12=a.bass_residual;a.q13=a.treb_residual;a.q14=Math.sin(a.pulse);a.q15=Math.cos(a.pulse*(.5+.1*a.entropy));a.q16=Math.sin(a.pulse*(.5+pow(.25,a.entropy)));a.ob_r=Math.sin(1.0785*a.time+a.q16);a.ob_b=Math.sin(.8445*a.time+a.q15);a.ob_g=Math.sin(.413*a.time+a.q14);a.ib_r=Math.cos(.6*a.time+.1*a.q11);a.ib_b=Math.cos(1.4055*a.time+.1*a.q12);a.ib_g=Math.cos(.833*a.time+.1*a.q13);a.ib_size=.05+.03*a.q12;a.ob_size=.03+.02*Math.sin(2.321*a.time+.2*a.q12);a.ob_a=.6+.4*a.q13;a.ib_a=
.9+.1*Math.sin(.3*a.q12+a.q14+.5*a.q11);a.rot=0;a.basstime+=div(3*a.q29,a.fps);a.q1=a.basstime;a.basstime=.00001<Math.abs(below(a.basstime,-1E4))?0:a.basstime;a.basstime=.00001<Math.abs(above(a.basstime,1E4))?0:a.basstime;a.basstime+=div(.75*a.bass_att,a.fps);a.vol2=pow(a.bass+a.mid+a.treb,2);a.basssum=a.vol2;a.stickybit=mod(a.time,2);a.volavg+=a.vol2*equal(a.stickybit,1);a.sample1+=equal(a.stickybit,1);a.volavg2+=a.vol2*equal(a.stickybit,0);a.sample2+=equal(a.stickybit,0);a.edge=bnot(equal(a.bit2,
a.stickybit));a.volavg-=a.volavg*a.edge*a.stickybit;a.volavg2-=a.volavg2*a.edge*equal(a.stickybit,0);a.sample1-=a.sample1*a.edge*a.stickybit;a.sample2-=a.sample2*a.edge*equal(a.stickybit,0);a.diff=.00001<Math.abs(equal(a.stickybit,1))?div(a.basssum,div(a.volavg2,a.sample2)):0;a.diff=.00001<Math.abs(equal(a.stickybit,0))?div(a.basssum,div(a.volavg,a.sample1)):a.diff;a.q3=a.diff;a.pv_beat=.2*a.pv_beat*sqrt(div(a.fps,30))+div(.0001*(a.bass_att*a.bass_att+a.mid_att*a.mid_att+a.treb_att*a.treb_att)*a.q4,
sqrt(a.q8));a.q32=a.pv_beat;a.monitor=a.q32;a.bit2=mod(a.time,2);a.difftime+=.03*a.diff;a.q2=a.difftime;a.warp=.005*(a.bass*a.bass+a.mid*a.mid+a.treb*a.treb);a.foo_r=Math.sin(.34313*a.q1);a.foo_g=Math.sin(.3675*a.q1);a.foo_b=Math.sin(.55095*a.q1);.00001<Math.abs(above(a.foo_r,a.foo_g)&&above(a.foo_r,a.foo_b)?1:0)?a.q23=1:a.q23=0;.00001<Math.abs(above(a.foo_g,a.foo_r)&&above(a.foo_g,a.foo_b)?1:0)?a.q21=1:a.q21=0;.00001<Math.abs(above(a.foo_b,a.foo_r)&&above(a.foo_b,a.foo_g)?1:0)?a.q22=1:a.q22=0;.00001<
Math.abs(equal(a.q11+a.q12+a.q13,0))?a.q22=1:0;a.q5=div(30,a.fps);a.q19=50;a.q20=1;.00001<Math.abs(above(a.q31,14))?a.q19=100:a.q19=a.q19;.00001<Math.abs(above(a.q31,50))?a.q19=500:a.q19=a.q19;.00001<Math.abs(above(a.q3,2))?a.q19=.5+10*a.q8:a.q19=a.q19;`,pixel_eqs_str:`.00001<Math.abs(a.q32>1.2*sqrt(a.bass_att)?1:0)?(a.rot=.00001<Math.abs(above(a.q14,0))?.2*a.rad*a.q15:Math.tan(.001*a.rad*a.q4),a.zoom=.00001<Math.abs(above(a.q12,1.5))?a.zoom+(1-a.zoom)*a.rot*Math.cos(3.14*a.rad*a.q12):.00001<Math.abs(above(a.q13,2)*above(a.x,.5+.5*a.q15))?a.zoom+(1-a.zoom)*Math.sin(a.q11*a.rot*3.14):a.zoom+(1-a.zoom)*Math.cos(3*a.rad*a.q16),a.dx=above(a.q11,0)*Math.sin(.5*a.rad*a.q12),a.dy=above(a.q13,0)*Math.sin(.5*a.rad*a.q13)):(a.zoom=a.q19,a.zoomexp=a.q20,
a.rot=0);`,warp:` shader_body { 
  vec3 ret_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_pw_main, uv_orig);
  ret_1 = ((texture (sampler_blur1, tmpvar_2.xy).xyz * scale1) + bias1);
  vec3 tmpvar_3;
  tmpvar_3 = vec3((((1.0 - ret_1.x) * (1.0 - ret_1.y)) * (1.0 - ret_1.z)));
  vec2 tmpvar_4;
  tmpvar_4 = (((texsize.zw * q5) * -3.0) * ((
    pow (tmpvar_3, vec3(0.333, 0.333, 0.333))
   + 
    ((((0.5 * tmpvar_3) * (
      (texture (sampler_blur2, ret_1.xx).xyz * scale2)
     + bias2)) * ((texture (sampler_blur2, ret_1.yy).xyz * scale2) + bias2)) * ((texture (sampler_blur2, ret_1.zz).xyz * scale2) + bias2))
  ) + (
    ((0.25 * ((texture (sampler_blur3, ret_1.xx).xyz * scale3) + bias3)) * ((texture (sampler_blur3, ret_1.yy).xyz * scale3) + bias3))
   * 
    ((texture (sampler_blur3, ret_1.xx).xyz * scale3) + bias3)
  )).xy);
  vec3 tmpvar_5;
  tmpvar_5 = (((texture (sampler_blur1, 
    (uv_orig + (vec2(1.0, 0.0) * tmpvar_4))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_orig - (vec2(1.0, 0.0) * tmpvar_4))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_6;
  tmpvar_6 = (((texture (sampler_blur1, 
    (uv_orig + (vec2(0.0, 1.0) * tmpvar_4))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_orig - (vec2(0.0, 1.0) * tmpvar_4))
  ).xyz * scale1) + bias1));
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_5.x;
  tmpvar_7.y = tmpvar_6.x;
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_5.y;
  tmpvar_8.y = tmpvar_6.y;
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_5.z;
  tmpvar_9.y = tmpvar_6.z;
  vec2 tmpvar_10;
  tmpvar_10 = (uv_orig + ((
    (((tmpvar_7 * q21) + (tmpvar_8 * q22)) + (tmpvar_9 * q23))
   * texsize.zw) * 6.0));
  ret_1 = ((texture (sampler_main, tmpvar_10).xyz + (
    (texture (sampler_main, uv).xyz - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))
   * 0.1)) - ((0.00015 * q28) * (
    ((((
      (texture (sampler_main, tmpvar_10).x * texture (sampler_main, tmpvar_10).y)
     * texture (sampler_main, tmpvar_10).z) / (2.0 * q8)) + ((
      sqrt(treb)
     * texture (sampler_main, tmpvar_10).x) * texture (sampler_main, tmpvar_10).y)) + ((sqrt(mid) * texture (sampler_main, tmpvar_10).x) * texture (sampler_main, tmpvar_10).z))
   + 
    ((sqrt(bass) * texture (sampler_main, tmpvar_10).y) * texture (sampler_main, tmpvar_10).z)
  )));
  ret_1.x = mix (ret_1.x, (1.01 * texture (sampler_pc_main, tmpvar_10).x), (bass_att * 0.05));
  ret_1.y = mix (ret_1.y, (1.01 * texture (sampler_pc_main, tmpvar_10).y), (mid_att * 0.05));
  ret_1.z = mix (ret_1.z, (1.01 * texture (sampler_pc_main, tmpvar_10).z), (treb_att * 0.05));
  ret_1 = (ret_1 + ((
    (pow (q3, 1.2) - 0.25)
   * 0.00667) * tmpvar_2).xyz);
  vec4 tmpvar_11;
  tmpvar_11.w = 0.0;
  tmpvar_11.xyz = ret_1;
  vec3 tmpvar_12;
  tmpvar_12 = mix (tmpvar_11, texture (sampler_pc_main, uv), vec4(float((
    (q32 * sqrt(((
      ((1.0 - ret_1.x) * (1.0 - ret_1.y))
     + 
      ((1.0 - ret_1.x) * (1.0 - ret_1.z))
    ) + (
      (1.0 - ret_1.y)
     * 
      (1.0 - ret_1.z)
    ))))
   > 1.333)))).xyz;
  ret_1 = tmpvar_12;
  vec4 tmpvar_13;
  tmpvar_13.w = 1.0;
  tmpvar_13.xyz = tmpvar_12;
  ret = tmpvar_13.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  ret_1 = mix (texture (sampler_main, uv).xyz, texture (sampler_main, ((0.5 - uv) + 0.5)).xyz, vec3(0.5, 0.5, 0.5));
  ret_1 = (1.0 - ((ret_1 * 
    (1.0 - ret_1)
  ) * 4.0));
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ret_1;
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:.925,echo_zoom:1.007,echo_orient:3,wave_brighten:0,brighten:1,darken:1,solarize:1,wave_a:.001,wave_scale:.01,wave_smoothing:0,modwavealphastart:1,modwavealphaend:1,warpanimspeed:1.459,warpscale:2.007,fshader:1,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:0,wave_b:0,ob_size:.015,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:5,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,textured:1,rad:.789,ang:.6283,tex_zoom:1.17257,r:0,g:1,border_a:0},init_eqs_str:"a.an=0;a.vx=0;a.vy=0;",frame_eqs_str:"a.rad=.65+.1*a.bass;a.an=.99*a.an+.1*(a.bass-a.treb);a.ang=.1*a.an+.6;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:495,sep:4,spectrum:1,thick:1,additive:1,scaling:100,smoothing:1,r:0,g:.04,b:0,a:.99},init_eqs_str:"a.my_z=0;a.d=0;a.n=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.t5=0;a.w2=0;a.t1=0;a.x1=0;a.q6=0;a.zoom=0;a.p=0;a.q1=0;a.q5=0;a.t8=0;a.z3=0;a.w3=0;a.t3=0;a.my_x=0;a.x3=0;a.t6=0;a.my_y=0;a.pi=0;a.q4=0;a.t7=0;a.rd=0;a.w1=0;a.x2=0;a.t2=0;a.l=0;a.y2=0;a.q2=0;a.z1=0;a.q3=0;a.t4=0;a.t2=0;a.t3=0;a.t4=0;a.ab=1;",frame_eqs_str:"a.t1=a.q1;a.t2=a.q2;a.t3=a.q3;a.t4=a.q4;a.t5=a.q5;a.t6=a.q6;a.t8=.07;a.t7=1;",point_eqs_str:`a.t7=-a.t7;a.pi=Math.asin(1);a.n=180;a.rd=.075;a.my_x=.5*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.sin(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_y=.5*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8)+Math.cos(a.sample*a.pi*a.n)*a.rd*Math.cos(a.sample*a.pi*4+(a.t7+1)*a.t8);a.my_z=Math.sin(a.sample*a.pi*a.n)*a.rd;a.d=1.4;a.zoom=.65;a.w1=a.q2;a.w2=a.q3;a.w3=a.q4;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;
a.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*a.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));a.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.b=-a.z3+.5;a.b=.5*Math.min(1,Math.max(0,
a.b));a.r=1-2*a.b;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q29=0;a.q1=0;a.dec_med=0;a.rott=0;a.is_beat=0;a.q31=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.q28=0;a.q30=0;a.q20=0;a.p4=0;a.step=0;a.step=0;",frame_eqs_str:`a.dec_med=pow(.7,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,-2+a.avg+a.peak)*above(a.time,a.t0+.1);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass_att+
a.mid_att+a.treb_att;a.q27=a.index+1;a.q28=a.index2;a.q29=2*(mod(a.index,2)-.5);a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,8);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.step+=a.q24;a.p3=a.p3*a.dec_slow+(1-a.dec_slow)*a.step;a.q30=a.step;a.p4=a.dec_slow*a.p4+(1-a.dec_slow)*a.q27;a.q31=a.p4;a.q12=a.time-a.t0;a.monitor=a.q12;a.zoom=1;a.rot=-0;a.dx=0;`,pixel_eqs_str:"a.zoom=1.3;",warp:` shader_body { 
  vec2 uv_1;
  vec2 uv6_2;
  vec2 tmpvar_3;
  tmpvar_3 = ((uv - 0.5) * aspect.xy);
  float tmpvar_4;
  tmpvar_4 = (((q29 * 2.0) * sqrt(
    dot (tmpvar_3, tmpvar_3)
  )) + (rand_frame * 64.0)).x;
  uv_1 = (uv + (clamp (
    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))
  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));
  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = (((q24 * 
    (((texture (sampler_main, uv_1).xyz - (
      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)
     * 0.04)) + (0.15 * (vec3(
      (0.1 / sqrt(dot (uv6_2, uv6_2)))
    ) * roam_cos.xyz))) - 0.02)
  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));
  ret = tmpvar_5.xyz;
 }`,comp:`uniform sampler2D sampler_rand00;
 shader_body { 
  vec4 tmpvar_1;
  tmpvar_1 = texture (sampler_main, uv);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ((texture (sampler_rand00, (0.4 + 
    (0.6 * tmpvar_1.xy)
  )) * tmpvar_1.z) * 3.0).xyz;
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:2,gammaadj:2.7,wave_mode:1,modwavealphabyvolume:1,wave_a:2.707,wave_scale:1.025,wave_smoothing:.1,modwavealphastart:.77,modwavealphaend:1.01,warpscale:1.331,zoom:1.014,warp:.21786,wave_r:.65,wave_g:.65,wave_b:.65,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"",frame_eqs_str:"a.wave_r+=.35*(.6*Math.sin(3.98*a.time)+.4*Math.sin(11.047*a.time));a.wave_g+=.35*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.35*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.cx+=.11*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.11*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.005*(.6*Math.sin(.173*a.time)+.4*Math.sin(.223*a.time));a.decay-=.01*equal(mod(a.frame,20),0);",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_main, (uv + (
    (texture (sampler_main, (mix (uv, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.37)
   * 0.01))).xyz - 0.004);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1 = texture (sampler_main, uv);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = mix (vec3(dot (tmpvar_1.xyz, vec3(0.3333, 0.3333, 0.3333))), tmpvar_1.xyz, vec3(3.0, 3.0, 3.0));
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.9,echo_zoom:1.16936,wave_mode:7,modwavealphabyvolume:1,wave_a:0,wave_scale:1.015009,wave_smoothing:.522,modwavealphastart:.83,modwavealphaend:1.31,warpscale:3.138,zoom:1.009006,warp:536e-6,wave_r:.5,wave_g:.5,wave_b:.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.dx_residual=0;a.dy_residual=0;a.bass_thresh=0;",frame_eqs_str:`a.wave_r=.85+.25*Math.sin(.437*a.time+1);a.wave_g=.85+.25*Math.sin(.544*a.time+2);a.wave_b=.85+.25*Math.sin(.751*a.time+3);a.rot+=.01*(.6*Math.sin(.381*a.time)+.4*Math.sin(.579*a.time));a.cx+=.21*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.cy+=.21*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.dx+=.003*(.6*Math.sin(.234*a.time)+.4*Math.sin(.277*a.time));a.dy+=.003*(.6*Math.sin(.284*a.time)+.4*Math.sin(.247*a.time));a.decay-=.01*equal(mod(a.frame,6),0);a.dx+=
a.dx_residual;a.dy+=a.dy_residual;a.bass_thresh=2*above(a.bass_att,a.bass_thresh)+(1-above(a.bass_att,a.bass_thresh))*(.96*(a.bass_thresh-1.3)+1.3);a.dx_residual=.016*equal(a.bass_thresh,2.13)*Math.sin(7*a.time)+(1-equal(a.bass_thresh,2.13))*a.dx_residual;a.dy_residual=.012*equal(a.bass_thresh,2.13)*Math.sin(9*a.time)+(1-equal(a.bass_thresh,2.13))*a.dy_residual;a.wave_x-=7*a.dx_residual;a.wave_y-=7*a.dy_residual;a.wave_mystery=.03*a.time;a.zoom+=.005*(.6*Math.sin(.1934*a.time+3)+.4*Math.sin(.307*
a.time+9));a.zoom+=.4*Math.max(0,a.bass_att-1.1);`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  ret_1 = texture (sampler_main, uv).xyz;
  ret_1 = (ret_1 + ((ret_1 - 
    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)
  ) * 0.3));
  ret_1 = (ret_1 * 0.9);
  ret_1 = (ret_1 + ((
    ((texture (sampler_noise_lq, ((
      (uv_orig * texsize.xy)
     * 
      (texsize_noise_lq.zw * 0.4)
    ) + rand_frame.xy)).xyz - 0.5) / 256.0)
   * 122.0) * clamp (
    (treb_att - 1.0)
  , 0.0, 1.0)));
  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ret_1;
  ret = tmpvar_2.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  ret_1 = (texture (sampler_main, uv).xyz + ((
    (texture (sampler_blur1, uv).xyz * scale1)
   + bias1) * 0.4));
  vec3 tmpvar_2;
  tmpvar_2 = pow (ret_1, vec3(0.5, 0.8, 1.7));
  ret_1 = tmpvar_2;
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = tmpvar_2;
  ret = tmpvar_3.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,wave_mode:6,additivewave:1,wave_dots:1,wave_thick:1,wave_brighten:0,wave_a:100,wave_scale:3.63,wave_smoothing:.9,wave_mystery:-.3,modwavealphastart:1.15,modwavealphaend:1.55,warpscale:1.331,zoom:.96971,warp:0,wave_r:.6,wave_g:.6,wave_b:.6,mv_x:64,mv_y:48,mv_l:0,mv_r:.35,mv_g:.35,mv_b:.35,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.decay_rate=0;a.q6=0;a.rot_sum=0;a.q1=0;a.q5=0;a.prev_beat=0;a.is_beat=0;a.min_att=0;a.beat=0;a.decay_to=0;a.rot_sim=0;a.q2=0;a.q3=0;a.beat_level=0;a.rot_sum=0;a.q2=.07+.00004*randint(1E3)+.00003*randint(1E3);a.q3=1.035+.06*(randint(1E3)+randint(1E3)+randint(1E3))*.000333;",frame_eqs_str:`a.wave_r+=.5*(.6*Math.sin(1.98*a.time)+.4*Math.sin(3.047*a.time));a.wave_g+=.5*(.6*Math.sin(2.835*a.time)+.4*Math.sin(2.081*a.time));a.wave_b+=.5*(.6*Math.sin(3.814*a.time)+.4*Math.sin(1.011*a.time));a.cx=.5;a.cy=.5;a.rot=a.q2;a.zoom=a.zoom-1+a.q3;a.rot_sum+=a.rot;a.q1=-a.rot_sum;a.q5=Math.cos(a.rot_sum);a.q6=Math.sin(a.rot_sim);a.monitor=a.q2;a.min_att=2.5;a.decay_to=.8;a.decay_rate=pow(.999,a.fps);a.beat=div(a.bass,Math.max(a.min_att,a.bass_att));a.beat=Math.max(a.beat,div(a.mid,
Math.max(a.min_att,a.mid_att)));a.beat=Math.max(a.beat,div(a.treb,Math.max(a.min_att,a.treb_att)));a.beat=Math.max(a.beat,(a.prev_beat-a.decay_to)*a.decay_rate+a.decay_to);a.beat_level=24*(a.beat-a.prev_beat-.02);a.is_beat=above(a.beat_level,.5);a.prev_beat=a.beat;a.wave_a=a.beat_level;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_pw_main, uv).xyz - 0.004);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec2 uv2_2;
  uv_1 = (uv - 0.5);
  uv_1 = (uv_1 * (min (aspect.x, aspect.y) * 0.8));
  uv_1 = (uv_1 * aspect.xy);
  float tmpvar_3;
  tmpvar_3 = sin(q1);
  float tmpvar_4;
  tmpvar_4 = cos(q1);
  uv2_2.x = ((uv_1.x * tmpvar_4) - (uv_1.y * tmpvar_3));
  uv2_2.y = ((uv_1.x * tmpvar_3) + (uv_1.y * tmpvar_4));
  uv2_2 = (uv2_2 * aspect.zw);
  uv2_2 = (uv2_2 + 0.5);
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = (abs((
    (texture (sampler_main, uv2_2).xyz * 2.65)
   + 
    (((texture (sampler_blur1, uv2_2).xyz * scale1) + bias1) * -2.0)
  )) * 1.5);
  ret = tmpvar_5.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.9,echo_zoom:1.16936,wave_mode:5,additivewave:1,wave_a:0,wave_scale:.899719,wave_smoothing:.63,wave_mystery:1,modwavealphastart:2,modwavealphaend:2,warpscale:2.593743,zoom:1.00496,warp:.278033,sx:.999666,sy:.9999,wave_r:.65,wave_g:.65,wave_b:.65,mv_x:0,mv_y:48,mv_dx:-.941273,mv_dy:.426319,mv_l:5,mv_r:.315997,mv_g:.078173,mv_b:.941976,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.du=0;a.q1=0;a.rg=0;a.q9=0;a.mult=0;a.ang2=0;a.dv=0;a.q4=0;a.q2=0;a.dist=0;a.q3=0;a.rg=0;",frame_eqs_str:`a.wave_r+=.35*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.35*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.35*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.q1=2*a.cx-1+.52*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.q2=2*a.cy-1+.52*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));a.q3=2*a.cx-1+.52*(.6*Math.sin(.174*-a.time)+.4*Math.sin(.364*a.time));a.q4=2*a.cy-1+.52*(.6*Math.sin(.234*a.time)+.4*Math.sin(.271*-a.time));
a.decay-=.01*equal(mod(a.frame,5),0);a.rg=Math.max(.95*a.rg,.3+.5*Math.min(2,1.3*Math.max(0,a.mid_att-1)));a.q9=a.rg;`,pixel_eqs_str:"a.du=2*a.x-1-a.q1;a.dv=2*a.y-1-a.q2;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv);a.mult=div(.008,a.dist+.4);a.dx=a.mult*Math.sin(a.ang2-1.5);a.dy=a.mult*Math.cos(a.ang2-1.5);a.du=2*a.x-1-a.q3;a.dv=2*a.y-1-a.q4;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv);a.mult=div(.008,a.dist+.4);a.dx+=a.mult*Math.sin(a.ang2+1.5);a.dy+=a.mult*Math.cos(a.ang2+1.5);",warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = mix (uv_orig, uv, vec2(q9));
  ret_1 = texture (sampler_main, tmpvar_2).xyz;
  ret_1 = (ret_1 + ((ret_1 - 
    ((texture (sampler_blur1, tmpvar_2).xyz * scale1) + bias1)
  ) * 0.3));
  ret_1 = (ret_1 * 0.9);
  ret_1 = (ret_1 + ((
    ((texture (sampler_noise_lq, ((
      (uv_orig * texsize.xy)
     * 
      (texsize_noise_lq.zw * 0.4)
    ) + rand_frame.xy)).xyz - 0.5) / 256.0)
   * 122.0) * clamp (
    (treb_att - 1.0)
  , 0.0, 1.0)));
  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ret_1;
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (0.3 + (0.4 * vec3(dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))));
  ret = tmpvar_1.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.9,echo_zoom:1.169,echo_orient:1,wave_mode:5,additivewave:1,wave_a:0,wave_scale:.9,wave_smoothing:.63,wave_mystery:1,modwavealphastart:2,modwavealphaend:2,warpscale:1.331,zoom:1.004,warp:.19788,sx:.99967,sy:.9999,wave_r:.65,wave_g:.65,wave_b:.65,mv_x:0,mv_y:48,mv_dx:-.941,mv_dy:.426,mv_l:5,mv_r:.316,mv_g:.078,mv_b:.942,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.du=0;a.q1=0;a.dv=0;a.q2=0;a.dist=0;a.ang2=0;a.mult=0;",frame_eqs_str:"a.wave_r+=.2*(.6*Math.sin(.98*a.time)+.4*Math.sin(1.047*a.time));a.wave_g+=.2*(.6*Math.sin(.835*a.time)+.4*Math.sin(1.081*a.time));a.wave_b+=.2*(.6*Math.sin(.814*a.time)+.4*Math.sin(1.011*a.time));a.q1=2*a.cx-1+.6*(.6*Math.sin(.374*a.time)+.4*Math.sin(.294*a.time));a.q2=2*a.cy-1+.6*(.6*Math.sin(.393*a.time)+.4*Math.sin(.223*a.time));",pixel_eqs_str:"a.du=2*a.x-1-a.q1;a.dv=2*a.y-1-a.q2;a.dist=sqrt(a.du*a.du+a.dv*a.dv);a.ang2=Math.atan2(a.du,a.dv)+.15*a.time;a.mult=.65*Math.sin(.05*a.dist);a.dx=a.mult*Math.sin(2*a.ang2-1.5);a.dy=a.mult*Math.cos(2*a.ang2-1.5);",warp:` shader_body { 
  vec3 ret_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - 
    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)
  ) * 0.3));
  ret_1 = (ret_1 * 0.9);
  ret_1 = (ret_1 + ((
    ((texture (sampler_noise_lq, ((
      (uv_orig * texsize.xy)
     * 
      (texsize_noise_lq.zw * 0.4)
    ) + rand_frame.xy)).xyz - 0.5) / 256.0)
   * 122.0) * clamp (
    (treb_att - 1.0)
  , 0.0, 1.0)));
  vec3 tmpvar_3;
  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));
  ret_1 = tmpvar_3;
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = tmpvar_3;
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec2 uv2_1;
  vec3 ret_2;
  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));
  float tmpvar_3;
  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + 
    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)
  ) + (
    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)
   * 0.15)) + ((
    (texture (sampler_blur3, uv2_1).xyz * scale3)
   + bias3) * 0.1)).x;
  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));
  float tmpvar_4;
  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + 
    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)
  ) + (
    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)
   * 0.15)) + ((
    (texture (sampler_blur3, uv2_1).xyz * scale3)
   + bias3) * 0.1)).x;
  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));
  float tmpvar_5;
  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + 
    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)
  ) + (
    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)
   * 0.15)) + ((
    (texture (sampler_blur3, uv2_1).xyz * scale3)
   + bias3) * 0.1)).x;
  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));
  vec3 tmpvar_6;
  tmpvar_6.z = 0.14;
  tmpvar_6.x = (tmpvar_3 - tmpvar_4);
  tmpvar_6.y = (tmpvar_5 - ((
    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))
   + 
    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)
  ) + (
    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)
   * 0.1)).x);
  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));
  vec2 x_7;
  x_7 = (ret_2.xy - 0.5);
  ret_2 = (ret_2 * clamp ((
    sqrt(dot (x_7, x_7))
   * 5.0), 0.0, 1.0));
  ret_2 = ret_2.xxy;
  ret_2 = (ret_2 + 1.15);
  ret_2 = (ret_2 * mix (ret_2, (ret_2 * 
    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))
  ), pow (hue_shader.yxz, ret_2)));
  ret_2 = (ret_2 * ret_2);
  vec4 tmpvar_8;
  tmpvar_8.w = 1.0;
  tmpvar_8.xyz = ret_2;
  ret = tmpvar_8.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:2.4,decay:1,echo_zoom:.997,echo_alpha:.5,echo_orient:3,wave_mode:2,wave_brighten:0,wrap:0,darken:1,wave_a:.001,wave_scale:.28,wave_smoothing:.9,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:2.599,warpscale:.01,zoomexp:.99817,zoom:.86978,warp:.01,sy:1.0017,wave_r:0,wave_g:0,wave_b:0,ob_size:0,ob_r:1,ob_g:1,ob_b:1,ib_size:.04,ib_r:0,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:.5,mv_r:.35,mv_g:.35,mv_b:.35,mv_a:.2},shapes:[{baseVals:{enabled:1,sides:20,additive:1,textured:1,rad:1.99867,tex_zoom:.49486,g:1,b:1,a:.75,r2:1,b2:1,a2:1,border_a:0},init_eqs_str:"",frame_eqs_str:""},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.ang2=0;a.redsine=0;a.greensine=0;a.bluesine=0;a.redif=0;a.greenif=0;a.blueif=0;a.decay=.1;",frame_eqs_str:`a.sx=1;a.sy=1;a.redsine=.5+.15*a.bass*Math.sin(3*a.time);a.greensine=.5+.15*a.mid*Math.sin(2*a.time);a.bluesine=.5+.15*a.treb*Math.sin(a.time);a.redif=.9*(.00001<Math.abs(above(a.bass,1.2))?a.redsine:.00001<Math.abs(above(a.redif,.95))?0:.98*a.redif);a.greenif=.8*(.00001<Math.abs(above(a.mid,1.2))?a.greensine:.00001<Math.abs(above(a.greenif,.95))?0:.8*a.greenif);a.blueif=.8*(.00001<Math.abs(above(a.treb,1.2))?a.bluesine:.00001<Math.abs(above(a.blueif,.95))?0:.8*a.blueif);a.ib_r=
a.redif;a.ib_g=a.greenif;a.ib_b=a.blueif;`,pixel_eqs_str:"a.ang2=Math.sin(3*a.ang+a.time+.05*Math.sin(a.time*above(a.mid_att,1.2)));a.rot=1.2*a.ang2;",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) - texture (sampler_main, uv).xyz);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, (
    (vec2(-1.003, 1.003) * (uv - 0.5))
   + 0.5)).xyz, vec3(0.5, 0.5, 0.5)) * 2.4);
  ret_1 = (ret_1 * ret_1);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ret_1;
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1,decay:.995,echo_zoom:1,echo_alpha:.5,echo_orient:1,wave_mode:6,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,wave_a:.001,wave_scale:2.103,wave_smoothing:.54,wave_mystery:.38,modwavealphastart:.81,modwavealphaend:1.4,warpscale:1.331,warp:.01,wave_r:0,wave_g:0,wave_b:0,ob_size:.005,ob_a:1,ib_size:.005,ib_a:1,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:14,num_inst:78,x:.6,rad:.02217,tex_zoom:60.80383,g:1,b:1,a:.9,g2:0,a2:1,border_g:.59,border_a:1},init_eqs_str:"a.fov=0;a.arg=0;a.t1=0;a.posx=0;a.trel=0;a.yl=0;a.k1=0;a.posy=0;a.xl=0;a.time2=0;a.q19=0;a.t2=0;a.yw=0;a.dist=0;a.xw=0;a.speed=0;a.t1=div(Math.floor(randint(10)),10);a.t2=.2+div(Math.floor(randint(8)),10);",frame_eqs_str:`a.speed=.02;a.trel=Math.floor(a.time*a.speed)-a.time*a.speed+1;a.k1=div(a.instance,a.num_inst);a.k1-=Math.floor(a.k1);a.dist=1.4-a.k1;a.fov=.1;a.arg=a.dist-.02*a.time;a.posx=div(a.fov,a.dist)*(Math.sin(13*a.arg)+.2*Math.sin(332*a.dist));a.posy=div(a.fov,a.dist)*(Math.cos(36*a.arg)+.2*Math.sin(332*a.dist));a.xl=.5+a.posx;a.yl=.5+a.posy;a.time2=div(a.time,4)+Math.cos(a.instance);a.xw=.5+.5*(Math.sin(14*a.arg)+.02*Math.cos(1131*a.arg));a.yw=a.time2-Math.floor(a.time2);a.x=.00001<
Math.abs(bnot(a.q19))?a.xl:a.xw;a.y=.00001<Math.abs(bnot(a.q19))?a.yl:a.yw;a.ang=a.time*Math.sin(44*a.k1)*12;a.a=a.t1;a.border_a=0;a.a2=a.t2;a.rad=div(.01,a.dist);a.r=.5+.3*Math.sin(a.instance+a.arg);a.b=.5+.3*Math.sin(a.instance-2+a.arg);a.g=.5+.3*Math.sin(2*a.instance+a.arg);`},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.mq29=0;a.cthr=0;a.mq1=0;a.q25=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q29=0;a.mq31=0;a.mq21=0;a.mq24=0;a.oldq8=0;a.chng=0;a.mq28=0;a.mq23=0;a.q31=0;a.q23=0;a.q24=0;a.q11=0;a.atime=0;a.q26=0;a.mq27=0;a.mq25=0;a.mq22=0;a.vol=0;a.mq26=0;a.q27=0;a.q28=0;a.q8=0;a.q8=0;",frame_eqs_str:`a.chng=Math.sin(.5*a.time);a.cthr=.9999;a.mq21=.00001<Math.abs(above(a.chng,a.cthr))?randint(3):a.mq21;a.mq22=.00001<Math.abs(above(a.chng,a.cthr))?randint(3):a.mq22;a.mq23=.00001<Math.abs(above(a.chng,a.cthr))?randint(3):a.mq23;a.mq24=.00001<Math.abs(above(a.chng,a.cthr))?randint(2):a.mq24;a.mq25=.00001<Math.abs(above(a.chng,a.cthr))?randint(2):a.mq25;a.mq26=.00001<Math.abs(above(a.chng,a.cthr))?randint(2):a.mq26;a.mq27=.00001<Math.abs(above(a.chng,a.cthr))?randint(1):a.mq27;
a.mq28=.00001<Math.abs(above(a.chng,a.cthr))?randint(1):a.mq28;a.mq29=.00001<Math.abs(above(a.chng,a.cthr))?.3*randint(1):a.mq29;a.mq31=.00001<Math.abs(above(a.chng,a.cthr))?.3*randint(1):a.mq31;a.monitor=a.chng;a.q21=a.mq21;a.q22=a.mq22;a.q23=a.mq23;a.q24=a.mq24;a.q25=a.mq25;a.q26=a.mq26;a.q27=a.mq27;a.q28=a.mq28;a.q29=a.mq29;a.q31=a.mq31;a.monitor=a.mq1;a.vol=a.bass+a.treb+a.mid;a.atime+=a.vol;a.q11=.4+.4*Math.sin(.006*a.atime);a.q12=.4+.4*Math.cos(.00613828348*a.atime);a.q13=.4+.4*Math.sin(.00598593455*
a.atime);a.monitor=a.q13;a.warp=0;a.q8=a.oldq8+.0003*div(pow(1+1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6),a.fps);a.oldq8=a.q8;a.wave_r=.5+.5*Math.sin(1.123*a.q8);a.wave_g=.5+.5*Math.sin(1.576*a.q8);a.wave_b=.5+.5*Math.cos(1.465*a.q8);a.ib_a=.2*a.bass;`,pixel_eqs_str:"a.dx=a.dx+.008*Math.sin((2*a.y-1)*a.meshx)+.008*Math.sin((2*a.y-1)*a.meshx*1.3333);a.dy=a.dy+.008*Math.cos((2*a.x-1)*a.meshx*1.3333)+.008*Math.cos((2*a.x-1)*a.meshx);",warp:` shader_body { 
  vec3 ret_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  ret_1 = tmpvar_2.xyz;
  vec4 tmpvar_3;
  tmpvar_3 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv.xyy) * (
    (q27 * texsize.xyy)
   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q29)));
  if (((tmpvar_2.x > (q21 * q13)) && (tmpvar_2.x <= (q24 * q11)))) {
    ret_1.y = (tmpvar_2.y - (tmpvar_3.x * 0.5));
  };
  if (((ret_1.y > (q22 * q11)) && (ret_1.y <= (q25 * q12)))) {
    ret_1.z = (tmpvar_2.z - (tmpvar_3.y * 0.5));
  };
  if (((ret_1.z > (q23 * q12)) && (ret_1.z <= (q26 * q13)))) {
    ret_1.x = (tmpvar_2.x - (tmpvar_3.z * 0.5));
  };
  ret_1 = (ret_1 + ((ret_1 - 
    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)
  ) * 0.2));
  ret_1 = (ret_1 - 0.02);
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = ret_1;
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec3 ret_2;
  uv_1 = (0.05 + (0.9 * uv));
  vec4 tmpvar_3;
  tmpvar_3 = texture (sampler_main, uv_1);
  ret_2 = tmpvar_3.xyz;
  vec4 tmpvar_4;
  tmpvar_4 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv_1.xyy) * (
    (q28 * texsize.xyy)
   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q31)));
  if (((tmpvar_3.x > (q26 * q13)) && (tmpvar_3.x <= (q23 * q11)))) {
    ret_2.z = (tmpvar_3.z - (tmpvar_4.x * 0.5));
  };
  if (((tmpvar_3.y > (q25 * q11)) && (tmpvar_3.y <= (q22 * q12)))) {
    ret_2.x = (tmpvar_3.x - (tmpvar_4.y * 0.5));
  };
  if (((ret_2.z > (q24 * q12)) && (ret_2.z <= (q21 * q13)))) {
    ret_2.y = (tmpvar_3.y - (tmpvar_4.z * 0.5));
  };
  ret_2 = (abs((
    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)
   - ret_2)) * 6.0);
  ret_2 = (ret_2 * 1.333);
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = ret_2;
  ret = tmpvar_5.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:1.157,wave_smoothing:.63,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoom:.9995,warp:.009,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:.5,ob_r:.01,ib_size:.26,mv_x:64,mv_y:48,mv_l:0,mv_a:0,b1x:.7,b1ed:0},shapes:[{baseVals:{enabled:1,sides:14,num_inst:512,rad:.1026,tex_ang:.62832,r2:1,g2:0,a2:1,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;",frame_eqs_str:`a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,100);a.a=above(a.bass+a.mid+a.treb,.8);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),
100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);`},{baseVals:{enabled:1,sides:23,num_inst:1024,rad:.10262,ang:.43982,tex_ang:.62832,a:.5,r2:1,g2:0,a2:.5,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;",frame_eqs_str:`a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,75);a.a=above(a.bass+a.mid+a.treb,.1);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),
100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);`},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.n=0;a.z=0;a.n2=0;a.q25=0;a.w2=0;a.q22=0;a.q21=0;a.q29=0;a.j3=0;a.q1=0;a.n1=0;a.v=0;a.w3=0;a.q31=0;a.q23=0;a.q24=0;a.pi=0;a.pi2inv=0;a.j2=0;a.w1=0;a.zz=0;a.vol=0;a.j1=0;a.q27=0;a.maskangle=0;a.q3=0;a.q32=0;a.q28=0;a.q30=0;a.q20=0;a.mtime=0;a.x1=2;a.y1=2;a.z1=2;",frame_eqs_str:`a.d=20;a.z=4;a.zz=1+0*a.bass_att;a.pi=2*Math.asin(1);a.pi2inv=div(.5,a.pi);a.maskangle=Math.asin(div(1,a.d));a.q32=a.maskangle;a.q31=a.d;a.q30=a.z;a.q29=a.pi2inv;a.q28=a.pi;a.q27=div(1,a.zz);a.v=.4;a.j1=.95*a.j1+sqr(4*a.bass)*a.v;a.j2=.95*a.j2+sqr(4*a.mid)*a.v;a.j3=.95*a.j3+sqr(4*a.treb)*a.v;a.n+=.0152*a.j1;a.n1+=.0152*a.j2;a.n2+=.0152*a.j3;a.vol=.25*(a.bass+a.mid+a.treb);a.vol=a.vol;a.q3=a.vol;a.mtime+=.01*a.vol;a.q1=a.mtime;a.zoom+=.015*a.vol;a.w1=.01*a.n;a.w2=.01*a.n1;a.w3=
.01*a.n2;a.q20=Math.cos(a.w1);a.q21=Math.sin(a.w1);a.q22=Math.cos(a.w2);a.q23=Math.sin(a.w2);a.q24=Math.cos(a.w3);a.q25=Math.sin(a.w3);`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ((texture (sampler_main, (
    mix (uv_orig, uv, vec2(((dot (texture (sampler_main, 
      mix (uv_orig, uv, vec2(4.0, 4.0))
    ).xyz, vec3(0.32, 0.49, 0.29)) - dot (
      ((texture (sampler_blur2, mix (uv_orig, uv, vec2(-12.0, -12.0))).xyz * scale2) + bias2)
    , vec3(0.32, 0.49, 0.29))) * 12.0)))
   + 
    (((texture (sampler_noise_lq, tmpvar_1) - 0.5).xy * texsize.zw) * 0.5)
  )).xyz + (
    (texture (sampler_noise_lq, tmpvar_1) - 0.5)
   * 0.006).xyz) + -0.0006);
  ret = tmpvar_2.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec3 ret2_2;
  vec2 uv2_3;
  vec3 ret_4;
  uv2_3.y = uv.y;
  uv2_3.x = (1.0 - uv.x);
  uv2_3 = (0.5 + ((uv2_3 - 0.5) * 0.98));
  uv_1 = (0.5 + ((uv - 0.5) * 0.98));
  vec2 tmpvar_5;
  tmpvar_5 = (texsize.zw * 4.0);
  vec3 tmpvar_6;
  tmpvar_6 = (((texture (sampler_blur1, 
    (uv_1 + (vec2(1.0, 0.0) * tmpvar_5))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_1 - (vec2(1.0, 0.0) * tmpvar_5))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_7;
  tmpvar_7 = (((texture (sampler_blur1, 
    (uv_1 + (vec2(0.0, 1.0) * tmpvar_5))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_1 - (vec2(0.0, 1.0) * tmpvar_5))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_8;
  tmpvar_8.z = 0.0;
  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  vec4 tmpvar_9;
  tmpvar_9 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (
    ((uv_1.xyy + (tmpvar_8 * 0.5)) * texsize.xyy)
   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));
  vec2 tmpvar_10;
  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));
  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));
  uv_1 = (uv_1 - (tmpvar_10 * 0.04));
  vec2 tmpvar_11;
  tmpvar_11.x = dot (((
    (texture (sampler_blur1, (uv2_3 + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)
   + bias1) - (
    (texture (sampler_blur1, (uv2_3 - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)
   + bias1)), vec3(0.32, 0.49, 0.29));
  tmpvar_11.y = dot (((
    (texture (sampler_blur1, (uv2_3 + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)
   + bias1) - (
    (texture (sampler_blur1, (uv2_3 - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)
   + bias1)), vec3(0.32, 0.49, 0.29));
  uv2_3 = (uv2_3 - (tmpvar_11 * 0.04));
  ret_4 = (abs((
    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))
   - 
    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)
  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));
  ret2_2 = (abs((
    ((texture (sampler_main, uv2_3).xyz + ((texture (sampler_blur1, uv2_3).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv2_3).xyz * scale2) + bias2))
   - 
    ((texture (sampler_blur3, uv2_3).xyz * scale3) + bias3)
  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));
  ret2_2 = (0.5 - pow (ret2_2, vec3(0.5, 0.5, 0.5)));
  ret_4 = (pow (ret_4, vec3(0.5, 0.5, 0.5)) - (0.3 - ret2_2));
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = ret_4;
  ret = tmpvar_12.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:4,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,darken_center:1,darken:1,wave_a:.001,wave_scale:.527429,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:.442,warpscale:.498,zoom:.9999,warp:.01,sx:.9999,wave_r:.8,wave_g:.49,ob_size:0,ob_r:1,ob_g:1,ob_b:1,ob_a:.05,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,thickoutline:1,textured:1,x:.26,y:.2,rad:.393173,tex_zoom:1.392831,r:0,g:.55,b:.5,a:.9,g2:.4,b2:.4,border_r:.3,border_g:.7,border_b:.8,border_a:.2},init_eqs_str:"a.g0=0;a.y0=0;a.q1=0;a.x0=0;a.q24=0;a.q26=0;a.r0=0;a.trig=0;a.q2=0;a.b0=0;a.rad0=0;",frame_eqs_str:`a.trig=a.q24;a.textured=1;a.x0=a.x0*bnot(a.trig)+a.trig*(.2+div(randint(100),200));a.y0=a.y0*bnot(a.trig)+a.trig*(.2+div(randint(100),200));a.x0+=div(.03*a.q1*(3+a.q26),a.fps);a.y0+=div(.03*a.q2*(3+a.q26),a.fps);a.x0-=Math.floor(a.x0);a.y0-=Math.floor(a.y0);a.tex_ang=a.time;a.ang=a.time*a.q2;a.x=a.x0;a.y=a.y0;a.rad0=a.rad0*bnot(a.trig)+div(a.trig*randint(100),200);a.rad=a.rad0;a.r0=a.r0*bnot(a.trig)+div(a.trig*randint(10),10);a.b0=a.b0*bnot(a.trig)+div(a.trig*randint(10),10);
a.g0=a.g0*bnot(a.trig)+div(a.trig*randint(10),10);a.border_r=a.r0;a.border_g=a.g0;a.border_b=a.b0;a.r=a.r0;a.b=a.b0;a.g=a.g0;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.rm=0;a.ampl=0;a.index2=0;a.index=0;a.q18=0;a.q22=0;a.q21=0;a.movex=0;a.q1=0;a.dec_med=0;a.index3=0;a.trel=0;a.rott=0;a.ava=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.mov=0;a.avg=0;a.movez=0;a.q19=0;a.beat=0;a.q17=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.movey=0;a.q3=0;a.t0=0;a.q28=0;a.q30=0;a.q20=0;a.dirx=1;",frame_eqs_str:`a.dec_med=pow(.6,div(30,a.fps));a.dec_slow=pow(.9,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=
a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.ava=a.ava*a.dec_slow+a.q26*(1-a.dec_slow);a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,2);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q27=8-a.index;a.q28=.5+div(Math.sin(div(a.time,7)),10);a.rm=Math.min(a.q26-1.5*a.ava,2);a.mov=a.is_beat*a.rm+(1-a.is_beat)*a.mov;a.movez+=div(.4,a.fps)*a.mov;a.q30=a.movez;a.ampl=
div(a.q26,8);a.movex+=div(.2,a.fps)*Math.sin(a.rott);a.movey+=div(.2,a.fps)*Math.cos(a.rott);a.q18=a.movex;a.q19=a.movey;a.trel=a.trel+div(1,a.fps)+a.q24;a.q17=2*Math.sin(div(a.trel,4));`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 uv_1;
  vec2 uv6_2;
  vec2 tmpvar_3;
  tmpvar_3 = ((uv - 0.5) * aspect.xy);
  float tmpvar_4;
  tmpvar_4 = (((q28 * 2.0) * sqrt(
    dot (tmpvar_3, tmpvar_3)
  )) + (rand_frame * 64.0)).x;
  uv_1 = (uv + (clamp (
    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))
  , vec2(-16.0, -16.0), vec2(16.0, 16.0)) / 20.0));
  uv6_2 = (0.4 * sin((tmpvar_3 * 12.0)));
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = (((q24 * 
    (((texture (sampler_main, uv_1).xyz - (
      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)
     * 0.04)) + (0.15 * (vec3(
      (0.1 / sqrt(dot (uv6_2, uv6_2)))
    ) * roam_cos.xyz))) - 0.04)
  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));
  ret = tmpvar_5.xyz;
 }`,comp:`vec3 xlat_mutableneu;
vec3 xlat_mutableret1;
vec2 xlat_mutablers2;
 shader_body { 
  vec2 uv_1;
  float inten_3;
  float dist_4;
  float ang2_5;
  vec2 uv2_6;
  uv_1 = (uv - 0.5);
  uv_1 = (uv_1 * aspect.xy);
  dist_4 = 1.0;
  inten_3 = 1.0;
  xlat_mutableret1 = vec3(0.0, 0.0, 0.0);
  for (float n_2 = 0.0; n_2 <= 4.0; n_2 += 1.0) {
    vec2 uv3_7;
    ang2_5 = ((6.28 * n_2) / 4.0);
    float tmpvar_8;
    tmpvar_8 = cos(ang2_5);
    float tmpvar_9;
    tmpvar_9 = sin(ang2_5);
    uv2_6.x = ((uv_1.x * tmpvar_8) - (uv_1.y * tmpvar_9));
    uv2_6.y = ((uv_1.x * tmpvar_9) + (uv_1.y * tmpvar_8));
    uv2_6 = (uv2_6 * aspect.yx);
    dist_4 = (1.0 - fract((
      (0.25 * n_2)
     + q30)));
    inten_3 = ((sqrt(dist_4) * (1.0 - dist_4)) * 4.0);
    vec2 tmpvar_10;
    tmpvar_10.x = tmpvar_8;
    tmpvar_10.y = tmpvar_9;
    uv3_7 = (fract((
      ((3.0 * uv2_6) * dist_4)
     + 
      (0.3 * q27)
    )) + (q17 * tmpvar_10));
    xlat_mutableneu = (texture (sampler_main, uv3_7).xyz - ((texture (sampler_blur2, 
      ((uv3_7 * 1.02) * q1)
    ).xyz * scale2) + bias2));
    xlat_mutableneu = (xlat_mutableneu * vec3(greaterThanEqual (xlat_mutableneu, vec3(0.0, 0.0, 0.0))));
    xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_3));
  };
  xlat_mutablers2 = ((0.4 * cos(
    ((uv_1 * 13.0) + time)
  )) - dot (xlat_mutableret1, vec3(0.32, 0.49, 0.29)));
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = (xlat_mutableret1 + ((
    ((0.05 / sqrt(dot (xlat_mutablers2, xlat_mutablers2))) * q26)
   / 4.0) * hue_shader));
  ret = tmpvar_11.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:7,wave_dots:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.39158,wave_scale:.01,wave_smoothing:.504,wave_mystery:-1,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_r:.7,wave_g:0,ob_r:1,ob_g:1,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:5,additive:1,x:.9,rad:.22613,g:.6,g2:0,b2:.4,a2:.3,border_a:0},init_eqs_str:"a.dx=0;a.dy=0;a.q22=0;a.q24=0;a.t_rel=5*a.time;a.t1=Math.floor(a.t_rel);",frame_eqs_str:"a.dx=div(randint(1E3),1E3)-.5;a.dy=div(randint(1E3),1E3)-.5;a.x=.5+a.dx*(1-div(a.q22,4));a.y=.5+a.dy*(1-div(a.q22,4));a.ang=a.time;a.a=1;a.rad=.1*a.q24+.08+div(a.q22,40);"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:256,spectrum:1,usedots:1,scaling:.5033,g:.6,b:.4},init_eqs_str:"a.xang=0;a.ampl=0;a.fov=0;a.t1=0;a.yang=0;a.my=0;a.oz=0;a.t_rel=0;a.mz=0;a.q26=0;a.oy=0;a.mx=0;a.zang=0;a.t_abs=0;a.ox=0;",frame_eqs_str:"",point_eqs_str:`a.t_abs=a.sample;a.t_rel=a.sample-div(a.time,1);a.ampl=a.time;a.ox=10*a.ampl*Math.sin(68*a.t_abs);a.oy=10*a.ampl*Math.cos(28*a.t_abs);a.oz=10*a.ampl*Math.cos(128*a.t_abs);a.r=1;a.g=.5;a.b=1;a.a=div(a.q26,18);a.xang=a.t1;a.yang=2*a.t1;a.zang=a.t1;a.fov=.12;a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang);a.my=a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang);a.ox=a.mx;a.oy=a.my;a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang);a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang);a.ox=
a.mx;a.oz=a.mz;a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang);a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang);a.oy=a.my;a.oz=a.mz;a.oz-=6;a.x=div(a.ox*a.fov,a.oz)+.5;a.y=div(a.oy*a.fov,a.oz)+.5;`},{baseVals:{enabled:1},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:"a.a=Math.max(Math.sin(div(a.time,8))-.5,0);a.r=.4;a.g=.2;a.b=.7;a.x=a.sample+.01*Math.cos(243*a.sample+a.time);a.y=.5+.5*Math.sin(div(a.time,13))+.02*Math.sin(143*a.sample);a.a=.7;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.q29=0;a.q1=0;a.dec_med=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.t_rel=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q28=0;a.q20=0;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=
a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_slow*a.p2+(1-a.dec_slow)*a.p1;a.rott=div(3.14159265359*a.p2,2);a.q27=8-a.index;a.q28=.5+div(Math.sin(div(a.time,7)),10);a.q29=a.index4;a.mv_a=.2;a.t_rel=div(a.time,3);a.wave_a=Math.max(Math.sin(div(a.time,8))-.5,0);a.wave_a=0;a.wave_x=.5+.5*Math.sin(div(a.time,13));a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.movez+=div(.3,a.fps);
a.q29=a.movez;a.zoom=1;a.rot=0;a.dx=.003;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = (((uv - vec2(0.5, 0.5)) * texsize.xy) * 0.03);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ((0.99 * texture (sampler_main, (uv + 
    (((clamp (
      (sin(tmpvar_1) / cos(tmpvar_1))
    , vec2(-12.0, -12.0), vec2(12.0, 12.0)) * cos(
      (tmpvar_1.yx * tmpvar_1.yx)
    )) * texsize.zw) * 12.0)
  )).xyz) - 0.01);
  ret = tmpvar_2.xyz;
 }`,comp:`vec3 xlat_mutableret1;
vec2 xlat_mutableuv2;
 shader_body { 
  vec2 uv_1;
  float inten_2;
  float dist_3;
  uv_1 = (uv - 0.5);
  uv_1 = (uv_1 * aspect.xy);
  dist_3 = (1.0 - fract((0.25 + q29)));
  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));
  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, fract(
    (((2.0 * uv_1) * dist_3) + 0.5)
  )).xyz * inten_2));
  xlat_mutableuv2.x = -(uv_1.y);
  xlat_mutableuv2.y = uv_1.x;
  dist_3 = (1.0 - fract((0.5 + q29)));
  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(
    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)
  )).xyz * inten_2));
  dist_3 = (1.0 - fract((0.75 + q29)));
  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(
    (((2.0 * uv_1) * dist_3) + 0.5)
  )).xyz * inten_2));
  xlat_mutableuv2.x = -(uv_1.y);
  xlat_mutableuv2.y = uv_1.x;
  dist_3 = (1.0 - fract((1.0 + q29)));
  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(
    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)
  )).xyz * inten_2));
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = (xlat_mutableret1 * 3.0);
  ret = tmpvar_4.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.980001,decay:.5,echo_zoom:.952379,echo_alpha:.5,echo_orient:3,wave_mode:4,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.391579,wave_scale:1.575857,wave_smoothing:.45,wave_mystery:.08,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_r:.5,wave_g:.79,ob_size:0,ob_a:.8,ib_size:.26,mv_x:31.999998,mv_y:24.000004,mv_l:.05,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,textured:1,rad:.545996,ang:2.199115,tex_ang:.502655,tex_zoom:2.02311,g:1,b:.9,a:.6,r2:.8,g2:.8,b2:.8,a2:.6,border_b:0,border_a:.7},init_eqs_str:"a.q29=0;a.q22=0;a.q23=0;a.q24=0;",frame_eqs_str:"a.tex_ang=1+Math.sin(div(a.time,9));a.rad=a.q29;a.tex_zoom=2+Math.sin(div(a.time,17));a.additive=div(a.q22,6);a.textured=1-bnot(a.q23)*a.q24;"},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:100,x:.503,rad:.01,tex_zoom:.609857,g:.1,a:.9,r2:1,b2:1,border_r:.5,border_g:.5,border_b:.5,border_a:0},init_eqs_str:"a.q21=0;",frame_eqs_str:"a.x=.5+div(randint(10),25);a.y=.5+div(randint(10),25);a.ang=randint(6);a.r=div(randint(4),3);a.g=div(randint(4),3);a.b=div(randint(4),3);a.r2=a.b;a.g2=a.r;a.b2=a.g;a.a=Math.min(div(a.q21,2),.9);a.rad=div(a.a,9);a.a=.5;a.a2=.8;"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.index=0;a.copy=0;a.q22=0;a.q21=0;a.grid=0;a.q29=0;a.q1=0;a.dec_med=0;a.str=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.go=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.rot1=0;a.q28=0;a.q30=0;a.q20=0;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,4);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=
a.beat;a.q22=Math.max(a.peak,4);a.q23=a.index;a.q24=a.is_beat;a.q26=Math.max(a.bass+a.mid+a.treb,3);a.go=a.go*a.dec_slow+(1-a.dec_slow)*equal(a.index2,2);a.movez+=div(3*(1+.3*a.q26),a.fps)*a.go;a.q30=a.movez;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.p3=a.dec_med*a.p3+(1-a.dec_med)*a.p2;a.rott=div(3.1416*a.p3,2);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.str=a.str*a.dec_slow+(1-a.dec_slow)*a.index3;a.q27=4-a.str;
a.grid=a.grid*a.dec_med+(1-a.dec_med)*equal(a.index2,2)*bnot(a.index);a.mv_a=.6*a.grid;a.rot1=a.dec_med*a.rot1+(1-a.dec_med)*bnot(a.index2);a.q28=a.rot1;a.copy=a.copy*a.dec_slow+(1-a.dec_slow)*a.index3;a.q29=.3*a.copy;`,pixel_eqs_str:"a.dx=.02*a.q28;a.rot=.04*a.q2;a.zoom=.96+.1*Math.sin(div(a.time,7));",warp:` shader_body { 
  vec2 zz_1;
  mat2 tmpvar_2;
  tmpvar_2[uint(0)] = _qa.xy;
  tmpvar_2[1u] = _qa.zw;
  zz_1 = (((
    (uv - vec2(0.5, 0.5))
   * texsize.xy) * 0.01) * tmpvar_2);
  zz_1 = -(zz_1.yx);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ((texture (sampler_main, (uv + 
    (((clamp (
      (sin(zz_1.yx) / cos(zz_1.yx))
    , vec2(-8.0, -8.0), vec2(8.0, 8.0)) * cos(
      (4.0 * zz_1)
    )) * texsize.zw) * 16.0)
  )).xyz * 0.99) - 0.01);
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec2 uv3_1;
  vec2 uv2_2;
  vec2 tmpvar_3;
  tmpvar_3 = ((uv - 0.5) * aspect.xy);
  float tmpvar_4;
  tmpvar_4 = (0.1 / (sqrt(
    dot (tmpvar_3, tmpvar_3)
  ) + 0.1));
  vec2 tmpvar_5;
  float tmpvar_6;
  tmpvar_6 = (ang / 3.14);
  tmpvar_5.x = tmpvar_6;
  tmpvar_5.y = (q27 * tmpvar_4);
  uv2_2.y = (tmpvar_5.y + (0.1 * q30));
  uv2_2.x = (tmpvar_6 + (0.2 * time));
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_6;
  tmpvar_7.y = (4.0 * tmpvar_4);
  uv3_1.y = (tmpvar_7.y - (0.2 * q30));
  uv3_1.x = tmpvar_7.x;
  vec2 tmpvar_8;
  tmpvar_8 = fract(uv3_1);
  uv3_1 = tmpvar_8;
  float tmpvar_9;
  tmpvar_9 = clamp ((1.0 - (4.0 * rad)), 0.0, 1.0);
  vec4 tmpvar_10;
  tmpvar_10.w = 1.0;
  tmpvar_10.xyz = (((
    (3.0 * max (((2.0 * texture (sampler_main, uv2_2).xyz) + texture (sampler_main, tmpvar_8).xyz), ((2.0 * 
      ((texture (sampler_blur2, fract(uv2_2)).xyz * scale2) + bias2)
    ) + (
      (texture (sampler_blur2, fract(tmpvar_8)).xyz * scale2)
     + bias2))))
   * rad) + (
    ((uv.y * pow ((1.0 - rad), 8.0)) * roam_cos)
  .xyz * tmpvar_9)) + ((tmpvar_9 * 2.0) * (
    (texture (sampler_blur1, fract(uv)).xyz * scale1)
   + bias1)));
  ret = tmpvar_10.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:6,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,darken_center:1,darken:1,wave_a:.001,wave_scale:.236,wave_smoothing:0,wave_mystery:-.64,modwavealphastart:.81,modwavealphaend:1.4,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_b:.6,ob_size:.005,ob_a:.8,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:18,num_inst:4,x:.83,rad:.14349,tex_ang:3.76991,tex_zoom:5.27784,r:0,g:1,b:1,a:.5,r2:1,g2:.2,b2:1,border_b:0,border_a:0},init_eqs_str:"a.d=0;a.k1=0;a.q22=0;a.q27=0;a.r0=0;a.q24=0;a.g0=0;a.b0=0;",frame_eqs_str:`a.d=.3+.2*div(mod(a.frame,8),8);a.k1=6.28*div(a.instance,a.num_inst);a.d=.3+div(a.q22,8);a.x=.5+a.d*Math.cos(a.k1);a.y=.5+a.d*Math.sin(a.k1);a.a=Math.min(1,.2+div(.8*a.q22,2)*mod(a.q27,2));a.a2=0;a.r=.6+.4*Math.sin(div(a.time,4)+1.56);a.b=.6+.4*Math.sin(div(a.time,4)+3.14);a.g=.6+.4*Math.sin(div(a.time,4));a.r0=a.r0*bnot(a.q24)+(.5+.5*Math.sin(a.time))*a.q24;a.g0=a.g0*bnot(a.q24)+(.5+.5*Math.sin(1.7*a.time))*a.q24;a.b0=div(2-a.r0-a.g0,2);a.r=a.r0;a.b=a.b0;a.g=a.g0;a.r2=1-a.g;
a.g2=1-a.b;a.b2=1-a.r;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:128,scaling:.89152,smoothing:0},init_eqs_str:"a.q22=0;a.q27=0;a.q24=0;a.t1=0;a.t2=0;a.r0=0;a.g0=0;",frame_eqs_str:"a.t1=a.t1*bnot(a.q24)+(.5+.5*Math.sin(a.time))*a.q24;a.t2=a.t2*bnot(a.q24)+(.5+.5*Math.sin(1.7*a.time))*a.q24;",point_eqs_str:"a.x=a.sample;a.y=.5;a.a=a.q22*mod(a.q27+1,2);a.a=div(a.q24*mod(a.q27+1,2),2)+0;a.r=a.t1;a.b=a.t2;a.g=div(2-a.r0-a.g0,2);"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.speed_=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q13=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.movz=0;a.trel=0;a.q9=0;a.rott=0;a.spg=0;a.vol__=0;a.is_beat=0;a.q31=0;a.k1=0;a.q24=0;a.vx=0;a.dec_slow=0;a.vy=0;a.vz=0;a.q4=0;a.dir=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.q17=0;a.vol=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.speed=0;a.q3=0;a.t0=0;a.vol_=0;a.q7=0;a.q28=0;a.q30=0;a.q20=0;a.q8=0;a.ang0=0;a.speed_=1;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.96,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.1);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,12);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q24=a.is_beat;a.vol=div(a.bass_att+a.mid_att+
a.treb_att,2);a.vol_=a.dec_med*a.vol_+(1-a.dec_med)*a.vol;a.vol__=a.dec_med*a.vol__+(1-a.dec_med)*a.vol_;a.q27=a.index+1;a.q28=a.index2+2;a.k1=a.is_beat*equal(mod(a.index,4),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,8));a.vx=a.vx*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vy=a.vy*bnot(a.trig)+a.trig*(div(randint(100),100)-.5);a.vz=a.vz*bnot(a.trig)+
a.trig*(div(randint(100),100)-.5);a.speed=Math.min(a.vol_-a.vol__+.5,1);a.speed=Math.max(a.speed,-.5);a.speed_=bnot(a.trig)*a.speed_+a.trig*a.speed;a.spg=a.dec_med*a.spg+(1-a.dec_med)*a.speed_;a.movz+=div(1,a.fps)*(a.speed_+div(0*a.vol_,6));a.q9=a.movz;a.q12=2*Math.min(a.q22,6);a.q13=2*Math.sin(div(a.movz,3)-div(a.time,11));a.trig=bnot(mod(a.index,4))*a.q24;a.dir=bnot(a.trig)*a.dir+a.trig*(randint(10)-5);a.trel+=div(.1,a.fps)*a.dir;a.q5=Math.cos(a.trel-a.movz);a.q6=Math.sin(div(a.trel,2)-a.movz);
a.q7=-a.q6;a.q8=a.q5;a.ang0=a.ang0*a.dec_med+a.vz*(1-a.dec_med);a.q17=2*a.ang0;a.q30=.2*Math.sin(div(a.time,8));a.q31=.5+.5*Math.sin(div(a.time,3.3));a.zoom=1;a.rot=0;a.dx=0;a.monitor=a.q28;`,pixel_eqs_str:"",pixel_eqs:"",warp:`vec3 xlat_mutablemus;
 shader_body { 
  vec2 d_1;
  vec2 uv6_2;
  vec2 uv1_3;
  vec2 tmpvar_4;
  tmpvar_4 = (uv - 0.5);
  uv1_3 = tmpvar_4;
  uv6_2 = tmpvar_4;
  float x_5;
  x_5 = (abs(tmpvar_4.x) - abs(tmpvar_4.y));
  float tmpvar_6;
  tmpvar_6 = (12.0 * sqrt((x_5 * x_5)));
  vec2 tmpvar_7;
  tmpvar_7 = normalize(tmpvar_4);
  d_1 = tmpvar_7;
  float tmpvar_8;
  tmpvar_8 = (float(mod (q28, 2.0)));
  if ((tmpvar_8 == 0.0)) {
    d_1 = ((q1 * tmpvar_7) - (q2 / tmpvar_7));
  };
  uv1_3 = (tmpvar_4 + ((-0.06 * 
    dot (((texture (sampler_blur1, uv).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))
  ) * normalize(tmpvar_4)));
  uv1_3 = (uv1_3 - (clamp (
    ((sin(tmpvar_6) / cos(tmpvar_6)) * d_1)
  , vec2(-4.0, -4.0), vec2(4.0, 4.0)) / 60.0));
  uv6_2 = (0.4 * cos((
    (uv1_3 * 2.0)
   * q28)));
  xlat_mutablemus = (clamp (vec3((0.0006 / 
    (sqrt(dot (uv6_2, uv6_2)) - (0.002 * (q27 + (8.0 * q28))))
  )), 0.0, 1.0) * q31);
  xlat_mutablemus = (xlat_mutablemus * (1.0 + roam_cos).xyz);
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = ((0.4 * (
    ((texture (sampler_main, ((uv1_3 * 
      (0.8 + (0.2 * tmpvar_6))
    ) + 0.5)).xyz + xlat_mutablemus) * 0.95)
   - 0.025)) + (0.6 * texture (sampler_main, uv_orig)).xyz);
  ret = tmpvar_9.xyz;
 }`,comp:`vec3 xlat_mutableneu;
vec3 xlat_mutableret2;
vec2 xlat_mutablers0;
vec2 xlat_mutablerss;
vec2 xlat_mutableuv2;
 shader_body { 
  vec2 uv_1;
  vec2 ofs_2;
  vec3 ret1_3;
  vec2 uv5_4;
  uv_1 = ((uv - 0.5) * aspect.xy);
  vec2 tmpvar_5;
  tmpvar_5.x = q5;
  tmpvar_5.y = q6;
  uv_1 = (uv_1 + (tmpvar_5 / 4.0));
  uv5_4 = uv_1;
  mat2 tmpvar_6;
  tmpvar_6[uint(0)] = _qb.xy;
  tmpvar_6[1u] = _qb.zw;
  uv_1 = (uv_1 * tmpvar_6);
  float tmpvar_7;
  float tmpvar_8;
  tmpvar_8 = (min (abs(
    (uv5_4.y / uv5_4.x)
  ), 1.0) / max (abs(
    (uv5_4.y / uv5_4.x)
  ), 1.0));
  float tmpvar_9;
  tmpvar_9 = (tmpvar_8 * tmpvar_8);
  tmpvar_9 = (((
    ((((
      ((((-0.01213232 * tmpvar_9) + 0.05368138) * tmpvar_9) - 0.1173503)
     * tmpvar_9) + 0.1938925) * tmpvar_9) - 0.3326756)
   * tmpvar_9) + 0.9999793) * tmpvar_8);
  tmpvar_9 = (tmpvar_9 + (float(
    (abs((uv5_4.y / uv5_4.x)) > 1.0)
  ) * (
    (tmpvar_9 * -2.0)
   + 1.570796)));
  tmpvar_7 = (tmpvar_9 * sign((uv5_4.y / uv5_4.x)));
  if ((abs(uv5_4.x) > (1e-08 * abs(uv5_4.y)))) {
    if ((uv5_4.x < 0.0)) {
      if ((uv5_4.y >= 0.0)) {
        tmpvar_7 += 3.141593;
      } else {
        tmpvar_7 = (tmpvar_7 - 3.141593);
      };
    };
  } else {
    tmpvar_7 = (sign(uv5_4.y) * 1.570796);
  };
  xlat_mutablers0.x = (((tmpvar_7 / 3.1416) * 6.0) * q28);
  float tmpvar_10;
  tmpvar_10 = (1.5 / sqrt(dot (uv_1, uv_1)));
  xlat_mutablers0.y = tmpvar_10;
  vec2 tmpvar_11;
  tmpvar_11.x = (xlat_mutablers0.x + (q9 * 4.0));
  tmpvar_11.y = (tmpvar_10 + ((q9 * q28) * 4.0));
  xlat_mutablerss = (tmpvar_11 / 12.0);
  vec2 tmpvar_12;
  tmpvar_12.x = q5;
  tmpvar_12.y = q6;
  ofs_2 = (0.1 * tmpvar_12.yx);
  float tmpvar_13;
  float tmpvar_14;
  tmpvar_14 = -(q9);
  tmpvar_13 = fract(tmpvar_14);
  mat2 tmpvar_15;
  tmpvar_15[uint(0)].x = 1.0;
  tmpvar_15[uint(0)].y = -0.0;
  tmpvar_15[1u].x = 0.0;
  tmpvar_15[1u].y = 1.0;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_13)
   * tmpvar_15)) * aspect.yx);
  xlat_mutableneu = (3.0 * texture (sampler_main, fract((
    (xlat_mutableuv2 + 0.5)
   + ofs_2)))).xyz;
  ret1_3 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * (1.0 - 
    (tmpvar_13 * tmpvar_13)
  )));
  float tmpvar_16;
  tmpvar_16 = fract((tmpvar_14 + 0.3333333));
  mat2 tmpvar_17;
  tmpvar_17[uint(0)].x = -0.4990803;
  tmpvar_17[uint(0)].y = -0.8665558;
  tmpvar_17[1u].x = 0.8665558;
  tmpvar_17[1u].y = -0.4990803;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_16)
   * tmpvar_17)) * aspect.yx);
  xlat_mutableneu = (3.0 * texture (sampler_main, fract((
    (xlat_mutableuv2 + 0.5)
   + ofs_2)))).xyz;
  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - 
    (tmpvar_16 * tmpvar_16)
  )));
  float tmpvar_18;
  tmpvar_18 = fract((tmpvar_14 + 0.6666667));
  mat2 tmpvar_19;
  tmpvar_19[uint(0)].x = -0.5018377;
  tmpvar_19[uint(0)].y = 0.8649619;
  tmpvar_19[1u].x = -0.8649619;
  tmpvar_19[1u].y = -0.5018377;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_18)
   * tmpvar_19)) * aspect.yx);
  xlat_mutableneu = (3.0 * texture (sampler_main, fract((
    (xlat_mutableuv2 + 0.5)
   + ofs_2)))).xyz;
  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - 
    (tmpvar_18 * tmpvar_18)
  )));
  float tmpvar_20;
  tmpvar_20 = fract((tmpvar_14 + 1.0));
  mat2 tmpvar_21;
  tmpvar_21[uint(0)].x = 0.9999949;
  tmpvar_21[uint(0)].y = 0.003185092;
  tmpvar_21[1u].x = -0.003185092;
  tmpvar_21[1u].y = 0.9999949;
  xlat_mutableuv2 = ((uv_1 * (
    (q13 * tmpvar_20)
   * tmpvar_21)) * aspect.yx);
  xlat_mutableneu = (3.0 * texture (sampler_main, fract((
    (xlat_mutableuv2 + 0.5)
   + ofs_2)))).xyz;
  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - 
    (tmpvar_20 * tmpvar_20)
  )));
  vec2 tmpvar_22;
  tmpvar_22.x = (ret1_3.x + ret1_3.z);
  tmpvar_22.y = (ret1_3.x - ret1_3.y);
  xlat_mutableret2 = (((
    (texture (sampler_blur1, fract((xlat_mutablerss + (tmpvar_22 / 2.0)))).xyz * scale1)
   + bias1) / tmpvar_10) * 12.0);
  vec4 tmpvar_23;
  tmpvar_23.w = 1.0;
  tmpvar_23.xyz = ((ret1_3 + (
    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))
   * roam_sin).xyz) + (sqrt(xlat_mutableret2.zxy) * clamp (
    (1.0 - (ret1_3 * 4.0))
  , 0.0, 1.0)));
  ret = tmpvar_23.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:2,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:7,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,darken:1,wave_a:.001,wave_scale:.958,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:0,wave_b:0,ob_size:0,ob_g:.1,ob_b:1,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:25.6,mv_y:9.6,mv_l:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.n=0;a.reg26=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.q12=0;a.v3=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.movz=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.slow=0;a.reg36=0;a.reg22=0;a.uvy=0;a.rotz=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.vx=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;a.vy=0;a.vz=0;a.reg31=0;a.dirx=0;a.dec_m=0;a.q4=0;a.start=0;a.reg12=
0;a.reg13=0;a.c2=0;a.reg37=0;a.s3=0;a.yslope=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.beat=0;a.q17=0;a.vol=0;a.reg32=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.reg17=0;a.v1=0;a.speed=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.ty=0;a.c1=0;a.v2=0;a.q20=0;a.q8=0;a.avg=.01;a.q7=.2;a.q8=div(randint(200),100)-1;a.q16=1.2;a.q18=randint(.8)+.1;a.q17=2.6;a.start=1;a.travel=
0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=div(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(10)-5;a.posy=randint(10)-5;a.posz=randint(10)-5;a.c1=Math.cos(a.ran1);
a.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,
8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=
a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)*a.q17+a.uvx0,a.uvy=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)*a.q17+a.uvy0,a.uvz=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)*a.q17+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&
1048576>d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);`,frame_eqs_str:`a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.03*30,a.fps_);a.dec_m=1-div(3,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.1,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.4,a.fps_);a.rotz=.00001<Math.abs(2<a.travel?1:0)?.5:0;a.vol=a.vol*a.dec_m+div((1-a.dec_m)*(a.bass_att+a.mid_att+a.treb_att),4);a.q1=div(a.vol,2)+.3;a.dirx=a.reg26;a.diry=a.reg27;
a.dirz=a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.1-a.dist_)*(.1>a.dist_?1:0);a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+div((1-a.dec_s)*a.rotz*a.ds,2);a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;
a.reg36=a.reg26;a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*
a.c1;a.reg15=a.s3*a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+
a.reg15*a.reg27;a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=
a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>
a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)*a.q17+a.uvx0,a.uvy=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)*a.q17+a.uvy0,a.uvz=(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)*a.q17+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<a.len?
1:0)}while(.00001<Math.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+
2*(Math.abs(a.v1)+Math.abs(a.v2)+Math.abs(a.v3))+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.warp=0;a.zoom=1;a.dx=div(-a.v2,a.q16);a.dy=div(a.v3,a.q16);a.rot=a.v1;a.vx-=div(a.v2,a.q16);a.vy+=div(a.v3,a.q16);a.vz+=a.v1;a.q11=a.vx;a.q12=a.vy;a.movz+=a.ds;a.q13=a.movz;a.monitor=a.q13;`,pixel_eqs_str:"",pixel_eqs:"",warp:`float sustain;
float ffac;
float xlat_mutabledist;
float xlat_mutablelimit;
float xlat_mutablestruc;
vec2 xlat_mutableuv1;
vec3 xlat_mutableuv2;
 shader_body { 
  mat3 tmpvar_1;
  tmpvar_1[uint(0)].x = q20;
  tmpvar_1[uint(0)].y = q23;
  tmpvar_1[uint(0)].z = q26;
  tmpvar_1[1u].x = q21;
  tmpvar_1[1u].y = q24;
  tmpvar_1[1u].z = q27;
  tmpvar_1[2u].x = q22;
  tmpvar_1[2u].y = q25;
  tmpvar_1[2u].z = q28;
  vec3 tmpvar_2;
  tmpvar_2.x = q4;
  tmpvar_2.y = q5;
  tmpvar_2.z = q6;
  sustain = (0.98 - q14);
  ffac = q17;
  vec2 uv_3;
  uv_3 = (((uv - 0.5) * (1.0 - 
    (q10 / (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z))
  )) + 0.5);
  xlat_mutableuv1 = (((uv_orig - 0.5) * aspect.xy) * q16);
  vec4 tmpvar_4;
  tmpvar_4 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));
  vec3 tmpvar_5;
  tmpvar_5 = tmpvar_4.xyz;
  if ((tmpvar_4.y > (0.4 * rad))) {
    vec3 tmpvar_6;
    tmpvar_6 = (tmpvar_4.xyz - vec3(0.5, 0.5, 0.5));
    vec4 nb2_7;
    vec4 nb_8;
    vec2 tmpvar_9;
    tmpvar_9 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 - texsize.zw)).yz)
     + vec2(0.5, 0.5))));
    nb_8.x = (1.0 - (tmpvar_9.y + (0.015625 * 
      (tmpvar_9.x - 0.5)
    )));
    vec2 tmpvar_10;
    tmpvar_10 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, -1.0)))).yz)
     + vec2(0.5, 0.5))));
    nb_8.y = (1.0 - (tmpvar_10.y + (0.015625 * 
      (tmpvar_10.x - 0.5)
    )));
    vec2 tmpvar_11;
    tmpvar_11 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 + texsize.zw)).yz)
     + vec2(0.5, 0.5))));
    nb_8.z = (1.0 - (tmpvar_11.y + (0.015625 * 
      (tmpvar_11.x - 0.5)
    )));
    vec2 tmpvar_12;
    tmpvar_12 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 1.0)))).yz)
     + vec2(0.5, 0.5))));
    nb_8.w = (1.0 - (tmpvar_12.y + (0.015625 * 
      (tmpvar_12.x - 0.5)
    )));
    vec2 tmpvar_13;
    tmpvar_13 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, -1.0)))).yz)
     + vec2(0.5, 0.5))));
    nb2_7.x = (1.0 - (tmpvar_13.y + (0.015625 * 
      (tmpvar_13.x - 0.5)
    )));
    vec2 tmpvar_14;
    tmpvar_14 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, 0.0)))).yz)
     + vec2(0.5, 0.5))));
    nb2_7.y = (1.0 - (tmpvar_14.y + (0.015625 * 
      (tmpvar_14.x - 0.5)
    )));
    vec2 tmpvar_15;
    tmpvar_15 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, 1.0)))).yz)
     + vec2(0.5, 0.5))));
    nb2_7.z = (1.0 - (tmpvar_15.y + (0.015625 * 
      (tmpvar_15.x - 0.5)
    )));
    vec2 tmpvar_16;
    tmpvar_16 = (0.0078125 * floor((
      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 0.0)))).yz)
     + vec2(0.5, 0.5))));
    nb2_7.w = (1.0 - (tmpvar_16.y + (0.015625 * 
      (tmpvar_16.x - 0.5)
    )));
    vec4 tmpvar_17;
    tmpvar_17 = min (nb_8, nb2_7);
    nb_8.zw = tmpvar_17.zw;
    nb_8.xy = min (tmpvar_17.xy, tmpvar_17.zw);
    xlat_mutabledist = (min (nb_8.x, nb_8.y) + ((0.006 * tmpvar_6.x) * abs(tmpvar_6.y)));
  } else {
    xlat_mutabledist = tmpvar_5.x;
  };
  vec2 tmpvar_18;
  tmpvar_18 = (0.0078125 * floor((
    (128.0 * texture (sampler_pc_main, uv_3).yz)
   + vec2(0.5, 0.5))));
  xlat_mutabledist = (min (xlat_mutabledist, (1.0 - 
    (tmpvar_18.y + (0.015625 * (tmpvar_18.x - 0.5)))
  )) - (q10 * 0.8));
  xlat_mutablelimit = (15.0 + (10.0 * xlat_mutabledist));
  vec3 tmpvar_19;
  tmpvar_19.xy = (xlat_mutableuv1 * xlat_mutabledist);
  tmpvar_19.z = xlat_mutabledist;
  xlat_mutableuv2 = (((tmpvar_19 / q7) * tmpvar_1) + tmpvar_2);
  xlat_mutableuv2 = ((fract(
    ((xlat_mutableuv2 / 8.0) + 0.5)
  ) - 0.5) * 8.0);
  int iterations_21;
  vec3 zz0_22;
  vec3 zz_23;
  zz_23 = xlat_mutableuv2;
  zz0_22 = (xlat_mutableuv2 + q8);
  iterations_21 = int((8.0 - float(
    (xlat_mutabledist > 0.8)
  )));
  for (int n_20 = 0; n_20 <= iterations_21; n_20++) {
    zz_23 = ((2.0 * clamp (zz_23, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_23);
    zz_23 = (zz_23 * (clamp (
      max ((0.25 / dot (zz_23, zz_23)), 0.25)
    , 0.0, 1.0) * 4.0));
    zz_23 = ((ffac * zz_23) + zz0_22);
  };
  xlat_mutablestruc = (sqrt(dot (zz_23.xz, zz_23.xz)) / xlat_mutablelimit);
  vec2 tmpvar_24;
  tmpvar_24 = (0.0078125 * floor((
    (128.0 * vec2((1.0 - xlat_mutabledist)))
   + vec2(0.5, 0.5))));
  vec2 tmpvar_25;
  tmpvar_25.x = ((64.0 * (
    (1.0 - xlat_mutabledist)
   - tmpvar_24.x)) + 0.5);
  tmpvar_25.y = tmpvar_24.x;
  vec3 tmpvar_26;
  float tmpvar_27;
  tmpvar_27 = (q14 * 2.0);
  tmpvar_26.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, 
    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)
  , vec3(tmpvar_27)).x));
  tmpvar_26.yz = tmpvar_25;
  vec3 tmpvar_28;
  tmpvar_28.y = 1.0;
  tmpvar_28.x = sustain;
  tmpvar_28.z = 1.0;
  vec3 tmpvar_29;
  tmpvar_29.y = 0.0;
  tmpvar_29.x = 0.003921569;
  tmpvar_29.z = (0.01568628 * (0.2 + rad));
  vec4 tmpvar_30;
  tmpvar_30.w = 1.0;
  tmpvar_30.xyz = mix (tmpvar_26, ((
    mix (texture (sampler_main, uv_3).xyz, ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1), vec3(tmpvar_27))
   * tmpvar_28) - tmpvar_29), vec3(clamp ((
    sqrt(dot (zz_23, zz_23))
   - xlat_mutablelimit), 0.0, 1.0)));
  ret = tmpvar_30.xyz;
 }`,comp:`float xlat_mutableinten;
float xlat_mutabletmp;
vec2 xlat_mutableuv1;
vec2 xlat_mutableuv2;
float xlat_mutablez;
 shader_body { 
  float t_rel_2;
  vec3 ret1_3;
  float struc_4;
  xlat_mutableuv1 = ((uv * aspect.xy) - vec2(0.5, 0.5));
  vec4 tmpvar_5;
  tmpvar_5 = texture (sampler_main, uv);
  float tmpvar_6;
  vec4 tmpvar_7;
  tmpvar_7 = texture (sampler_blur1, uv);
  tmpvar_6 = mix (min ((1.0 - tmpvar_5.z), (1.0 - 
    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)
  .z)), (1.0 - (
    (tmpvar_7.xyz * scale1)
   + bias1).z), 0.5);
  struc_4 = ((mix (tmpvar_5.xyz, 
    ((tmpvar_7.xyz * scale1) + bias1)
  , vec3(tmpvar_6)).x * (1.0 - tmpvar_6)) * tmpvar_6);
  vec2 tmpvar_8;
  tmpvar_8.x = q11;
  tmpvar_8.y = q12;
  xlat_mutableuv2 = ((xlat_mutableuv1 * 0.2) - (tmpvar_8 * 0.2));
  vec2 uvi_9;
  uvi_9 = (xlat_mutableuv2 * 4.0);
  float zv_10;
  zv_10 = (0.008 * time);
  xlat_mutabletmp = clamp (dot ((texture (sampler_noise_hq, 
    (xlat_mutableuv2 + (0.03 * ((
      (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (
        (uvi_9 * 2.0)
       + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))
     + 
      (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + (2.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)
    ) + (
      dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + (4.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0))
     / 8.0))))
  ) - 0.4), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);
  float tmpvar_11;
  tmpvar_11 = clamp ((pow (xlat_mutabletmp, 1.2) * sign(xlat_mutabletmp)), 0.0, 1.0);
  xlat_mutabletmp = tmpvar_11;
  vec3 tmpvar_12;
  tmpvar_12.xy = vec2(0.1, 0.1);
  tmpvar_12.z = (1.2 - uv.y);
  ret1_3 = ((tmpvar_12 + 0.07) + ((
    clamp (((tmpvar_6 * 2.0) - 1.5), 0.0, 1.0)
   * tmpvar_11) * 4.0));
  t_rel_2 = (q13 * 6.0);
  for (int n_1 = 1; n_1 <= 3; n_1++) {
    xlat_mutablez = (1.0 - fract((
      (float(n_1) / 3.0)
     - 
      (fract(-(t_rel_2)) / 3.0)
    )));
    xlat_mutableinten = (((1.0 - xlat_mutablez) * xlat_mutablez) * 2.0);
    vec2 tmpvar_13;
    tmpvar_13.x = q11;
    tmpvar_13.y = q12;
    xlat_mutableuv2 = (((xlat_mutablez * xlat_mutableuv1) / 4.0) - (tmpvar_13 / 6.0));
    vec2 uvi_14;
    uvi_14 = (xlat_mutableuv2 * 4.0);
    float zv_15;
    zv_15 = (0.008 * time);
    xlat_mutabletmp = clamp (dot ((
      (texture (sampler_noise_hq, (xlat_mutableuv2 + (0.03 * (
        ((dot (texture (sampler_noise_hq, uvi_14), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, 
          ((uvi_14 * 2.0) + zv_15)
        ), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0)) + (dot (texture (sampler_noise_hq, (
          (uvi_14 * 4.0)
         + 
          (2.0 * zv_15)
        )), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0))
       + 
        (dot (texture (sampler_noise_hq, ((uvi_14 * 8.0) + (4.0 * zv_15))), vec4(0.32, 0.49, 0.29, 0.0)) / 8.0)
      )))) - (xlat_mutablez * 0.5))
     - 0.3), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);
    xlat_mutabletmp = (((
      clamp ((xlat_mutabletmp * sign(xlat_mutabletmp)), 0.0, 1.0)
     * xlat_mutableinten) * q1) * 2.0);
    ret1_3 = (((ret1_3 + 
      ((vec3(4.0, 3.0, 0.8) * q1) * struc_4)
    ) * clamp (
      (1.0 - xlat_mutabletmp)
    , 0.0, 1.0)) + xlat_mutabletmp);
  };
  vec4 tmpvar_16;
  tmpvar_16.w = 1.0;
  tmpvar_16.xyz = (1.0 - exp((-1.6 * ret1_3)));
  ret = tmpvar_16.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,additivewave:1,wave_dots:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.527,wave_smoothing:0,wave_mystery:.6,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_g:.49,ob_a:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b2x:.6,b3x:.4,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:5,additive:1,num_inst:256,x:.26,y:.2,rad:.39317,tex_zoom:.9355,g2:0,a2:.2,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.n=0;a.w=0;a.high=0;a.q12=0;a.arg=0;a.q13=0;a.y0=0;a.flen=0;a.x0=0;a.k1=0;a.q11=0;a.z0=0;a.exc=0;a.p2=0;a.p1=0;a.a0=0;a.q2=0;a.slen=0;a.q14=0;a.q3=0;a.q32=0;a.rad0=0;",frame_eqs_str:`a.n=a.instance;a.flen=a.reg00;a.slen=div(a.reg00,2);a.z0=10;a.y0=div(a.gmegabuf[Math.floor(2E3+a.n+a.flen)],a.z0);a.x0=div(a.gmegabuf[Math.floor(2E3+a.n)],a.z0);a.a0=a.gmegabuf[Math.floor(a.n+1E4)];a.k1=div(a.instance,a.num_inst)-.5;a.x=.5+a.x0+Math.sin(8*a.k1*Math.sin(.07*a.q12))*Math.sin(.13*a.q11)*a.q3*.7;a.y=.5+a.q32*(a.y0+Math.sin(8*a.k1*Math.sin(.1*a.q14))*Math.sin(.2*a.q13)*a.q3*.7);a.arg=div(a.q2,8);a.high=Math.exp(-500*pow(a.arg+.5-div(a.instance,a.num_inst),2));a.high+=
Math.exp(-500*pow(-a.arg+.5-div(a.instance,a.num_inst),2));a.exc=sqrt(pow(a.x-.5,2)+pow(a.y-.5,2));a.rad0=above(a.z0,0)*Math.min(.1,div(a.a0,60))+.005;a.rad0=a.rad0*(1+2*a.exc)*(1+a.high);a.p1=.5+div(Math.sin(a.q12),2);a.p2=.5+div(Math.sin(1.4*a.q13),2);a.exc=pow(a.x-a.p1,2)+pow(a.y-a.p2,2);a.rad=Math.min(a.rad0*(1+div(.004*a.q3,Math.abs(a.exc))),1);a.a=Math.min(8*a.a0+.4,1);a.k1=5*div(a.instance,a.num_inst)+a.high;a.w=1-Math.exp(div(-a.treb_att,2)-.5);a.g=a.w+(1-a.w)*Math.sin(a.k1);a.r=a.w+(1-a.w)*
Math.sin(a.k1-div(6.28,3));a.b=a.w+(1-a.w)*Math.sin(a.k1-div(12.56,3));a.a2=div(a.a,4);a.g2=0*a.g;a.b2=0*a.b;a.r2=0*a.r;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,sep:120,spectrum:1,additive:1,scaling:7.52386,smoothing:0,r:0,a:.7},init_eqs_str:"a.flen=0;a.n=0;a.vol=0;a.chg=0;a.dec=0;a.q1=0;a.q2=0;",frame_eqs_str:"",point_eqs_str:`a.flen=a.reg00;a.n=Math.floor(a.sample*a.flen);a.vol=(a.value1+a.value2)*(1+div(.1,a.sample+.03));a.chg=Math.min(Math.max(a.vol-a.gmegabuf[Math.floor(a.n)],-1),1);a.dec=.00001<Math.abs(0<a.chg?1:0)?1-.3*a.chg:1+.2*a.chg;a.chg=a.q1-a.q2;a.dec=.94-Math.abs(a.chg)*(.00001<Math.abs(0<a.chg?1:0)?.2:.1);a.dec=Math.min(Math.max(a.dec,0),1);a.gmegabuf[Math.floor(a.n)]=a.gmegabuf[Math.floor(a.n)]*a.dec+a.vol*(1-a.dec);a.dec=div(a.q2,4);a.dec=Math.max(Math.min(a.dec,1),.1);a.gmegabuf[Math.floor(a.n)]=
a.gmegabuf[Math.floor(a.n)]*a.dec+a.gmegabuf[Math.floor(a.n+(.8>a.q2?1:0))]*(1-a.dec);a.gmegabuf[Math.floor(a.n+1E4)]=.2*a.gmegabuf[Math.floor(a.n+1E4)]+div(.8*a.vol,3);a.a=0;a.x=a.sample;a.y=.2+.23*a.gmegabuf[Math.floor(a.n+0)];`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.n=0;a.sw2=0;a.in1=0;a.q12=0;a.q13=0;a.sw3=0;a.dif=0;a.q1=0;a.lev3=0;a.flen=0;a.lev4=0;a.in2=0;a.lev1=0;a.k1=0;a.q11=0;a.ofs=0;a.dec_m=0;a.i=0;a.k=0;a.m2=0;a.vol=0;a.q2=0;a.slen=0;a.m1=0;a.q14=0;a.sw1=0;a.lev2=0;a.q3=0;a.reg00=0;a.vol_=0;a.dec=0;a.q32=0;a.sw4=0;for(var b=a.n=0;5E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.sw1=randint(8);a.sw2=randint(8);a.sw3=randint(8);a.sw4=randint(8);",frame_eqs_str:`a.flen=512;a.reg00=a.flen;a.slen=div(a.flen,2);a.dec_m=pow(.94,div(30,a.fps));a.n=0;for(var b=a.vol=0;b<a.slen;b++)a.vol+=div(pow(a.gmegabuf[Math.floor(a.n)],2),a.flen),a.n+=1;a.vol=div(sqrt(a.vol),2);a.vol_=a.vol_*a.dec_m+(1-a.dec_m)*a.vol;a.lev1=a.lev1*a.dec_m+(1-a.dec_m)*a.gmegabuf[1];a.lev2=a.lev2*a.dec_m+(1-a.dec_m)*a.gmegabuf[20];a.lev3=a.lev3*a.dec_m+(1-a.dec_m)*a.gmegabuf[50];a.lev4=a.lev4*a.dec_m+(1-a.dec_m)*a.gmegabuf[100];a.sw1+=div(0<a.lev1-a.gmegabuf[1]?1:0,a.fps);
a.sw2+=div(0<a.lev2-a.gmegabuf[20]?1:0,a.fps);a.sw3+=div(0<a.lev3-a.gmegabuf[50]?1:0,a.fps);a.sw4+=div(0<a.lev4-a.gmegabuf[100]?1:0,a.fps);a.dif=16*(1+Math.sin(div(a.sw3,4)))+2;a.ofs=8*Math.sin(div(a.sw2,3));a.n=0;a.k1=0*a.frame;for(b=0;b<a.slen;b++)a.m1=mod(a.n,a.slen),a.m2=mod(a.n+a.ofs,a.slen),a.k=mod(a.m1+a.dif,a.slen),a.i=mod(a.slen+a.m2-a.dif,a.slen),a.in1=1.2*div(a.gmegabuf[Math.floor(a.m1)]-a.gmegabuf[Math.floor(a.k)],pow(a.vol_+.03,.8)),a.in2=1.2*div(a.gmegabuf[Math.floor(a.m2)]-a.gmegabuf[Math.floor(a.i)],
pow(a.vol_+.03,.8)),a.dec=.00001<Math.abs(pow(a.gmegabuf[Math.floor(2E3+a.n)],2)+pow(a.gmegabuf[Math.floor(2E3+a.flen+a.n)],2)>a.in1*a.in1+a.in2*a.in2?1:0)?.8:.94,a.dec=pow(a.dec,div(30,a.fps)),a.gmegabuf[Math.floor(2E3+a.n)]=a.gmegabuf[Math.floor(2E3+a.n)]*a.dec+(1-a.dec)*a.in1,a.gmegabuf[Math.floor(2E3+a.flen+a.n)]=a.gmegabuf[Math.floor(2E3+a.flen+a.n)]*a.dec+(1-a.dec)*a.in2,a.n+=1;a.q1=div(a.bass+a.treb+a.mid,3);a.q2=div(a.bass_att+a.treb_att+a.mid_att,3);a.q3=a.vol_;a.q11=a.sw1;a.q12=a.sw2;a.q13=
a.sw3;a.q14=a.sw4;a.rot=0;a.zoom=.98;a.warp=.3;a.rot=0;a.q32=a.aspecty;a.monitor=a.dif;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * clamp (
    (q1 - 0.8)
  , 0.0, 1.0)) * 0.92);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  ret_1 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur2, uv).xyz * scale2) + bias2));
  ret_1 = (ret_1 + ((0.8 * 
    (hue_shader - 0.8)
  ) * (1.0 - uv.y)));
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ret_1;
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:4,additivewave:1,wave_dots:1,modwavealphabyvolume:1,darken:1,wave_a:.33064,wave_scale:.897961,wave_smoothing:.108,wave_mystery:.1,modwavealphastart:.72,modwavealphaend:1.28,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:.5,wave_b:.5,wave_y:.54,ob_r:1,ob_g:1,ob_b:1,ib_size:.26,mv_x:24.799994,mv_dy:.16,mv_l:1.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:352,usedots:1,additive:1,scaling:.038558,smoothing:.2,g:0},init_eqs_str:"a.t02=0;a.q1=0;a.ratio=0;a.ampl=0;a.x1=0;a.y1=0;",frame_eqs_str:"a.q1=a.bass_att;",point_eqs_str:`a.r=Math.abs(Math.sin(div(a.frame,38)));a.g=.5*Math.abs(Math.cos(div(a.frame,45)));a.b=.5*Math.abs(Math.sin(div(a.frame,133)));a.a=.3;a.t02+=div(a.q1,10);a.ratio=Math.sin(div(a.frame,49));a.ampl=.01+.4*sqr(Math.sin(div(a.frame,18))*Math.cos(div(a.frame,123)));a.x1=div(a.r-.5,15)+.5+a.ampl*Math.sin(6.28*a.sample);a.y1=div(a.b-.5,15)+.5+a.ampl*Math.cos(6.28*a.sample);a.x=a.x1+.2*(a.ampl+a.ratio)*Math.sin(6.28*a.sample*a.ratio*7.3);a.y=a.y1+.2*(a.ampl+a.ratio)*Math.cos(37.68*a.sample);
`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.q25=0;a.index=0;a.q18=0;a.q22=0;a.q21=0;a.q29=0;a.q6=0;a.movex=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.mov=0;a.avg=0;a.beat=0;a.p1=0;a.dx1=0;a.peak=0;a.q2=0;a.q27=0;a.clear=0;a.p3=0;a.q3=0;a.t0=0;a.rot1=0;a.q32=0;a.q28=0;a.q20=0;a.clear=.5;",frame_eqs_str:`a.dec_med=pow(.96,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,4);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.q20=a.avg;a.q21=
a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.p3=a.dec_med*a.p3+(1-a.dec_med)*a.p2;a.rott=div(3.1416*a.p3,4);a.rot1+=a.q26;a.q25=.01*a.rot1;a.q27=8-a.index;a.q28=a.index3;a.dx1=a.dec_med*a.dx1+(1-a.dec_med)*bnot(a.index2);a.q29=a.dx1;a.monitor=a.q29;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q5=1.5*Math.cos(div(a.time,9));a.q6=.5*Math.sin(div(a.time,
7));a.clear=a.clear*a.dec_med+1-a.dec_med;a.q32=a.clear;a.mov=bnot(a.q24)*a.movex+(div(randint(100),100)-50)*a.q2;a.movex+=div(.2,a.fps)*a.q2;a.q18=a.movex;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 uv6_1;
  vec2 tmpvar_2;
  tmpvar_2 = ((uv - 0.5) * aspect.xy);
  float tmpvar_3;
  tmpvar_3 = (rand_frame * 64.0).x;
  uv6_1 = (0.5 * cos((
    ((tmpvar_2 * mat2(0.7, -0.7, 0.7, 0.7)) * 17.0)
   + 
    (rand_frame * 6.0)
  .xy)));
  float x_4;
  x_4 = (uv6_1.x + uv6_1.y);
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = ((0.147 * (
    (texture (sampler_main, (uv + clamp ((
      (sin(tmpvar_3) / cos(tmpvar_3))
     * 
      normalize(tmpvar_2)
    ), vec2(-8.0, -8.0), vec2(8.0, 8.0)))).xyz + (0.15 * (vec3((0.01 / 
      sqrt((x_4 * x_4))
    )) * roam_cos.xyz)))
   - 0.02)) + ((0.85 * 
    (texture (sampler_main, uv_orig).xyz - 0.002)
  ) * q32));
  ret = tmpvar_5.xyz;
 }`,comp:`vec2 xlat_mutabledz;
vec3 xlat_mutableret1;
vec2 xlat_mutableuv3;
vec2 xlat_mutableuv4;
 shader_body { 
  vec2 uv_1;
  float inten_2;
  float dist_3;
  vec3 ret_4;
  uv_1 = (uv - 0.5);
  float tmpvar_5;
  tmpvar_5 = (time / 2.0);
  dist_3 = (1.0 - fract(tmpvar_5));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);
  vec2 tmpvar_6;
  tmpvar_6.y = 0.4;
  tmpvar_6.x = q18;
  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_6);
  vec2 tmpvar_7;
  tmpvar_7.y = 0.0;
  tmpvar_7.x = texsize.z;
  vec2 tmpvar_8;
  tmpvar_8.y = 0.0;
  tmpvar_8.x = texsize.z;
  xlat_mutabledz.x = (inten_2 * dot ((texture (sampler_main, 
    (xlat_mutableuv3 + tmpvar_7)
  ).xyz - texture (sampler_main, 
    (xlat_mutableuv3 - tmpvar_8)
  ).xyz), vec3(0.32, 0.49, 0.29)));
  vec2 tmpvar_9;
  tmpvar_9.x = 0.0;
  tmpvar_9.y = texsize.w;
  vec2 tmpvar_10;
  tmpvar_10.x = 0.0;
  tmpvar_10.y = texsize.w;
  xlat_mutabledz.y = (inten_2 * dot ((texture (sampler_main, 
    (xlat_mutableuv3 + tmpvar_9)
  ).xyz - texture (sampler_main, 
    (xlat_mutableuv3 - tmpvar_10)
  ).xyz), vec3(0.32, 0.49, 0.29)));
  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));
  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);
  vec2 tmpvar_11;
  tmpvar_11.y = 0.4;
  tmpvar_11.x = q18;
  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_11);
  vec2 tmpvar_12;
  tmpvar_12.y = 0.0;
  tmpvar_12.x = texsize.z;
  vec2 tmpvar_13;
  tmpvar_13.y = 0.0;
  tmpvar_13.x = texsize.z;
  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (
    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_12)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_13)).xyz)
  , vec3(0.32, 0.49, 0.29))));
  vec2 tmpvar_14;
  tmpvar_14.x = 0.0;
  tmpvar_14.y = texsize.w;
  vec2 tmpvar_15;
  tmpvar_15.x = 0.0;
  tmpvar_15.y = texsize.w;
  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (
    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_14)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_15)).xyz)
  , vec3(0.32, 0.49, 0.29))));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));
  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);
  vec2 tmpvar_16;
  tmpvar_16.y = 0.4;
  tmpvar_16.x = q18;
  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_16);
  vec2 tmpvar_17;
  tmpvar_17.y = 0.0;
  tmpvar_17.x = texsize.z;
  vec2 tmpvar_18;
  tmpvar_18.y = 0.0;
  tmpvar_18.x = texsize.z;
  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (
    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_17)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_18)).xyz)
  , vec3(0.32, 0.49, 0.29))));
  vec2 tmpvar_19;
  tmpvar_19.x = 0.0;
  tmpvar_19.y = texsize.w;
  vec2 tmpvar_20;
  tmpvar_20.x = 0.0;
  tmpvar_20.y = texsize.w;
  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (
    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_19)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_20)).xyz)
  , vec3(0.32, 0.49, 0.29))));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));
  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);
  vec2 tmpvar_21;
  tmpvar_21.y = 0.4;
  tmpvar_21.x = q18;
  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_21);
  vec2 tmpvar_22;
  tmpvar_22.y = 0.0;
  tmpvar_22.x = texsize.z;
  vec2 tmpvar_23;
  tmpvar_23.y = 0.0;
  tmpvar_23.x = texsize.z;
  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (
    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_22)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_23)).xyz)
  , vec3(0.32, 0.49, 0.29))));
  vec2 tmpvar_24;
  tmpvar_24.x = 0.0;
  tmpvar_24.y = texsize.w;
  vec2 tmpvar_25;
  tmpvar_25.x = 0.0;
  tmpvar_25.y = texsize.w;
  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (
    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_24)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_25)).xyz)
  , vec3(0.32, 0.49, 0.29))));
  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));
  uv_1 = (uv_1 + xlat_mutabledz);
  vec2 tmpvar_26;
  tmpvar_26.x = q5;
  tmpvar_26.y = q6;
  xlat_mutableuv4 = (uv_1 - (0.4 * tmpvar_26));
  float tmpvar_27;
  tmpvar_27 = (0.1 * clamp ((1.0/(
    (abs(uv_1.y) + 0.1)
  )), 0.0, 12.0));
  vec2 tmpvar_28;
  tmpvar_28.x = (uv_1.x * tmpvar_27);
  tmpvar_28.y = tmpvar_27;
  vec3 tmpvar_29;
  tmpvar_29.xy = vec2(0.0, 0.0);
  tmpvar_29.z = clamp ((1.0 - (3.0 * uv_1.y)), 0.0, 1.0);
  ret_4 = (vec3(0.0, 0.1, 0.1) + (0.1 * tmpvar_29));
  ret_4 = (ret_4 + (vec3(dot (texture (sampler_noise_hq, 
    (tmpvar_28 + (0.1 * time))
  ), vec4(0.32, 0.49, 0.29, 0.0))) * (
    (clamp ((1.0 - (12.0 * uv_1.y)), 0.0, 1.0) * 0.1)
   / 
    (0.05 + sqrt(dot (xlat_mutableuv4, xlat_mutableuv4)))
  )));
  ret_4 = (ret_4 + ((0.4 * xlat_mutableret1) + (xlat_mutableret1 * q22)));
  vec4 tmpvar_30;
  tmpvar_30.w = 1.0;
  tmpvar_30.xyz = ret_4;
  ret = tmpvar_30.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:2,modwavealphabyvolume:1,wave_brighten:0,wrap:0,darken:1,wave_a:.001,wave_scale:20.944651,wave_smoothing:0,wave_mystery:.08,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:.99,ob_size:.015,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,textured:1,y:.47,rad:.24057,tex_zoom:.14057,g:.3,b:.5,g2:0,b2:.3,a2:1,border_b:0,border_a:0},init_eqs_str:"a.q24=0;",frame_eqs_str:"a.x=.5;a.y=.5;a.a=a.q24;a.a2=a.q24;"},{baseVals:{enabled:1,sides:100,additive:1,thickoutline:1,rad:.05134,tex_zoom:.12288,r:.3,g:.2,b:.2,a:.7,g2:0,border_r:0,border_g:.5,border_b:.5,border_a:0},init_eqs_str:"",frame_eqs_str:"a.r=.5+.3*Math.sin(a.time);a.g=.5+.3*Math.sin(div(a.time,1.5));a.b=.5+.3*Math.sin(div(a.time,3.7));a.r2=0;a.b2=0;a.g2=0;a.a=.05;a.a2=0;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:100,thick:1,scaling:.045052,smoothing:.1,a:.6},init_eqs_str:"a.k1=0;a.dy=0;a.dx=0;a.t2=0;a.q24=0;a.q27=0;",frame_eqs_str:"a.t2=.45+div(randint(10),100);",point_eqs_str:"a.k1=bnot(mod(100*a.sample+a.time,2));a.dy=.015*above(Math.sin(11*a.sample),0)+.008*above(Math.sin(a.time+74*a.sample),0)+.008*above(Math.sin(a.time+128*a.sample),0);a.dx=.01*above(Math.sin(27*a.sample),0)+.01*above(Math.sin(a.time+134*a.sample),0);a.x=.2*(a.sample-.5)+.5+a.dx;a.y=a.t2+a.dy;a.a=a.q24*a.k1*bnot(mod(a.q27,4));a.r=.6;a.g=0;a.b=.6;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.dec_xlow=0;a.index2=0;a.speed_=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.q9=0;a.movx=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q10=0;a.tilt_=0;a.q4=0;a.peakx=0;a.dir__=0;a.dir=0;a.dir_=0;a.movy=0;a.q26=0;a.maxp=0;a.p2=0;a.avg=0;a.trig=0;a.beat=0;a.p1=0;a.peak=0;a.tilt=0;a.q2=0;a.q27=0;a.speed=0;a.q3=0;a.t0=0;a.q7=0;a.q20=0;a.q8=0;a.xk=0;",frame_eqs_str:`a.dec_med=pow(.8,div(30,a.fps));a.dec_slow=pow(.95,div(30,a.fps));a.dec_xlow=pow(.995,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,16);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=
a.index;a.q24=a.is_beat;a.q26=a.bass_att+a.mid_att+a.treb_att;a.q27=a.index+1;a.peakx=above(a.q22,1.5*a.maxp);a.maxp=Math.max(a.maxp,a.q22);a.maxp*=a.dec_xlow;a.k1=a.is_beat*equal(mod(a.index,3),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.trig=a.q24*bnot(mod(a.index,4));a.dir=a.dir+div(a.trig*a.q26*(div(randint(100),100)-.5),2)+a.peakx;a.dir_=a.dir_*a.dec_slow+a.dir*(1-a.dec_slow);
a.dir__=a.dir__*a.dec_slow+a.dir_*(1-a.dec_slow);a.q5=Math.cos(a.dir__);a.q6=Math.sin(a.dir__);a.speed=a.speed*bnot(a.trig)+div(a.trig*a.q26*5,a.fps);a.speed_=a.speed_*a.dec_slow+a.speed*(1-a.dec_slow);a.movx+=a.speed_*a.q6;a.movy+=a.speed_*a.q5;a.q7=a.movx;a.q8=a.movy;a.tilt=a.dir-a.dir__;a.tilt_=a.dec_slow*a.tilt_+(1-a.dec_slow)*a.tilt;a.monitor=a.maxp;a.q9=Math.cos(a.tilt_*a.speed_);a.q10=Math.sin(a.tilt_*a.speed_);a.q12=a.time;`,pixel_eqs_str:"a.zoom=1.3;",warp:` shader_body { 
  vec2 uv_1;
  vec2 uv6_2;
  vec2 tmpvar_3;
  tmpvar_3 = ((uv - 0.5) * aspect.xy);
  float tmpvar_4;
  tmpvar_4 = ((2.0 * sqrt(
    dot (tmpvar_3, tmpvar_3)
  )) + (rand_frame * 64.0)).x;
  uv_1 = (uv + (clamp (
    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))
  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));
  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = (((q24 * 
    (((texture (sampler_main, uv_1).xyz - (
      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)
     * 0.04)) + (0.15 * (vec3(
      (0.1 / sqrt(dot (uv6_2, uv6_2)))
    ) * roam_cos.xyz))) - 0.02)
  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));
  ret = tmpvar_5.xyz;
 }`,comp:`vec3 xlat_mutableret1;
vec2 xlat_mutablers;
 shader_body { 
  vec2 uv1_1;
  mat2 tmpvar_2;
  tmpvar_2[uint(0)].x = q9;
  tmpvar_2[uint(0)].y = -(q10);
  tmpvar_2[1u].x = q10;
  tmpvar_2[1u].y = q9;
  uv1_1 = (((uv_orig - 0.5) * aspect.xy) * tmpvar_2);
  uv1_1 = (uv1_1 * aspect.yx);
  float tmpvar_3;
  tmpvar_3 = (3.0 / abs(uv1_1.y));
  xlat_mutablers.x = (uv1_1.x * tmpvar_3);
  xlat_mutablers.y = (tmpvar_3 / 2.0);
  mat2 tmpvar_4;
  tmpvar_4[uint(0)].x = q5;
  tmpvar_4[uint(0)].y = -(q6);
  tmpvar_4[1u].x = q6;
  tmpvar_4[1u].y = q5;
  xlat_mutablers = (tmpvar_4 * xlat_mutablers);
  vec2 tmpvar_5;
  tmpvar_5.x = q7;
  tmpvar_5.y = q8;
  xlat_mutablers = (xlat_mutablers + tmpvar_5);
  xlat_mutableret1 = ((texture (sampler_blur1, fract(
    (xlat_mutablers / 12.0)
  )).xyz * scale1) + bias1);
  vec2 tmpvar_6;
  tmpvar_6.y = 0.0;
  tmpvar_6.x = q5;
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = (((xlat_mutableret1 * 32.0) / tmpvar_3) + ((
    ((q22 * sqrt(tmpvar_3)) / 4.0)
   * 
    sin(((uv1_1 - q12) * q27))
  .x) * texture (sampler_main, (
    (((4.0 * xlat_mutableret1) / tmpvar_3).xy + ((uv1_1 / 2.0) / (0.5 + abs(uv1_1.y))))
   + tmpvar_6)).xyz));
  ret = tmpvar_7.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.98,decay:.5,echo_zoom:.952,echo_alpha:.5,echo_orient:3,wave_mode:5,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.474,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:.8,wave_g:.49,ob_size:0,ob_a:.3,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1x:.8,b1ed:0},shapes:[{baseVals:{enabled:1,sides:7,additive:1,num_inst:1024,rad:.04896,tex_ang:1.00531,tex_zoom:1.53117,r:0,g:1,b:1,a:0,g2:0,border_b:0,border_a:0},init_eqs_str:"a.max_age=0;a.n=0;a.x0=0;a.y0=0;a.z0=0;a.rad0=0;",frame_eqs_str:`a.max_age=a.reg00;a.n=12*a.instance;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)];.00001<Math.abs(-100>a.z0?1:0)?(a.rad=0,a.gmegabuf[Math.floor(a.n+8)]=a.max_age):(a.rad0=div(pow(1-div(a.gmegabuf[Math.floor(a.n+8)],a.max_age),.2),a.z0)*a.gmegabuf[Math.floor(a.n+7)]+.01,a.rad=.032*Math.abs(a.rad0),a.x=.5+div(a.x0,a.z0),a.y=.5+div(a.y0,a.z0));a.a=1;a.a2=.2;a.g=.8;a.g2=0;a.b=.2*(3<randint(10)?1:0)+.2*(0>a.z0?1:0);a.b2=0;
`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:160,sep:20,usedots:1,additive:1,scaling:7.858,smoothing:.1,r:.2,g:.3,a:.6},init_eqs_str:"a.q32=0;",frame_eqs_str:"",point_eqs_str:"a.x=div(randint(100),100);a.y=.5-div(1-.7,a.q32)-.15*(div(randint(100),100)-.5);a.a=.15;a.r=0;a.b=1;a.g=0;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.max_age=0;a.ind2=0;a.n=0;a.free=0;a.high=0;a.index=0;a.tht=0;a.v00=0;a.yobf=0;a.dt=0;a.y0=0;a.q1=0;a.dec_med=0;a.q5=0;a.ran1_=0;a["new"]=0;a.push=0;a.new1=0;a.is_beat=0;a.q24=0;a.vol_alt=0;a.dec_slow=0;a.ran2=0;a.ind1=0;a.q10=0;a.v0=0;a.med=0;a.beat=0;a.vol=0;a.peak=0;a.dec_fast=0;a.q27=0;a.bass1=0;a.q3=0;a.t0=0;a.vol_=0;a.dec=0;a.m=0;a.ran1=0;a.q32=0;a.phi=0;a.air=0;a.max_age=4.5;a.reg00=a.max_age;for(var b=a.n=0;12288>b;b++)a.gmegabuf[Math.floor(a.n)]=a.max_age-1+randint(2),
a.n+=1;a.q9=2*(randint(25)-10);a.q3=div(randint(100),100);a.q4=div(randint(100),100);`,frame_eqs_str:`a.dec_fast=1-div(8.8,a.fps);a.dec_med=1-div(6,a.fps);a.dec_slow=1-div(1.6,a.fps);a.vol=div(a.bass+a.med+a.treb,3);a.vol_=a.vol_*a.dec_slow+(1-a.dec_slow)*a.vol;a.beat=a.vol;a.is_beat=above(a.beat,1+4*a.peak)*above(a.time,a.t0+.2);a.t0=.00001<Math.abs(a.is_beat)?a.time:a.t0;a.peak=.00001<Math.abs(a.is_beat)?a.beat:a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,1024);a.ind1=a.ind1*a.dec_med+(1-a.dec_fast)*a.index;a.ind2=a.ind2*a.dec_med+(1-a.dec_fast)*a.ind1;a.q27=a.ind2;a.q24=
a.is_beat;a.ran1=.00001<Math.abs(a.is_beat)?div(randint(100),100)-.5:a.ran1;a.ran2=.00001<Math.abs(a.is_beat)?div(randint(100),50)+1:a.ran2;a.ran1_=a.dec_med*a.ran1_+(1-a.dec_med)*a.ran1;a.high=2.9<a.ran2?1:0;a.q5=a.ran1_;a.n=0;a.push=Math.max(0,a.vol-a.vol_alt)*a.vol_;a.air=.1*a.dt;a.dt=div(1,a.fps);a.v00=pow(a.push,.25)+.4;a.free=512;a["new"]=0;a.y0=-.68;a.yobf=a.y0+.1;for(var b=0;512>b;b++)a.megabuf[Math.floor(a.n)]=a.gmegabuf[Math.floor(a.n)],a.megabuf[Math.floor(a.n+1)]=a.gmegabuf[Math.floor(a.n+
1)],a.megabuf[Math.floor(a.n+2)]=a.gmegabuf[Math.floor(a.n+2)],.00001<Math.abs(a.gmegabuf[Math.floor(a.n+8)]>a.max_age?1:0)?.00001<Math.abs(band(a.push>=10*a.dt*bnot(a.high)?1:0,200>a["new"]?1:0))?(--a.free,a["new"]+=1,a.tht=div(randint(100),500)*(1+1.5*a.high),a.phi=randint(12),a.v0=a.v00*(1+div(randint(10),40)),a.gmegabuf[Math.floor(a.n)]=1.7*a.ran1,a.gmegabuf[Math.floor(a.n+1)]=a.y0+2.2*a.high,a.gmegabuf[Math.floor(a.n+2)]=2,a.gmegabuf[Math.floor(a.n+3)]=a.v0*Math.sin(a.tht)*Math.cos(a.phi),a.gmegabuf[Math.floor(a.n+
4)]=a.v0*Math.cos(4*a.tht)*(1-1.5*a.high),a.gmegabuf[Math.floor(a.n+5)]=a.v0*Math.sin(a.tht)*Math.sin(a.phi)*1.5*a.vol,a.gmegabuf[Math.floor(a.n+7)]=0,a.gmegabuf[Math.floor(a.n+8)]=div(randint(100),100)):0:(--a.free,a.gmegabuf[Math.floor(a.n)]+=a.gmegabuf[Math.floor(a.n+3)]*a.dt,a.gmegabuf[Math.floor(a.n+1)]+=a.gmegabuf[Math.floor(a.n+4)]*a.dt,a.gmegabuf[Math.floor(a.n+2)]+=a.gmegabuf[Math.floor(a.n+5)]*a.dt,a.gmegabuf[Math.floor(a.n+3)]*=1-a.air,a.gmegabuf[Math.floor(a.n+4)]*=1-a.air,a.gmegabuf[Math.floor(a.n+
4)]-=.8*a.dt,a.gmegabuf[Math.floor(a.n+5)]*=1-a.air,a.gmegabuf[Math.floor(a.n+7)]=(a.gmegabuf[Math.floor(a.n+1)]>a.yobf?1:0)*Math.min(1,18*(a.gmegabuf[Math.floor(a.n+1)]-a.yobf)),.00001<Math.abs(band(a.gmegabuf[Math.floor(a.n+1)]<a.yobf?1:0,0>a.gmegabuf[Math.floor(a.n+4)]?1:0))?a.gmegabuf[8]=a.max_age:0,a.gmegabuf[Math.floor(a.n+8)]+=a.dt),a.n+=12;for(b=a.n=0;512>b;b++)a.m=6132+a.n,a.gmegabuf[Math.floor(a.m)]=div(a.gmegabuf[Math.floor(a.n)]+a.megabuf[Math.floor(a.n)],2),a.gmegabuf[Math.floor(a.m+
1)]=div(a.gmegabuf[Math.floor(a.n+1)]+a.megabuf[Math.floor(a.n+1)],2),a.gmegabuf[Math.floor(a.m+2)]=div(a.gmegabuf[Math.floor(a.n+2)]+a.megabuf[Math.floor(a.n+2)],2),a.gmegabuf[Math.floor(a.m+7)]=a.gmegabuf[Math.floor(a.n+7)],a.gmegabuf[Math.floor(a.m+8)]=a.gmegabuf[Math.floor(a.n+8)],a.n+=12;a.dec=.00001<Math.abs(a.bass>a.bass1?1:0)?.5:.9;a.bass1=a.bass1*a.dec+a.bass*(1-a.dec);a.q1=Math.min(1,Math.max(0,a.bass1-1.5)*Math.abs(a.q3-.5)*3);a.q10=Math.max(a.vol_-.1,.1);a.vol_alt=a.vol;a.q32=a.aspecty;
a.new1=.00001<Math.abs(0<a["new"]?1:0)?a["new"]:a.new1;a.monitor=a.new1;`,pixel_eqs_str:"a.dy=-.007*a.y;a.warp=0;a.rot=div(.025*Math.sin(a.q27+7*a.x+0*a.y)*.2,Math.abs(a.y-.7)+.1)*a.q10;a.zoom=1.003+.2*Math.max(0,a.y-.7);",warp:`vec2 ver;
float xlat_mutablecloud;
vec2 xlat_mutabledz;
vec2 xlat_mutableuv1;
vec2 xlat_mutableuv2;
float xlat_mutablez;
 shader_body { 
  vec2 tmpvar_1;
  tmpvar_1.y = 0.0;
  tmpvar_1.x = texsize.z;
  vec2 tmpvar_2;
  tmpvar_2.x = 0.0;
  tmpvar_2.y = texsize.w;
  ver = (tmpvar_2 * 2.0);
  vec3 ret_3;
  xlat_mutabledz.x = (2.0 * dot (vec3((texture (sampler_main, 
    (uv + tmpvar_1)
  ).z - texture (sampler_main, 
    (uv - tmpvar_1)
  ).z)), vec3(0.32, 0.49, 0.29)));
  xlat_mutabledz.y = (2.0 * dot (vec3((texture (sampler_main, 
    (uv + ver)
  ).z - texture (sampler_main, 
    (uv - ver)
  ).z)), vec3(0.32, 0.49, 0.29)));
  vec2 tmpvar_4;
  tmpvar_4.x = q3;
  tmpvar_4.y = (0.4 + (q4 * 0.4));
  xlat_mutableuv1 = (uv_orig - tmpvar_4);
  vec4 tmpvar_5;
  tmpvar_5 = texture (sampler_main, uv_orig);
  xlat_mutablez = ((0.8 * (xlat_mutableuv1.y - 0.4)) - (mix (tmpvar_5.x, 
    ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1)
  .x, 0.5) * 0.03));
  vec2 tmpvar_6;
  tmpvar_6.x = (xlat_mutableuv1.x * xlat_mutablez);
  tmpvar_6.y = xlat_mutablez;
  vec2 tmpvar_7;
  tmpvar_7.x = 0.0;
  tmpvar_7.y = (-(time) * 0.014);
  xlat_mutableuv2 = (tmpvar_6 + tmpvar_7);
  vec2 tmpvar_8;
  tmpvar_8.x = 0.0;
  tmpvar_8.y = (time * 0.004);
  vec2 uvi_9;
  uvi_9 = ((xlat_mutableuv2 * 1.5) + tmpvar_8);
  float zv_10;
  zv_10 = (0.002 * time);
  xlat_mutablecloud = (1.0 - (1.5 * abs(
    (texture (sampler_noise_hq, ((xlat_mutableuv2 + (0.07 * 
      abs((((
        (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (
          (uvi_9 * 2.0)
         + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))
       + 
        (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)
      ) + (
        dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0))
       / -8.0)) - 1.0))
    )) / 2.0)) - 0.5)
  ))).x;
  xlat_mutablecloud = (xlat_mutablecloud * clamp ((
    (texture (sampler_noise_hq, (xlat_mutableuv2 * vec2(2.0, 0.5))).x + 0.5)
   - 
    (3.0 * abs(xlat_mutableuv2.x))
  ), 0.0, 1.0));
  vec2 tmpvar_11;
  tmpvar_11.x = 0.0;
  tmpvar_11.y = ((-0.01 * time) * (0.125 * float(
    int((8.0 * pow (xlat_mutablecloud, 4.0)))
  )));
  float tmpvar_12;
  tmpvar_12 = (texture (sampler_noise_hq, (18.0 * (
    (xlat_mutableuv2 + (0.05 * xlat_mutablecloud))
   + tmpvar_11))) - 0.75).x;
  xlat_mutablecloud = (xlat_mutablecloud * (1.0 + (
    (0.2 * tmpvar_12)
   * 
    (xlat_mutablecloud * xlat_mutablecloud)
  )));
  ret_3.x = ((0.3 * xlat_mutablecloud) + (0.7 * tmpvar_5.xyz)).x;
  xlat_mutableuv1 = (uv - vec2(0.0, 0.71));
  vec4 tmpvar_13;
  tmpvar_13 = texture (sampler_blur1, uv);
  float tmpvar_14;
  tmpvar_14 = clamp (((12.0 * 
    (((10.0 * xlat_mutableuv1.y) + ((
      (tmpvar_13.xyz * scale1)
     + bias1).x / 2.0)) - 1.0)
  ) + tmpvar_12), 0.0, 1.0);
  xlat_mutableuv1 = (uv - 0.7);
  ret_3.z = (((
    ((((4.0 * tmpvar_14) * (1.0 - tmpvar_14)) * clamp ((tmpvar_5.x - 0.2), 0.0, 1.0)) + texture (sampler_main, (uv + (xlat_mutabledz * 0.003))).z)
   - 
    (0.03 * sqrt(dot (xlat_mutabledz, xlat_mutabledz)))
  ) - (
    pow (((tmpvar_13.xyz * scale1) + bias1).z, 8.0)
   * 0.2)) - 0.01);
  ret_3.y = (texture (sampler_main, mix (uv, uv_orig, vec2(0.5, 0.5))).y * (0.85 - (0.2 * 
    ((tmpvar_13.xyz * scale1) + bias1)
  .y)));
  ret_3.x = (ret_3.x + ((texture (sampler_noise_lq, 
    (2.0 * xlat_mutableuv2)
  ) * 0.08) * clamp (
    (1.0 - (3.0 * ret_3.x))
  , 0.0, 1.0)).x);
  vec4 tmpvar_15;
  tmpvar_15.w = 1.0;
  tmpvar_15.xyz = ret_3;
  ret = tmpvar_15.xyz;
 }`,comp:`float dunk;
float xlat_mutablenoise;
vec2 xlat_mutablers;
vec2 xlat_mutablers0;
float xlat_mutablesmask;
float xlat_mutablesmoke;
vec2 xlat_mutableuv1;
float xlat_mutablez;
 shader_body { 
  vec2 tmpvar_1;
  tmpvar_1.y = 0.0;
  tmpvar_1.x = texsize.z;
  dunk = ((rand_preset.x * 0.3) + 0.1);
  vec2 uv_2;
  vec3 ret_3;
  uv_2 = (uv + (texsize.zw / 2.0));
  xlat_mutableuv1 = (uv_2 - vec2(0.0, 0.7));
  xlat_mutablesmask = (((10.0 * xlat_mutableuv1.y) + (
    ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1)
  .x / 2.0)) - 1.0);
  float tmpvar_4;
  tmpvar_4 = clamp (((2.0 * xlat_mutablesmask) + 0.3), 0.0, 1.0);
  xlat_mutablenoise = ((3.0 * (1.0 - tmpvar_4)) * texture (sampler_noise_lq, ((xlat_mutableuv1 * 1.5) + (rand_frame * 0.2).xy)).x);
  float tmpvar_5;
  tmpvar_5 = clamp (((12.0 * xlat_mutablesmask) + (xlat_mutablenoise / 2.0)), 0.0, 1.0);
  xlat_mutablez = ((0.35 / xlat_mutableuv1.y) + (xlat_mutablenoise / 2.0));
  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);
  xlat_mutablers0.y = xlat_mutablez;
  vec2 tmpvar_6;
  tmpvar_6.x = (xlat_mutablers0.x + (time / 4.0));
  tmpvar_6.y = (xlat_mutablez + (time * 0.21));
  xlat_mutablers = (tmpvar_6 * tmpvar_5);
  float t_7;
  t_7 = ((texture (sampler_main, uv_2).x - dunk) * (1.0 - (tmpvar_5 * 
    pow (uv_2.y, 4.0)
  )));
  float tmpvar_8;
  tmpvar_8 = clamp (((1.2 * t_7) - 0.2), 0.0, 1.0);
  t_7 = tmpvar_8;
  vec3 tmpvar_9;
  tmpvar_9.x = tmpvar_8;
  tmpvar_9.y = (tmpvar_8 * tmpvar_8);
  tmpvar_9.z = pow (tmpvar_8, 8.0);
  vec3 tmpvar_10;
  tmpvar_10 = clamp ((tmpvar_9 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);
  float t_11;
  t_11 = ((texture (sampler_blur2, (uv_2 + 0.03)).xyz * scale2) + bias2).x;
  float tmpvar_12;
  tmpvar_12 = clamp (((1.2 * t_11) - 0.2), 0.0, 1.0);
  t_11 = tmpvar_12;
  vec3 tmpvar_13;
  tmpvar_13.x = tmpvar_12;
  tmpvar_13.y = (tmpvar_12 * tmpvar_12);
  tmpvar_13.z = pow (tmpvar_12, 8.0);
  vec3 tmpvar_14;
  tmpvar_14 = clamp ((tmpvar_13 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);
  ret_3 = ((tmpvar_10 * (tmpvar_10 * 
    (3.0 - (2.0 * tmpvar_10))
  )) + ((
    (((1.0 - texture (sampler_main, uv_2).x) * (1.0 - tmpvar_5)) * abs((texture (sampler_main, (uv_2 - tmpvar_1)).x - texture (sampler_main, (uv_2 + tmpvar_1)).x)))
   * 
    (tmpvar_14 * (tmpvar_14 * (3.0 - (2.0 * tmpvar_14))))
  ) * q9));
  xlat_mutablesmoke = ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1).z;
  vec2 tmpvar_15;
  tmpvar_15.x = uv_2.x;
  tmpvar_15.y = ((0.85 - xlat_mutableuv1.y) + ((
    ((texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))) - 1.0)
  .x * 0.2) * q10));
  float t_16;
  t_16 = ((texture (sampler_main, tmpvar_15).x + texture (sampler_main, tmpvar_15).y) - dunk);
  float tmpvar_17;
  tmpvar_17 = clamp (((1.2 * t_16) - 0.2), 0.0, 1.0);
  t_16 = tmpvar_17;
  vec3 tmpvar_18;
  tmpvar_18.x = tmpvar_17;
  tmpvar_18.y = (tmpvar_17 * tmpvar_17);
  tmpvar_18.z = pow (tmpvar_17, 8.0);
  vec3 tmpvar_19;
  tmpvar_19 = clamp ((tmpvar_18 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);
  ret_3 = (ret_3 + ((
    (tmpvar_19 * (tmpvar_19 * (3.0 - (2.0 * tmpvar_19))))
   * tmpvar_5) * 0.85));
  float tmpvar_20;
  tmpvar_20 = ((3.6 * tmpvar_4) * (1.0 - tmpvar_4));
  ret_3 = (ret_3 * (clamp (
    (1.0 - (xlat_mutablesmoke * (1.0 - tmpvar_20)))
  , 0.0, 1.0) * clamp (
    (1.0 - (tmpvar_20 * float((rand_preset.x > 0.5))))
  , 0.0, 1.0)));
  vec3 tmpvar_21;
  tmpvar_21.z = 0.0;
  tmpvar_21.xy = (((texture (sampler_blur3, uv_2).xyz * scale3) + bias3).xy * vec2(3.0, 5.0));
  ret_3 = (ret_3 + ((xlat_mutablesmoke * 
    dot (tmpvar_21, vec3(0.32, 0.49, 0.29))
  ) * vec3(1.0, 0.84, 0.62)));
  float tmpvar_22;
  tmpvar_22 = clamp (((1.2 * 
    clamp (texture (sampler_main, uv_2).y, 0.0, 1.0)
  ) - 0.2), 0.0, 1.0);
  vec3 tmpvar_23;
  tmpvar_23.x = tmpvar_22;
  tmpvar_23.y = (tmpvar_22 * tmpvar_22);
  tmpvar_23.z = pow (tmpvar_22, 8.0);
  vec3 tmpvar_24;
  tmpvar_24 = clamp ((tmpvar_23 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);
  ret_3 = (ret_3 + (tmpvar_24 * (tmpvar_24 * 
    (3.0 - (2.0 * tmpvar_24))
  )));
  float tmpvar_25;
  tmpvar_25 = clamp (0.52, 0.0, 1.0);
  vec3 tmpvar_26;
  tmpvar_26.x = tmpvar_25;
  tmpvar_26.y = (tmpvar_25 * tmpvar_25);
  tmpvar_26.z = pow (tmpvar_25, 8.0);
  vec3 tmpvar_27;
  tmpvar_27 = clamp ((tmpvar_26 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);
  vec3 tmpvar_28;
  tmpvar_28 = mix (clamp (ret_3, 0.0, 1.0), (tmpvar_27 * (tmpvar_27 * 
    (3.0 - (2.0 * tmpvar_27))
  )), vec3((pow (
    ((1.0 - uv_2.y) - ((uv_2.x - 0.5) * (q3 - 0.5)))
  , 4.0) * q1)));
  ret_3 = tmpvar_28;
  vec4 tmpvar_29;
  tmpvar_29.w = 1.0;
  tmpvar_29.xyz = tmpvar_28;
  ret = tmpvar_29.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:7,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,darken:1,wave_a:.001,wave_scale:.698,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:0,wave_b:0,ob_size:0,ob_g:.1,ob_b:1,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:25.6,mv_y:9.6,mv_l:5,mv_g:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.n=0;a.maxbpm=0;a.reg26=0;a.maxind1=0;a.uvx0=0;a.cosb_=0;a.reg34=0;a.num_res=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.sinb_=0;a.index=0;a.quali=0;a.v3=0;a.q18=0;a.q22=0;a.q21=0;a.diry=0;a.q6=0;a.posx=0;a.dt=0;a.reg25=0;a.mean=0;a.uvx=0;a.q1=0;a.posz=0;a.q5=0;a.reg52=0;a.dt1=0;a.dec_f=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.bt2=0;a.reg36=0;a.minbpm=0;a.reg22=0;a.uvy=0;a.rotz=0;a.cosb=0;a.omega=0;a.dist_=0;a.ec_steps=0;a.bpm=0;a.q23=0;a.q24=0;a.reg24=
0;a.ran2=0;a.pi=0;a.q10=0;a.reg14=0;a.sinb=0;a.reg53=0;a.posy=0;a.reg31=0;a.dirx=0;a.dec_m=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.v2p=0;a.c2=0;a.reg37=0;a.ex=0;a.s3=0;a.yslope=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.v3p=0;a.reg35=0;a.p2=0;a.mov=0;a.reg11=0;a.tx=0;a.avg=0;a.bt1=0;a.beatsin=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.q17=0;a.vol=0;a.reg32=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.beatcos=0;a.reg30=0;a.q2=0;a.b1y=0;a.q27=0;a.bri=0;a.slen=0;a.q14=0;a.dist=0;a.trel1=0;a.p3=0;a.reg17=
0;a.v1=0;a.speed=0;a.vol2=0;a.q3=0;a.s1=0;a.vol_=0;a.dec=0;a.s2=0;a.quad=0;a.b2y=0;a.ran1=0;a.q32=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.ty=0;a.excite=0;a.c1=0;a.v2=0;a.q20=0;a.p4=0;a.q8=0;a.maxvol=0;for(var b=a.n=0;2E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;a.minbpm=30;a.maxbpm=230;a.num_res=100;for(b=a.index=0;b<a.num_res;b++)a.n=12*a.index,a.bpm=a.minbpm*pow(div(a.maxbpm,a.minbpm),div(a.index,a.num_res)),a.gmegabuf[Math.floor(a.n)]=a.bpm,a.index+=1;a.pi=3.1416;a.octave=
div(a.num_res*Math.log(2),Math.log(div(a.maxbpm,a.minbpm)));a.q7=.15;a.q8=.2+randint(1);a.q16=1.6;a.start=1;a.travel=0;a.rotz=0;a.t0=a.time+3;a.cran0=randint(1);a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=randint(8);a.ran2=randint(8);a.ran3=randint(8);a.posx=randint(8);a.posy=randint(8);a.posz=randint(8);a.c1=Math.cos(a.ran1);a.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);
a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=1+2*(div(a.uvx,4)+30.5-Math.floor(div(a.uvx,4)+30.5)-.5);a.uvy=2+2*(div(a.uvy,4)+30.5-Math.floor(div(a.uvy,
4)+30.5)-.5);a.uvz=3+2*(div(a.uvz,4)+30.5-Math.floor(div(a.uvz,4)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:
.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);`,frame_eqs_str:`a.dt=Math.min(div(1,a.fps),.1);a.dec_f=.8;a.dec_m=1-4*a.dt;a.dec_s=1-a.dt;a.vol=div(a.bass+div(a.mid,2)+a.treb,3);a.vol_=a.vol_*a.dec_m+(1-a.dec_m)*a.vol;a.dec=a.dec_s;a.vol2=a.vol2*a.dec+(1-a.dec)*Math.min(3,a.vol);a.maxvol=.00001<Math.abs(a.vol>a.maxvol?1:0)?a.vol:a.maxvol*a.dec_s;a.excite=a.vol-a.vol_;a.index=0;a.maxind1=0;for(var b=a.mean=0;b<a.num_res;b++){a.n=12*a.index;a.omega=div(2*a.gmegabuf[Math.floor(a.n)]*a.pi,60);a.gmegabuf[Math.floor(a.n+1)]*=1-.25*a.dt;a.ec_steps=
Math.floor(10*a.dt*a.omega)+1;a.dt1=div(a.dt,a.ec_steps);a.ex=a.excite;for(var c=0;c<a.ec_steps;c++)a.gmegabuf[Math.floor(a.n+1)]+=(a.ex-sqr(a.omega)*a.gmegabuf[Math.floor(a.n+2)])*a.dt1,a.gmegabuf[Math.floor(a.n+2)]+=a.gmegabuf[Math.floor(a.n+1)]*a.dt1;a.beatcos=a.gmegabuf[Math.floor(a.n+1)];a.beatsin=a.gmegabuf[Math.floor(a.n+2)]*a.omega;a.quad=sqrt(pow(a.beatsin,2)+pow(a.beatcos,2));a.mean+=div(a.quad,a.num_res);a.gmegabuf[Math.floor(a.n+3)]=a.gmegabuf[Math.floor(a.n+3)]*a.dec_m+a.quad*(1-a.dec_m);
.00001<Math.abs(a.gmegabuf[Math.floor(a.n+3)]>a.gmegabuf[Math.floor(12*a.maxind1+3)]?1:0)?a.maxind1=a.index:0;a.index+=1}a.quali=div(a.gmegabuf[Math.floor(12*a.maxind1+3)],a.mean);a.bpm=a.minbpm*pow(div(a.maxbpm,a.minbpm),div(a.maxind1,a.num_res));.00001<Math.abs(160<a.bpm?1:0)?a.bpm/=2:0;a.trel1+=(div(a.bpm,60)*a.pi+a.excite*a.cosb)*(.7<a.maxvol?1:0)*a.dt;a.q32=a.trel1;a.speed=div((.15+.25*a.dist_)*(1+a.avg),a.q7)*(.34+.34*a.vol_)*(a.q8+.8);a.ds=a.ds*a.dec_s+(1-a.dec_s)*a.speed*.25*a.dt;a.rotz=.8*
pow(Math.sin(div(a.time,12)),5);a.dirx=a.reg26;a.diry=a.reg27;a.dirz=a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=Math.max(0,.4-a.dist_);a.v1=a.v1*a.dec_m+(1-a.dec_m)*a.rotz*a.ds;a.dec=1-3*a.dt;a.v2p=a.v2p*a.dec+(1-a.dec)*(a.angchg*a.xslope+.02*a.p2)*a.dt;a.v3p=a.v3p*a.dec+(1-a.dec)*(a.angchg*a.yslope+.02*a.p3)*a.dt;a.v2=a.v2*a.dec+(1-a.dec)*a.v2p;a.v3=a.v3*a.dec+(1-a.dec)*a.v3p;a.p3=sign(a.v3);a.p4=sign(a.v2);a.reg30=a.reg20;a.reg31=
a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;a.reg36=a.reg26;a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=
-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg15=a.s3*a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+
a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+a.reg15*a.reg27;a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var d;c=0;do{c+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*
a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=1+2*(div(a.uvx,4)+30.5-Math.floor(div(a.uvx,4)+30.5)-.5);a.uvy=2+2*(div(a.uvy,4)+30.5-Math.floor(div(a.uvy,4)+30.5)-.5);a.uvz=3+2*(div(a.uvz,4)+30.5-Math.floor(div(a.uvz,4)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(d=0;8>d;d++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?
1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*
a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;d=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(d)&&1048576>c);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(8*(a.megabuf[1]-a.megabuf[3]),-2),2);a.yslope=Math.min(Math.max(8*(a.megabuf[4]-a.megabuf[2]),-2),2);a.dist_=a.dist_*a.dec_m+(1-a.dec_m)*a.dist;
a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+2*(Math.abs(a.v1)+Math.abs(a.v2)+Math.abs(a.v3))+div(1,255)+0*a.start;a.start*=.9;a.reg52=-a.v2;a.reg53=a.v3;a.warp=0;a.zoom=1;a.rot=a.v1;a.sinb=Math.sin(a.trel1);a.cosb=Math.cos(a.trel1);a.bt1=0>a.sinb*a.sinb_?1:0;a.bt2=0>a.cosb*a.cosb_?1:0;.00001<Math.abs(a.bt1)?(a.b1x=randint(2)-1,a.b1y=randint(2)-1):0;.00001<Math.abs(a.bt2)?(a.b2x=randint(2)-1,a.b2y=randint(2)-1):0;a.sinb_=a.sinb;a.cosb_=a.cosb;a.bri=.012*a.vol2*sqrt(div(100,a.bpm))+.01*a.excite;a.mov=div(sqrt(a.v3*
a.v3+a.v2*a.v2),a.dt);a.q1=a.b1x*Math.abs(a.b1x);a.q2=a.b1y*Math.abs(a.b1y);a.q17=.4*a.b2x;a.q18=.4*a.b2y;a.len=pow(a.q1,2)+pow(a.q2,2);a.q3=pow(a.sinb,2)*a.bri*(1+4*a.len)*Math.max(0,1-5*a.mov);a.q19=pow(a.cosb,2)*a.bri*1.2;a.monitor=a.q8;`,pixel_eqs_str:"a.warp=0;a.zoom=1;a.tx=Math.tan(.9*(2*a.x-1));a.ty=Math.tan(.9*(2*a.y-1));a.dx=div(a.reg52,a.q16)*(1+.5*Math.abs(a.tx));a.dy=div(a.reg53,a.q16)*(1+.5*Math.abs(a.ty));a.dx+=a.reg53*a.ty*(a.x-.5);a.dy+=a.reg52*a.tx*(a.y-.5);",warp:`float sustain;
float pix;
vec3 mod1;
float xlat_mutabledist;
float xlat_mutablestruc;
vec2 xlat_mutableuv1;
vec3 xlat_mutableuv2;
 shader_body { 
  mat3 tmpvar_1;
  tmpvar_1[uint(0)].x = q20;
  tmpvar_1[uint(0)].y = q23;
  tmpvar_1[uint(0)].z = q26;
  tmpvar_1[1u].x = q21;
  tmpvar_1[1u].y = q24;
  tmpvar_1[1u].z = q27;
  tmpvar_1[2u].x = q22;
  tmpvar_1[2u].y = q25;
  tmpvar_1[2u].z = q28;
  vec3 tmpvar_2;
  tmpvar_2.x = q4;
  tmpvar_2.y = q5;
  tmpvar_2.z = q6;
  sustain = (0.97 - q14);
  pix = (texsize.z * 2.0);
  mod1 = (rand_preset.xyz - 0.5);
  vec2 uv_3;
  vec3 ret_4;
  vec2 tmpvar_5;
  tmpvar_5 = (uv - 0.5);
  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_pw_main, uv);
  uv_3 = ((tmpvar_5 * (1.0 - 
    (q10 / (1.0 - (tmpvar_6.z + (0.003921569 * tmpvar_6.y))))
  )) + 0.5);
  vec4 tmpvar_7;
  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));
  xlat_mutabledist = tmpvar_7.x;
  if ((tmpvar_7.y > 0.16)) {
    vec4 nb2_8;
    vec4 nb_9;
    vec4 tmpvar_10;
    tmpvar_10 = texture (sampler_pw_main, (uv_3 + vec2(-(pix))));
    nb_9.x = (1.0 - (tmpvar_10.z + (0.003921569 * tmpvar_10.y)));
    vec4 tmpvar_11;
    tmpvar_11 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, -1.0))));
    nb_9.y = (1.0 - (tmpvar_11.z + (0.003921569 * tmpvar_11.y)));
    vec4 tmpvar_12;
    tmpvar_12 = texture (sampler_pw_main, (uv_3 + vec2(pix)));
    nb_9.z = (1.0 - (tmpvar_12.z + (0.003921569 * tmpvar_12.y)));
    vec4 tmpvar_13;
    tmpvar_13 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 1.0))));
    nb_9.w = (1.0 - (tmpvar_13.z + (0.003921569 * tmpvar_13.y)));
    vec4 tmpvar_14;
    tmpvar_14 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, -1.0))));
    nb2_8.x = (1.0 - (tmpvar_14.z + (0.003921569 * tmpvar_14.y)));
    vec4 tmpvar_15;
    tmpvar_15 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, 0.0))));
    nb2_8.y = (1.0 - (tmpvar_15.z + (0.003921569 * tmpvar_15.y)));
    vec4 tmpvar_16;
    tmpvar_16 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, 1.0))));
    nb2_8.z = (1.0 - (tmpvar_16.z + (0.003921569 * tmpvar_16.y)));
    vec4 tmpvar_17;
    tmpvar_17 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 0.0))));
    nb2_8.w = (1.0 - (tmpvar_17.z + (0.003921569 * tmpvar_17.y)));
    vec4 tmpvar_18;
    tmpvar_18 = min (nb_9, nb2_8);
    nb_9.zw = tmpvar_18.zw;
    nb_9.xy = min (tmpvar_18.xy, tmpvar_18.zw);
    xlat_mutabledist = ((min (nb_9.x, nb_9.y) + (
      (0.006 * (tmpvar_7.xyz - 0.5).x)
     * tmpvar_7.y)) - (q10 * 0.5));
  };
  float theta_19;
  theta_19 = (xlat_mutabledist * 1.35);
  float theta_20;
  theta_20 = (xlat_mutabledist * 1.35);
  vec3 tmpvar_21;
  tmpvar_21.xy = (xlat_mutableuv1 * ((
    sin(theta_19)
   / 
    cos(theta_19)
  ) / 1.35));
  tmpvar_21.z = ((sin(theta_20) / cos(theta_20)) / 1.35);
  xlat_mutableuv2 = (((tmpvar_21 / q7) * tmpvar_1) + tmpvar_2);
  xlat_mutableuv2 = (((
    fract(((xlat_mutableuv2 / 4.0) + 0.5))
   - 0.5) * 2.0) + vec3(1.0, 2.0, 3.0));
  vec3 zz0_23;
  vec3 zz_24;
  zz_24 = xlat_mutableuv2;
  zz0_23 = (xlat_mutableuv2 + q8);
  for (int n_22 = 0; n_22 <= 8; n_22++) {
    zz_24 = ((2.0 * clamp (zz_24, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_24);
    zz_24 = (zz_24 * max ((1.0/(
      dot (zz_24, zz_24)
    )), 1.0));
    zz_24 = ((2.6 * zz_24) + zz0_23);
  };
  vec4 tmpvar_25;
  tmpvar_25.w = 0.0;
  tmpvar_25.xyz = zz_24;
  float tmpvar_26;
  tmpvar_26 = sqrt(dot (zz_24, zz_24));
  vec4 tmpvar_27;
  tmpvar_27.w = 0.0;
  tmpvar_27.xyz = mod1;
  xlat_mutablestruc = ((1.0 - (
    (1.4 * dot (tmpvar_25, tmpvar_27))
   / 40.0)) - (xlat_mutabledist * 0.3));
  if (((tmpvar_26 < 40.0) && (xlat_mutabledist > (0.04 * 
    (1.0 - rad)
  )))) {
    ret_4.x = mix (xlat_mutablestruc, texture (sampler_main, uv_3).x, sustain);
    float x_28;
    x_28 = ((1.0 - xlat_mutabledist) * 255.0);
    float ip_29;
    ip_29 = float(int(x_28));
    vec2 tmpvar_30;
    tmpvar_30.x = (x_28 - ip_29);
    tmpvar_30.y = (ip_29 / 255.0);
    ret_4.yz = tmpvar_30;
  } else {
    ret_4 = ((texture (sampler_fc_main, uv_3) * sustain) - 0.003921569).xyz;
  };
  vec4 tmpvar_31;
  tmpvar_31.w = 1.0;
  tmpvar_31.xyz = ret_4;
  ret = tmpvar_31.xyz;
 }`,comp:`float xlat_mutablecross1;
vec2 xlat_mutabledz1;
float xlat_mutablerdist;
vec2 xlat_mutableuv0;
vec2 xlat_mutableuv4;
vec2 xlat_mutableuva;
vec2 xlat_mutableuvb;
 shader_body { 
  vec2 tmpvar_1;
  tmpvar_1.x = q1;
  tmpvar_1.y = q2;
  vec2 tmpvar_2;
  tmpvar_2.x = q17;
  tmpvar_2.y = q18;
  vec2 uv_3;
  vec3 ret_4;
  uv_3 = (uv + (texsize.zw / 2.0));
  xlat_mutableuv0 = uv_3;
  vec2 uvi_5;
  uvi_5 = (uv_3 + vec2(0.002, 0.0));
  float tmpvar_6;
  tmpvar_6 = mix (((texture (sampler_blur1, uvi_5).xyz * scale1) + bias1).x, texture (sampler_main, uvi_5).x, 0.1);
  vec2 uvi_7;
  uvi_7 = (uv_3 - vec2(0.002, 0.0));
  float tmpvar_8;
  tmpvar_8 = mix (((texture (sampler_blur1, uvi_7).xyz * scale1) + bias1).x, texture (sampler_main, uvi_7).x, 0.1);
  xlat_mutabledz1.x = ((tmpvar_6 * float(
    (tmpvar_6 > 0.02)
  )) - (tmpvar_8 * float(
    (tmpvar_8 > 0.02)
  )));
  vec2 uvi_9;
  uvi_9 = (uv_3 + vec2(0.0, 0.002));
  float tmpvar_10;
  tmpvar_10 = mix (((texture (sampler_blur1, uvi_9).xyz * scale1) + bias1).x, texture (sampler_main, uvi_9).x, 0.1);
  vec2 uvi_11;
  uvi_11 = (uv_3 - vec2(0.0, 0.002));
  float tmpvar_12;
  tmpvar_12 = mix (((texture (sampler_blur1, uvi_11).xyz * scale1) + bias1).x, texture (sampler_main, uvi_11).x, 0.1);
  xlat_mutabledz1.y = ((tmpvar_10 * float(
    (tmpvar_10 > 0.02)
  )) - (tmpvar_12 * float(
    (tmpvar_12 > 0.02)
  )));
  uv_3 = (uv_3 + (xlat_mutabledz1 * 0.26));
  xlat_mutablerdist = ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1).z;
  vec4 tmpvar_13;
  tmpvar_13.w = 0.0;
  tmpvar_13.xyz = texture (sampler_noise_hq, vec2(((xlat_mutablerdist * 0.05) + (time * 0.02)))).xyz;
  vec4 tmpvar_14;
  tmpvar_14 = mix (tmpvar_13, roam_sin, vec4(0.5, 0.5, 0.5, 0.5));
  xlat_mutableuv4 = (uv_3 - 0.4);
  xlat_mutableuva = ((xlat_mutableuv4 - tmpvar_1) - ((
    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)
  .x * 0.4) * float(
    (xlat_mutablerdist > 0.2)
  )));
  xlat_mutableuvb = ((xlat_mutableuv4 - tmpvar_2) - ((
    (texture (sampler_blur1, uv_3).xyz * scale1)
   + bias1).x * 0.4));
  float angle_15;
  float tmpvar_16;
  tmpvar_16 = abs(xlat_mutableuva.x);
  if ((xlat_mutableuva.y >= 0.0)) {
    angle_15 = (1.0 - ((xlat_mutableuva.y - tmpvar_16) / (xlat_mutableuva.y + tmpvar_16)));
  } else {
    angle_15 = (3.0 - ((xlat_mutableuva.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuva.y)));
  };
  float tmpvar_17;
  if ((xlat_mutableuva.x < 0.0)) {
    tmpvar_17 = -(angle_15);
  } else {
    tmpvar_17 = angle_15;
  };
  xlat_mutablecross1 = ((pow (
    sin((3.141593 * (tmpvar_17 + (5.1 * q20))))
  , 1.5) + (xlat_mutablerdist / 2.0)) + 0.1);
  vec3 tmpvar_18;
  tmpvar_18 = vec3((((1.0/(
    dot (xlat_mutableuva, xlat_mutableuva)
  )) / xlat_mutablecross1) * q3));
  vec3 tmpvar_19;
  tmpvar_19 = vec3(((1.0/(dot (xlat_mutableuvb, xlat_mutableuvb))) * q19));
  ret_4 = (clamp ((1.0 - 
    (2.0 * xlat_mutablerdist)
  ), 0.0, 1.0) * ((
    (tmpvar_18 * tmpvar_14.xyz)
   + 
    (tmpvar_19 * (1.0 - tmpvar_14.xyz))
  ) + 0.1));
  ret_4 = (ret_4 + (clamp (
    (2.0 * xlat_mutablerdist)
  , 0.0, 1.0) * (
    (tmpvar_18 * tmpvar_14.zyx)
   + 
    (tmpvar_19 * (1.0 - tmpvar_14.zyx))
  )));
  ret_4 = (ret_4 + ((
    (texture (sampler_blur1, xlat_mutableuv0).xyz * scale1)
   + bias1).x * 0.05));
  ret_4 = (1.0 - exp(-(ret_4)));
  vec4 tmpvar_20;
  tmpvar_20.w = 1.0;
  tmpvar_20.xyz = ret_4;
  ret = tmpvar_20.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:2,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:5,wave_dots:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:1.169162,wave_smoothing:0,wave_mystery:.08,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:.99,ob_size:.015,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:0,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b2x:.3,b1ed:0},shapes:[{baseVals:{enabled:1,sides:53,rad:.05408,tex_ang:1.00531,tex_zoom:1.531168,r:.2,g:.7,g2:0,a2:1,border_b:0,border_a:0},init_eqs_str:"a.q24=0;a.rad0=0;",frame_eqs_str:"a.x=.5;a.y=.5;a.a=a.q24;a.a2=0;a.a=0;a.rad0=bnot(a.q24)*a.rad0+div(randint(10),50)*a.q24;a.rad=a.rad0;a.b=0;a.r=div(randint(10),10);a.g=1;a.a2=a.q24;"},{baseVals:{enabled:1,sides:44,textured:1,x:.7,rad:.2173,tex_zoom:3.277448,g:1,b:.5,r2:1,b2:1,a2:1,border_r:.5,border_g:.5,border_b:0},init_eqs_str:"a.rot0=0;a.q1=0;a.posx=0;a.q24=0;a.posy=0;a.rad0=0;",frame_eqs_str:"a.textured=1;a.rot0+=div(1,a.fps)*a.q1;a.posx=(1-a.q24)*a.posx+a.q24*(.3+div(randint(100),200));a.posy=(1-a.q24)*a.posy+a.q24*(.3+div(randint(100),200));a.rad0=(1-a.q24)*a.rad0+a.q24*(.05+div(randint(100),300));a.rad=a.rad0;a.x=a.posx;a.y=a.posy;a.ang=a.rot0;"},{baseVals:{enabled:1,sides:63,x:.503,rad:.038857,tex_zoom:2.2233,g:.1,r2:1,b2:1,a2:.7,border_a:0},init_eqs_str:"a.rot0=0;a.q2=0;a.posx=0;a.q24=0;a.posy=0;a.rad0=0;a.q26=0;",frame_eqs_str:"a.textured=1;a.rot0+=div(.1,a.fps)*a.q2;a.posx=(1-a.q24)*a.posx+a.q24*(.3+div(randint(100),200));a.posy=(1-a.q24)*a.posy+a.q24*(.3+div(randint(100),200));a.rad0=(1-a.q24)*a.rad0+a.q24*(.05+div(randint(100),400));a.rad=a.rad0;a.x=a.posx+a.q26;a.y=a.posy;a.ang=a.rot0;"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.q25=0;a.index=0;a.q22=0;a.q21=0;a.q29=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.rott=0;a.is_beat=0;a.q31=0;a.q23=0;a.k1=0;a.q24=0;a.t_rel=0;a.dec_slow=0;a.q10=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.q7=0;a.ds=0;a.q28=0;a.q30=0;a.q20=0;a.p4=0;a.q8=0;",frame_eqs_str:`a.dec_med=pow(.7,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.beat=a.bass+a.mid+a.treb;a.beat*=a.beat;a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2*a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;
a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass_att+a.mid_att+a.treb_att+3;a.q27=a.index+1;a.q28=a.index2;a.q29=a.index2;a.monitor=a.q29;a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q5=Math.cos(div(a.time,17));a.q6=Math.sin(div(a.time,17));a.q7=-a.q2;a.q8=a.q1;a.ds=a.ds*a.dec_med+a.q24*(1-a.dec_med);a.q25=a.q24;a.q10=a.q22+3;a.t_rel=8*a.time;a.p3=
a.p3*a.dec_med+(1-a.dec_med)*(100*a.index+0*a.q26);a.q30=a.p3;a.p4=a.dec_med*a.p4+(1-a.dec_med)*a.q27;a.q31=a.p4;a.zoom=1.1+.2*a.q1;a.warp=0;a.ob_size=.01;a.ob_r=.9;a.ob_g=1;a.ob_b=0;a.ob_a=.2*Math.sin(div(a.time,7));`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 uv_1;
  vec2 tmpvar_2;
  tmpvar_2 = ((uv - 0.5) * aspect.xy);
  float tmpvar_3;
  tmpvar_3 = (sqrt(dot (tmpvar_2, tmpvar_2)) + (rand_frame * 13.0)).x;
  uv_1 = (uv + (clamp (
    ((sin(tmpvar_3) / cos(tmpvar_3)) / normalize(tmpvar_2))
  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 16.0));
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = ((q24 * (
    ((texture (sampler_main, uv_1).xyz + ((0.1 * vec3(
      ((q1 * cos((uv_1.x * 44.0))) - cos((uv_1.y * 82.0)))
    )) * (1.0 + texture (sampler_noise_lq, 
      ((uv_1 / 16.0) + (time / 100.0))
    )).xyz)) * 0.98)
   - 0.025)) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));
  ret = tmpvar_4.xyz;
 }`,comp:`vec2 xlat_mutabledz;
vec3 xlat_mutableneu;
vec3 xlat_mutableret1;
vec2 xlat_mutableuv3;
 shader_body { 
  vec2 uv2_1;
  vec2 tmpvar_2;
  tmpvar_2.y = 0.0;
  tmpvar_2.x = texsize.z;
  vec2 tmpvar_3;
  tmpvar_3.x = 0.0;
  tmpvar_3.y = texsize.w;
  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));
  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));
  uv2_1 = (uv - 0.5);
  vec2 tmpvar_4;
  tmpvar_4.y = 0.0;
  float tmpvar_5;
  tmpvar_5 = (time / 8.0);
  tmpvar_4.x = tmpvar_5;
  float tmpvar_6;
  tmpvar_6 = (q27 * 2.0);
  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_4);
  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);
  xlat_mutableuv3 = ((0.1 * cos(
    (22.0 * xlat_mutableuv3)
  )) + (18.0 * xlat_mutabledz));
  float tmpvar_7;
  tmpvar_7 = clamp ((0.02 / sqrt(
    dot (xlat_mutableuv3, xlat_mutableuv3)
  )), 0.0, 1.0);
  vec4 tmpvar_8;
  tmpvar_8 = (1.0 + roam_cos);
  xlat_mutableneu = ((0.1 * vec3(tmpvar_7)) + ((0.45 * 
    dot (vec3(tmpvar_7), vec3(0.32, 0.49, 0.29))
  ) * tmpvar_8).xyz);
  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));
  vec2 tmpvar_9;
  tmpvar_9.y = 0.0;
  tmpvar_9.x = tmpvar_5;
  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_9);
  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);
  xlat_mutableuv3 = ((0.1 * cos(
    (22.0 * xlat_mutableuv3)
  )) + (18.0 * xlat_mutabledz));
  float tmpvar_10;
  tmpvar_10 = clamp ((0.02 / sqrt(
    dot (xlat_mutableuv3, xlat_mutableuv3)
  )), 0.0, 1.0);
  xlat_mutableneu = ((0.1 * vec3(tmpvar_10)) + ((0.45 * 
    dot (vec3(tmpvar_10), vec3(0.32, 0.49, 0.29))
  ) * tmpvar_8).xyz);
  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = (xlat_mutableret1 + clamp ((
    (texture (sampler_main, uv).xyz * 4.0)
   * 
    (0.2 + xlat_mutableret1)
  ), 0.0, 1.0));
  ret = tmpvar_11.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:6,wave_thick:1,modwavealphabyvolume:1,darken:1,wave_a:.001,wave_scale:.159809,wave_smoothing:.45,wave_mystery:.08,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:0,wave_b:0,wave_y:.9,ob_r:1,ob_g:1,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b1x:.6999,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index=0;a.q22=0;a.q21=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q32=0;a.q7=0;a.q20=0;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=
a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_slow*a.p2+(1-a.dec_slow)*a.p1;a.rott=div(3.1416*a.p2,4);a.q27=a.index+1;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.zoom=1;a.rot=-0*a.index;a.q32=pow(.996,div(30,a.fps));a.q5=div(Math.sin(div(a.time,11))+1,5);a.movez+=div(.06,a.fps)*(1.1+a.q1);a.q6=a.movez;a.q7=.005*Math.sin(div(a.time,15));`,pixel_eqs_str:"",pixel_eqs:"",warp:`vec3 xlat_mutablenoise;
vec2 xlat_mutablers;
vec2 xlat_mutablers0;
vec2 xlat_mutableuv1;
 shader_body { 
  vec3 copy_1;
  vec2 tmpvar_2;
  tmpvar_2.x = 0.5;
  tmpvar_2.y = q5;
  xlat_mutableuv1 = (uv - tmpvar_2);
  float tmpvar_3;
  tmpvar_3 = (1.0/(xlat_mutableuv1.y));
  xlat_mutablers0.x = (xlat_mutableuv1.x * tmpvar_3);
  xlat_mutablers0.y = tmpvar_3;
  xlat_mutablers.x = xlat_mutablers0.x;
  xlat_mutablers.y = (tmpvar_3 + (time * 0.3));
  xlat_mutablenoise = (vec3(dot (texture (sampler_pw_noise_lq, (xlat_mutablers / 63.0)), vec4(0.32, 0.49, 0.29, 0.0))) * (dot (texture (sampler_pw_noise_lq, 
    (xlat_mutablers / 12.0)
  ), vec4(0.32, 0.49, 0.29, 0.0)) + 0.5));
  xlat_mutablenoise = (xlat_mutablenoise * (clamp (
    ((10.0 * xlat_mutablenoise) - 8.0)
  , 0.0, 1.0) * clamp (
    (2.0 / tmpvar_3)
  , 0.0, 1.0)));
  vec2 tmpvar_4;
  tmpvar_4.x = uv.x;
  tmpvar_4.y = (uv.y - (0.024 / tmpvar_3));
  vec2 tmpvar_5;
  tmpvar_5.x = uv.x;
  tmpvar_5.y = (uv.y - (0.012 / tmpvar_3));
  copy_1 = (texture (sampler_main, tmpvar_4).xyz + texture (sampler_main, tmpvar_5).xyz);
  vec2 tmpvar_6;
  tmpvar_6.x = uv.x;
  tmpvar_6.y = (uv.y - (0.006 / tmpvar_3));
  copy_1 = (copy_1 + texture (sampler_main, tmpvar_6).xyz);
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = ((xlat_mutablenoise + (
    (((copy_1 / 3.0) * (1.0 + slow_roam_cos).xyz) / 2.0)
   * 0.99)) - 0.005);
  ret = tmpvar_7.xyz;
 }`,comp:`vec3 xlat_mutablecont;
vec3 xlat_mutableneu;
vec3 xlat_mutableret1;
vec2 xlat_mutablers2;
 shader_body { 
  vec2 uv_1;
  float inten_2;
  float dist_3;
  uv_1 = (uv - 0.5);
  uv_1 = (uv_1 * aspect.xy);
  dist_3 = (1.0 - fract(q6));
  inten_2 = ((dist_3 * (1.0 - dist_3)) * 6.0);
  vec2 tmpvar_4;
  tmpvar_4 = fract(((uv_1 * dist_3) + 0.55));
  xlat_mutableneu = texture (sampler_main, tmpvar_4).xyz;
  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * inten_2));
  xlat_mutablecont = max (vec3(0.0, 0.0, 0.0), ((
    -(texture (sampler_main, tmpvar_4).xyz)
   + 
    ((texture (sampler_blur1, (tmpvar_4 + q7)).xyz * scale1) + bias1)
  ) * inten_2));
  dist_3 = (1.0 - fract((0.5 + q6)));
  inten_2 = ((dist_3 * (1.0 - dist_3)) * 6.0);
  vec2 tmpvar_5;
  tmpvar_5 = fract(((uv_1 * dist_3) + 0.55));
  xlat_mutableneu = texture (sampler_main, tmpvar_5).xyz;
  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));
  xlat_mutablecont = max (xlat_mutablecont, ((
    -(texture (sampler_main, tmpvar_5).xyz)
   + 
    ((texture (sampler_blur1, (tmpvar_5 + q7)).xyz * scale1) + bias1)
  ) * inten_2));
  dist_3 = (1.0 - fract((1.0 + q6)));
  inten_2 = ((dist_3 * (1.0 - dist_3)) * 6.0);
  vec2 tmpvar_6;
  tmpvar_6 = fract(((uv_1 * dist_3) + 0.55));
  xlat_mutableneu = texture (sampler_main, tmpvar_6).xyz;
  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));
  xlat_mutablecont = max (xlat_mutablecont, ((
    -(texture (sampler_main, tmpvar_6).xyz)
   + 
    ((texture (sampler_blur1, (tmpvar_6 + q7)).xyz * scale1) + bias1)
  ) * inten_2));
  vec2 tmpvar_7;
  tmpvar_7.y = 5.0;
  tmpvar_7.x = (time / 12.0);
  xlat_mutablers2 = ((0.1 * cos(
    ((uv_1 * 3.0) + tmpvar_7)
  )) + (0.1 * xlat_mutableret1).xy);
  vec4 tmpvar_8;
  tmpvar_8.w = 1.0;
  tmpvar_8.xyz = (((-0.1 * xlat_mutableret1) + (
    (clamp ((0.005 / sqrt(
      dot (xlat_mutablers2, xlat_mutablers2)
    )), 0.0, 1.0) * vec3(18.0, 16.2, 10.8))
   * 
    (0.2 + (0.3 * xlat_mutableret1))
  )) + ((
    dot (xlat_mutablecont, vec3(0.32, 0.49, 0.29))
   * 
    (1.0 + slow_roam_cos)
  ) / 2.0).xyz);
  ret = tmpvar_8.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:6,wave_dots:1,modwavealphabyvolume:1,darken:1,wave_a:.001,wave_scale:1.740724,wave_smoothing:.45,wave_mystery:.08,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_g:.99,ob_size:0,ob_r:1,ob_b:1,ob_a:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.t_rel=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.p3=0;a.q3=0;a.t0=0;a.q7=0;a.q28=0;a.q30=0;a.q20=0;a.q8=0;a.p3=0;a.t_rel=0;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.monitor=a.index4;
a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass_att+a.mid_att+a.treb_att+1;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.p3=a.dec_med*a.p3+(1-a.dec_med)*a.p2;a.rott=div(3.14159265359*a.p3,2);a.q27=8-a.index;a.q28=a.index2+1;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.t_rel+=div(.6,a.fps)*a.q1*a.q1;a.q5=Math.cos(a.t_rel);a.q6=Math.sin(a.t_rel);a.q7=-a.q6;a.q8=a.q5;a.movez+=div(div(.6,
a.fps),(1.4-a.q5)*(1.4-a.q5));a.q30=a.movez;a.zoom=1;`,pixel_eqs_str:"a.dx=div(0*a.q28,8);",warp:`vec3 xlat_mutablenoise;
vec3 xlat_mutableret1;
vec2 xlat_mutablers;
 shader_body { 
  float z_1;
  mat2 tmpvar_2;
  tmpvar_2[uint(0)] = _qb.xy;
  tmpvar_2[1u] = _qb.zw;
  vec2 tmpvar_3;
  tmpvar_3 = ((uv * tmpvar_2) - 0.5);
  float tmpvar_4;
  tmpvar_4 = (0.4 / abs(tmpvar_3.y));
  xlat_mutablers.x = (tmpvar_3.x * tmpvar_4);
  xlat_mutablers.y = (tmpvar_4 + q30);
  vec4 tmpvar_5;
  tmpvar_5 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));
  xlat_mutablenoise = (tmpvar_5.xyz * vec3(greaterThanEqual (tmpvar_5.xyz, vec3(0.9, 0.9, 0.9))));
  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * 
    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)
  )));
  xlat_mutableret1 = xlat_mutablenoise;
  z_1 = (1.2 / abs(tmpvar_3.y));
  xlat_mutablers.x = (tmpvar_3.x * z_1);
  xlat_mutablers.y = (z_1 + q30);
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));
  xlat_mutablenoise = (tmpvar_6.xyz * vec3(greaterThanEqual (tmpvar_6.xyz, vec3(0.9, 0.9, 0.9))));
  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);
  z_1 = (0.4 / abs(tmpvar_3.x));
  xlat_mutablers.y = (tmpvar_3.y * z_1);
  xlat_mutablers.x = (z_1 + q30);
  vec4 tmpvar_7;
  tmpvar_7 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));
  xlat_mutablenoise = (tmpvar_7.xyz * vec3(greaterThanEqual (tmpvar_7.xyz, vec3(0.9, 0.9, 0.9))));
  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * 
    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)
  )));
  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);
  z_1 = (1.2 / abs(tmpvar_3.x));
  xlat_mutablers.y = (tmpvar_3.y * z_1);
  xlat_mutablers.x = (z_1 + q30);
  vec4 tmpvar_8;
  tmpvar_8 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));
  xlat_mutablenoise = (tmpvar_8.xyz * vec3(greaterThanEqual (tmpvar_8.xyz, vec3(0.9, 0.9, 0.9))));
  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = xlat_mutableret1;
  ret = tmpvar_9.xyz;
 }`,comp:`uniform sampler2D sampler_clouds2;
 shader_body { 
  vec2 uv_1;
  vec2 uv1_2;
  uv_1 = (uv * aspect.xy);
  vec2 tmpvar_3;
  tmpvar_3.y = 0.0;
  tmpvar_3.x = texsize.z;
  vec2 tmpvar_4;
  tmpvar_4.x = 0.0;
  tmpvar_4.y = texsize.w;
  vec2 tmpvar_5;
  tmpvar_5.x = (dot (texture (sampler_main, (uv_1 - tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)));
  tmpvar_5.y = (dot (texture (sampler_main, (uv_1 - tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)));
  uv1_2 = ((0.3 * sin(
    ((uv_1 + (0.02 * time)) * 6.0)
  )) + (0.2 * tmpvar_5));
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_clouds2, (uv_orig + tmpvar_5));
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = (((-2.0 * 
    (0.1 * texture (sampler_main, uv_1))
  .xyz) + (
    clamp (((0.004 * q26) / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)
   * vec3(1.0, 0.8, 0.4))) + (0.4 * (tmpvar_6.xyz + 
    (dot (tmpvar_6.xyz, vec3(0.32, 0.49, 0.29)) - 0.7)
  )));
  ret = tmpvar_7.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.780001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:5,wave_dots:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:5.552,wave_smoothing:.504,wave_mystery:-1,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_g:0,wave_b:0,ob_size:.06,ob_r:1,ob_g:1,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1x:.6999,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:5,additive:1,x:.9,rad:.22613,g:.6,g2:0,border_a:0},init_eqs_str:"",frame_eqs_str:"a.x=.05+div(randint(900),1E3);a.y=.05+div(randint(900),1E3);a.ang=div(randint(320),100);"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.ready=0;a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.sp0=0;a.q29=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.rott=0;a.is_beat=0;a.q31=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.go=0;a.q4=0;a.is_beat2=0;a.q26=0;a.p2=0;a.avg=0;a.movez=0;a.q19=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q32=0;a.q28=0;a.q30=0;a.q20=0;a.index4=randint(2);a.index3=randint(4);",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,4);a.index2=mod(a.index2+a.is_beat*bnot(a.index),4);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),4);a.index4=mod(a.index4+
a.is_beat*bnot(a.index)*bnot(a.index2)*bnot(a.index3),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.ready=a.is_beat*bnot(a.ready)+bnot(a.is_beat2)*a.ready;a.is_beat2=a.ready*above(a.time,a.t0+.2);a.q19=a.is_beat2;a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.14159265359*a.p2,2);a.q27=a.index+1;a.q28=a.index2+1;a.q29=4*a.index3+1;a.q30=a.index4;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);
a.q3=-a.q2;a.q4=a.q1;a.sp0=a.dec_slow*a.sp0+(a.q24+.05)*(1-a.dec_slow);a.go=a.go*a.dec_med+(1-a.dec_med)*(1-bnot(a.index2+a.index3));a.movez+=div(.015*30,a.fps)*a.go;a.q31=a.movez;a.q32=.5+.02*Math.sin(div(a.time,5));a.q5=mod(a.index4,2);a.zoom=1;a.rot=0;a.dx=.05*Math.max(Math.sin(div(a.time,9.7))-.95,0);a.dy=.002*(1-a.go);a.rot=50*(a.dx-a.dy);`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = ((uv * texsize.xy) * 0.03);
  vec2 tmpvar_2;
  tmpvar_2.x = (cos((tmpvar_1.y * q1)) * sin(-(tmpvar_1.y)));
  tmpvar_2.y = (sin(tmpvar_1.x) * cos((tmpvar_1.y * q2)));
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ((texture (sampler_main, (uv - 
    ((tmpvar_2 * texsize.zw) * 18.0)
  )).xyz * 0.99) - 0.01);
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec2 uv1_1;
  vec3 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv).xyz;
  vec2 tmpvar_3;
  tmpvar_3.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;
  tmpvar_3.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;
  uv1_1 = ((0.3 * cos(
    ((uv - 0.5) + 1.8)
  )) - (2.0 * tmpvar_3));
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = (0.8 * ((0.3 * 
    dot (tmpvar_2, vec3(0.32, 0.49, 0.29))
  ) + (
    (22.0 * clamp ((0.01 / sqrt(
      dot (uv1_1, uv1_1)
    )), 0.0, 1.0))
   * 
    (tmpvar_2 + 0.1)
  )));
  ret = tmpvar_4.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:7,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,wrap:0,darken:1,wave_a:.001,wave_scale:.958,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:0,wave_b:0,ob_size:.05,ob_g:.1,ob_b:1,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:25.6,mv_y:9.6,mv_l:0,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.look=0;a.n=0;a.reg26=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.q12=0;a.v3=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.slow=0;a.reg36=0;a.reg22=0;a.uvy=0;a.rotz=0;a.ly=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;a.reg31=0;a.dirx=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.c2=0;a.reg37=
0;a.s3=0;a.yslope=0;a.lampy=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.beat=0;a.reg32=0;a.lx=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.q2=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.reg17=0;a.v1=0;a.speed=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.lampx=0;a.ty=0;a.c1=0;a.v2=0;a.q20=0;a.q8=0;a.avg=.01;a.q7=.25;a.q8=randint(2)-1;a.q16=1+randint(2);a.q18=randint(.8)+.1;a.q30=1;a.q31=128;a.start=1;a.travel=
0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=div(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(5)-2;a.posy=randint(5)-2;a.posz=randint(5)-2;a.c1=Math.cos(a.ran1);
a.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,
8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=
a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>
d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);`,frame_eqs_str:`a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.06*30,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.7,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.25,a.fps_);a.rotz=.00001<Math.abs(.00001>Math.abs(a.rotz-0)?1:0)?a.beat*(randint(100)<20*a.travel?1:0)*(div(randint(10),10)-.3):bnot(a.beat*(30>randint(100)?1:0))*a.rotz;a.slow=.00001<Math.abs(bnot(a.slow))?
a.beat*(6>randint(1E3*a.avg)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.look=.00001<Math.abs(bnot(a.look))?a.beat*(12>randint(1E3*a.speed)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.lx=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.lx;a.ly=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.ly;a.lampx=a.lampx*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.lx:.5);a.lampy=a.lampy*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.ly:.5);a.q1=a.lampx;a.q2=a.lampy;a.dirx=a.reg26;a.diry=a.reg27;a.dirz=
a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.2-a.dist_)*(.2>a.dist_?1:0)*2;a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+(1-a.dec_s)*a.rotz*a.ds;a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=a.reg25;a.reg36=a.reg26;
a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg15=a.s3*
a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*a.reg24+a.reg15*a.reg27;
a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;
a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?
-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<
Math.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+2*(Math.abs(a.v1)+
Math.abs(a.v2)+Math.abs(a.v3))+div(1,255)+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.q11=a.v1;a.q12=a.v2;a.q13=a.v3;a.monitor=a.q16;`,pixel_eqs_str:"a.warp=0;a.zoom=1;a.dx=div(-a.q12,a.q16)*(1+0*pow(a.x-.5,2));a.dy=div(a.q13,a.q16)*(1+0*pow(a.y-.5,2));a.rot=a.q11;",warp:`float sustain;
float xlat_mutabledist;
float xlat_mutablestruc;
vec2 xlat_mutableuv1;
vec3 xlat_mutableuv2;
 shader_body { 
  mat3 tmpvar_1;
  tmpvar_1[uint(0)].x = q20;
  tmpvar_1[uint(0)].y = q23;
  tmpvar_1[uint(0)].z = q26;
  tmpvar_1[1u].x = q21;
  tmpvar_1[1u].y = q24;
  tmpvar_1[1u].z = q27;
  tmpvar_1[2u].x = q22;
  tmpvar_1[2u].y = q25;
  tmpvar_1[2u].z = q28;
  vec3 tmpvar_2;
  tmpvar_2.x = q4;
  tmpvar_2.y = q5;
  tmpvar_2.z = q6;
  sustain = (0.98 - q14);
  vec2 uv_3;
  vec3 ret_4;
  vec2 tmpvar_5;
  tmpvar_5 = (uv - 0.5);
  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_pc_main, uv);
  uv_3 = ((tmpvar_5 * (1.0 - 
    (q10 / (1.0 - ((tmpvar_6.z + 
      (0.003921569 * tmpvar_6.y)
    ) + (q10 * 0.7))))
  )) + 0.5);
  vec4 tmpvar_7;
  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));
  xlat_mutabledist = tmpvar_7.x;
  if ((tmpvar_7.y > 0.2)) {
    vec3 tmpvar_8;
    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));
    vec2 uvi_9;
    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);
    vec2 pix_10;
    vec4 nb2_11;
    vec4 nb_12;
    vec2 x_13;
    x_13 = (uvi_9 - 0.5);
    pix_10 = (texsize.zw * (1.0 + (
      sqrt(dot (x_13, x_13))
     * 8.0)));
    float tmpvar_14;
    tmpvar_14 = (q10 * 0.7);
    vec4 tmpvar_15;
    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));
    nb_12.x = (1.0 - ((tmpvar_15.z + 
      (0.003921569 * tmpvar_15.y)
    ) + tmpvar_14));
    vec4 tmpvar_16;
    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));
    nb_12.y = (1.0 - ((tmpvar_16.z + 
      (0.003921569 * tmpvar_16.y)
    ) + tmpvar_14));
    vec4 tmpvar_17;
    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));
    nb_12.z = (1.0 - ((tmpvar_17.z + 
      (0.003921569 * tmpvar_17.y)
    ) + tmpvar_14));
    vec4 tmpvar_18;
    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));
    nb_12.w = (1.0 - ((tmpvar_18.z + 
      (0.003921569 * tmpvar_18.y)
    ) + tmpvar_14));
    vec4 tmpvar_19;
    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));
    nb2_11.x = (1.0 - ((tmpvar_19.z + 
      (0.003921569 * tmpvar_19.y)
    ) + tmpvar_14));
    vec4 tmpvar_20;
    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));
    nb2_11.y = (1.0 - ((tmpvar_20.z + 
      (0.003921569 * tmpvar_20.y)
    ) + tmpvar_14));
    vec4 tmpvar_21;
    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));
    nb2_11.z = (1.0 - ((tmpvar_21.z + 
      (0.003921569 * tmpvar_21.y)
    ) + tmpvar_14));
    vec4 tmpvar_22;
    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));
    nb2_11.w = (1.0 - ((tmpvar_22.z + 
      (0.003921569 * tmpvar_22.y)
    ) + tmpvar_14));
    vec4 tmpvar_23;
    tmpvar_23 = min (nb_12, nb2_11);
    nb_12.zw = tmpvar_23.zw;
    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);
    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));
  };
  vec4 tmpvar_24;
  tmpvar_24 = texture (sampler_pc_main, uv_3);
  float tmpvar_25;
  tmpvar_25 = min (xlat_mutabledist, (1.0 - (
    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))
   + 
    (q10 * 0.7)
  )));
  xlat_mutabledist = tmpvar_25;
  float tmpvar_26;
  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));
  vec3 tmpvar_27;
  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);
  tmpvar_27.z = tmpvar_26;
  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);
  xlat_mutableuv2 = ((fract(
    ((xlat_mutableuv2 / 8.0) + 0.5)
  ) - 0.5) * 8.0);
  float li_28;
  vec3 zz0_29;
  vec3 zz_30;
  zz0_29 = (xlat_mutableuv2 + q8);
  li_28 = 0.0;
  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);
  float tmpvar_31;
  tmpvar_31 = dot (zz_30, zz_30);
  if ((tmpvar_31 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_31 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_31);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_32;
  tmpvar_32 = dot (zz_30, zz_30);
  if ((tmpvar_32 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_32 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_32);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_33;
  tmpvar_33 = dot (zz_30, zz_30);
  if ((tmpvar_33 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_33 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_33);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_34;
  tmpvar_34 = dot (zz_30, zz_30);
  if ((tmpvar_34 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_34 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_34);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_35;
  tmpvar_35 = dot (zz_30, zz_30);
  if ((tmpvar_35 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_35 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_35);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_36;
  tmpvar_36 = dot (zz_30, zz_30);
  if ((tmpvar_36 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_36 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_36);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_37;
  tmpvar_37 = dot (zz_30, zz_30);
  if ((tmpvar_37 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_37 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_37);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);
  float tmpvar_38;
  tmpvar_38 = dot (zz_30, zz_30);
  if ((tmpvar_38 <= 0.25)) {
    zz_30 = (zz_30 * 4.0);
    li_28 = 24.0;
  } else {
    if ((tmpvar_38 <= 1.0)) {
      zz_30 = (zz_30 / tmpvar_38);
    };
  };
  zz_30 = ((2.6 * zz_30) + zz0_29);
  vec4 tmpvar_39;
  tmpvar_39.xyz = zz_30;
  tmpvar_39.w = li_28;
  float tmpvar_40;
  tmpvar_40 = sqrt(dot (zz_30, zz_30));
  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);
  vec4 tmpvar_41;
  tmpvar_41 = texture (sampler_pc_main, uv_3);
  float tmpvar_42;
  float tmpvar_43;
  tmpvar_43 = (q10 * 0.7);
  tmpvar_42 = ((log(
    (1.0 + (tmpvar_40 / 24.0))
  ) * 0.02) * (1.0 - (1.0 - 
    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)
  )));
  float tmpvar_44;
  vec4 tmpvar_45;
  tmpvar_45 = texture (sampler_pc_main, uv_3);
  tmpvar_44 = (1.0 - ((tmpvar_45.z + 
    (0.003921569 * tmpvar_45.y)
  ) + tmpvar_43));
  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {
    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, 
      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)
    , vec3(
      (q14 * 4.0)
    )).x));
    float x_46;
    x_46 = ((1.0 - tmpvar_25) * 255.0);
    float ip_47;
    ip_47 = float(int(x_46));
    vec2 tmpvar_48;
    tmpvar_48.x = (x_46 - ip_47);
    tmpvar_48.y = (ip_47 / 255.0);
    ret_4.yz = tmpvar_48;
  } else {
    vec3 tmpvar_49;
    tmpvar_49.y = 0.0;
    tmpvar_49.x = sustain;
    tmpvar_49.z = (1.0 - tmpvar_42);
    vec3 tmpvar_50;
    tmpvar_50.xy = vec2(0.003921569, 0.0);
    tmpvar_50.z = (q14 / 6.0);
    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);
  };
  vec4 tmpvar_51;
  tmpvar_51.w = 1.0;
  tmpvar_51.xyz = ret_4;
  ret = tmpvar_51.xyz;
 }`,comp:` shader_body { 
  vec3 tmpvar_1;
  tmpvar_1.x = q4;
  tmpvar_1.y = q5;
  tmpvar_1.z = q6;
  mat3 tmpvar_2;
  tmpvar_2[uint(0)].x = q20;
  tmpvar_2[uint(0)].y = q23;
  tmpvar_2[uint(0)].z = q26;
  tmpvar_2[1u].x = q21;
  tmpvar_2[1u].y = q24;
  tmpvar_2[1u].z = q27;
  tmpvar_2[2u].x = q22;
  tmpvar_2[2u].y = q25;
  tmpvar_2[2u].z = q28;
  vec2 tmpvar_3;
  tmpvar_3.x = q1;
  tmpvar_3.y = q2;
  vec2 uv_4;
  vec3 ret_5;
  uv_4 = (((uv - 0.5) * 0.9) + 0.5);
  vec3 tmpvar_6;
  tmpvar_6.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - 
    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)
  .z)));
  tmpvar_6.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (
    (texture (sampler_blur2, uv_4).xyz * scale2)
   + bias2).z));
  float tmpvar_7;
  tmpvar_7 = clamp ((abs(
    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (
      (texture (sampler_blur2, tmpvar_3).xyz * scale2)
     + bias2).z), 0.1, 0.4))
  ) + 0.2), 0.0, 1.0);
  float tmpvar_8;
  tmpvar_8 = clamp (((1.0 - 
    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))
  ) - 0.2), 0.0, 1.0);
  ret_5 = ((mix (texture (sampler_main, uv_4).xyz, 
    ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)
  , vec3(tmpvar_7)).x * (0.2 + 
    ((1.0 - tmpvar_7) * (1.0 - min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - 
      ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)
    .z))))
  )) * (1.0 + (0.5 * 
    sin((((tmpvar_6 / q7) * tmpvar_2) + tmpvar_1))
  )));
  vec3 tmpvar_9;
  tmpvar_9.xy = vec2(0.0, 1.0);
  tmpvar_9.z = (tmpvar_8 * 3.0);
  ret_5 = (mix (ret_5, tmpvar_9, vec3(tmpvar_8)) + ((
    pow ((1.0 - mix (texture (sampler_main, uv_4).xyz, (
      (texture (sampler_blur1, uv_4).xyz * scale1)
     + bias1), vec3(0.8, 0.8, 0.8)).z), 3.0)
   * 
    (0.5 + (0.5 * slow_roam_cos))
  ) * q19).xyz);
  ret_5 = (1.0 - exp((-2.0 * ret_5)));
  vec4 tmpvar_10;
  tmpvar_10.w = 1.0;
  tmpvar_10.xyz = ret_5;
  ret = tmpvar_10.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,wave_mode:7,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.958178,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,ob_r:.3999,ob_a:.2,ib_size:0,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:100,additive:1,x:.26,y:.2,rad:.393173,tex_zoom:.9355,r:0,g:.55,b:.5,g2:.4,b2:.4,a2:.07,border_r:.3,border_g:.7,border_b:.8,border_a:0},init_eqs_str:"a.g0=0;a.y0=0;a.q1=0;a.x0=0;a.q24=0;a.q26=0;a.r0=0;a.trig=0;a.q2=0;a.b0=0;a.rad0=0;",frame_eqs_str:`a.trig=a.q24;a.x0=a.x0*bnot(a.trig)+a.trig*(.5+div(randint(100),200));a.y0=a.y0*bnot(a.trig)+a.trig*(.5+div(randint(100),200));a.x0+=div(.1*a.q1*(3+a.q26),a.fps);a.y0+=div(.1*a.q2*(3+a.q26),a.fps);a.x0-=Math.floor(a.x0);a.y0-=Math.floor(a.y0);a.tex_ang=a.time;a.tex_zoom=a.q1;a.ang=div(a.time,100)*a.q2;a.x=a.x0;a.y=a.y0;a.rad0=a.rad0*bnot(a.trig)+a.trig*(.04+div(randint(100),1E3));a.rad=a.rad0;a.r0=bnot(a.trig)*a.r0+div(a.trig*randint(10),10);a.g0=bnot(a.trig)*a.g0+div(a.trig*
randint(10),10);a.b0=bnot(a.trig)*a.b0+div(a.trig*randint(10),10);a.r=a.r0;a.b=a.b0;a.g=a.g0;a.r2=0;a.b2=0;a.g2=0;a.a=1;a.a2=.3;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.index4=0;a.index=0;a.q22=0;a.q21=0;a.q1=0;a.dec_med=0;a.index3=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q11=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q28=0;a.q20=0;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),3);a.monitor=a.index4;
a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.q11=Math.min(a.q22,3);a.k1=a.is_beat*equal(a.index,0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.14159265359*a.p2,2);a.q27=8-a.index;a.q28=a.index2;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.zoom=1+.02*a.q1;a.rot=.01*a.q2;a.dx=0*a.index;a.wave_a=0;`,pixel_eqs_str:"",pixel_eqs:"",warp:`float xlat_mutabledx;
float xlat_mutabledy;
vec2 xlat_mutableuv2;
vec2 xlat_mutablezz;
 shader_body { 
  vec2 uv_1;
  vec3 crisp_2;
  vec2 tmpvar_3;
  tmpvar_3.y = 0.0;
  tmpvar_3.x = texsize.w;
  vec2 tmpvar_4;
  tmpvar_4.x = 0.0;
  tmpvar_4.y = texsize.z;
  xlat_mutablezz = ((uv * texsize.xy) * 0.01);
  vec2 tmpvar_5;
  tmpvar_5.x = (cos((xlat_mutablezz.y * q1)) * sin(-(xlat_mutablezz.y)));
  tmpvar_5.y = (sin(xlat_mutablezz.x) * cos((xlat_mutablezz.y * q2)));
  uv_1 = (uv - ((tmpvar_5 * texsize.zw) * (8.0 + 
    (6.0 * q11)
  )));
  xlat_mutableuv2 = (((uv_1 / 2.0) * q27) / 4.0);
  xlat_mutabledx = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_3)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));
  xlat_mutabledy = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_4)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_4)).xyz), vec3(0.32, 0.49, 0.29));
  float tmpvar_6;
  tmpvar_6 = (0.15 + (0.1 * q28));
  vec2 tmpvar_7;
  tmpvar_7 = (xlat_mutableuv2 + (time / 100.0));
  xlat_mutabledx = (xlat_mutabledx + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).x - 0.5)));
  xlat_mutabledy = (xlat_mutabledy + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).y - 0.5)));
  vec2 tmpvar_8;
  tmpvar_8.x = xlat_mutabledx;
  tmpvar_8.y = xlat_mutabledy;
  xlat_mutablezz = tmpvar_8;
  crisp_2 = (texture (sampler_main, (uv_1 + (tmpvar_8 * 0.04))).xyz + texture (sampler_main, uv_1).xyz);
  crisp_2 = (crisp_2 * 0.5);
  crisp_2 = (crisp_2 + ((0.05 * 
    (0.9 + (0.1 * roam_cos))
  .xyz) - (
    sqrt(dot (tmpvar_8, tmpvar_8))
   * 0.3)));
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = ((crisp_2 * 0.97) - 0.015);
  ret = tmpvar_9.xyz;
 }`,comp:`vec2 xlat_mutabledz;
vec3 xlat_mutableneu;
vec3 xlat_mutableret1;
vec2 xlat_mutableuv3;
 shader_body { 
  vec2 uv2_1;
  vec2 tmpvar_2;
  tmpvar_2.y = 0.0;
  tmpvar_2.x = texsize.z;
  vec2 tmpvar_3;
  tmpvar_3.x = 0.0;
  tmpvar_3.y = texsize.w;
  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));
  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));
  uv2_1 = (uv - 0.5);
  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);
  float tmpvar_4;
  tmpvar_4 = (time / 2.0);
  xlat_mutableuv3 = ((0.2 * cos(
    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)
  )) + (99.0 * xlat_mutabledz));
  float tmpvar_5;
  tmpvar_5 = clamp ((0.01 / sqrt(
    dot (xlat_mutableuv3, xlat_mutableuv3)
  )), 0.0, 1.0);
  xlat_mutableneu = ((0.1 * vec3(tmpvar_5)) + (0.9 * dot (vec3(tmpvar_5), vec3(0.32, 0.49, 0.29))));
  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));
  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);
  xlat_mutableuv3 = ((0.2 * cos(
    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)
  )) + (99.0 * xlat_mutabledz));
  float tmpvar_6;
  tmpvar_6 = clamp ((0.01 / sqrt(
    dot (xlat_mutableuv3, xlat_mutableuv3)
  )), 0.0, 1.0);
  xlat_mutableneu = ((0.1 * vec3(tmpvar_6)) + (0.9 * dot (vec3(tmpvar_6), vec3(0.32, 0.49, 0.29))));
  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = (xlat_mutableret1 + clamp ((
    (16.0 * ((0.5 * texture (sampler_main, (uv + 
      (0.1 * xlat_mutabledz)
    )).xyz) + 0.01))
   * 
    (0.1 + xlat_mutableret1)
  ), 0.0, 1.0));
  ret = tmpvar_7.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:4,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.527,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:.8,wave_g:.49,ob_size:.015,ob_a:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b2x:.3,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:506,sep:116,spectrum:1,thick:1,scaling:1.07408,smoothing:0,a:.7},init_eqs_str:"a.n=0;a.m=0;",frame_eqs_str:"",point_eqs_str:"a.n=Math.floor((a.reg00+.5)*a.sample);a.m=30001+div(a.n,div(a.reg00,a.reg01));a.gmegabuf[Math.floor(a.m)]=a.value1+a.value2;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"},{baseVals:{enabled:1,samples:506,thick:1,scaling:.89152,smoothing:.82},init_eqs_str:"a.n=0;",frame_eqs_str:"",point_eqs_str:"a.n=Math.floor((a.reg00+.5)*a.sample)+a.reg00;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"},{baseVals:{enabled:1,samples:506,thick:1,scaling:.89152,smoothing:.82},init_eqs_str:"a.n=0;",frame_eqs_str:"",point_eqs_str:"a.n=Math.floor((a.reg00+.5)*a.sample)+2*a.reg00;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"},{baseVals:{enabled:1,samples:506,spectrum:1,thick:1},init_eqs_str:"a.n=0;",frame_eqs_str:"",point_eqs_str:"a.n=Math.floor((a.reg00-.5)*a.sample)+3*a.reg00;a.x=a.gmegabuf[Math.floor(1E4+a.n)];a.y=a.gmegabuf[Math.floor(15E3+a.n)];a.a=a.gmegabuf[Math.floor(2E4+a.n)];a.b=Math.min(Math.max(a.gmegabuf[Math.floor(25E3+a.n)],0),1);a.r=1-a.b;a.g=.5;"}],init_eqs_str:`a.xang=0;a.fov=0;a.hell=0;a.cbeat=0;a.index2=0;a.bindex=0;a.ran4=0;a.index=0;a.dec_v=0;a.yang=0;a.q29=0;a.q6=0;a.amp_=0;a.xlen=0;a.smooth=0;a.q1=0;a.dec_med=0;a.sum=0;a.q5=0;a.dec_f=0;a.trely=0;a.flen=0;a.reg01=0;a.my=0;a.oz=0;a.imag=0;a.is_beat=0;a.yind=0;a.oy0a=0;a.dec_slow=0;a.ran2=0;a.ind=0;a.z0=0;a.ylen=0;a.real=0;a.ran4_=0;a.ran3=0;a.q4=0;a.mz=0;a.oy0=0;a.amp=0;a.tc0=0;a.oy=0;a.avg=0;a.mx=0;a.vol=0;a.ran2_=0;a.peak=0;a.decc=0;a.q2=0;a.bd_bt=0;a.zang=0;a.q3=0;a.reg00=0;
a.trelz=0;a.q32=0;a.ran3_=0;a.q28=0;a.trelx=0;a.q30=0;a.ox=0;a.xind=0;for(var b=a.index=0;7E4>b;b++)a.megabuf[Math.floor(a.index)]=0,a.gmegabuf[Math.floor(a.index)]=0,a.index+=1;a.zang=1;a.yang=0;a.zang=2;`,frame_eqs_str:`a.xlen=45;a.ylen=45;a.flen=30;a.reg00=div(a.xlen*a.ylen,4);a.reg01=div(a.reg00,4);a.dec_med=1-div(.06*30,a.fps);a.dec_slow=1-div(.6,a.fps);a.dec_f=pow(.8,div(30,a.fps));a.q30=a.dec_slow;a.smooth=Math.max(1,pow(6,div(a.fps,30))-2);a.cbeat=a.bass+a.mid+a.treb;a.decc=.00001<Math.abs(a.vol>a.cbeat?1:0)?.8:a.dec_med;a.vol=a.vol*a.decc+(1-a.decc)*a.cbeat;a.avg=a.avg*a.dec_slow+a.cbeat*(1-a.dec_slow);a.is_beat=above(a.cbeat,1.5*a.avg)*above(a.time,a.tc0+.2);a.tc0=.00001<Math.abs(bor(a.is_beat,
a.bd_bt))?a.time:a.tc0;a.peak=.00001<Math.abs(a.is_beat)?a.cbeat:a.peak*a.dec_med;a.ind=0;a.sum=0;a.amp=.01;for(var b=0;b<a.reg01;b++)a.sum+=div(a.gmegabuf[Math.floor(a.ind+3E4)],a.reg01),a.amp+=pow(a.gmegabuf[Math.floor(a.ind+3E4)],2),a.ind+=1;a.ind=0;a.amp_=a.amp_*a.dec_med+600*div((1-a.dec_med)*sqrt(a.amp),a.reg01);for(b=0;b<a.reg01;b++)a.megabuf[Math.floor(a.ind+3E4)]=div(a.gmegabuf[Math.floor(a.ind+3E4)]-a.sum,a.amp_),a.ind+=1;for(b=a.index2=0;b<a.flen;b++){a.index=0;a.real=0;for(var c=a.imag=
0;c<a.flen;c++)a.real+=Math.cos(6.28*div(a.index,a.flen)*a.index2)*a.megabuf[Math.floor(div(a.index*a.reg01,8)+30002)],a.imag+=Math.sin(6.28*div(a.index,a.flen)*a.index2)*a.megabuf[Math.floor(div(a.index*a.reg01,8)+30002)],a.index+=1;a.megabuf[Math.floor(1E4+a.index2)]=a.megabuf[Math.floor(1E4+a.index2)]*a.dec_f+a.real;a.megabuf[Math.floor(15E3+a.index2)]=a.megabuf[Math.floor(15E3+a.index2)]*a.dec_f+a.imag;a.index2+=1}a.ind=1;for(b=0;b<div(a.flen,2);b++){a.cx=a.megabuf[Math.floor(1E4+a.ind)];a.cy=
a.megabuf[Math.floor(15E3+a.ind)];a.yind=-1;for(c=0;3>c;c++){a.xind=-1;for(var d=0;3>d;d++)a.ox=mod((a.cx+.5)*a.xlen+a.xind,a.xlen),a.oy=mod((a.cy+.5)*a.ylen+a.yind,a.ylen),a.amp=3*(a.cx*a.cx+a.cy*a.cy),a.megabuf[Math.floor(a.oy*a.ylen+a.ox)]-=div(div(60,a.fps)*sqrt(a.amp)*above(a.amp,.02),1+a.xind*a.xind+a.yind*a.yind),a.xind+=1;a.yind+=1}a.ind+=1}for(b=a.yind=0;b<a.ylen;b++){for(c=a.xind=0;c<a.xlen;c++)a.megabuf[Math.floor(a.yind*a.ylen+a.xind+5E3)]=a.dec_med*(div(a.gmegabuf[Math.floor(a.yind*a.ylen+
mod(a.xind+1,a.xlen))]+a.gmegabuf[Math.floor(a.yind*a.ylen+mod(a.xlen+a.xind-1,a.xlen))]+a.gmegabuf[Math.floor(mod(a.yind+1,a.ylen)*a.ylen+a.xind)]+a.gmegabuf[Math.floor(mod(a.yind+a.ylen-1,a.ylen)*a.ylen+a.xind)]+a.gmegabuf[Math.floor(a.yind*a.ylen+a.xind)]*a.smooth*4,2+2*a.smooth)-a.megabuf[Math.floor(a.yind*a.ylen+a.xind)]),a.xind+=1;a.yind+=1}a.bindex+=a.is_beat;.00001<Math.abs(a.is_beat&&.00001>Math.abs(mod(a.bindex,4)-0)?1:0)?a.ran2=div(randint(100)-30,60):0;.00001<Math.abs(a.is_beat&&.00001>
Math.abs(mod(a.bindex,4)-2)?1:0)?a.ran3=div(randint(100)-30,60):0;.00001<Math.abs(a.is_beat&&.00001>Math.abs(mod(a.bindex,6)-2)?1:0)?a.ran4=div(randint(100)-30,60):0;a.dec_v=Math.min(Math.max(0,1-div(8*a.vol,a.fps)),a.dec_slow);a.ran2_=a.ran2_*a.dec_v+(1-a.dec_v)*a.ran2;a.ran3_=a.ran3_*a.dec_v+(1-a.dec_v)*a.ran3;a.ran4_=a.ran4_*a.dec_v+(1-a.dec_v)*a.ran4;a.trelx+=div(div(a.ran2_,a.fps),7);a.trely+=div(div(a.ran3_,a.fps),2);a.trelz+=div(div(a.ran4_,a.fps),6);a.zang=6*Math.sin(a.trelz);a.xang=6*Math.sin(div(a.zang,
5)+a.trelx);a.yang=6*Math.sin(0*div(a.zang,3)+a.trely);a.q1=Math.cos(a.xang);a.q2=Math.sin(a.xang);a.q3=Math.cos(a.yang);a.q4=Math.sin(a.yang);a.q5=Math.cos(a.zang);a.q6=Math.sin(a.zang);a.fov=1;for(b=a.yind=0;b<a.ylen;b++){for(c=a.xind=0;c<a.xlen;c++)a.ind=a.yind*a.ylen+a.xind,a.megabuf[Math.floor(a.ind)]=a.gmegabuf[Math.floor(a.ind)],a.gmegabuf[Math.floor(a.ind)]=a.megabuf[Math.floor(a.ind+5E3)],a.oz=a.yind-div(a.ylen,2),a.ox=.00001<Math.abs(bnot(mod(a.yind,2)))?a.xind:a.xlen-a.xind-1,a.oy0a=div(a.oy0+
a.oy0a,2.5),a.oy=a.gmegabuf[Math.floor(a.yind*a.ylen+a.ox)],a.oy0=a.oy,a.ox-=div(a.xlen,2),a.mx=a.ox*a.q5-a.oy*a.q6,a.my=a.ox*a.q6+a.oy*a.q5,a.ox=a.mx,a.oy=a.my,a.mx=a.ox*a.q3+a.oz*a.q4,a.mz=-a.ox*a.q4+a.oz*a.q3,a.ox=a.mx,a.oz=a.mz,a.my=a.oy*a.q1-a.oz*a.q2,a.mz=a.oy*a.q2+a.oz*a.q1,a.z0=90+40*Math.sin(14*a.trelz),a.oy=a.my,a.oz=a.mz+a.z0,a.gmegabuf[Math.floor(1E4+a.ind)]=div(a.fov*a.ox,a.oz)+.5,a.gmegabuf[Math.floor(15E3+a.ind)]=div(a.fov*a.oy,a.oz)+.5,a.hell=Math.max(Math.min(.5+div(a.oy0,4),1),.1),
a.gmegabuf[Math.floor(2E4+a.ind)]=Math.max(Math.min(a.hell*(.5+.1*(a.oy0a-a.oy0)),1),.1),a.gmegabuf[Math.floor(25E3+a.ind)]=div(a.oy0,16)+.5,a.xind+=1;a.yind+=1}a.q29=div(50*a.fov,a.z0);a.q32=a.aspecty;a.q28=Math.min(div(a.vol,3)-.3,1);a.monitor=a.is_beat;`,pixel_eqs_str:"a.rot=0;a.zoom=1.1;a.warp=0;a.dy=.02;",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = vec3(0.0, 0.0, 0.0);
  ret = tmpvar_1.xyz;
 }`,comp:`vec3 xlat_mutablecol;
 shader_body { 
  vec2 uv_1;
  uv_1 = uv;
  int iter_3;
  vec3 ret_4;
  ret_4 = texture (sampler_main, uv).xyz;
  iter_3 = int((clamp (q29, 0.0, 1.0) * 8.0));
  for (int n_2 = 1; n_2 < iter_3; n_2++) {
    vec2 tmpvar_5;
    tmpvar_5.y = 0.0;
    tmpvar_5.x = float(n_2);
    vec2 tmpvar_6;
    tmpvar_6.y = 0.0;
    tmpvar_6.x = float(n_2);
    ret_4 = max (max (ret_4, texture (sampler_main, (uv_1 - 
      (texsize.zw * tmpvar_5)
    )).xyz), texture (sampler_main, (uv_1 + (texsize.zw * tmpvar_6))).xyz);
  };
  float tmpvar_7;
  tmpvar_7 = clamp ((1.0 - (2.0 * 
    dot (ret_4, vec3(0.32, 0.49, 0.29))
  )), 0.0, 1.0);
  float tmpvar_8;
  float tmpvar_9;
  tmpvar_9 = (uv.x - 0.5);
  tmpvar_8 = (0.5 / ((
    (uv.y + ((tmpvar_9 * 1.4) * (q5 * q3)))
   - 0.4) + (0.3 * q4)));
  vec2 tmpvar_10;
  tmpvar_10.x = (tmpvar_8 * tmpvar_9);
  tmpvar_10.y = tmpvar_8;
  vec3 tmpvar_11;
  tmpvar_11.x = q2;
  tmpvar_11.y = q4;
  tmpvar_11.z = q6;
  xlat_mutablecol = (0.5 + (0.5 * tmpvar_11));
  float x_12;
  x_12 = ((uv.x - (
    dot (ret_4, vec3(0.32, 0.49, 0.29))
   * 5.0)) + 0.5);
  ret_4 = (ret_4 * (q28 + (
    ((6.0 * (0.05 / sqrt(
      (x_12 * x_12)
    ))) * (1.0 + xlat_mutablecol))
   / 2.0)));
  vec2 tmpvar_13;
  tmpvar_13.x = q1;
  tmpvar_13.y = (q3 + time);
  float tmpvar_14;
  tmpvar_14 = (((
    (texture (sampler_noise_lq, (tmpvar_10 + tmpvar_13)).x * tmpvar_7)
   * 
    float((tmpvar_8 > 0.0))
  ) * 0.2) * min (1.0, (1.0/(tmpvar_8))));
  ret_4 = (ret_4 + tmpvar_14);
  ret_4 = (ret_4 + ((
    (sin((12.0 * q2)) * tmpvar_7)
   * tmpvar_14) * dot (
    (12.0 * ((texture (sampler_blur1, (tmpvar_10 - vec2(-0.5, 0.3))).xyz * scale1) + bias1))
  , vec3(0.32, 0.49, 0.29))));
  ret_4 = (ret_4 + ((
    ((0.5 / abs(tmpvar_8)) * normalize(xlat_mutablecol))
   * 
    float((tmpvar_8 < 0.0))
  ) * tmpvar_7));
  vec4 tmpvar_15;
  tmpvar_15.w = 1.0;
  tmpvar_15.xyz = ret_4;
  ret = tmpvar_15.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1.980001,decay:.5,echo_zoom:.999998,echo_alpha:.5,echo_orient:3,modwavealphabyvolume:1,darken:1,wave_a:.001,wave_scale:10.437056,wave_smoothing:.45,wave_mystery:.08,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.4595,warpscale:2.0067,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:.99,ob_size:0,ob_r:1,ob_g:1,ob_b:1,ib_size:0,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.4999,mv_g:.4999,mv_b:.4999,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,rad:.048958,tex_ang:1.00531,tex_zoom:1.531168,r:.5,g:1,b:.9,r2:.83,g2:.93,b2:.8,a2:1,border_b:0,border_a:0},init_eqs_str:"a.trel=0;a.q20=0;a.q28=0;a.q26=0;",frame_eqs_str:"a.trel=div(a.time,2)+a.q20;a.x=.5+Math.sin(2*a.trel);a.y=.5+Math.cos(1.3*a.trel+div(a.q28,3));a.a=div(a.q26,4)+.2;"},{baseVals:{enabled:0}},{baseVals:{enabled:1,x:.503,rad:.038857,tex_zoom:.609857,g:.1,a:.9,r2:1,b2:1,border_r:.5,border_g:.5,border_b:.5,border_a:0},init_eqs_str:"a.is_beat=0;a.t0=0;a.q21=0;",frame_eqs_str:"a.x=div(randint(10),10);a.y=div(randint(10),10);a.r=div(randint(4),3);a.g=div(randint(4),3);a.b=div(randint(4),3);a.is_beat=above(a.time,a.t0+.03);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.a=Math.min(div(a.q21,2),.9)*a.is_beat;a.rad=div(a.a*a.a,3);"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,sep:120,additive:1,scaling:.891519,smoothing:.82,a:.6},init_eqs_str:"a.k1=0;a.k2=0;a.xi=0;a.yi=0;a.dx=0;a.dy=0;a.q22=0;a.t2=0;a.t1=1+.3*(.01*randint(101)-.01*randint(101));a.t2=1+.3*(.01*randint(101)-.01*randint(101));a.t3=1+.3*(.01*randint(101)-.01*randint(101));a.t4=1+.3*(.01*randint(101)-.01*randint(101));a.t5=1+.3*(.01*randint(101)-.01*randint(101));a.t6=1+.3*(.01*randint(101)-.01*randint(101));a.t7=1+.3*(.01*randint(101)-.01*randint(101));a.t8=1+.3*(.01*randint(101)-.01*randint(101));",frame_eqs_str:"a.t2+=a.bass_att;",point_eqs_str:"a.k1=mod(100*a.sample,8);a.k2=bnot(a.k1);a.xi=a.value1*a.k2+a.xi*(1-a.k2);a.yi=a.value2*(1-a.k2)+a.yi*a.k2;a.dx=.99*a.dx+a.xi;a.dy=.99*a.dy+a.yi;a.x=.5+div(a.xi,2);a.y=.5+div(a.yi,2);a.a=div(a.q22,8);a.a=Math.min(a.a,.2);"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index=0;a.q22=0;a.q21=0;a.fade=0;a.q1=0;a.dec_med=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q32=0;a.q20=0;a.fade=.5;",frame_eqs_str:`a.dec_med=pow(.9,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.q26=a.bass+a.mid+a.treb;a.k1=a.is_beat*equal(a.index,0);a.p1=
a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.14159265358*a.p2,2);a.q27=a.index+1;a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.zoom=1;a.rot=-0*a.index;a.fade=a.fade*a.dec_med+pow(.996,div(30,a.fps))*(1-a.dec_med);a.q32=a.fade;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 zz_1;
  mat2 tmpvar_2;
  tmpvar_2[uint(0)] = _qa.xy;
  tmpvar_2[1u] = _qa.zw;
  zz_1 = (((
    (uv - vec2(0.5, 0.5))
   * texsize.xy) * (0.015 * q27)) * tmpvar_2);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = (((q32 * texture (sampler_main, 
    (uv + ((clamp (
      (sin(zz_1) / cos(zz_1))
    , vec2(-20.0, -20.0), vec2(20.0, 20.0)) * texsize.zw) * 8.0))
  ).xyz) + (
    (0.03 * texture (sampler_noise_lq, ((uv * 0.3) + (0.01 * rand_frame).xy)))
  .xyz * 
    (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))
  )) - 0.02);
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1 = texture (sampler_main, uv);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ((tmpvar_1.xyz + clamp (
    (3.0 * (((texture (sampler_blur1, 
      (uv - (0.01 * tmpvar_1.xyz).xy)
    ).xyz * scale1) + bias1) - vec3(0.1, 0.1, 0.2)))
  , 0.0, 1.0)) * 1.3);
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,decay:.5,echo_zoom:.952,echo_alpha:.5,echo_orient:3,wave_mode:6,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:2.103,wave_smoothing:.54,wave_mystery:.38,modwavealphastart:.81,modwavealphaend:1.4,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:0,wave_g:0,wave_b:0,ob_size:.015,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:1,sides:16,thickoutline:1,textured:1,num_inst:3,x:.73,rad:.29466,tex_zoom:1.87511,r:.7,g:.7,b:1,g2:0,border_b:0,border_a:0},init_eqs_str:"a.trig=0;a.q25=0;a.x0=0;a.y0=0;",frame_eqs_str:"a.trig=a.q25;a.a=.8*a.trig;a.a2=0;a.x0=a.x0*bnot(a.trig)+div(a.trig*randint(100),100);a.y0=a.y0*bnot(a.trig)+div(a.trig*randint(100),100);a.tex_ang=randint(20);a.rad=.1+div(randint(10),8);a.x=a.x0;a.y=a.y0;a.r=.7+.3*Math.sin(div(a.time,12));a.b=.7+.3*Math.sin(div(a.time,15));a.g=.7+.3*Math.sin(div(a.time,8));a.r2=a.r;a.b2=a.b;a.g2=a.g;"},{baseVals:{enabled:1,sides:36,thickoutline:1,textured:1,num_inst:4,x:.3,rad:.05429,ang:1.25664,tex_ang:.37699,tex_zoom:1.02841,g:.7,b:.5,r2:1,g2:0,border_g:.59,border_b:0,border_a:0},init_eqs_str:"a.q31=0;a.q32=0;a.q30=0;",frame_eqs_str:"a.x=a.q31;a.y=a.q32;a.rad=.06;a.tex_ang=a.time;a.a=a.q30;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.q25=0;a.index=0;a.q12=0;a.q22=0;a.q21=0;a.q15=0;a.q29=0;a.q6=0;a.dec_med=0;a.q5=0;a.mindev=0;a.trel=0;a.t0a=0;a.mov1=0;a.vis=0;a.is_beat=0;a.q31=0;a.q23=0;a.q24=0;a.dec_slow=0;a.q11=0;a.hpeak=0;a.q10=0;a.sdev=0;a.med=0;a.spb=0;a.dir=0;a.spb_=0;a.q16=0;a.rota=0;a.q19=0;a.vol=0;a.peak=0;a.trig1=0;a.wamp=0;a.speed=0;a.t0=0;a.vol_=0;a.q32=0;a.q7=0;a.wamp_=0;a.q30=0;a.q20=0;a.q8=0;a.t0a=a.time;a.t0=a.time+.5;a.spb_=.5;a.volb=.5;a.volx=.5;a.vol_=1;a.index=0;a.mov1=0;a.sdev=.1;a.wamp_=
.1;`,frame_eqs_str:`a.dec_med=pow(.8,div(30,a.fps));a.dec_slow=pow(.95,div(30,a.fps));a.vol=div(a.bass+a.med+a.treb,1.5);a.vol_=a.vol_*a.dec_slow+(1-a.dec_slow)*a.vol;a.is_beat=above(a.vol,a.vol_+2*a.peak)*above(a.time,a.t0+.45*a.spb_);a.t0a=.00001<Math.abs(a.is_beat)?a.t0:a.t0a;a.t0=.00001<Math.abs(a.is_beat)?a.time:a.t0;a.peak=.00001<Math.abs(a.is_beat)?a.vol:a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,128);a.spb=Math.min(a.t0-a.t0a+.01,2);a.spb_=.00001<Math.abs(a.is_beat)?.9*a.spb_+.1*a.spb:
a.spb_;a.q20=a.vol_;a.q21=above(a.vol,2.7*a.vol_);a.q22=Math.max(0,a.peak-0)+.01;a.hpeak=a.hpeak*a.dec_med+(1-a.dec_med)*a.q21;a.q23=a.hpeak*(1+randint(8));a.q24=a.is_beat;a.q25=div(a.q22*(1+randint(8)),8);a.mindev=Math.min(Math.min(Math.abs(a.spb-a.spb_),Math.abs(2*a.spb-a.spb_)),Math.abs(a.spb-2*a.spb_));a.sdev=.00001<Math.abs(a.is_beat)?.8*a.sdev+.2*pow(a.mindev+.02,2):a.sdev;a.speed=div(div(1,a.fps),a.spb_);a.trel+=a.speed;a.q10=a.trel;a.wamp=Math.min(div(.001,a.sdev),.15);a.wamp_=a.wamp_*a.dec_slow+
(1-a.dec_slow)*a.wamp;a.q11=Math.sin(div(a.trel,2))*a.wamp_;a.q12=div(a.wamp_,2);a.rota=2*a.wamp_*Math.sin(div(a.trel,3));a.q5=Math.cos(a.rota);a.q6=Math.sin(a.rota);a.q7=-a.q6;a.q8=a.q5;a.q15=.05*-Math.sin(.5*a.trel);a.q16=div(Math.cos(a.trel)*a.wamp_,2);a.q19=.1*Math.sin(div(a.trel,12));a.trig1=bnot(a.vis)*bnot(randint(100*a.fps));a.vis=.00001<Math.abs(a.trig1)?1:a.vis*below(a.mov1,1);a.q30=a.vis;a.mov1=.00001<Math.abs(a.vis)?a.mov1+div(2*a.speed,a.fps):-1;a.dir=.00001<Math.abs(a.trig1)?randint(100):
a.dir;a.q31=.5+.5*Math.cos(a.dir)*a.mov1;a.q32=.5+.5*Math.sin(a.dir)*a.mov1;a.q29=2+Math.sin(div(a.time,17));a.monitor=a.wamp;`,pixel_eqs_str:"a.zoom=1+.02*a.rad*a.q20;a.dy=-0;a.warp=.1;a.dx=0;",warp:`mat2 ofs;
vec2 xlat_mutableuv2;
float xlat_mutablezv;
 shader_body { 
  mat2 tmpvar_1;
  tmpvar_1[uint(0)].x = texsize.z;
  tmpvar_1[uint(0)].y = 0.0;
  tmpvar_1[1u].x = 0.0;
  tmpvar_1[1u].y = texsize.w;
  ofs = (tmpvar_1 * 4.0);
  vec2 tmpvar_2;
  tmpvar_2.x = ((uv.x - 0.5) + q19);
  tmpvar_2.y = (uv.y - 0.5);
  vec2 v_3;
  v_3.x = ofs[0].x;
  v_3.y = ofs[1].x;
  vec2 v_4;
  v_4.x = ofs[0].x;
  v_4.y = ofs[1].x;
  vec2 v_5;
  v_5.x = ofs[0].y;
  v_5.y = ofs[1].y;
  vec2 v_6;
  v_6.x = ofs[0].y;
  v_6.y = ofs[1].y;
  vec2 tmpvar_7;
  tmpvar_7.x = (texture (sampler_main, (uv + v_3)) - texture (sampler_main, (uv - v_4))).z;
  tmpvar_7.y = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).z;
  xlat_mutablezv = (time * 0.08);
  vec2 tmpvar_8;
  tmpvar_8.x = (0.02 * time);
  tmpvar_8.y = (-0.05 * time);
  xlat_mutableuv2 = ((3.0 * tmpvar_2) + tmpvar_8);
  vec3 tmpvar_9;
  tmpvar_9.xy = xlat_mutableuv2;
  tmpvar_9.z = xlat_mutablezv;
  vec3 tmpvar_10;
  tmpvar_10.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));
  tmpvar_10.z = (xlat_mutablezv * 2.0);
  vec3 tmpvar_11;
  tmpvar_11.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));
  tmpvar_11.z = (xlat_mutablezv * 3.0);
  vec3 tmpvar_12;
  tmpvar_12.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));
  tmpvar_12.z = (xlat_mutablezv * 7.0);
  xlat_mutableuv2 = (tmpvar_2 + ((
    (((texture (sampler_noisevol_hq, tmpvar_9).z + (texture (sampler_noisevol_hq, tmpvar_10).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_11).z / 4.0)) + (texture (sampler_noisevol_hq, tmpvar_12).z / 8.0))
   - 1.0) * 0.1));
  vec4 tmpvar_13;
  tmpvar_13.w = 1.0;
  tmpvar_13.xyz = (((
    (((0.2 + (
      (((1.0 + bass_att) * 0.01) / sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)))
     * 
      (1.0 + normalize(slow_roam_cos))
    .xyz)) + ((rand_preset.z - 0.5) * xlat_mutableuv2.y)) * 0.1)
   / 2.0) + (texture (sampler_main, 
    (uv - (0.02 * tmpvar_7))
  ).xyz * 0.9)) - 0.01);
  ret = tmpvar_13.xyz;
 }`,comp:`float xlat_mutablerain;
vec3 xlat_mutableret1;
vec2 xlat_mutablers;
vec2 xlat_mutablers0;
vec2 xlat_mutableuv1;
float xlat_mutablewater;
float xlat_mutablez;
 shader_body { 
  vec2 uv_1;
  mat2 tmpvar_2;
  tmpvar_2[uint(0)] = _qb.xy;
  tmpvar_2[1u] = _qb.zw;
  vec2 tmpvar_3;
  tmpvar_3.x = q15;
  tmpvar_3.y = q16;
  uv_1 = (((
    (((uv - 0.5) * tmpvar_2) * 0.7)
   * aspect.xy) + 0.5) + tmpvar_3);
  vec2 tmpvar_4;
  tmpvar_4.x = 0.5;
  tmpvar_4.y = ((q11 + 0.6) + (q12 * (
    sin(((uv_1.x * 6.0) + q10))
   * 
    cos(((uv_1.y * 8.0) + (time * 0.6)))
  )));
  vec2 tmpvar_5;
  tmpvar_5.x = (uv_1.x * 4.0);
  tmpvar_5.y = uv_1.y;
  vec2 tmpvar_6;
  tmpvar_6.x = (uv_1.x * 4.0);
  tmpvar_6.y = uv_1.y;
  xlat_mutablerain = (texture (sampler_noise_lq, ((tmpvar_5 * 0.2) - time)).x + texture (sampler_noise_lq, ((tmpvar_6 * 0.5) - time)).x);
  float tmpvar_7;
  tmpvar_7 = (time / 4.0);
  xlat_mutablerain = (xlat_mutablerain * clamp ((
    (q20 / 2.0)
   - 
    abs(sin(((uv.x / 4.0) - tmpvar_7)))
  ), 0.0, 1.0));
  xlat_mutableuv1 = ((uv_1 - tmpvar_4) + (xlat_mutablerain * 0.01));
  vec3 tmpvar_8;
  tmpvar_8.x = xlat_mutableuv1.y;
  tmpvar_8.y = (xlat_mutableuv1.x * 2.0);
  tmpvar_8.z = (time * 0.2);
  xlat_mutableuv1 = (xlat_mutableuv1 + ((texture (sampler_noisevol_hq, tmpvar_8) * 
    (0.5 - abs(xlat_mutableuv1.y))
  ).x * 0.05));
  float tmpvar_9;
  tmpvar_9 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);
  xlat_mutablez = (0.4 / xlat_mutableuv1.y);
  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);
  xlat_mutablers0.y = xlat_mutablez;
  vec2 tmpvar_10;
  tmpvar_10.x = (xlat_mutablers0.x + tmpvar_7);
  tmpvar_10.y = (xlat_mutablez + (time * 4.0));
  xlat_mutablers = (tmpvar_10 * tmpvar_9);
  xlat_mutablewater = (texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))).x;
  xlat_mutablewater = (xlat_mutablewater - 1.0);
  vec2 tmpvar_11;
  tmpvar_11.x = (xlat_mutableuv1.x + 0.5);
  tmpvar_11.y = abs((0.5 - xlat_mutableuv1.y));
  xlat_mutableret1 = (((texture (sampler_main, uv_1).xyz * 
    (1.0 - tmpvar_9)
  ) + (
    ((texture (sampler_main, (tmpvar_11 - (0.2 * xlat_mutablewater))).xyz * tmpvar_9) * pow ((1.0/(xlat_mutablez)), 0.2))
   * 
    (2.0 - rand_preset.y)
  )) + ((
    (((0.25 + rand_preset.y) * (1.0 + (rand_preset.x * xlat_mutablewater))) * tmpvar_9)
   / xlat_mutablez) * vec3(0.0, 0.1, 0.1)));
  xlat_mutableret1 = (xlat_mutableret1 + (0.06 * xlat_mutablerain));
  vec4 tmpvar_12;
  tmpvar_12.w = 1.0;
  tmpvar_12.xyz = (1.0 - exp((
    (-(pow (xlat_mutableret1, vec3(1.5, 1.5, 1.5))) * 8.0)
   * 
    (1.0 + (q23 * 4.0))
  )));
  ret = tmpvar_12.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,decay:.5,echo_zoom:.952,echo_alpha:.5,echo_orient:3,wave_mode:4,additivewave:1,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.527,wave_smoothing:.45,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:.8,wave_g:.49,ob_size:.015,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:12,additive:1,num_inst:571,x:.26,y:.2,rad:.39317,tex_zoom:.9355,g2:0,a2:.2,border_g:0,border_b:0,border_a:0},init_eqs_str:"a.px=0;a.fov=0;a.q12=0;a.copy=0;a.q18=0;a.tht=0;a.q15=0;a.flim=0;a.q1=0;a.q5=0;a.py=0;a.mov1=0;a.vis=0;a.oz=0;a.k1=0;a.q11=0;a.z0=0;a.q10=0;a.copies=0;a.v0=0;a.q4=0;a.burst=0;a.oy=0;a.rota=0;a.q19=0;a.q17=0;a.spur=0;a.q2=0;a.q14=0;a.rotmode=0;a.q3=0;a.t0=0;a.phi=0;a.ox=0;",frame_eqs_str:`a.mov1=a.q1;a.rotmode=a.q3;a.burst=a.q10;a.copies=a.q14;a.copy=div(mod(a.instance,a.copies),a.copies);a.k1=div(Math.floor(div(a.instance,a.copies))*a.copies,a.num_inst);a.k1=div(Math.floor(a.k1*a.burst),a.burst)+div(a.k1,a.burst);a.mov1=a.mov1+a.k1-a.copy*a.q2;a.mov1-=Math.floor(a.mov1);a.rotmode-=a.copy*a.q4;a.rota=a.mov1*a.rotmode*a.q5*2;a.mov1=a.mov1*(1-a.rotmode)+a.rotmode*(.5+.025*a.k1);a.mov1=pow(a.mov1,.9);a.tht=Math.sin(a.k1*a.k1*123.2)*(.2+0*a.rotmode);a.phi=1613.3*
a.k1+a.rota;a.v0=(1+.3*Math.cos(13234.7*a.k1))*a.q5;a.z0=div(a.q18,a.q5);a.t0=.4;a.spur=(a.mov1-a.t0)*above(a.mov1-a.t0,0)*a.q15;a.py=a.spur*Math.sin(6.28*a.copy);a.px=a.spur*Math.cos(6.28*a.copy);a.fov=2*a.z0;a.ox=(a.mov1-a.q19)*a.v0*Math.sin(a.tht)*Math.cos(a.phi);a.oy=a.mov1*a.v0*(1-a.mov1)*Math.cos(2*a.tht)-.25;a.oz=a.mov1*a.v0*Math.sin(a.tht)*Math.sin(a.phi);a.ox=a.ox+(a.k1-.5)*a.q17+a.px;a.oy-=a.py;a.oz+=3*a.py;a.rad=div(.025*a.z0,a.oz+a.z0)*(1-.5*a.mov1);a.x=.5+div(a.fov*a.ox,a.oz+a.z0);a.y=
.5+div(a.fov*a.oy,a.oz+a.z0);a.vis=above(a.mov1,a.q11)*below(a.mov1,a.q12)*above(a.oz,-a.z0);a.a=div(.7*a.vis,sqrt(a.copies))*(1+above(a.spur,0));a.a2=0;a.g=a.flim;`},{baseVals:{enabled:1,sides:13,additive:1,num_inst:212,x:.65,y:.38,rad:1.26467,tex_zoom:.73678,g:1,a:.3,r2:1,g2:0,border_r:.5,border_g:.5,border_b:0,border_a:0},init_eqs_str:"a.mov2=0;a.q25=0;a.copy=0;a.tht=0;a.q29=0;a.trel=0;a.mov1=0;a.oz=0;a.k1=0;a.z0=0;a.copies=0;a.k2=0;a.oy=0;a.stray=0;a.q27=0;a.size0=0;a.phase=0;a.t0=0;a.phi=0;a.ox=0;",frame_eqs_str:`a.trel=a.q25;a.copies=1;a.copy=div(mod(a.instance,a.copies),a.copies);a.k1=div(Math.floor(div(a.instance,a.copies))*a.copies,a.num_inst);a.k2=a.k1+.5;a.trel=a.trel;a.t0=.5;a.phase=above(a.trel,a.t0);a.mov1=bnot(a.phase)*(a.t0-a.trel+.01*a.k1);a.mov2=a.phase*(a.trel-a.t0);a.stray=1.2-a.phase;a.tht=3.14*Math.sin(1234.2*a.k1+a.time*bnot(a.phase))*a.stray;a.phi=3245.1*a.k1;a.size0=.02;a.ox=a.mov1*a.q27+Math.sin(a.tht)*Math.cos(a.phi)*(a.size0+a.mov2*(2+a.k1));a.oy=12*a.mov1+div(Math.cos(a.tht)*
(a.size0+4*a.mov2*a.k2)*(1-a.mov2*a.k2),2);a.oz=8*a.mov1+Math.sin(a.tht)*Math.sin(a.phi)*(a.size0+2*a.mov2*(2+a.k1));a.z0=1;a.rad=div(div(.03,a.oz+a.z0),1+div(a.trel*randint(100),50));a.x=.5+div(a.ox,a.oz+a.z0);a.y=a.q29+.2+div(a.oy,a.oz+a.z0);a.a=.1*bnot(a.phase)+a.phase*Math.max(0,1-0*a.mov2)*above(a.oz+a.z0,0)*.8;`},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.stop=0;a.q25=0;a.index=0;a.q12=0;a.q18=0;a.q22=0;a.q21=0;a.q13=0;a.q15=0;a.q29=0;a.q6=0;a.q1=0;a.dec_med=0;a.q5=0;a.vshift=0;a.lo=0;a.xtime=0;a.t0a=0;a.mov1=0;a.is_beat=0;a.q31=0;a.q23=0;a.q24=0;a.dec_slow=0;a.q11=0;a.hpeak=0;a.q10=0;a.copies=0;a.q4=0;a.med=0;a.hi=0;a.vs0=0;a.bursts=0;a.spb_=0;a.volb=0;a.q16=0;a.q26=0;a.q19=0;a.q17=0;a.vol=0;a.peak=0;a.spur=0;a.q2=0;a.q27=0;a.q14=0;a.rotmode=0;a.wind=0;a.tmp=0;a.xbase=0;a.speed=0;a.q3=0;a.t0=0;a.vol_=0;a.q32=0;a.spread=0;
a.q28=0;a.q30=0;a.q20=0;a.volx=0;a.t0a=a.time;a.t0=a.time+.5;a.spb_=.5;a.volb=.5;a.volx=.5;a.vol_=1;a.index=0;a.mov1=0;`,frame_eqs_str:`a.dec_med=pow(.85,div(30,a.fps));a.dec_slow=pow(.95,div(30,a.fps));a.vol=div(a.bass+a.med+a.treb,1.5);a.vol_=a.vol_*a.dec_slow+(1-a.dec_slow)*a.vol;a.is_beat=above(a.vol,.1+a.vol_+2*a.peak)*above(a.time,a.t0+.45*a.spb_);a.t0a=.00001<Math.abs(a.is_beat)?a.t0:a.t0a;a.t0=.00001<Math.abs(a.is_beat)?a.time:a.t0;a.peak=.00001<Math.abs(a.is_beat)?a.vol:a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,128);a.spb_=.00001<Math.abs(a.is_beat)?.9*a.spb_+.1*Math.min(a.t0-a.t0a+.01,2):a.spb_;
a.q20=a.vol_;a.q21=above(a.vol,2.7*a.vol_);a.q22=Math.max(0,a.peak-0)+.01;a.hpeak=a.hpeak*a.dec_med+(1-a.dec_med)*a.q21;a.q23=a.hpeak*(1+randint(8));a.q24=a.is_beat;a.volb=bnot(a.q24)*a.volb+a.q24*a.vol_;a.volx+=div(.2,a.fps)*Math.max(Math.min(a.volb-a.volx,1),-1)*bnot(a.rotmode);a.rotmode=Math.max(Math.min(4*Math.sin(div(a.mov1,2.4)-1.5)-3,1),0);a.stop=(.00001<Math.abs(bnot(a.stop))?bnot(mod(a.index,24)):below(a.lo,1))*bnot(a.rotmode);a.spread=.00001<Math.abs(below(a.lo,1))?a.spread:div(randint(2)*
randint(12),20);a.copies=.00001<Math.abs(below(a.lo,1))?a.copies:3+randint(2)*randint(8);a.spur=.00001<Math.abs(below(a.lo,1))?a.spur:.1*above(a.copies,5);a.bursts=.00001<Math.abs(below(a.lo,1))?a.bursts:1+randint(2)*randint(6);a.xbase=.00001<Math.abs(below(a.lo,1))?a.xbase:randint(2)*(div(randint(10),10)-.5);a.vs0=.00001<Math.abs(a.is_beat*bnot(mod(a.index,77)))?div(randint(5),4)-.7:a.vs0;a.vshift+=div(3,a.fps)*Math.max(Math.min(a.vs0-a.vshift,.04),-.04);a.speed=div(div(.15,a.fps),a.spb_);a.tmp=
a.mov1;a.mov1+=a.speed;a.q2=a.mov1-a.tmp;a.q1=a.mov1;a.tmp=a.rotmode;a.q3=a.rotmode;a.q4=a.rotmode-a.tmp;a.tmp=a.volx;a.q5=a.volx;a.q6=a.q5-a.tmp;a.q10=a.bursts;a.lo=.00001<Math.abs(a.stop)?a.lo+a.speed:0;a.hi=.00001<Math.abs(above(a.lo,1))?0:a.hi+a.speed;a.q11=a.lo;a.q12=a.hi;a.q13=0*sqrt(a.q22);a.q14=a.copies;a.q15=a.spur*(1-a.rotmode);a.q16=0;a.q17=a.spread*(1-a.rotmode);a.q18=div(1,Math.min(Math.max(10*Math.sin(div(a.mov1,2)),1),4));a.q19=a.xbase;a.xtime=.00001<Math.abs(a.stop*a.q21*above(a.xtime,
2))?0:a.xtime+div(.2,a.fps);a.q25=a.xtime;a.q26=.00001<Math.abs(below(a.xtime,.55))?pow(32,512*-sqr(a.xtime-.55)):pow(2,3*-sqr(a.xtime-.55));a.q27=4*Math.sin(div(a.time,29));a.wind+=div(.5,a.fps)*(a.volx-1.5);a.q28=a.wind;a.q29=a.vshift;a.q30=Math.max(Math.sin(div(a.mov1,2.2))*Math.sin(div(a.time,7)),0)+a.q26;a.q31=2*a.q5-2+Math.sin(div(a.time,17));a.q32=3+2*Math.sin(div(a.time,27));a.monitor=a.vshift;`,pixel_eqs_str:"a.zoom=1;a.dy=-0;a.warp=0;",warp:`mat2 ofs;
float xlat_mutablegreen;
float xlat_mutablek1;
float xlat_mutablered;
vec2 xlat_mutableuv2;
float xlat_mutablewave;
float xlat_mutablezv;
 shader_body { 
  mat2 tmpvar_1;
  tmpvar_1[uint(0)].x = texsize.z;
  tmpvar_1[uint(0)].y = 0.0;
  tmpvar_1[1u].x = 0.0;
  tmpvar_1[1u].y = texsize.w;
  ofs = (tmpvar_1 * 4.0);
  float delta_2;
  float ky_3;
  vec2 tmpvar_4;
  tmpvar_4.x = (uv.x - 0.5);
  tmpvar_4.y = ((uv.y - 0.5) + q29);
  vec2 v_5;
  v_5.x = ofs[0].x;
  v_5.y = ofs[1].x;
  vec2 v_6;
  v_6.x = ofs[0].x;
  v_6.y = ofs[1].x;
  vec2 v_7;
  v_7.x = ofs[0].y;
  v_7.y = ofs[1].y;
  vec2 v_8;
  v_8.x = ofs[0].y;
  v_8.y = ofs[1].y;
  vec2 tmpvar_9;
  tmpvar_9.x = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).x;
  tmpvar_9.y = (texture (sampler_main, (uv + v_7)) - texture (sampler_main, (uv - v_8))).x;
  xlat_mutablered = (0.5 * texture (sampler_main, (uv - (0.004 * tmpvar_9))).x);
  xlat_mutablered = (xlat_mutablered + (0.5 * texture (sampler_main, uv).x));
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_4.x;
  tmpvar_10.y = (0.0078125 * (float(
    int((tmpvar_4.y * 128.0))
  ) + abs(
    (fract((tmpvar_4.y * 128.0)) - 0.5)
  )));
  vec2 tmpvar_11;
  tmpvar_11 = (tmpvar_10 * 4.0);
  ky_3 = clamp ((-0.5 - tmpvar_11.y), 0.0, 1.0);
  xlat_mutablek1 = (abs((
    fract((tmpvar_11.x * 2.0))
   - 0.5)) * 8.0);
  xlat_mutablek1 = (xlat_mutablek1 - sign(xlat_mutablek1));
  delta_2 = (0.1 + (rand_preset * 0.05)).x;
  xlat_mutablek1 = (xlat_mutablek1 - ((
    (4.0 * sign(xlat_mutablek1))
   * ky_3) * ky_3));
  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);
  xlat_mutablek1 = (xlat_mutablek1 - ((
    (8.0 * sign(xlat_mutablek1))
   * ky_3) * ky_3));
  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);
  xlat_mutablek1 = (xlat_mutablek1 - ((
    (12.0 * sign(xlat_mutablek1))
   * ky_3) * ky_3));
  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);
  xlat_mutablek1 = (xlat_mutablek1 - ((
    (16.0 * sign(xlat_mutablek1))
   * ky_3) * ky_3));
  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);
  float tmpvar_12;
  tmpvar_12 = clamp (xlat_mutablek1, -1.6, 1.6);
  xlat_mutablek1 = tmpvar_12;
  xlat_mutablegreen = (cos((tmpvar_12 * 2.0)) - 0.1);
  xlat_mutablewave = ((sin(
    ((q1 * 8.0) - (uv.x * 6.0))
  ) / 2.0) * q3);
  xlat_mutablewave = ((xlat_mutablewave * float(
    (xlat_mutablewave >= 0.0)
  )) + (q30 * 0.02));
  xlat_mutablered = (xlat_mutablered + ((
    (xlat_mutablewave / abs(sin((
      (1.0/(tmpvar_12))
     + 
      (q1 / 8.0)
    ))))
   * xlat_mutablegreen) * ky_3));
  xlat_mutablezv = ((time * 0.08) + (0.2 * sin(
    ((uv * 16.0) + time)
  ))).x;
  vec2 tmpvar_13;
  tmpvar_13.x = q28;
  tmpvar_13.y = (0.2 * time);
  xlat_mutableuv2 = ((tmpvar_4 * 2.0) + tmpvar_13);
  vec3 tmpvar_14;
  tmpvar_14.xy = xlat_mutableuv2;
  tmpvar_14.z = xlat_mutablezv;
  vec3 tmpvar_15;
  tmpvar_15.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));
  tmpvar_15.z = (xlat_mutablezv * 2.0);
  vec3 tmpvar_16;
  tmpvar_16.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));
  tmpvar_16.z = (xlat_mutablezv * 3.0);
  vec3 tmpvar_17;
  tmpvar_17.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));
  tmpvar_17.z = (xlat_mutablezv * 7.0);
  xlat_mutableuv2 = (tmpvar_4 + ((
    ((texture (sampler_noisevol_hq, tmpvar_14).z + (texture (sampler_noisevol_hq, tmpvar_15).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_16).z / 4.0))
   + 
    (texture (sampler_noisevol_hq, tmpvar_17).z / 8.0)
  ) * 0.1));
  vec3 tmpvar_18;
  tmpvar_18.x = xlat_mutablered;
  tmpvar_18.y = xlat_mutablegreen;
  tmpvar_18.z = ((1.0 + xlat_mutableuv2.y) * sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)));
  vec4 tmpvar_19;
  tmpvar_19.w = 1.0;
  tmpvar_19.xyz = ((tmpvar_18 * 0.8) - 0.005);
  ret = tmpvar_19.xyz;
 }`,comp:`float trel;
float vshift;
vec3 xlat_mutableret1;
vec2 xlat_mutablers;
vec2 xlat_mutablers0;
float xlat_mutablesmoke;
float xlat_mutablesmoke2;
vec2 xlat_mutableuv_l;
float xlat_mutablew;
float xlat_mutablez;
 shader_body { 
  trel = (time / 2.0);
  vshift = (0.5 - q29);
  vec2 tmpvar_1;
  tmpvar_1.x = rand_preset.x;
  tmpvar_1.y = ((-0.1 - (rand_preset.y / 2.0)) + vshift);
  vec2 tmpvar_2;
  tmpvar_2.y = 0.0;
  tmpvar_2.x = (0.005 * time);
  xlat_mutableuv_l = (uv + tmpvar_2);
  vec2 tmpvar_3;
  vec2 tmpvar_4;
  tmpvar_4 = (uv - 0.5);
  tmpvar_3 = sin(((
    (tmpvar_4 * aspect.xy)
   + 0.5) - (tmpvar_1 * aspect.xy)));
  vec2 tmpvar_5;
  tmpvar_5 = fract(uv);
  vec3 tmpvar_6;
  tmpvar_6 = vec3((texture (sampler_fc_main, tmpvar_5).x + (2.0 * (
    (texture (sampler_blur2, tmpvar_5).xyz * scale2)
   + bias2).x)));
  vec3 tmpvar_7;
  tmpvar_7.x = tmpvar_6.x;
  tmpvar_7.y = pow (tmpvar_6.x, 2.1);
  tmpvar_7.z = pow (tmpvar_6.x, 4.0);
  xlat_mutablew = ((uv.y - (
    ((dot (texture (sampler_noise_hq, vec2((xlat_mutableuv_l.x / 6.0))), vec4(0.32, 0.49, 0.29, 0.0)) + uv.x) - 0.5)
   / 4.0)) - vshift);
  xlat_mutablez = (0.2 / xlat_mutablew);
  float tmpvar_8;
  tmpvar_8 = clamp ((-0.2 - (
    (8.0 * q5)
   * xlat_mutablew)), 0.0, 1.0);
  xlat_mutablers0.x = (((uv.x - 0.5) * (1.0 + 
    abs(xlat_mutablez)
  )) * 2.0);
  xlat_mutablers0.y = xlat_mutablez;
  xlat_mutablers0 = (xlat_mutablers0 * ((4.0 * 
    float((xlat_mutablez <= 0.0))
  ) + 1.0));
  vec2 tmpvar_9;
  tmpvar_9.x = 0.0;
  tmpvar_9.y = (1.5 + xlat_mutablew);
  vec2 x_10;
  x_10 = (xlat_mutablers0 - tmpvar_9);
  float tmpvar_11;
  tmpvar_11 = ((q26 / sqrt(
    dot (x_10, x_10)
  )) / 4.0);
  xlat_mutablers0 = (xlat_mutablers0 * (1.0 + (tmpvar_11 * tmpvar_11)));
  xlat_mutablers.x = (xlat_mutablers0 * 2.0).x;
  xlat_mutablers.y = (xlat_mutablers0.y + (trel * 0.5));
  float tmpvar_12;
  tmpvar_12 = (texture (sampler_main, uv).y * tmpvar_8);
  vec3 tmpvar_13;
  tmpvar_13.xy = (xlat_mutablers * 2.0);
  tmpvar_13.z = (0.2 * trel);
  float tmpvar_14;
  tmpvar_14 = dot (((
    ((2.0 * clamp ((texture (sampler_noisevol_hq, 
      (tmpvar_13 * float((xlat_mutablez >= 0.0)))
    ) - 0.2), 0.0, 1.0)).xyz * clamp ((texture (sampler_noise_hq, (xlat_mutablers / 16.0)) - 0.5), 0.0, 1.0).x)
   / 
    sqrt(abs(xlat_mutablez))
  ) + tmpvar_11), vec3(0.32, 0.49, 0.29));
  vec3 tmpvar_15;
  tmpvar_15.x = tmpvar_14;
  tmpvar_15.y = pow (tmpvar_14, 2.1);
  tmpvar_15.z = pow (tmpvar_14, 6.0);
  xlat_mutableret1 = (((
    ((uv.y * (1.0 + q23)) + (0.1 / sqrt(dot (tmpvar_3, tmpvar_3))))
   * vec3(0.1, 0.1, 0.2)) * tmpvar_8) + (clamp (tmpvar_15, 0.0, 1.0) * (1.0 - 
    clamp ((-1.0 - (12.0 * xlat_mutablew)), 0.0, 1.0)
  )));
  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - 
    (tmpvar_12 * 8.0)
  ), 0.0, 1.0));
  vec4 tmpvar_16;
  tmpvar_16 = texture (sampler_main, fract((tmpvar_4 + 0.5)));
  xlat_mutablesmoke = (tmpvar_16.z * (tmpvar_16.z * q5));
  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - 
    ((xlat_mutablesmoke * q32) * tmpvar_8)
  ), 0.0, 1.0));
  xlat_mutablesmoke2 = (texture (sampler_main, ((tmpvar_4 / 2.0) + 0.5)).z * q30);
  xlat_mutableret1 = (xlat_mutableret1 + (clamp (tmpvar_7, 0.0, 1.0) - (
    ((xlat_mutablez * clamp ((xlat_mutablesmoke + 
      (xlat_mutablew * q31)
    ), 0.0, 1.0)) * vec3(1.0, 0.4, 0.1))
   * tmpvar_8)));
  float tmpvar_17;
  tmpvar_17 = clamp (((
    (tmpvar_12 * xlat_mutablez)
   * xlat_mutablez) / 16.0), 0.0, 1.0);
  vec3 tmpvar_18;
  tmpvar_18.x = tmpvar_17;
  tmpvar_18.y = pow (tmpvar_17, 2.1);
  tmpvar_18.z = pow (tmpvar_17, 6.0);
  xlat_mutableret1 = (xlat_mutableret1 + clamp (tmpvar_18, 0.0, 1.0));
  xlat_mutableret1 = (xlat_mutableret1 * clamp ((
    (((dot (texture (sampler_noise_mq, vec2(
      ((xlat_mutableuv_l.x / 4.0) + (0.02 * trel))
    )), vec4(0.32, 0.49, 0.29, 0.0)) / 6.0) - uv.y) + 0.8)
   * 32.0), 0.0, 1.0));
  vec3 tmpvar_19;
  tmpvar_19.x = xlat_mutablesmoke2;
  tmpvar_19.y = pow (xlat_mutablesmoke2, 2.1);
  tmpvar_19.z = pow (xlat_mutablesmoke2, 6.0);
  xlat_mutableret1 = ((xlat_mutableret1 * clamp (
    (1.0 - xlat_mutablesmoke2)
  , 0.0, 1.0)) + clamp (tmpvar_19, 0.0, 1.0));
  vec4 tmpvar_20;
  tmpvar_20.w = 1.0;
  tmpvar_20.xyz = (1.0 - exp((
    -(xlat_mutableret1)
   * 2.0)));
  ret = tmpvar_20.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:6,wave_thick:1,modwavealphabyvolume:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.527,wave_smoothing:.09,modwavealphastart:0,modwavealphaend:1.32,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:.8,wave_g:.49,ob_a:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:1.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0,b2x:.7,b1ed:0},shapes:[{baseVals:{enabled:1,sides:12,num_inst:1024,rad:.03632,tex_ang:1.00531,tex_zoom:1.53117,b:1,a:0,g2:0,border_b:0,border_a:0},init_eqs_str:"a.fov=0;a.n=0;a.x0=0;a.y0=0;a.z0=0;a.q32=0;a.t1=0;",frame_eqs_str:`a.fov=a.reg03;a.n=a.instance*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.q32*a.fov+.5;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.r2=div(a.r,2);a.g2=div(a.g,2);a.b2=div(a.b2,2);a.a=div(a.instance,1024);a.a2=.5*a.a;a.rad=Math.min(div(.02,a.z0),.5)*(0<a.z0?1:0)*2.5*sqrt(a.a);a.rad*=a.gmegabuf[Math.floor(a.n+
6)];--a.t1;`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,scaling:2.15542,smoothing:.2,r:0,a:.7},init_eqs_str:"a.fov=0;a.n=0;a.t1=0;a.x0=0;a.y0=0;a.z0=0;a.k1=0;a.t2=0;",frame_eqs_str:"a.t1=1023;a.t2=0;",point_eqs_str:"a.fov=a.reg03;a.n=a.t1*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.fov+.5;a.a=Math.max(0,div(a.t1,1024));a.k1=a.reg01+a.t1;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.a=div(div(a.t1,1024)*(.5<=a.z0?1:0),2);--a.t1;a.gmegabuf[Math.floor(1E4+a.t2)]=Math.abs(a.value1+a.value2);a.t2+=1;"},{baseVals:{enabled:1,scaling:.89152,smoothing:.82,r:0,a:.1},init_eqs_str:"a.fov=0;a.n=0;a.t1=0;a.x0=0;a.y0=0;a.z0=0;",frame_eqs_str:"a.t1=512;",point_eqs_str:"a.fov=a.reg03;a.n=a.t1*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.fov+.5;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.a=div(div(a.t1,1024)*(.5<=a.z0?1:0),2);--a.t1;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:`a.xang=0;a.n=0;a.fov=0;a.index2=0;a.ran9=0;a.ran5_=0;a.right=0;a.ran4=0;a.index=0;a.q12=0;a.yang=0;a.q6=0;a.y0=0;a.ran8=0;a.q1=0;a.r1=0;a.q5=0;a.ran1_=0;a.points=0;a.dt1=0;a.dec_f=0;a.x0=0;a["new"]=0;a.dec_s=0;a.k3=0;a.reg01=0;a.my=0;a.oz=0;a.is_beat=0;a.k1=0;a.ran2=0;a.q11=0;a.z0=0;a.q10=0;a.ran4_=0;a.ran9_=0;a.ran3=0;a.ran5=0;a.dec_m=0;a.ran7=0;a.k2=0;a.mz=0;a.ran8_=0;a.ddy=0;a.ran6=0;a.dec2=0;a.ran6_=0;a.oy=0;a.rsum=0;a.mx=0;a.beat=0;a.vol=0;a.ran2_=0;a.peak=0;a.ddx=0;a.q2=
0;a.zang=0;a.trel1=0;a.ran7_=0;a.t0=0;a.dec=0;a.m=0;a.ran1=0;a.q32=0;a.ran3_=0;a.left=0;a.pk=0;a.recsize=0;a.ox=0;a.zofs=0;for(var b=a.index=0;1E5>b;b++)a.megabuf[Math.floor(a.index)]=0,a.gmegabuf[Math.floor(a.index)]=0,a.index+=1;a.recsize=8;a.reg00=a.recsize;a.points=1024;a.reg01=0;a.zofs=1+2*div(randint(100),100);a.reg02=a.zofs;a.fov=.3;a.reg03=a.fov;`,frame_eqs_str:`a.dec_f=pow(.3,div(30,a.fps));a.dec_m=pow(.85,div(30,a.fps));a.dec_s=pow(.95,div(30,a.fps));a.beat=a.bass+a.mid+a.treb-(a.bass_att+a.mid_att+a.treb_att)+(a.bass+a.mid+a.treb);a.beat/=3;a.peak=a.peak*a.dec_m+(1-a.dec_m)*pow(a.beat-1,1)*(1<a.beat?1:0)*4;a.is_beat=above(a.beat,1)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);.00001<Math.abs(a.is_beat)?(a.ran1=div(randint(100),50)-
1,a.ran2=div(randint(100),50)-1,a.ran3=div(randint(100),50)-1):0;a.ran1_=a.dec_m*a.ran1_+(1-a.dec_m)*a.ran1;a.ran2_=a.dec_m*a.ran2_+(1-a.dec_m)*a.ran2;a.ran3_=a.dec_m*a.ran3_+(1-a.dec_m)*a.ran3;a.rsum=sqrt(a.ran1_*a.ran1_+a.ran2_*a.ran2_+a.ran3_*a.ran3_);.00001<Math.abs(a.is_beat*(.00001>Math.abs(a.index-2)?1:0))?(a.ran4=div(randint(100),50)-1,a.ran5=div(randint(100),50)-1,a.ran6=div(randint(100),50)-1):0;a.ran4_=a.dec_m*a.ran4_+(1-a.dec_m)*a.ran4;a.ran5_=a.dec_m*a.ran5_+(1-a.dec_m)*a.ran5;a.ran6_=
a.dec_m*a.ran6_+(1-a.dec_m)*a.ran6;.00001<Math.abs(a.is_beat*(.00001>Math.abs(a.index-6)?1:0))?(a.ran7=div(randint(100),50)-1,a.ran8=div(randint(100),50)-1,a.ran9=div(randint(100),50)-1):0;a.ran7_=a.dec_m*a.ran7_+(1-a.dec_m)*a.ran7;a.ran8_=a.dec_m*a.ran8_+(1-a.dec_m)*a.ran8;a.ran9_=a.dec_m*a.ran9_+(1-a.dec_m)*a.ran9;a.pk=sqrt(a.peak+.1);a["new"]=Math.floor(12*(a.ran4-a.ran5)*a.pk-div(12*(a.ran3-a.ran1),a.pk));a["new"]=Math.max(Math.min(a["new"],20),2);a.reg01+=a["new"];a.dec=a.dec_m;a.n=a.recsize*
a.points;a.m=0;a.dt1=div(div(.00001<Math.abs(0<a.ran1?1:0)?4*a.pk:div(4,a.pk),a.fps)*a["new"],6);a.vol=Math.max(a.ran1+a.ran2,.2)*a.pk*2;for(var b=0;b<a["new"];b++)a.trel1+=a.dt1,a.x0=a.x0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran3)*a.vol+a.ran1),a.y0=a.y0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran2)*a.vol+a.ran2),a.z0=a.z0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran1)*a.vol+a.ran3),a.gmegabuf[Math.floor(a.n)]=a.x0,a.gmegabuf[Math.floor(a.n+1)]=a.y0,a.gmegabuf[Math.floor(a.n+2)]=a.z0,a.gmegabuf[Math.floor(a.n+
3)]=div(div(a.ran1_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+4)]=div(div(a.ran2_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+5)]=div(div(a.ran3_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+6)]=0*a.gmegabuf[Math.floor(1E4+a.m)]+1,a.n+=a.recsize,a.m+=1;for(b=a.n=0;b<a.recsize*a.points;b++)a.gmegabuf[Math.floor(a.n)]=a.gmegabuf[Math.floor(a.n+a["new"]*a.recsize)],a.n+=1;a.xang=div(a.ran4_,a.fps);a.yang=div(a.ran5_,a.fps);a.zang=div(a.ran6_,a.fps);a.ddx=Math.min(Math.max(a.ddx+div(a.yang,a.fps),-1),1);a.ddy=Math.min(Math.max(a.ddy+
div(a.xang,a.fps),-1),1);a.q1=2*a.ddx;a.q2=2*a.ddy;for(b=a.n=0;b<a.points;b++)a.ox=a.gmegabuf[Math.floor(a.n)],a.oy=a.gmegabuf[Math.floor(a.n+1)],a.oz=a.gmegabuf[Math.floor(a.n+2)],a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang),a.my=a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang),a.ox=a.mx,a.oy=a.my,a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang),a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang),a.ox=a.mx,a.oz=a.mz,a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang),a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang),
a.oy=a.my,a.oz=a.mz,a.gmegabuf[Math.floor(a.n)]=a.ox,a.gmegabuf[Math.floor(a.n+1)]=a.oy,a.gmegabuf[Math.floor(a.n+2)]=a.oz,a.n+=a.recsize;a.k1=div(div(a.ran7_,a.fps),2);a.k2=div(div(a.ran8_,a.fps),2);a.k3=div(Math.abs(a.ran9_),a.fps);a.dec=.4+.6*a.ran5_;a.dec2=1-a.dec;a.r1=.5+.3*a.ran4_;for(b=a.n=0;b<a.points-1;b++)a.m=a.n*a.recsize,a.left=mod(a.n-1+a.points,a.points)*a.recsize,a.right=mod(a.n+1+a.points,a.points)*a.recsize,a.gmegabuf[Math.floor(a.m)]=a.dec*a.gmegabuf[Math.floor(a.m)]+a.dec2*(a.gmegabuf[Math.floor(a.left)]*
a.r1+a.gmegabuf[Math.floor(a.right)]*(1-a.r1)+a.k1),a.gmegabuf[Math.floor(a.m+1)]=a.dec*a.gmegabuf[Math.floor(a.m+1)]+a.dec2*(a.gmegabuf[Math.floor(a.left+1)]*a.r1+a.gmegabuf[Math.floor(a.right+1)]*(1-a.r1)+a.k2),a.n+=1;a.m=mod(a.frame,a.points);a.m=Math.max(0,Math.floor(1024+200*(a.t0-a.time)));a.n=a.m*a.recsize;a.q5=div(a.gmegabuf[Math.floor(a.n)],a.gmegabuf[Math.floor(a.n+2)]+a.zofs)*a.fov;a.q6=div(-a.gmegabuf[Math.floor(a.n+1)],a.gmegabuf[Math.floor(a.n+2)]+a.zofs)*a.fov;a.q10=sqrt(a.gmegabuf[Math.floor(a.n+
3)]);a.q11=sqrt(a.gmegabuf[Math.floor(a.n+4)]);a.q12=sqrt(a.gmegabuf[Math.floor(a.n+5)]);a.monitor=a.m;a.q32=a.aspecty;`,pixel_eqs_str:"a.rot=0;a.zoom=1;a.warp=0;a.dy=0;a.dx=-0;",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = vec3(0.0, 0.0, 0.0);
  ret = tmpvar_1.xyz;
 }`,comp:`float xlat_mutablesmask;
vec2 xlat_mutableuv1;
vec2 xlat_mutableuv2;
vec2 xlat_mutableuv3;
vec2 xlat_mutableuv4;
 shader_body { 
  float flash_1;
  float dist_2;
  float stars_3;
  vec3 ret_4;
  xlat_mutableuv1 = ((uv - 0.5) * aspect.xy);
  float tmpvar_5;
  tmpvar_5 = (0.1 * time);
  float tmpvar_6;
  tmpvar_6 = (0.2 * rad);
  dist_2 = ((1.0 - fract(
    (0.3333333 + tmpvar_5)
  )) * (1.0 - tmpvar_6));
  vec2 tmpvar_7;
  tmpvar_7.x = q1;
  tmpvar_7.y = q2;
  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_7);
  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);
  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);
  vec2 tmpvar_8;
  tmpvar_8 = abs((fract(xlat_mutableuv4) - 0.5));
  stars_3 = max (0.0, clamp ((
    (1.0 - dist_2)
   * 
    ((0.1 / sqrt(dot (tmpvar_8, tmpvar_8))) * xlat_mutablesmask)
  ), 0.0, 1.0));
  dist_2 = ((1.0 - fract(
    (0.6666667 + tmpvar_5)
  )) * (1.0 - tmpvar_6));
  vec2 tmpvar_9;
  tmpvar_9.x = q1;
  tmpvar_9.y = q2;
  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_9);
  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);
  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);
  vec2 tmpvar_10;
  tmpvar_10 = abs((fract(xlat_mutableuv4) - 0.5));
  stars_3 = (stars_3 + max (stars_3, clamp (
    ((1.0 - dist_2) * ((0.1 / sqrt(
      dot (tmpvar_10, tmpvar_10)
    )) * xlat_mutablesmask))
  , 0.0, 1.0)));
  dist_2 = ((1.0 - fract(
    (1.0 + tmpvar_5)
  )) * (1.0 - tmpvar_6));
  vec2 tmpvar_11;
  tmpvar_11.x = q1;
  tmpvar_11.y = q2;
  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_11);
  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);
  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);
  vec2 tmpvar_12;
  tmpvar_12 = abs((fract(xlat_mutableuv4) - 0.5));
  stars_3 = (stars_3 + max (stars_3, clamp (
    ((1.0 - dist_2) * ((0.1 / sqrt(
      dot (tmpvar_12, tmpvar_12)
    )) * xlat_mutablesmask))
  , 0.0, 1.0)));
  vec2 tmpvar_13;
  tmpvar_13.x = q5;
  tmpvar_13.y = q6;
  xlat_mutableuv2 = (xlat_mutableuv1 - tmpvar_13);
  float tmpvar_14;
  tmpvar_14 = ((0.01 / sqrt(
    dot (xlat_mutableuv2, xlat_mutableuv2)
  )) * min (3.0, (
    ((mid - 0.5) * float((mid > 0.5)))
   * 2.0)));
  flash_1 = tmpvar_14;
  float angle_15;
  float tmpvar_16;
  tmpvar_16 = abs(xlat_mutableuv2.x);
  if ((xlat_mutableuv2.y >= 0.0)) {
    angle_15 = (1.0 - ((xlat_mutableuv2.y - tmpvar_16) / (xlat_mutableuv2.y + tmpvar_16)));
  } else {
    angle_15 = (3.0 - ((xlat_mutableuv2.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuv2.y)));
  };
  angle_15 = (angle_15 * 0.25);
  float tmpvar_17;
  if ((xlat_mutableuv2.x < 0.0)) {
    tmpvar_17 = -(angle_15);
  } else {
    tmpvar_17 = angle_15;
  };
  flash_1 = (tmpvar_14 * (tmpvar_14 / (
    abs((fract((
      (3.0 * tmpvar_17)
     + 
      (time * 2.0)
    )) - 0.5))
   + 0.18)));
  vec3 tmpvar_18;
  tmpvar_18 = max ((texture (sampler_main, uv).xyz * 2.0), ((
    (texture (sampler_blur2, uv).xyz * scale2)
   + bias2) * 2.0));
  vec2 tmpvar_19;
  tmpvar_19 = sin(xlat_mutableuv3);
  ret_4 = (clamp ((0.025 / 
    sqrt(dot (tmpvar_19, tmpvar_19))
  ), 0.0, 1.0) * vec3(0.4, 0.1, 1.0));
  ret_4 = (ret_4 + clamp ((stars_3 * stars_3), 0.0, 1.0));
  ret_4 = (ret_4 * clamp ((1.0 - 
    (2.0 * dot (tmpvar_18, vec3(0.32, 0.49, 0.29)))
  ), 0.0, 1.0));
  ret_4 = (ret_4 + tmpvar_18);
  vec3 tmpvar_20;
  tmpvar_20.x = q10;
  tmpvar_20.y = q11;
  tmpvar_20.z = q12;
  ret_4 = (ret_4 + ((2.0 * 
    clamp (flash_1, 0.0, 1.0)
  ) * tmpvar_20));
  vec4 tmpvar_21;
  tmpvar_21.w = 1.0;
  tmpvar_21.xyz = ret_4;
  ret = tmpvar_21.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,additivewave:1,wave_thick:1,modwavealphabyvolume:1,darken:1,wave_a:.001,wave_scale:.133,wave_smoothing:0,wave_mystery:-1,modwavealphastart:1,modwavealphaend:1.3,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.015,ob_b:1,ib_size:.26,mv_a:0,b2x:.3,b1ed:0},shapes:[{baseVals:{enabled:1,sides:40,thickoutline:1,rad:.06623,tex_zoom:1.79845,r:0,a:.1,g2:0,border_b:0,border_a:0},init_eqs_str:"a.vol=0;a.bob=0;a.border_1=0;a.ro=0;a.sp=0;a.red=0;a.spi=0;a.tm=0;a.bob=1.5;a.ro=0;a.red=randint(20);",frame_eqs_str:"a.vol=1+.2*div(a.bass_att+a.treb_att+a.mid_att,3);a.bob=a.bob*above(a.bob,.01)-.01+(1-above(a.bob,.01));a.bob=.4+.4*Math.sin(.8*a.time);a.bob*=a.vol;a.border_1=.4;a.sides=30;a.ro+=.02;a.ang=a.ro;a.sp=.025*a.red;a.spi=.5-a.sp;a.tm=.1*a.time;a.border_r=.5+a.sp*Math.sin(.6*a.tm)+a.spi*Math.cos(1.46*a.tm);a.border_g=.5+a.sp*Math.sin(1.294*a.tm)+a.spi*Math.cos(.87*a.tm);a.border_b=.5+a.sp*Math.sin(1.418*a.tm)+a.spi*Math.cos(.76*a.tm);"},{baseVals:{enabled:1,sides:40,additive:1,num_inst:4,g:1,b:1,g2:0,border_a:0},init_eqs_str:"",frame_eqs_str:"a.x=.5+.225*Math.sin(.7*div(a.time,a.instance));a.y=.5+.3*Math.cos(.7*div(a.time,a.instance));a.x-=.4*a.x*Math.sin(a.time);a.y-=.4*a.y*Math.cos(a.time);a.rad*=a.mid_att;a.r=.5+.5*Math.sin(.5*a.frame);a.b=.5+.5*Math.sin(.5*a.frame+2.094);a.g=.5+.5*Math.sin(.5*a.frame+4.188);"},{baseVals:{enabled:1,sides:40,additive:1,g:1,b:1,g2:0,border_a:0},init_eqs_str:"",frame_eqs_str:"a.x=.5+.5*(.3*Math.sin(1.1*a.time)+.7*Math.sin(.5*a.time));a.x=.5+.225*Math.sin(a.time+2.09);a.y=.5+.3*Math.cos(a.time+2.09);a.rad*=a.bass_att;a.r=.5+.5*Math.sin(.5*a.frame);a.b=.5+.5*Math.sin(.5*a.frame+2.094);a.g=.5+.5*Math.sin(.5*a.frame+4.188);"},{baseVals:{enabled:1,sides:40,additive:1,num_inst:5,rad:.07419,g:1,b:1,g2:0,border_a:0},init_eqs_str:"",frame_eqs_str:"a.x=.5+.225*Math.sin(div(a.time,a.instance));a.y=.5+.3*Math.cos(div(a.time,a.instance));a.x+=.4*a.x*Math.sin(a.time);a.y+=.4*a.y*Math.cos(a.time);a.rad*=a.treb_att;a.r=.5+.5*Math.sin(.5*a.frame);a.b=.5+.5*Math.sin(.5*a.frame+2.094);a.g=.5+.5*Math.sin(.5*a.frame+4.188);"}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.index=0;a.q22=0;a.q21=0;a.q1=0;a.dec_med=0;a.ps=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.dec_slow=0;a.q4=0;a.q26=0;a.p2=0;a.avg=0;a.beat=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.q28=0;a.q20=0;",frame_eqs_str:`a.dec_med=pow(.7,div(30,a.fps));a.dec_slow=pow(.99,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.2+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.q20=a.avg;a.q21=a.beat;a.q22=a.peak;a.ps=.9*a.ps+.1*a.q22;a.q23=a.ps;a.q24=a.is_beat;
a.q26=a.bass_att+a.mid_att+a.treb_att;a.q27=a.index+1;a.q28=a.index2;a.k1=a.is_beat*equal(mod(a.index,2),0);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,4);a.q1=Math.cos(a.rott);a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;`,pixel_eqs_str:"a.zoom=1.05;",warp:` shader_body { 
  vec2 uv_1;
  vec2 tmpvar_2;
  tmpvar_2 = (uv - vec2(0.5, 0.5));
  vec4 tmpvar_3;
  tmpvar_3.w = 0.0;
  vec4 tmpvar_4;
  tmpvar_4 = texture (sampler_blur1, uv);
  tmpvar_3.xyz = ((tmpvar_4.xyz * scale1) + bias1);
  float tmpvar_5;
  tmpvar_5 = (dot (tmpvar_3, roam_sin) * 16.0);
  mat2 tmpvar_6;
  tmpvar_6[uint(0)].x = cos(tmpvar_5);
  tmpvar_6[uint(0)].y = -(sin(tmpvar_5));
  tmpvar_6[1u].x = sin(tmpvar_5);
  tmpvar_6[1u].y = cos(tmpvar_5);
  uv_1 = ((tmpvar_2 + (
    (0.2 * dot (((tmpvar_4.xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29)))
   * 
    (tmpvar_2 * tmpvar_6)
  )) - 0.5);
  vec2 tmpvar_7;
  tmpvar_7 = ((uv_1 * texsize.xy) * 0.02);
  vec2 tmpvar_8;
  tmpvar_8.x = (cos((tmpvar_7.y * q1)) * sin(-(tmpvar_7.y)));
  tmpvar_8.y = (sin(tmpvar_7.x) * cos((tmpvar_7.y * q2)));
  uv_1 = (uv_1 - ((tmpvar_8 * texsize.zw) * 12.0));
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = ((texture (sampler_main, uv_1).xyz * 0.98) - 0.02);
  ret = tmpvar_9.xyz;
 }`,comp:`vec3 xlat_mutableret1;
vec2 xlat_mutablers;
vec2 xlat_mutableuv1;
float xlat_mutablez;
 shader_body { 
  xlat_mutableuv1 = (uv - 0.5);
  xlat_mutablez = (0.2 / abs(xlat_mutableuv1.y));
  xlat_mutablers.x = (xlat_mutableuv1.x * xlat_mutablez);
  xlat_mutablers.y = ((xlat_mutablez / 2.0) + (time * 4.0));
  vec4 tmpvar_1;
  tmpvar_1 = texture (sampler_noise_hq, xlat_mutablers);
  xlat_mutableret1 = ((tmpvar_1.xyz * vec3(
    greaterThanEqual (tmpvar_1.xyz, vec3(0.0, 0.0, 0.0))
  )) - 0.6);
  float tmpvar_2;
  tmpvar_2 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);
  vec2 tmpvar_3;
  tmpvar_3 = fract(((
    (xlat_mutableuv1 * (1.0 - abs(xlat_mutableuv1.x)))
   - 0.5) - (
    (xlat_mutableret1 * 0.05)
   * tmpvar_2).xy));
  float x_4;
  x_4 = (tmpvar_3.y - 0.52);
  vec3 tmpvar_5;
  tmpvar_5 = (texture (sampler_main, tmpvar_3) + ((0.02 / 
    (0.02 + sqrt((x_4 * x_4)))
  ) * slow_roam_sin)).xyz;
  xlat_mutableret1 = tmpvar_5;
  vec2 tmpvar_6;
  tmpvar_6 = (32.0 * ((
    (uv * mat2(0.6, -0.8, 0.8, 0.6))
   + 
    (tmpvar_5 * 0.1)
  .xy) + (time / 64.0)));
  vec2 tmpvar_7;
  tmpvar_7 = abs((fract(tmpvar_6) - 0.5));
  vec3 tmpvar_8;
  tmpvar_8 = clamp (((0.25 / 
    sqrt(dot (tmpvar_7, tmpvar_7))
  ) * vec3((texture (sampler_pw_noise_lq, 
    (tmpvar_6 / 256.0)
  ).y - 0.9))), 0.0, 1.0);
  vec4 tmpvar_9;
  tmpvar_9.w = 1.0;
  tmpvar_9.xyz = (tmpvar_5 + ((
    (tmpvar_8.x * tmpvar_8.x)
   + 
    ((rand_preset * (0.5 - uv.y)).xyz * vec3(0.0, 0.0, 1.0))
  ) * (1.0 - tmpvar_2)));
  ret = tmpvar_9.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:2,gammaadj:1.98,decay:.5,echo_zoom:1,echo_alpha:.5,echo_orient:3,wave_mode:3,wave_thick:1,wrap:0,darken:1,wave_a:100,wave_scale:.282,wave_smoothing:.9,wave_mystery:1,warpanimspeed:1.459,warpscale:2.007,zoom:.9999,warp:.01,sx:.9999,wave_r:.5,wave_g:.5,wave_b:.5,ob_size:.05,ob_g:.1,ob_b:1,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_a:0,b1ed:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,spectrum:1,thick:1,scaling:.2248},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"a.r=a.bass;a.g=a.treb;a.b=.5;",point_eqs_str:"a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.8);"},{baseVals:{enabled:1,spectrum:1,thick:1,scaling:.2743},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;",frame_eqs_str:"a.r=a.bass;a.g=a.treb;a.b=.5;",point_eqs_str:"a.ma+=3.1415*above(a.mid,1)*.01*a.mid;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0004*Math.cos(a.ma);a.my+=.0004*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.a=above(a.bass+a.mid+a.treb,.3);"},{baseVals:{enabled:1,thick:1,scaling:2.0231,smoothing:0},init_eqs_str:"a.d=0;a.tt2=0;a.res=0;a.tt1=0;a.diff=0;a.tt3=0;a.beat=0;a.vol=0;a.m=0;a.monitor=0;a.t2=0;a.t3=0;a.t4=0;a.cl=0;",frame_eqs_str:"a.vol=8*a.bass+5*a.mid+3*a.treb;a.m=.97*a.m+.08*a.vol;a.monitor=a.vol;a.beat=above(a.vol,a.res)*above(a.vol,a.m)*above(a.vol,16);a.diff=(1-a.beat)*a.diff+a.beat*(a.vol-a.res);a.res=a.beat*(a.vol+.04*a.m)+(1-a.beat)*(a.res-div(60*(.1+.02*a.diff),a.fps));a.res=Math.max(0,a.res);",point_eqs_str:"a.tt3=.6*a.tt3+1*a.value1;a.tt2=.7*a.tt2+.2*a.tt3;a.tt1=.8*a.tt1+.1*a.tt2;a.d=.9*a.d+.2*a.tt1;a.y=.5+a.d*a.sample*(1-a.sample)*2;a.x=-.05+1.1*a.sample;"},{baseVals:{enabled:0}}],init_eqs_str:`a.look=0;a.n=0;a.reg26=0;a.uvx0=0;a.reg34=0;a.reg28=0;a.reg23=0;a.q25=0;a.angchg=0;a.reg20=0;a.reg15=0;a.reg10=0;a.q12=0;a.v3=0;a.q22=0;a.q21=0;a.diry=0;a.q13=0;a.q6=0;a.posx=0;a.fps_=0;a.reg25=0;a.uvx=0;a.q1=0;a.travel=0;a.posz=0;a.q5=0;a.dirz=0;a.dec_s=0;a.reg16=0;a.slow=0;a.reg36=0;a.reg22=0;a.uvy=0;a.rotz=0;a.ly=0;a.dist_=0;a.q23=0;a.q24=0;a.reg24=0;a.cran0=0;a.ran2=0;a.q11=0;a.q10=0;a.reg14=0;a.posy=0;a.reg31=0;a.dirx=0;a.q4=0;a.start=0;a.reg12=0;a.reg13=0;a.c2=0;a.reg37=
0;a.s3=0;a.yslope=0;a.lampy=0;a.q16=0;a.xslope=0;a.q26=0;a.reg38=0;a.reg35=0;a.reg11=0;a.tx=0;a.avg=0;a.uvz=0;a.c3=0;a.uvy0=0;a.reg27=0;a.q19=0;a.beat=0;a.reg32=0;a.lx=0;a.reg21=0;a.uvz0=0;a.len=0;a.reg18=0;a.reg30=0;a.q2=0;a.q27=0;a.slen=0;a.q14=0;a.dist=0;a.reg17=0;a.v1=0;a.speed=0;a.s1=0;a.t0=0;a.s2=0;a.ran1=0;a.reg33=0;a.q7=0;a.ds=0;a.q28=0;a.lampx=0;a.ty=0;a.c1=0;a.v2=0;a.q20=0;a.q8=0;a.avg=.01;a.q7=.25;a.q8=randint(2)-1;a.q16=1+randint(2);a.q18=randint(.8)+.1;a.q30=1;a.q31=128;a.start=1;a.travel=
0;a.rotz=0;a.look=0;a.slow=0;a.t0=a.time+3;a.lampx=.5;a.lampy=.5;a.cran0=randint(1);for(var b=a.n=0;1E4>b;b++)a.gmegabuf[Math.floor(a.n)]=0,a.n+=1;for(b=a.n=0;1E4>b;b++)a.megabuf[Math.floor(a.n)]=0,a.n+=1;a.trelx=0;a.trely=0;a.trelz=0;a.reg20=1;a.reg21=0;a.reg22=0;a.reg23=0;a.reg24=1;a.reg25=0;a.reg26=0;a.reg27=0;a.reg28=1;b=0;do{b+=1;var c;a.ran1=div(randint(800),100);a.ran2=div(randint(800),100);a.ran3=div(randint(800),100);a.posx=randint(5)-2;a.posy=randint(5)-2;a.posz=randint(5)-2;a.c1=Math.cos(a.ran1);
a.c2=Math.cos(a.ran2);a.c3=Math.cos(a.ran3);a.s1=Math.sin(a.ran1);a.s2=Math.sin(a.ran2);a.s3=Math.sin(a.ran3);a.reg20=a.c2*a.c1;a.reg21=a.c2*a.s1;a.reg22=-a.s2;a.reg23=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg24=a.s3*a.s2*a.s1+a.c3*a.c1;a.reg25=a.s3*a.c2;a.reg26=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg27=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg28=a.c3*a.c2;a.dist=.001;var d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,
8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=
a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.05;c=(.6>a.dist?1:0)*(30<a.len?1:0)}while(.00001<Math.abs(c)&&1048576>
d);d=.06>a.dist?1:0}while(.00001<Math.abs(d)&&1048576>b);`,frame_eqs_str:`a.wave_a=0;a.fps_=0*a.fps_+1*(.00001<Math.abs(25>=a.fps?1:0)?a.fps:25+.5*(a.fps-25));a.dec_s=1-div(.06*30,a.fps_);a.beat=a.time>a.t0+3?1:0;a.t0=.00001<Math.abs(a.beat)?a.time:a.t0;a.speed=div(Math.min(.2,a.dist_-.02)*(1+2*a.avg)*(1-0*a.slow)*.7,a.q7);a.ds=a.ds*a.dec_s+div((1-a.dec_s)*a.speed*.25,a.fps_);a.rotz=.00001<Math.abs(.00001>Math.abs(a.rotz-0)?1:0)?a.beat*(randint(100)<20*a.travel?1:0)*(div(randint(10),10)-.3):bnot(a.beat*(30>randint(100)?1:0))*a.rotz;a.slow=.00001<
Math.abs(bnot(a.slow))?a.beat*(6>randint(1E3*a.avg)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.look=.00001<Math.abs(bnot(a.look))?a.beat*(12>randint(1E3*a.speed)?1:0):bnot(a.beat*(50>randint(100)?1:0));a.lx=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.lx;a.ly=.00001<Math.abs(a.beat)?div(randint(150),200)+.15:a.ly;a.lampx=a.lampx*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.lx:.5);a.lampy=a.lampy*a.dec_s+(1-a.dec_s)*(.00001<Math.abs(a.look)?a.ly:.5);a.q1=a.lampx;a.q2=a.lampy;a.dirx=a.reg26;
a.diry=a.reg27;a.dirz=a.reg28;a.posx+=a.ds*a.dirx;a.posy+=a.ds*a.diry;a.posz+=a.ds*a.dirz;a.q4=a.posx;a.q5=a.posy;a.q6=a.posz;a.angchg=(.2-a.dist_)*(.2>a.dist_?1:0)*2;a.travel=.00001<Math.abs(0<a.angchg?1:0)?0:a.travel+a.ds;a.v1=a.v1*a.dec_s+(1-a.dec_s)*a.rotz*a.ds;a.v2=a.v2*a.dec_s+div((1-a.dec_s)*a.angchg*a.xslope,a.fps_);a.v3=a.v3*a.dec_s+(1-a.dec_s)*(div(a.angchg*a.yslope,a.fps_)+2*a.v1*Math.sin(.1*a.time));a.reg30=a.reg20;a.reg31=a.reg21;a.reg32=a.reg22;a.reg33=a.reg23;a.reg34=a.reg24;a.reg35=
a.reg25;a.reg36=a.reg26;a.reg37=a.reg27;a.reg38=a.reg28;a.n=0;for(var b=a.avg=0;5>b;b++){a.n+=1;a.ran1=div(randint(100),100);a.ran2=div(randint(100),200)-.25;a.tx=Math.cos(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.ty=Math.sin(1.57*a.n+a.ran2)*(4>=a.n?1:0)*a.ran1;a.c1=Math.cos(a.v1);a.c2=Math.cos(a.v2+a.ty);a.c3=Math.cos(a.v3+a.tx);a.s1=Math.sin(a.v1);a.s2=Math.sin(a.v2+a.ty);a.s3=Math.sin(a.v3+a.tx);a.reg10=a.c2*a.c1;a.reg11=a.c2*a.s1;a.reg12=-a.s2;a.reg13=a.s3*a.s2*a.c1-a.c3*a.s1;a.reg14=a.s3*a.s2*
a.s1+a.c3*a.c1;a.reg15=a.s3*a.c2;a.reg16=a.c3*a.s2*a.c1+a.s3*a.s1;a.reg17=a.c3*a.s2*a.s1-a.s3*a.c1;a.reg18=a.c3*a.c2;a.reg20=a.reg30;a.reg21=a.reg31;a.reg22=a.reg32;a.reg23=a.reg33;a.reg24=a.reg34;a.reg25=a.reg35;a.reg26=a.reg36;a.reg27=a.reg37;a.reg28=a.reg38;a.q20=a.reg10*a.reg20+a.reg11*a.reg23+a.reg12*a.reg26;a.q21=a.reg10*a.reg21+a.reg11*a.reg24+a.reg12*a.reg27;a.q22=a.reg10*a.reg22+a.reg11*a.reg25+a.reg12*a.reg28;a.q23=a.reg13*a.reg20+a.reg14*a.reg23+a.reg15*a.reg26;a.q24=a.reg13*a.reg21+a.reg14*
a.reg24+a.reg15*a.reg27;a.q25=a.reg13*a.reg22+a.reg14*a.reg25+a.reg15*a.reg28;a.q26=a.reg16*a.reg20+a.reg17*a.reg23+a.reg18*a.reg26;a.q27=a.reg16*a.reg21+a.reg17*a.reg24+a.reg18*a.reg27;a.q28=a.reg16*a.reg22+a.reg17*a.reg25+a.reg18*a.reg28;a.reg20=a.q20;a.reg21=a.q21;a.reg22=a.q22;a.reg23=a.q23;a.reg24=a.q24;a.reg25=a.q25;a.reg26=a.q26;a.reg27=a.q27;a.reg28=a.q28;a.dist=.002;var c,d=0;do{d+=1;a.uvx=div(a.reg26*a.dist,a.q7);a.uvy=div(a.reg27*a.dist,a.q7);a.uvz=div(a.reg28*a.dist,a.q7);a.uvx+=a.posx;
a.uvy+=a.posy;a.uvz+=a.posz;a.uvx=8*(div(a.uvx,8)+30.5-Math.floor(div(a.uvx,8)+30.5)-.5);a.uvy=8*(div(a.uvy,8)+30.5-Math.floor(div(a.uvy,8)+30.5)-.5);a.uvz=8*(div(a.uvz,8)+30.5-Math.floor(div(a.uvz,8)+30.5)-.5);a.uvx0=a.uvx+a.q8;a.uvy0=a.uvy+a.q8;a.uvz0=a.uvz+a.q8;for(c=0;8>c;c++)a.uvx=.00001<Math.abs(1<a.uvx?1:0)?2-a.uvx:.00001<Math.abs(-1>a.uvx?1:0)?-2-a.uvx:a.uvx,a.uvy=.00001<Math.abs(1<a.uvy?1:0)?2-a.uvy:.00001<Math.abs(-1>a.uvy?1:0)?-2-a.uvy:a.uvy,a.uvz=.00001<Math.abs(1<a.uvz?1:0)?2-a.uvz:.00001<
Math.abs(-1>a.uvz?1:0)?-2-a.uvz:a.uvz,a.slen=a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz,a.uvx=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvx:.00001<Math.abs(1>a.slen?1:0)?div(a.uvx,a.slen):a.uvx)+a.uvx0,a.uvy=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvy:.00001<Math.abs(1>a.slen?1:0)?div(a.uvy,a.slen):a.uvy)+a.uvy0,a.uvz=2.6*(.00001<Math.abs(.25>a.slen?1:0)?4*a.uvz:.00001<Math.abs(1>a.slen?1:0)?div(a.uvz,a.slen):a.uvz)+a.uvz0;a.len=sqrt(a.uvx*a.uvx+a.uvy*a.uvy+a.uvz*a.uvz);a.dist*=1.1;c=(.6>a.dist?1:0)*(30<
a.len?1:0)}while(.00001<Math.abs(c)&&1048576>d);a.megabuf[Math.floor(a.n)]=a.megabuf[Math.floor(a.n)]*a.dec_s+(1-a.dec_s)*a.dist;a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5))}a.n=0;for(b=a.avg=0;5>b;b++)a.n+=1,a.avg+=Math.abs(div(a.megabuf[Math.floor(a.n)],5));a.xslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[1]-a.megabuf[3]),-3),3);a.yslope=Math.min(Math.max(div(2,a.avg)*(a.megabuf[4]-a.megabuf[2]),-3),3);a.monitor=a.avg;a.dist_=a.dist_*a.dec_s+(1-a.dec_s)*a.dist;a.q10=a.ds*a.q7;a.q14=Math.abs(a.ds)+
2*(Math.abs(a.v1)+Math.abs(a.v2)+Math.abs(a.v3))+div(1,255)+.05*a.start;a.q19=.6+.4*Math.sin(.02*a.time+6*a.cran0);a.start*=.9;a.q11=a.v1;a.q12=a.v2;a.q13=a.v3;a.monitor=a.q16;`,pixel_eqs_str:"a.warp=0;a.zoom=1;a.dx=div(-a.q12,a.q16)*(1+0*pow(a.x-.5,2));a.dy=div(a.q13,a.q16)*(1+0*pow(a.y-.5,2));a.rot=a.q11;",warp:` shader_body { 
  float dy_1;
  float dx_2;
  vec3 ret_3;
  vec2 tmpvar_4;
  tmpvar_4 = ((uv * texsize.xy) * texsize_noise_lq.zw);
  vec2 tmpvar_5;
  tmpvar_5 = (texsize.zw * 4.0);
  vec2 tmpvar_6;
  tmpvar_6.x = (((2.0 * 
    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)
  )).y * 0.5);
  tmpvar_6.y = (((2.0 * 
    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)
  )).y * 0.5);
  ret_3.y = texture (sampler_fw_main, clamp ((uv + (
    (tmpvar_6 * texsize.zw)
   * 4.0)), 0.0, 1.0)).y;
  ret_3.y = (ret_3.y + ((
    (ret_3 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))
  .y * 0.025) + -0.01));
  ret_3.y = (ret_3.y + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.02));
  dx_2 = (((2.0 * 
    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)
  )).z * 0.5);
  dy_1 = (((2.0 * 
    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)
  )).z * 0.5);
  vec2 tmpvar_7;
  tmpvar_7.x = dx_2;
  tmpvar_7.y = dy_1;
  ret_3.z = ((texture (sampler_main, (uv - 
    ((tmpvar_7 * texsize.zw) * 4.0)
  )).z - (ret_3.y * 0.01)) + 0.004);
  ret_3.z = (ret_3.z + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.01));
  dx_2 = (((2.0 * 
    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(1.0, 0.0)))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(-1.0, 0.0)))).xyz * scale1) + bias1)
  )).x * 0.5);
  dy_1 = (((2.0 * 
    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, 1.0)))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, -1.0)))).xyz * scale1) + bias1)
  )).x * 0.5);
  vec2 tmpvar_8;
  tmpvar_8.x = dx_2;
  tmpvar_8.y = dy_1;
  vec2 tmpvar_9;
  tmpvar_9 = (tmpvar_8 * texsize.zw);
  vec2 domain_10;
  domain_10 = (uv - (tmpvar_9 * 2.5));
  vec4 tmpvar_11;
  tmpvar_11.w = 0.0;
  tmpvar_11.xyz = max (vec4(0.0, 0.0, 0.0, 0.0), texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(-1.0, 0.0))))).xyz;
  vec4 tmpvar_12;
  tmpvar_12.w = 0.0;
  tmpvar_12.xyz = max (tmpvar_11, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, -1.0))))).xyz;
  vec4 tmpvar_13;
  tmpvar_13.w = 0.0;
  tmpvar_13.xyz = max (tmpvar_12, texture (sampler_fc_main, domain_10)).xyz;
  vec4 tmpvar_14;
  tmpvar_14.w = 0.0;
  tmpvar_14.xyz = max (tmpvar_13, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, 1.0))))).xyz;
  ret_3.x = ((max (tmpvar_14, texture (sampler_fc_main, 
    (domain_10 + (texsize.zw * vec2(1.0, 0.0)))
  )).x + (
    (texture (sampler_main, (uv + (tmpvar_9 * 4.0))).x - ((texture (sampler_blur1, (uv + 
      (tmpvar_9 * 4.0)
    )).xyz * scale1) + bias1).x)
   * 0.206)) - 0.09);
  vec4 tmpvar_15;
  tmpvar_15.w = 1.0;
  tmpvar_15.xyz = ret_3;
  ret = tmpvar_15.xyz;
 }`,comp:`float xlat_mutablelamp;
vec2 xlat_mutablers0;
vec2 xlat_mutablerss;
vec2 xlat_mutableuv1;
 shader_body { 
  vec3 tmpvar_1;
  tmpvar_1.x = q4;
  tmpvar_1.y = q5;
  tmpvar_1.z = q6;
  mat3 tmpvar_2;
  tmpvar_2[uint(0)].x = q20;
  tmpvar_2[uint(0)].y = q23;
  tmpvar_2[uint(0)].z = q26;
  tmpvar_2[1u].x = q21;
  tmpvar_2[1u].y = q24;
  tmpvar_2[1u].z = q27;
  tmpvar_2[2u].x = q22;
  tmpvar_2[2u].y = q25;
  tmpvar_2[2u].z = q28;
  vec2 tmpvar_3;
  tmpvar_3.x = q1;
  tmpvar_3.y = q2;
  vec2 uv_4;
  vec3 dots_5;
  vec3 ret_6;
  vec2 tmpvar_7;
  vec2 tmpvar_8;
  tmpvar_8 = (uv - 0.5);
  tmpvar_7 = (0.5 + (tmpvar_8 * vec2(1.1, 0.81)));
  vec2 tmpvar_9;
  tmpvar_9 = (uv - vec2(0.5, 0.5));
  uv_4 = (tmpvar_8 * aspect.xy);
  float tmpvar_10;
  float tmpvar_11;
  tmpvar_11 = (min (abs(
    (uv_4.y / uv_4.x)
  ), 1.0) / max (abs(
    (uv_4.y / uv_4.x)
  ), 1.0));
  float tmpvar_12;
  tmpvar_12 = (tmpvar_11 * tmpvar_11);
  tmpvar_12 = (((
    ((((
      ((((-0.01213232 * tmpvar_12) + 0.05368138) * tmpvar_12) - 0.1173503)
     * tmpvar_12) + 0.1938925) * tmpvar_12) - 0.3326756)
   * tmpvar_12) + 0.9999793) * tmpvar_11);
  tmpvar_12 = (tmpvar_12 + (float(
    (abs((uv_4.y / uv_4.x)) > 1.0)
  ) * (
    (tmpvar_12 * -2.0)
   + 1.570796)));
  tmpvar_10 = (tmpvar_12 * sign((uv_4.y / uv_4.x)));
  if ((abs(uv_4.x) > (1e-08 * abs(uv_4.y)))) {
    if ((uv_4.x < 0.0)) {
      if ((uv_4.y >= 0.0)) {
        tmpvar_10 += 3.141593;
      } else {
        tmpvar_10 = (tmpvar_10 - 3.141593);
      };
    };
  } else {
    tmpvar_10 = (sign(uv_4.y) * 1.570796);
  };
  xlat_mutablers0.x = ((tmpvar_10 / 3.1416) * 2.0);
  xlat_mutablers0.y = (0.02 / sqrt(dot (uv_4, uv_4)));
  vec2 tmpvar_13;
  tmpvar_13.x = xlat_mutablers0.x;
  tmpvar_13.y = (xlat_mutablers0.y + time);
  xlat_mutablerss = (tmpvar_13 * mat2(0.7, -0.7, 0.7, 0.7));
  vec4 tmpvar_14;
  tmpvar_14 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, 
    (xlat_mutablerss / 32.0)
  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));
  vec2 tmpvar_15;
  tmpvar_15 = abs((fract(
    (xlat_mutablerss * 8.0)
  ) - 0.5));
  vec2 tmpvar_16;
  tmpvar_16.x = (xlat_mutablers0.x * 2.0);
  tmpvar_16.y = (xlat_mutablers0.y + (time / 2.0));
  xlat_mutablerss = (tmpvar_16 * mat2(0.7, -0.7, 0.7, 0.7));
  vec4 tmpvar_17;
  tmpvar_17 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, 
    (xlat_mutablerss / 32.0)
  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));
  vec2 tmpvar_18;
  tmpvar_18 = abs((fract(
    (xlat_mutablerss * 8.0)
  ) - 0.5));
  xlat_mutablerss = tmpvar_18;
  dots_5 = (vec3((clamp (
    (0.04 / sqrt(dot (tmpvar_15, tmpvar_15)))
  , 0.0, 1.0) * tmpvar_14.x)) + (clamp (
    (0.04 / sqrt(dot (tmpvar_18, tmpvar_18)))
  , 0.0, 1.0) * tmpvar_17.x));
  dots_5 = (dots_5 * clamp ((0.04 / 
    abs((0.01 / xlat_mutablers0.y))
  ), 0.0, 1.0));
  dots_5 = (dots_5 * (dots_5 * 2.0));
  vec2 tmpvar_19;
  tmpvar_19.x = -((tmpvar_9.y * -1024.0));
  tmpvar_19.y = (tmpvar_9.x * -1024.0);
  vec2 tmpvar_20;
  tmpvar_20.x = tmpvar_19.x;
  tmpvar_20.y = -(tmpvar_19.y);
  uv_4 = (vec2(-100.0, 100.0) * (tmpvar_20 / (
    (tmpvar_19.x * tmpvar_19.x)
   + 
    (tmpvar_19.y * tmpvar_19.y)
  )).yx);
  uv_4 = (0.5 + ((
    (1.0 - abs(((
      fract((mix ((0.5 + 
        ((tmpvar_7 - 0.5) * 2.0)
      ), (uv_4 + 0.5), vec2(0.5, 0.5)) * 0.5))
     * 2.0) - 1.0)))
   - 0.5) * 0.98));
  uv_4 = (((uv_4 - 0.5) * 0.9) + 0.5);
  xlat_mutableuv1 = ((uv_4 - tmpvar_3) * aspect.xy);
  float tmpvar_21;
  tmpvar_21 = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (
    (texture (sampler_blur2, uv_4).xyz * scale2)
   + bias2).z));
  vec3 tmpvar_22;
  tmpvar_22.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - 
    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)
  .z)));
  tmpvar_22.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (
    (texture (sampler_blur2, uv_4).xyz * scale2)
   + bias2).z));
  float tmpvar_23;
  tmpvar_23 = clamp ((abs(
    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (
      (texture (sampler_blur2, tmpvar_3).xyz * scale2)
     + bias2).z), 0.1, 0.4))
  ) + 0.2), 0.0, 1.0);
  vec3 tmpvar_24;
  tmpvar_24 = mix (texture (sampler_main, uv_4).xyz, ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1), vec3(tmpvar_23));
  float tmpvar_25;
  tmpvar_25 = clamp (((1.0 - 
    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))
  ) - 0.2), 0.0, 1.0);
  ret_6 = ((tmpvar_24.x * (0.2 + 
    ((1.0 - tmpvar_23) * (1.0 - tmpvar_21))
  )) * (1.0 + (0.5 * 
    sin((((tmpvar_22 / q7) * tmpvar_2) + tmpvar_1))
  )));
  vec3 tmpvar_26;
  tmpvar_26.xy = vec2(0.0, 1.0);
  tmpvar_26.z = (tmpvar_25 * 3.0);
  vec3 tmpvar_27;
  tmpvar_27 = mix (ret_6, tmpvar_26, vec3(tmpvar_25));
  xlat_mutablelamp = (((
    clamp ((1.0 - (4.0 * sqrt(
      dot (xlat_mutableuv1, xlat_mutableuv1)
    ))), 0.0, 1.0)
   * tmpvar_24.x) * clamp (
    (1.0 - (2.0 * mix (tmpvar_21, (1.0 - 
      ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)
    .z), 0.2)))
  , 0.0, 1.0)) * 1.8);
  ret_6 = (tmpvar_27 + ((1.0 - 
    dot (tmpvar_27, vec3(0.32, 0.49, 0.29))
  ) * xlat_mutablelamp));
  ret_6 = (1.0 - exp((-2.0 * ret_6)));
  ret_6 = (ret_6 + (dots_5 * (1.0 + ret_6)));
  vec4 tmpvar_28;
  tmpvar_28.w = 1.0;
  tmpvar_28.xyz = ret_6;
  ret = tmpvar_28.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,wave_mode:4,additivewave:1,wave_dots:1,modwavealphabyvolume:1,wave_a:.331,wave_scale:.898,wave_smoothing:.108,wave_mystery:.1,modwavealphastart:.72,modwavealphaend:1.28,zoom:1.3345,wave_r:0,wave_g:.5,wave_b:.5,wave_y:.54,mv_x:24.8,mv_dy:.16,mv_l:1.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,samples:352,usedots:1,additive:1,scaling:.03856,smoothing:.2,g:0},init_eqs_str:"a.t02=0;a.q1=0;a.ratio=0;a.ampl=0;a.x1=0;a.y1=0;",frame_eqs_str:"a.q1=a.bass_att;",point_eqs_str:`a.r=Math.abs(Math.sin(div(a.frame,38)));a.g=.5*Math.abs(Math.cos(div(a.frame,45)));a.b=.5*Math.abs(Math.sin(div(a.frame,133)));a.a=.3;a.t02+=div(a.q1,10);a.ratio=Math.sin(div(a.frame,49));a.ampl=.01+.4*sqr(Math.sin(div(a.frame,18))*Math.cos(div(a.frame,123)));a.x1=div(a.r-.5,15)+.5+a.ampl*Math.sin(6.28*a.sample);a.y1=div(a.b-.5,15)+.5+a.ampl*Math.cos(6.28*a.sample);a.x=a.x1+.2*(a.ampl+a.ratio)*Math.sin(6.28*a.sample*a.ratio*7.3);a.y=a.y1+.2*(a.ampl+a.ratio)*Math.cos(37.68*a.sample);
`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.oldshift=0;a.shift=0;a.normalframez=0;a.crash=0;a.nex=0;a.rshift=0;a.q1=0;a.zoom1=0;",frame_eqs_str:`a.dx=0;a.oldshift=a.shift;a.normalframez+=1;a.shift=above(a.bass_att,1)*above(a.treb_att,.9);a.crash=Math.abs(a.oldshift-a.shift);a.nex=1*equal(a.rshift,0)+2*equal(a.rshift,1);a.rshift=.00001<Math.abs(a.crash)?a.nex:a.rshift;a.monitor=a.rshift;a.wave_r=div(Math.floor(randint(200)),200);a.wave_g=div(Math.floor(randint(200)),200);a.wave_b=div(Math.floor(randint(200)),200);a.warp=0;a.q1=above(a.bass_att,1.3);a.zoom1=a.zoom+.15-.3*mod(a.normalframez,2);a.zoom=.00001<Math.abs(a.shift)?
a.zoom1:1;a.rot=a.rot-.1+.1*a.rshift;`,pixel_eqs_str:"a.dy=.007*-below(a.y,.4)+.007*above(a.y,.6);",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = ((texture (sampler_main, (uv_orig + 
    ((uv - uv_orig) * dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))
  )).xyz * 0.99) - 0.002);
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  ret_1 = (texture (sampler_main, uv).xyz * 2.0);
  ret_1 = (ret_1 * (1.0 - ret_1));
  ret_1 = (((1.0 - 
    pow (clamp (ret_1, 0.0, 1.0), vec3(0.5, 0.5, 0.5))
  ) * 1.5) - 0.75);
  vec4 tmpvar_2;
  tmpvar_2.w = 1.0;
  tmpvar_2.xyz = ret_1;
  ret = tmpvar_2.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,decay:1,echo_zoom:1,echo_orient:3,wave_mode:1,wrap:0,darken_center:1,wave_a:.001,zoom:.97,rot:-6.27999,warp:52e-5,wave_r:0,wave_g:0,wave_b:0,ob_r:1,ob_g:1,ob_b:1,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,textured:1,rad:.49849,g:1,b:1,a:.7,r2:1,g2:0,b2:1,a2:.7,border_a:0},init_eqs_str:"a.q2=0;a.tex_capture=0;a.q3=0;",frame_eqs_str:"a.r2=.5+.5*Math.sin(.35*a.q2);a.g2=.5+.5*Math.sin(.578*a.q2);a.b2=.5+.5*Math.sin(.689*a.q2);a.ang=a.q2;a.tex_capture=above(a.q3,2);"},{baseVals:{enabled:1,sides:100,textured:1,rad:.74218,g:1,b:1,a:.6,r2:1,g2:0,b2:1,a2:.6,border_a:0},init_eqs_str:"a.q2=0;a.tex_capture=0;a.q3=0;",frame_eqs_str:"a.r2=.5+.5*Math.sin(.45*a.q2);a.g2=.5+.5*Math.sin(.678*a.q2);a.b2=.5+.5*Math.sin(.689*a.q2);a.ang=1.05*-a.q2;a.tex_capture=above(a.q3,2);"},{baseVals:{enabled:1,sides:100,textured:1,rad:1.00035,g:1,b:1,a:.5,r2:1,g2:0,b2:1,a2:.5,border_a:0},init_eqs_str:"a.q2=0;a.tex_capture=0;a.q3=0;",frame_eqs_str:"a.r2=.5+.5*Math.sin(.45*a.q2);a.g2=.5+.5*Math.sin(.578*a.q2);a.b2=.5+.5*Math.sin(.789*a.q2);a.ang=.899*a.q2;a.tex_capture=above(a.q3,2);"},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,sep:1,spectrum:1,thick:1,additive:1},init_eqs_str:"a.xx=0;a.s=0;a.xs=0;a.ss=0;a.q1=0;a.xd=0;a.zd=0;a.v=0;a.yx=0;a.angle2=0;a.zs=0;a.angle=0;a.ys=0;a.xn=0;a.yd=0;a.angle3=0;a.yn=0;a.u=0;a.zx=0;",frame_eqs_str:"",point_eqs_str:`a.u=3.14159*Math.cos(.1*a.q1);a.v=6.28318*Math.cos(.015*a.q1);a.s=314*a.sample;a.ss=6280*a.sample;a.xs=(.3+.1*Math.cos(a.s))*Math.cos(a.ss)*.2*Math.cos(a.v);a.ys=(.3+.1*Math.cos(a.s))*Math.sin(a.ss)*6*a.u;a.zs=.1*Math.sin(a.s)*Math.sin(a.v);a.angle=.1*a.q1;a.yx=a.ys*Math.cos(a.angle)-a.zs*Math.sin(a.angle);a.zx=a.ys*Math.sin(a.angle)+a.zs*Math.cos(a.angle);a.xx=a.xs;a.angle2=.11*a.q1;a.xd=a.xx*Math.cos(a.angle2)-a.zx*Math.sin(a.angle2);a.zd=a.xx*Math.sin(a.angle2)+a.zx*Math.cos(a.angle2);
a.yd=a.yx;a.angle3=.15*a.q1;a.xn=a.xd*Math.cos(a.angle3)-a.yd*Math.sin(a.angle3);a.yn=a.xd*Math.sin(a.angle3)+a.yd*Math.cos(a.angle3);a.zd=a.zd;a.x=a.xn*a.zd*.3+.5;a.y=a.yn*a.zd*.36+.5;a.r=.5+.5*Math.sin(1.2*a.q1+a.x+a.x);a.g=.5+.5*Math.sin(1.5*a.q1+a.x+a.y);a.b=.5+.5*Math.sin(1.36*a.q1+a.y+a.y);`},{baseVals:{enabled:1,sep:1,spectrum:1,thick:1,additive:1},init_eqs_str:"a.xx=0;a.s=0;a.xs=0;a.ss=0;a.q1=0;a.xd=0;a.zd=0;a.v=0;a.yx=0;a.angle2=0;a.zs=0;a.angle=0;a.ys=0;a.xn=0;a.yd=0;a.angle3=0;a.yn=0;a.u=0;a.zx=0;",frame_eqs_str:"",point_eqs_str:`a.u=3.14159*Math.cos(.1*a.q1);a.v=6.28318*Math.cos(.015*a.q1);a.s=314*a.sample;a.ss=6280*a.sample;a.xs=(.3+.1*Math.cos(a.s))*Math.cos(a.ss)*.2*Math.cos(a.v);a.ys=(.3+.1*Math.cos(a.s))*Math.sin(a.ss)*6*a.u;a.zs=.1*Math.sin(a.s)*Math.sin(a.v);a.angle=.1*a.q1;a.yx=a.ys*Math.cos(a.angle)-a.zs*Math.sin(a.angle);a.zx=a.ys*Math.sin(a.angle)+a.zs*Math.cos(a.angle);a.xx=a.xs;a.angle2=.13*a.q1;a.xd=a.xx*Math.cos(a.angle2)-a.zx*Math.sin(a.angle2);a.zd=a.xx*Math.sin(a.angle2)+a.zx*Math.cos(a.angle2);
a.yd=a.yx;a.angle3=.16*a.q1;a.xn=a.xd*Math.cos(a.angle3)-a.yd*Math.sin(a.angle3);a.yn=a.xd*Math.sin(a.angle3)+a.yd*Math.cos(a.angle3);a.zd=a.zd;a.x=a.xn*a.zd*.3+.5;a.y=a.yn*a.zd*.36+.5;a.r=.5+.5*Math.sin(1.2*a.q1+a.x+a.x);a.g=.5+.5*Math.sin(1.5*a.q1+a.x+a.y);a.b=.5+.5*Math.sin(1.36*a.q1+a.y+a.y);`},{baseVals:{enabled:1,sep:1,spectrum:1,thick:1,additive:1},init_eqs_str:"a.xx=0;a.s=0;a.xs=0;a.ss=0;a.q1=0;a.xd=0;a.zd=0;a.v=0;a.yx=0;a.angle2=0;a.zs=0;a.angle=0;a.ys=0;a.xn=0;a.yd=0;a.angle3=0;a.yn=0;a.u=0;a.zx=0;",frame_eqs_str:"",point_eqs_str:`a.u=3.14159*Math.cos(.1*a.q1);a.v=6.28318*Math.cos(.015*a.q1);a.s=314*a.sample;a.ss=6280*a.sample;a.xs=(.3+.1*Math.cos(a.s))*Math.cos(a.ss)*.2*Math.cos(a.v);a.ys=(.3+.1*Math.cos(a.s))*Math.sin(a.ss)*6*a.u;a.zs=.1*Math.sin(a.s)*Math.sin(a.v);a.angle=.1*a.q1;a.yx=a.ys*Math.cos(a.angle)-a.zs*Math.sin(a.angle);a.zx=a.ys*Math.sin(a.angle)+a.zs*Math.cos(a.angle);a.xx=a.xs;a.angle2=.16*a.q1;a.xd=a.xx*Math.cos(a.angle2)-a.zx*Math.sin(a.angle2);a.zd=a.xx*Math.sin(a.angle2)+a.zx*Math.cos(a.angle2);
a.yd=a.yx;a.angle3=.16*a.q1;a.xn=a.xd*Math.cos(a.angle3)-a.yd*Math.sin(a.angle3);a.yn=a.xd*Math.sin(a.angle3)+a.yd*Math.cos(a.angle3);a.zd=a.zd;a.x=a.xn*a.zd*.3+.5;a.y=a.yn*a.zd*.36+.5;a.r=.5+.5*Math.sin(1.2*a.q1+a.x+a.x);a.g=.5+.5*Math.sin(1.5*a.q1+a.x+a.y);a.b=.5+.5*Math.sin(1.36*a.q1+a.y+a.y);`},{baseVals:{enabled:0}}],init_eqs_str:"a.basstime=0;a.stickybit=0;a.volavg2=0;a.q1=0;a.decay_r=0;a.sample1=0;a.difftime=0;a.diff=0;a.decay_b=0;a.edge=0;a.volavg=0;a.bit2=0;a.vol=0;a.q2=0;a.q3=0;a.basssum=0;a.decay_g=0;a.sample2=0;",frame_eqs_str:`a.basstime+=.03*a.bass;a.q1=4*a.basstime;a.basstime=.00001<Math.abs(below(a.basstime,1E3))?1E3:a.basstime;a.basstime+=.03*a.bass_att;a.vol=pow(a.bass+a.mid+a.treb,2);a.basssum=a.vol;a.stickybit=mod(a.time,2);a.volavg+=a.vol*equal(a.stickybit,1);a.sample1+=equal(a.stickybit,1);a.volavg2+=a.vol*equal(a.stickybit,0);a.sample2+=equal(a.stickybit,0);a.edge=bnot(equal(a.bit2,a.stickybit));a.volavg-=a.volavg*a.edge*a.stickybit;a.volavg2-=a.volavg2*a.edge*equal(a.stickybit,0);a.sample1-=
a.sample1*a.edge*a.stickybit;a.sample2-=a.sample2*a.edge*equal(a.stickybit,0);a.diff=.00001<Math.abs(equal(a.stickybit,1))?div(a.basssum,div(a.volavg2,a.sample2)):0;a.diff=.00001<Math.abs(equal(a.stickybit,0))?div(a.basssum,div(a.volavg,a.sample1)):a.diff;a.q3=a.diff;a.bit2=mod(a.time,2);a.difftime+=.03*a.diff;a.q2=a.difftime;a.difftime=.00001<Math.abs(above(a.difftime,2E3))?0:a.difftime;a.monitor=3.14*Math.abs(Math.cos(a.time));a.mv_a=above(a.diff,10);`,pixel_eqs_str:"a.zoom=1+.05*a.q3*a.rad;a.decay_r=.2*a.rad*Math.sin(.35*a.q2)+.85+.1*Math.sin(a.q2);a.decay_g=.2*a.rad*Math.sin(.5*a.q2)+.85+.1*Math.sin(.7*a.q2);a.decay_b=.2*a.rad*Math.sin(.4*a.q2)+.85+.1*Math.sin(.8*a.q2);a.rot=0;",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_fc_main, uv).xyz * (0.8 + (q3 * 0.1)));
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 2.0);
  ret = tmpvar_1.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1,decay:1,echo_zoom:1.007,echo_alpha:.5,echo_orient:1,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_a:.1,wave_scale:3.815,wave_smoothing:.9,modwavealphastart:0,modwavealphaend:1.1,zoom:1.0099,warp:.04177,wave_r:.65,wave_g:.65,ob_size:.007,ib_size:.26,mv_x:64,mv_y:48,mv_l:.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0},shapes:[{baseVals:{enabled:1,sides:3,x:.37,rad:6.81129,ang:3.64425,r:0,a:.5,g2:0,a2:.5,border_a:1},init_eqs_str:"a.q1=0;a.t1=0;a.t1=.01*randint(100);a.t2=.01*randint(100);",frame_eqs_str:"a.ang=a.q1*(.303+.01*a.t1);a.r=Math.min(1,Math.max(0,.1*Math.sin(.417*a.time+1)));a.g=Math.min(1,Math.max(0,.1*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,.1*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.02*Math.sin(.657*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.02*Math.sin(.737*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.02*Math.sin(.884*a.time+6)));a.additive=.5+.15*(a.bass+a.bass_att);"},{baseVals:{enabled:1,sides:100,additive:1,textured:1,x:.37,rad:.89796,ang:3.64425,g:1,b:1,a:.5,g2:0,a2:1,border_a:0},init_eqs_str:"a.q1=0;a.t1=0;a.t1=.01*randint(100);a.t2=.01*randint(100);",frame_eqs_str:"a.x+=.07*Math.sin(.15*a.q1+3);a.y+=.03*Math.sin(.19*a.q1+1);a.tex_ang=a.q1*(.01+.0001*a.t1);a.r=Math.min(1,Math.max(0,a.r+.01*Math.sin(.0417*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.01*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.01*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.01*Math.sin(.457*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.01*Math.sin(.0437*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.01*Math.sin(.484*a.time+6)));"},{baseVals:{enabled:1,sides:100,additive:1,textured:1,x:.67,y:.43,rad:.51386,ang:4.20974,g:1,b:1,g2:0,a2:1,border_a:0},init_eqs_str:"a.q1=0;a.t1=0;a.t2=0;a.t1=.01*randint(100);a.t2=.01*randint(100);",frame_eqs_str:"a.x+=.05*Math.sin(.017*a.q1);a.y+=.09*Math.sin(.013*a.q1);a.tex_ang=a.q1*(.02+.0001*a.t1);a.rad*=.9+.2*a.t2;a.r=Math.min(1,Math.max(0,a.r+.01*Math.sin(.417*a.time+1)));a.g=Math.min(1,Math.max(0,a.g+.01*Math.sin(.391*a.time+2)));a.b=Math.min(1,Math.max(0,a.b+.01*Math.sin(.432*a.time+4)));a.r2=Math.min(1,Math.max(0,a.r2+.01*Math.sin(.457*a.time+3)));a.g2=Math.min(1,Math.max(0,a.g2+.01*Math.sin(.437*a.time+5)));a.b2=Math.min(1,Math.max(0,a.b2+.01*Math.sin(.484*a.time+6)));"},{baseVals:{enabled:1,sides:100,additive:1,textured:1,rad:.22298,r:.6,g:.8,b:1,g2:0,a2:1,border_a:0},init_eqs_str:"a.q1=0;",frame_eqs_str:"a.x+=.08*Math.sin(.25*a.q1);a.y+=.1*Math.sin(.5*a.q1+2);a.ang=a.time;"}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.movement=0;a.q1=0;",frame_eqs_str:"a.movement=a.movement+.1*Math.max(0,a.bass+a.bass_att-2)+.15*pow(a.bass,3)+.005;a.q1=a.movement;a.monitor=a.q1;",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec3 ret_1;
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv);
  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - 
    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)
  ) * 0.5));
  ret_1 = (ret_1 * 0.9);
  ret_1 = (ret_1 + ((
    ((texture (sampler_noise_lq, ((
      (uv_orig * texsize.xy)
     * 
      (texsize_noise_lq.zw * 0.4)
    ) + rand_frame.xy)).xyz - 0.5) / 256.0)
   * 12.0) * clamp (
    (treb_att - 1.0)
  , 0.0, 1.0)));
  vec3 tmpvar_3;
  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.08, 0.08, 0.08));
  ret_1 = tmpvar_3;
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = tmpvar_3;
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec2 uv3_2;
  vec2 uv2_3;
  uv_1 = (uv - 0.5);
  uv_1 = (uv_1 * aspect.xy);
  uv2_3.x = ((uv_1.x * -0.497265) - (uv_1.y * 0.8675987));
  uv2_3.y = ((uv_1.x * 0.8675987) + (uv_1.y * -0.497265));
  uv3_2.x = ((uv_1.x * -0.5000263) - (uv_1.y * -0.8660102));
  uv3_2.y = ((uv_1.x * -0.8660102) + (uv_1.y * -0.5000263));
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = max (max (texture (sampler_main, (uv_1 + 0.5)).xyz, texture (sampler_main, (uv2_3 + 0.5)).xyz), texture (sampler_main, (uv3_2 + 0.5)).xyz);
  ret = tmpvar_4.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.49,decay:.5,echo_zoom:1.002,echo_alpha:.5,echo_orient:1,wave_mode:7,additivewave:1,modwavealphabyvolume:1,wave_brighten:0,wave_a:.001,wave_scale:1.157,wave_smoothing:.63,modwavealphastart:.71,modwavealphaend:1.3,warpscale:16.016,zoomexp:11.56276,fshader:1,zoom:1.05971,warp:.13126,wave_r:.65,wave_g:.65,wave_b:.65,ob_size:0,ob_a:1,ib_size:0,mv_x:64,mv_y:48,mv_l:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:14,num_inst:512,rad:.1026,tex_ang:.62832,r2:1,g2:0,a2:1,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;",frame_eqs_str:`a.ma+=3.1415*above(a.bass,1)*.01*a.bass;a.ma-=3.1415*above(a.treb,1)*.01*a.treb;a.mx+=.0002*Math.cos(a.ma);a.my+=.0002*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,30);a.a=above(a.bass+a.mid+a.treb,.8);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),
100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);`},{baseVals:{enabled:1,sides:23,num_inst:1024,rad:.10262,ang:.43982,tex_ang:.62832,a:.5,r2:1,g2:0,a2:.5,border_a:0},init_eqs_str:"a.ma=0;a.mx=0;a.my=0;a.r_border=0;a.g_border=0;a.b_border=0;",frame_eqs_str:`a.ma+=3.1415*above(a.bass,1)*.05*a.bass;a.ma-=3.1415*above(a.mid,1)*.05*a.mid;a.mx+=.0001*Math.cos(a.ma);a.my+=.0001*Math.sin(a.ma);a.mx=.00001<Math.abs(above(a.mx,.9))?.9-a.mx:a.mx;a.my=.00001<Math.abs(above(a.my,.9))?.9-a.my:a.my;a.mx=.00001<Math.abs(below(a.mx,.1))?.9+a.mx:a.mx;a.my=.00001<Math.abs(below(a.my,.1))?.9+a.my:a.my;a.x=a.mx;a.y=a.my;a.rad=div(a.bass+a.treb,25);a.a=above(a.bass+a.mid+a.treb,.1);a.r=div(Math.floor(randint(100)),100);a.g=div(Math.floor(randint(100)),
100);a.b=div(Math.floor(randint(100)),100);a.r2=div(Math.floor(randint(100)),100);a.g2=div(Math.floor(randint(100)),100);a.b2=div(Math.floor(randint(100)),100);a.r_border=div(Math.floor(randint(100)),100);a.g_border=div(Math.floor(randint(100)),100);a.b_border=div(Math.floor(randint(100)),100);`},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.y3=0;a.y1=0;a.xx=0;a.q12=0;a.x1=0;a.vx3=0;a.q6=0;a.dt=0;a.q1=0;a.q5=0;a.q9=0;a.d1=0;a.si1=0;a.vx4=0;a.grav=0;a.x3=0;a.d2=0;a.q11=0;a.q10=0;a.xx2=0;a.q4=0;a.yy1=0;a.vy4=0;a.dir=0;a.bounce=0;a.x4=0;a.r=0;a.x2=0;a.vy2=0;a.y2=0;a.q2=0;a.m1=0;a.spring=0;a.si2=0;a.vx2=0;a.q3=0;a.resist=0;a.yy=0;a.y4=0;a.q7=0;a.vy3=0;a.xx1=0;a.b1=0;a.q8=0;",frame_eqs_str:`a.xx1=.9*a.xx1+.01*a.bass;a.xx2=.9*a.xx2+.01*a.treb;a.yy1=.94*a.yy1+.0075*(a.treb+a.bass);a.x1=.5+2*(a.xx1-a.xx2);a.y1=.4+a.yy1;a.x1=Math.max(0,Math.min(1,a.x1));a.y1=Math.max(0,Math.min(1,a.y1));a.spring=10;a.grav=.5;a.resist=1;a.bounce=.75;a.dt=.0005*div(60,a.fps);a.vx2=a.vx2*(1-a.resist*a.dt)+a.dt*(a.x1+a.x3-2*a.x2)*a.spring;a.vy2=a.vy2*(1-a.resist*a.dt)+a.dt*((a.y1+a.y3-2*a.y2)*a.spring-a.grav);a.vx3=a.vx3*(1-a.resist*a.dt)+a.dt*(a.x2+a.x4-2*a.x3)*a.spring;a.vy3=a.vy3*(1-
a.resist*a.dt)+a.dt*((a.y2+a.y4-2*a.y3)*a.spring-a.grav);a.vx4=a.vx4*(1-a.resist*a.dt)+a.dt*(a.x3-a.x4)*a.spring;a.vy4=a.vy4*(1-a.resist*a.dt)+a.dt*((a.y3-a.y4)*a.spring-a.grav);a.x2+=a.vx2;a.y2+=a.vy2;a.x3+=a.vx3;a.y3+=a.vy3;a.x4+=a.vx4;a.y4+=a.vy4;a.vx2=.00001<Math.abs(above(a.x2,0))?a.vx2:Math.abs(a.vx2)*a.bounce;a.vx2=.00001<Math.abs(below(a.x2,1))?a.vx2:-Math.abs(a.vx2)*a.bounce;a.vx3=.00001<Math.abs(above(a.x3,0))?a.vx3:Math.abs(a.vx3)*a.bounce;a.vx3=.00001<Math.abs(below(a.x3,1))?a.vx3:-Math.abs(a.vx3)*
a.bounce;a.vx4=.00001<Math.abs(above(a.x4,0))?a.vx4:Math.abs(a.vx4)*a.bounce;a.vx4=.00001<Math.abs(below(a.x4,1))?a.vx4:-Math.abs(a.vx4)*a.bounce;a.vy2=.00001<Math.abs(above(a.y2,0))?a.vy2:Math.abs(a.vy2)*a.bounce;a.vy2=.00001<Math.abs(below(a.y2,1))?a.vy2:-Math.abs(a.vy2)*a.bounce;a.vy3=.00001<Math.abs(above(a.y3,0))?a.vy3:Math.abs(a.vy3)*a.bounce;a.vy3=.00001<Math.abs(below(a.y3,1))?a.vy3:-Math.abs(a.vy3)*a.bounce;a.vy4=.00001<Math.abs(above(a.y4,0))?a.vy4:Math.abs(a.vy4)*a.bounce;a.vy4=.00001<
Math.abs(below(a.y4,1))?a.vy4:-Math.abs(a.vy4)*a.bounce;a.q1=a.x1;a.q2=a.x2;a.q3=a.x3;a.q4=a.x4;a.q5=a.y1;a.q6=a.y2;a.q7=a.y3;a.q8=a.y4;a.q9=div(1,a.aspectx);a.q10=div(1,a.aspecty);a.zoom=1;a.r=.96*a.r+(a.x1-.5);a.rot=.1*a.r;a.q12=Math.atan2(a.vx4,a.vy4);a.q11=sqrt(a.vx4*a.vx4+a.vy4*a.vy4);a.zoom=1.001;a.rot=0;a.warp=.2;a.wave_a=0;`,pixel_eqs_str:`a.dir=-a.q12+Math.asin(1);a.b1=.1;a.m1=25*a.q11;a.xx=a.q4;a.yy=1-a.q8;a.x1=a.xx-Math.sin(a.dir)*a.b1;a.y1=a.yy-Math.cos(a.dir)*a.b1;a.x2=a.xx+Math.sin(a.dir)*a.b1;a.y2=a.yy+Math.cos(a.dir)*a.b1;a.d1=sqrt((a.x1-a.x)*(a.x1-a.x)+(a.y1-a.y)*(a.y1-a.y))-2*a.b1;a.d2=sqrt((a.x2-a.x)*(a.x2-a.x)+(a.y2-a.y)*(a.y2-a.y))-2*a.b1;a.si1=sigmoid(-a.d1,1E3);a.si2=sigmoid(-a.d2,1E3);a.dx=2*(a.si1*Math.sin(a.y1-a.y)*a.m1*a.d1-a.si2*Math.sin(a.y2-a.y)*a.m1*a.d2);a.dy=2*(-a.si1*Math.sin(a.x1-a.x)*
a.m1*a.d1+a.si2*Math.sin(a.x2-a.x)*a.m1*a.d2);`,warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 3.0);
  vec2 tmpvar_3;
  tmpvar_3.x = dot (((
    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)
   + bias1) - (
    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)
   + bias1)), vec3(0.32, 0.49, 0.29));
  tmpvar_3.y = dot (((
    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)
   + bias1) - (
    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)
   + bias1)), vec3(0.32, 0.49, 0.29));
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (
    (tmpvar_3 * texsize.zw)
   * 9.0))) - 0.01).xyz;
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec3 ret3_2;
  vec3 ret_3;
  vec2 tmpvar_4;
  tmpvar_4 = (((uv - 0.5) * vec2(-1.0, 1.0)) + 0.5);
  vec3 tmpvar_5;
  tmpvar_5 = abs(((texture (sampler_main, uv).xyz * 
    clamp ((((
      (texture (sampler_blur2, uv).xyz * scale2)
     + bias2) * 2.8) - 0.13), 0.0, 1.0)
  ) - (texture (sampler_main, tmpvar_4).xyz * 
    clamp ((((
      (texture (sampler_blur2, tmpvar_4).xyz * scale2)
     + bias2) * 2.8) - 0.13), 0.0, 1.0)
  )));
  ret3_2 = (tmpvar_5 * sqrt(tmpvar_5));
  ret3_2 = (ret3_2 * vec3(0.9, 1.6, 2.3));
  ret3_2 = (ret3_2 * 3.0);
  vec3 tmpvar_6;
  tmpvar_6 = pow (ret3_2, (1.0 - ret3_2));
  ret3_2 = tmpvar_6;
  uv_1 = (uv * 2.0);
  vec2 tmpvar_7;
  tmpvar_7 = floor((fract(
    (uv_1 * 0.5)
  ) * 2.0));
  uv_1 = ((fract(uv_1) * (1.0 - tmpvar_7)) + (tmpvar_7 * fract(
    (1.0 - uv_1)
  )));
  vec2 tmpvar_8;
  tmpvar_8.x = rad;
  tmpvar_8.y = uv_1.y;
  uv_1 = tmpvar_8;
  vec2 tmpvar_9;
  tmpvar_9 = ((0.5 - tmpvar_8.yx) + 0.5);
  ret_3 = (texture (sampler_main, tmpvar_8.yx).xyz * clamp ((
    (((texture (sampler_blur2, tmpvar_8.yx).xyz * scale2) + bias2) * 2.8)
   - 0.13), 0.0, 1.0));
  vec3 tmpvar_10;
  tmpvar_10 = mix (ret_3, (texture (sampler_main, tmpvar_9).xyz * clamp (
    ((((texture (sampler_blur2, tmpvar_9).xyz * scale2) + bias2) * 2.8) - 0.13)
  , 0.0, 1.0)), vec3(0.5, 0.5, 0.5));
  ret_3 = (tmpvar_10 * tmpvar_10);
  ret_3 = (ret_3 * vec3(0.9, 1.6, 2.3));
  ret_3 = (ret_3 * 3.0);
  ret_3 = (max (tmpvar_6, (0.8 * vec3(
    (0.5 * dot (ret_3, vec3(0.32, 0.49, 0.29)))
  ))) - (roam_sin.xyz * roam_cos.zxy));
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = ret_3;
  ret = tmpvar_11.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:0,gammaadj:1.35,decay:1,echo_zoom:2.144269,echo_alpha:.31,echo_orient:3,wave_mode:7,wave_brighten:0,wrap:0,wave_a:4.1,wave_scale:5.552,wave_smoothing:.504,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoom:.999514,cx:-1,warp:.72142,sy:.980296,wave_g:0,wave_b:0,ob_size:.5,ob_r:1,ib_size:.5,ib_r:1,ib_g:0,ib_b:0,mv_x:64,mv_y:48,mv_l:.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:1,sides:5,textured:1,rad:.98608,tex_ang:3.14159,tex_zoom:.999794,g:1,b:1,r2:1,b2:1,a2:1,border_a:0},init_eqs_str:"",frame_eqs_str:"a.ang=Math.sin(div(a.time,65));"},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.bl=0;a.tic=0;a.swi=0;a.q6=0;a.it=0;a.q1=0;a.q5=0;a.bvb=0;a.itar=0;a.mid_avg=0;a.tin=0;a.bass_avg=0;a.vav=0;a.rate=0;a.bd=0;a.q4=0;a.cha=0;a.ra=0;a.treb_avg=0;a.ul=0;a.db=0;a.gv=0;a.q2=0;a.iter=0;a.q3=0;a.vm=0;a.cma=0;a.cm=0;a.rb=0;",frame_eqs_str:`a.bl=3.8;a.ul=7.9;a.rate=11.9;a.cha=.01;a.gv=.00001<Math.abs(above(a.gv,a.bl))?.00001<Math.abs(below(a.gv,a.ul))?.00001<Math.abs(above(a.fps,a.rate))?a.gv+a.cha:a.gv-a.cha:a.ul-.1:a.bl+.1;a.monitor=a.gv;a.wave_a=0;a.tic=Math.min(a.time-a.tin,1);a.tin=a.time;a.ra=10;a.treb_avg=a.tic*(a.treb_avg*(div(1,a.tic)-a.ra)+a.ra*a.treb);a.mid_avg=a.tic*(a.mid_avg*(div(1,a.tic)-a.ra)+a.ra*a.mid);a.bass_avg=a.tic*(a.bass_avg*(div(1,a.tic)-a.ra)+a.ra*a.bass);a.rb=1;a.vav=a.tic*(a.vav*(div(1,
a.tic)-a.rb)+a.rb*(a.bass+a.treb+a.mid)*.33333);a.q1=a.treb_avg;a.q2=a.mid_avg;a.q3=a.bass_avg;a.db=a.bass-a.bass_avg;a.it=(a.it+a.tic)*below(a.it,1);a.rb=.5*div(1,a.tic);a.bvb=a.tic*(a.bass*a.rb+(div(1,a.tic)-a.rb)*a.bvb);a.bd=a.bass-a.bvb;a.vm=a.vm-a.tic+a.swi;a.swi=above(a.bd-a.vm,0);a.q4=1-a.swi;a.cm=.00001<Math.abs(above(a.iter,30)+equal(a.time,0))?randint(3)+1:a.cm;a.iter=(a.iter+a.tic)*(1-above(a.iter,30));a.q5=.00001<Math.abs(equal(a.cm,0))?3:a.cm;a.cma=.00001<Math.abs(above(a.itar,5)+equal(a.time,
0))?Math.floor(5*a.vav):a.cma;a.itar=(a.itar+a.tic)*(1-above(a.itar,5));a.q6=Math.floor(5*a.vav);a.decay=.97;a.zoom=1.01;a.sx=1;a.sy=1;`,pixel_eqs_str:"a.warp=a.bass;",warp:` shader_body { 
  vec3 ret_1;
  ret_1 = ((texture (sampler_main, uv_orig).xyz * vec3(0.97, 1.0, 0.97)) - vec3(0.03, 0.0, 0.03));
  vec4 tmpvar_2;
  tmpvar_2 = texture (sampler_blur1, uv_orig);
  ret_1.z = (ret_1.z + ((
    (tmpvar_2.xyz * scale1)
   + bias1).z * 0.45));
  ret_1.x = (ret_1.x + ((
    ((tmpvar_2.xyz * scale1) + bias1)
  .z * 0.05) + (
    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)
  .z * 0.05)));
  ret_1.z = (ret_1.z - ret_1.x);
  ret_1.y = clamp (texture (sampler_pw_main, uv_orig).y, 0.0, 1.0);
  ret_1 = (ret_1 * 0.98);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ret_1;
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec3 ret_1;
  vec3 tmpvar_2;
  tmpvar_2.z = 0.0;
  tmpvar_2.xy = texsize.zw;
  vec3 tmpvar_3;
  tmpvar_3 = (tmpvar_2 * 2.5);
  ret_1 = (texture (sampler_main, uv).xyz * 0.5);
  ret_1 = (ret_1 + (vec3(3.4, 2.38, 1.02) * (
    dot (((texture (sampler_blur1, (uv + tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))
   - 
    dot (((texture (sampler_blur1, (uv - tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))
  )));
  ret_1 = (ret_1 + (vec3(0.68, 1.7, 2.38) * (
    dot (((texture (sampler_blur1, (uv + tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))
   - 
    dot (((texture (sampler_blur1, (uv - tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))
  )));
  ret_1 = (ret_1 * 1.5);
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = ret_1;
  ret = tmpvar_4.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:2.05,decay:.99,echo_zoom:1.008,echo_alpha:.5,echo_orient:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.625,wave_scale:1.187,wave_smoothing:0,modwavealphastart:.71,modwavealphaend:1.3,warpanimspeed:1.459,warpscale:2.007,fshader:.19,zoom:.9999,warp:.01,sx:.9999,wave_r:.5,wave_g:.5,wave_b:.5,ob_r:1,ob_g:1,ob_b:1,ib_size:.26,mv_x:64,mv_y:48,mv_l:.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:.5},shapes:[{baseVals:{enabled:1,sides:9,thickoutline:1,textured:1,rad:.12566,ang:3.39292,tex_ang:.3768,tex_zoom:.32473,g:1,b:1,r2:1,b2:1,a2:1,border_r:.03,border_g:.67,border_b:.79,border_a:1},init_eqs_str:"a.q1=0;a.q2=0;a.q3=0;",frame_eqs_str:"a.x+=.13*Math.sin(.9*a.time);a.y+=.16*Math.sin(.5*a.time);a.border_r=a.q1;a.border_b=a.q2;a.border_g=a.q3;"},{baseVals:{enabled:1,sides:3,thickoutline:1,rad:.12572,a2:1,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.q1=0;a.q2=0;a.q3=0;",frame_eqs_str:`a.rad=a.rad-.2+.2*a.bass_att;a.r=a.r+.25*Math.sin(1.1*a.time)+.2*Math.sin(.25*a.time);a.g=a.g+.25*Math.cos(1.5*a.time)+.22*Math.cos(.24*a.time);a.b=a.b+.25*Math.sin(.6*a.time)+.27*Math.cos(.7*a.time);a.r2=1-Math.abs(a.r);a.g2=1-Math.abs(a.g);a.b2=1-Math.abs(a.b);a.ang+=3*Math.abs(Math.tan(1*a.time));a.x=a.x+.14*Math.cos(a.time)+.2*Math.sin(.42*a.time);a.y=a.y+.16*Math.sin(1.2*a.time)+.15*Math.sin(.8*a.time)+.21*Math.cos(.45*a.time);a.border_r=a.q1;a.border_b=a.q2;a.border_g=
a.q3;`},{baseVals:{enabled:1,ang:.03,r:.21,g:.44,b:.23,r2:.18,b2:.11,a2:1,border_r:.15,border_g:.4,border_b:.48,border_a:1},init_eqs_str:"a.q1=0;a.q2=0;a.q3=0;",frame_eqs_str:"a.ang=2.4*a.time;a.x=.5+.22*Math.cos(3.3*a.time)+.14*Math.cos(1.2*a.time);a.y=.5+.26*Math.sin(3.1*a.time)+.13*Math.sin(1.7*a.time);a.r=.5+.5*Math.sin(1.013*a.time+5);a.g=.5+.5*Math.sin(1.063*a.time+2);a.b=.5+.5*Math.sin(1.054*a.time+1);a.r2=.5+.5*Math.sin(1.085*a.time+3);a.g2=.5+.5*Math.sin(1.056*a.time+1);a.b2=.5+.5*Math.sin(1.038*a.time+4);a.border_r=a.q1;a.border_b=a.q2;a.border_g=a.q3;"},{baseVals:{enabled:1,sides:5,x:.51,y:.49,rad:.09986,ang:.06283,a2:1,border_r:.46,border_g:.28,border_b:.54,border_a:1},init_eqs_str:"a.q4=0;a.q1=0;a.q2=0;a.q3=0;",frame_eqs_str:"a.x=.5+.07*Math.cos(.5*a.q4)+.31*Math.sin(3.5*a.time);a.y=.5+.07*Math.sin(.5*a.q4)+.31*Math.cos(3.5*a.time);a.r=.5+.5*Math.sin(1.013*a.time+2);a.g=.5+.5*Math.sin(.863*a.time+3);a.b=.5+.5*Math.sin(1.054*a.time+1);a.r2=.5+.5*Math.sin(1.185*a.time+3);a.g2=.5+.5*Math.sin(1.356*a.time+2);a.b2=.5+.5*Math.sin(.738*a.time+4);a.border_r=a.q1;a.border_b=a.q2;a.border_g=a.q3;"}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.index2=0;a.xk=0;a.kiss=0;a.sw=0;a.yk=0;a.index=0;a.q22=0;a.q21=0;a.q29=0;a.q6=0;a.dt=0;a.y0=0;a.q1=0;a.dec_med=0;a.q5=0;a.index3=0;a.q9=0;a.x0=0;a.ax=0;a.rott=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.vx=0;a.dec_slow=0;a.q10=0;a.vy=0;a.q4=0;a.k2=0;a.q26=0;a.ay=0;a.p2=0;a.avg=0;a.beat=0;a.vol=0;a.p1=0;a.peak=0;a.q2=0;a.q27=0;a.q3=0;a.t0=0;a.m=0;a.q7=0;a.q28=0;a.v2=0;a.q20=0;a.q8=0;a.vol=0;a.p1=0;a.vx=.2;a.vy=-.1;a.kx=0;a.ky=0;",frame_eqs_str:`a.dec_med=pow(.96,div(30,a.fps));a.dec_slow=pow(.999,div(30,a.fps));a.beat=Math.max(Math.max(a.bass,a.mid),a.treb);a.avg=a.avg*a.dec_slow+a.beat*(1-a.dec_slow);a.is_beat=above(a.beat,.5+a.avg+a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.beat+(1-a.is_beat)*a.peak*a.dec_med;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),2);a.index3=mod(a.index3+a.is_beat*bnot(a.index)*bnot(a.index2),2);a.q20=a.avg;a.q21=
a.beat;a.q22=a.peak;a.q23=a.index;a.q24=a.is_beat;a.vol=a.bass_att+a.treb_att;a.v2=a.v2*a.dec_med+a.vol*(1-a.dec_med);a.q26=Math.max(Math.atan(a.vol-a.v2),0);a.q27=a.index+1;a.sw=a.sw*a.dec_med+(1-a.dec_med)*mod(a.index2,2);a.q28=a.sw;a.kiss=a.kiss*a.dec_med+(1-a.dec_med)*bnot(a.index2)*below(a.index,4);a.q29=a.kiss;a.k1=a.is_beat*bnot(a.index);a.k2=a.is_beat*bnot(a.index);a.p1=a.k1*(a.p1+1)+(1-a.k1)*a.p1;a.p2=a.dec_med*a.p2+(1-a.dec_med)*a.p1;a.rott=div(3.1416*a.p2,2);a.monitor=a.k1;a.q1=Math.cos(a.rott);
a.q2=Math.sin(a.rott);a.q3=-a.q2;a.q4=a.q1;a.q5=Math.cos(div(a.time,4));a.q6=-Math.sin(div(a.time,4));a.q7=-a.q6;a.q8=a.q5;a.zoom=1;a.rot=-0;a.dt=div(3,a.fps);a.m=1;a.x0=0;a.y0=0;a.ax=div(-(a.xk-a.x0),a.m)+div(sign(a.vx+.001)*a.dt*a.bass,40);a.ay=div(-(a.yk-a.y0),a.m)+div(sign(a.vy+.001)*a.dt*a.treb,40);a.monitor=a.index3;a.vx=a.vx*a.dec_slow+a.ax*a.dt;a.vy=a.vy*a.dec_slow+a.ay*a.dt;a.xk+=a.vx*a.dt;a.yk+=a.vy*a.dt;a.q9=a.xk;a.q10=a.yk;`,pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = ((uv * texsize.xy) * 0.08);
  vec3 tmpvar_2;
  tmpvar_2 = (texture (sampler_main, (uv - (
    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)
   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, 
    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)
  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = ((mix (tmpvar_2, 
    (1.0 - tmpvar_2.zyx)
  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (
    (1.0 - rad)
  , 18.0)));
  ret = tmpvar_3.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec2 tmpvar_2;
  tmpvar_2.x = cos(((uv.y * texsize.y) / 2.0));
  tmpvar_2.y = sin(((uv.x * texsize.x) / 2.0));
  uv_1 = (uv + ((2.0 * texsize.zw) * tmpvar_2));
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = (1.4 * pow ((
    clamp (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1), 0.0, 1.0)
   * 
    (texture (sampler_pc_main, uv_1).xyz - ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3))
  ), vec3(0.5, 0.5, 0.5)));
  ret = tmpvar_3.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:4,gammaadj:1.98,echo_zoom:2.448,echo_alpha:.5,wave_thick:1,wrap:0,wave_a:3.645,wave_scale:1.951,wave_smoothing:.5,wave_mystery:-.5,warpscale:2.853,zoomexp:2.1,zoom:1.025,warp:1.29077,wave_g:0,wave_b:0,ob_size:0,ob_a:1,ib_size:0,ib_r:0,ib_g:0,ib_b:0,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:100,rad:.13518,g2:0,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.q8=0;",frame_eqs_str:"a.x=.3+.05*Math.sin(.89*a.q8);a.y=.4-.05*Math.cos(.77*a.q8);a.r=.25+.25*Math.sin(.7679*a.time);a.g=.25+.25*Math.sin(.8079*a.time);a.b=.25+.25*Math.sin(.7339*a.time);a.r2=.25+.25*Math.sin(.6979*a.time);a.g2=.25+.25*Math.sin(.849*a.time);a.b2=.25+.25*Math.sin(.8079*a.time);"},{baseVals:{enabled:1,sides:100,rad:.06623,g2:0,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.q8=0;",frame_eqs_str:"a.x=.3-.05*Math.sin(.7089*a.q8);a.y=.4+.05*Math.cos(.5077*a.q8);a.r=.25+.25*Math.sin(.6479*a.time);a.g=.25+.25*Math.sin(.5079*a.time);a.b=.25+.25*Math.sin(.9339*a.time);a.r2=.25+.25*Math.sin(.779*a.time);a.g2=.25+.25*Math.sin(.707*a.time);a.b2=.25+.25*Math.sin(.747*a.time);"},{baseVals:{enabled:1,sides:100,rad:.03646,g2:0,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.q8=0;",frame_eqs_str:"a.x=.3+.05*Math.sin(.679*a.q8);a.y=.4-.05*Math.cos(.877*a.q8);a.r=.25+.25*Math.sin(.5679*a.time);a.g=.25+.25*Math.sin(.4079*a.time);a.b=.25+.25*Math.sin(1.1339*a.time);a.r2=.25+.25*Math.sin(.9979*a.time);a.g2=.25+.25*Math.sin(.891*a.time);a.b2=.25+.25*Math.sin(.713*a.time);"},{baseVals:{enabled:1,sides:100,rad:.0122,g2:0,a2:1,border_r:0,border_g:0,border_b:0,border_a:1},init_eqs_str:"a.q8=0;",frame_eqs_str:"a.x=.3+.05*Math.sin(.916*a.q8);a.y=.4-.05*Math.cos(.977*a.q8);a.r=.25+.25*Math.sin(1.1679*a.time);a.g=.25+.25*Math.sin(1.18079*a.time);a.b=.25+.25*Math.sin(1.17339*a.time);a.r2=.25+.25*Math.sin(1.16979*a.time);a.g2=.25+.25*Math.sin(1.1849*a.time);a.b2=.25+.25*Math.sin(1.81079*a.time);"}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.myrad=0;a.q25=0;a.q12=0;a.q18=0;a.q22=0;a.q21=0;a.vt=0;a.q13=0;a.q15=0;a.q29=0;a.q6=0;a.q1=0;a.myx=0;a.q5=0;a.vb=0;a.q9=0;a.myy=0;a.oldq8=0;a.q31=0;a.q23=0;a.q24=0;a.q11=0;a.q10=0;a.q4=0;a.q16=0;a.mybass=0;a.q26=0;a.rd=0;a.q19=0;a.q17=0;a.q2=0;a.q27=0;a.q14=0;a.q3=0;a.vvm=0;a.q32=0;a.vvb=0;a.q7=0;a.q28=0;a.vm=0;a.q30=0;a.q20=0;a.vvt=0;a.q8=0;",frame_eqs_str:`a.vb=.95*a.vb+(1-a.vb)*pow(a.bass_att,2)*.02;a.vvb=.95*a.vvb+(1-a.vvb)*a.vb*.01;a.vm=.95*a.vm+(1-a.vm)*pow(a.mid_att,2)*.02;a.vvm=.95*a.vvm+(1-a.vvm)*a.vm*.01;a.vt=.95*a.vt+(1-a.vt)*pow(a.treb_att,2)*.02;a.vvt=.95*a.vvt+(1-a.vvt)*a.vt*.01;a.vvb=Math.min(1,Math.max(0,a.vvb));a.vvm=Math.min(1,Math.max(0,a.vvm));a.vvt=Math.min(1,Math.max(0,a.vvt));a.q1=2*a.vvb;a.q2=2*a.vvm;a.q3=2*a.vvt;a.q4=5*(a.q1+a.q2+a.q3);a.q5=5*(a.q1+a.q2+a.q3);a.q6=5*(a.q1+a.q2+a.q3);a.q7=5*(a.q1+a.q2+a.q3);
a.q8=5*(a.q1+a.q2+a.q3);a.q9=5*(a.q1+a.q2+a.q3);a.q10=5*(a.q1+a.q2+a.q3);a.q11=5*(a.q1+a.q2+a.q3);a.q12=5*(a.q1+a.q2+a.q3);a.q13=5*(a.q1+a.q2+a.q3);a.q14=5*(a.q1+a.q2+a.q3);a.q15=5*(a.q1+a.q2+a.q3);a.q16=5*(a.q1+a.q2+a.q3);a.q17=5*(a.q1+a.q2+a.q3);a.q18=5*(a.q1+a.q2+a.q3);a.q19=5*(a.q1+a.q2+a.q3);a.q20=5*(a.q1+a.q2+a.q3);a.q21=5*(a.q1+a.q2+a.q3);a.q22=5*(a.q1+a.q2+a.q3);a.q23=5*(a.q1+a.q2+a.q3);a.q24=5*(a.q1+a.q2+a.q3);a.q25=5*(a.q1+a.q2+a.q3);a.q26=5*(a.q1+a.q2+a.q3);a.q27=5*(a.q1+a.q2+a.q3);a.q28=
5*(a.q1+a.q2+a.q3);a.q29=5*(a.q1+a.q2+a.q3);a.q30=5*(a.q1+a.q2+a.q3);a.q31=5*(a.q1+a.q2+a.q3);a.q32=5*(a.q1+a.q2+a.q3);a.warp=0;a.rot=0;a.cx=.5;a.cy=.5;a.q1=.5+.1*Math.sin(a.time);a.q2=.5-.1*Math.cos(a.time);a.wave_a=0;a.decay=.95;a.q1=.5+.1*Math.sin(a.q8);a.q2=.5;a.q8=a.oldq8+.003*div(pow(1+1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6),a.fps);a.oldq8=a.q8;a.mybass+=.01*(a.bass+a.bass_att);a.zoom=1.09;a.q1=.5+0*Math.sin(.12*a.q8);a.q2=.5-0*Math.cos(.177*a.q8);`,pixel_eqs_str:"a.myx=1.1*(a.x-a.q1);a.myy=1.1*(a.y-a.q2);a.myrad=a.myx*a.myx+a.myy*a.myy;a.dx=(.5+.02*Math.sin(a.q8))*div(a.myy,a.myrad+1);a.dy=-(.5+.02*Math.sin(.897*a.q8))*div(a.myx,a.myrad+1);a.rd=a.bass*a.rad;a.rot=div(a.rd,10);a.sy=1.02+div(a.rad,10);a.sx=a.sy-a.myrad;",warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = ((uv_orig - 0.5) * vec2(1.81, 1.81));
  vec2 tmpvar_2;
  tmpvar_2.x = ((tmpvar_1.x * tmpvar_1.x) - (tmpvar_1.y * tmpvar_1.y));
  tmpvar_2.y = ((2.0 * tmpvar_1.x) * tmpvar_1.y);
  vec4 tmpvar_3;
  tmpvar_3.w = 1.0;
  tmpvar_3.xyz = (texture (sampler_fc_main, (tmpvar_2 + vec2(0.448, 0.701))) - 0.004).xyz;
  ret = tmpvar_3.xyz;
 }`,comp:`vec3 xlat_mutableneu;
vec3 xlat_mutableret1;
 shader_body { 
  vec2 uv_1;
  float inten_2;
  float dist_3;
  vec2 uv2_4;
  uv_1 = (uv - 0.5);
  uv_1 = (uv_1 * aspect.xy);
  float tmpvar_5;
  tmpvar_5 = (time / 2.0);
  dist_3 = (1.0 - fract(tmpvar_5));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);
  vec2 tmpvar_6;
  tmpvar_6.x = q1;
  tmpvar_6.y = q2;
  vec2 tmpvar_7;
  tmpvar_7 = fract(((
    ((3.0 * uv_1) * dist_3)
   + 0.5) + (tmpvar_6 * 0.05)));
  xlat_mutableneu = (texture (sampler_main, tmpvar_7).xyz - ((texture (sampler_blur1, 
    (tmpvar_7 + 0.003)
  ).xyz * scale1) + bias1));
  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * inten_2));
  uv2_4.x = ((uv_1.x * -0.4990803) - (uv_1.y * 0.8665558));
  uv2_4.y = ((uv_1.x * 0.8665558) + (uv_1.y * -0.4990803));
  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);
  vec2 tmpvar_8;
  tmpvar_8.x = q1;
  tmpvar_8.y = q2;
  vec2 tmpvar_9;
  tmpvar_9 = fract(((
    ((3.0 * uv2_4) * dist_3)
   + 0.5) + (tmpvar_8 * 0.05)));
  xlat_mutableneu = (texture (sampler_main, tmpvar_9).xyz - ((texture (sampler_blur1, 
    (tmpvar_9 + 0.003)
  ).xyz * scale1) + bias1));
  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));
  uv2_4.x = ((uv_1.x * -0.5018377) - (uv_1.y * -0.8649619));
  uv2_4.y = ((uv_1.x * -0.8649619) + (uv_1.y * -0.5018377));
  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);
  vec2 tmpvar_10;
  tmpvar_10.x = q1;
  tmpvar_10.y = q2;
  vec2 tmpvar_11;
  tmpvar_11 = fract(((
    ((3.0 * uv2_4) * dist_3)
   + 0.5) + (tmpvar_10 * 0.05)));
  xlat_mutableneu = (texture (sampler_main, tmpvar_11).xyz - ((texture (sampler_blur1, 
    (tmpvar_11 + 0.003)
  ).xyz * scale1) + bias1));
  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));
  uv2_4.x = ((uv_1.x * 0.9999949) - (uv_1.y * -0.003185092));
  uv2_4.y = ((uv_1.x * -0.003185092) + (uv_1.y * 0.9999949));
  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));
  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);
  vec2 tmpvar_12;
  tmpvar_12.x = q1;
  tmpvar_12.y = q2;
  vec2 tmpvar_13;
  tmpvar_13 = fract(((
    ((3.0 * uv2_4) * dist_3)
   + 0.5) + (tmpvar_12 * 0.05)));
  xlat_mutableneu = (texture (sampler_main, tmpvar_13).xyz - ((texture (sampler_blur1, 
    (tmpvar_13 + 0.003)
  ).xyz * scale1) + bias1));
  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));
  vec4 tmpvar_14;
  tmpvar_14.w = 1.0;
  tmpvar_14.xyz = (xlat_mutableret1 * 4.0);
  ret = tmpvar_14.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:5,gammaadj:1,decay:1,echo_zoom:1,echo_orient:1,wave_thick:1,wave_brighten:0,wrap:0,brighten:1,wave_a:.401,wave_scale:3.177,wave_smoothing:0,wave_mystery:-.4,modwavealphastart:1,modwavealphaend:1,warpanimspeed:2.289,warpscale:5.472,zoomexp:.01,zoom:.9901,warp:1.8566,ob_size:.005,ob_a:1,ib_size:0,ib_r:1,ib_g:0,ib_b:0,ib_a:1,mv_x:64,mv_y:48,mv_l:0,mv_b:0,mv_a:0},shapes:[{baseVals:{enabled:1,sides:12,additive:1,num_inst:512,y:.55,rad:.034,tex_zoom:.7874,g:.45,g2:0,border_a:0},init_eqs_str:"a.my_z=0;a.d=0;a.y3=0;a.z2=0;a.y1=0;a.w=0;a.w2=0;a.t1=0;a.x1=0;a.rnd2=0;a.zoom=0;a.p=0;a.q1=0;a.q5=0;a.z3=0;a.w3=0;a.t3=0;a.my_x=0;a.x3=0;a.wv=0;a.my_y=0;a.q4=0;a.t=0;a.w1=0;a.i=0;a.x2=0;a.t2=0;a.l=0;a.y2=0;a.rnd4=0;a.wh=0;a.q2=0;a.z1=0;a.rnd3=0;a.rnd1=0;a.q3=0;a.t4=0;a.started=0;a.t1=.412;a.t2=.4563;a.t3=.6452;a.t4=.2565;",frame_eqs_str:`a.rnd1=.00001<Math.abs(equal(a.instance,0))?a.t1:a.rnd1;a.rnd2=.00001<Math.abs(equal(a.instance,0))?a.t2:a.rnd2;a.rnd3=.00001<Math.abs(equal(a.instance,0))?a.t3:a.rnd3;a.rnd4=.00001<Math.abs(equal(a.instance,0))?a.t4:a.rnd4;a.rnd1=4*a.rnd1*(1-a.rnd1);a.rnd2=4*a.rnd2*(1-a.rnd2);a.rnd3=4*a.rnd3*(1-a.rnd3);a.rnd4=4*a.rnd4*(1-a.rnd4);a.t=.6;a.t=a.rnd1+a.time*a.t-Math.floor(a.rnd1+a.time*a.t);a.t+=.1*a.rnd2;a.wh=a.rnd4*Math.asin(1)*4;a.wv=.25+.1*a.rnd3;a.d=1.4;a.zoom=1;a.l=1;a.w1=
a.q3;a.w2=a.q4;a.w3=a.q5;a.i=a.instance;a.my_x=a.t*Math.cos(a.wh)*Math.sin(a.wv)*a.l;a.my_y=(-.5+(a.t-.75)*(a.t-.75))*Math.cos(a.wv)*a.l;a.my_z=a.t*Math.sin(a.wh)*Math.sin(a.wv)*a.l;a.x1=Math.cos(a.w1)*a.my_x+Math.sin(a.w1)*a.my_y;a.y1=-Math.sin(a.w1)*a.my_x+Math.cos(a.w1)*a.my_y;a.z1=a.my_z;a.x2=Math.cos(a.w2)*a.x1+Math.sin(a.w2)*a.z1;a.z2=-Math.sin(a.w2)*a.x1+Math.cos(a.w2)*a.z1;a.y2=a.y1;a.y3=Math.cos(a.w3)*a.y2+Math.sin(a.w3)*a.z2;a.z3=-Math.sin(a.w3)*a.y2+Math.cos(a.w3)*a.z2;a.x3=a.x2;a.l=sqrt(a.x3*
a.x3+a.y3*a.y3);a.w=Math.atan2(a.x3,a.y3);a.p=Math.tan(Math.asin(1)+Math.atan2(a.d+a.z3,a.l));a.d=sqrt(a.x3*a.x3+a.y3*a.y3+(a.z3+a.d)*(a.z3+a.d));a.rad=div(a.rad,a.d);a.my_x=a.zoom*Math.sin(a.w)*a.p;a.my_y=a.zoom*Math.cos(a.w)*a.p;a.x=.5+a.my_x;a.y=.5+a.my_y;a.x=.5+div(a.x-.5,a.q2);a.y=.5+div(a.y-.5,a.q1);`},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.q1=0;a.q2=0;a.b=0;a.m=0;a.t=0;a.q3=0;a.q4=0;a.q5=0;",frame_eqs_str:"a.wave_a=0;a.q1=a.aspectx;a.q2=a.aspecty;a.b+=a.bass*a.bass*.85;a.m+=a.mid*a.mid*.85;a.t+=a.treb*a.treb*.85;a.q3=.012*a.b;a.q4=.012*a.m;a.q5=.012*a.t;",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 my_uv_1;
  vec3 ret_2;
  vec2 tmpvar_3;
  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);
  float tmpvar_4;
  vec2 tmpvar_5;
  tmpvar_5 = (uv + vec2(0.005, 0.0));
  vec2 tmpvar_6;
  tmpvar_6 = (uv - vec2(0.005, 0.0));
  tmpvar_4 = (((
    (texture (sampler_blur2, tmpvar_5).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_6).xyz * scale2)
   + bias2)).x * tmpvar_3.x);
  float tmpvar_7;
  vec2 tmpvar_8;
  tmpvar_8 = (uv + vec2(0.0, 0.005));
  vec2 tmpvar_9;
  tmpvar_9 = (uv - vec2(0.0, 0.005));
  tmpvar_7 = (((
    (texture (sampler_blur2, tmpvar_8).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_9).xyz * scale2)
   + bias2)).x * tmpvar_3.y);
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_4;
  tmpvar_10.y = tmpvar_7;
  vec2 tmpvar_11;
  tmpvar_11.x = (((
    (texture (sampler_blur2, tmpvar_5).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_6).xyz * scale2)
   + bias2)).x * tmpvar_3.x);
  tmpvar_11.y = (((
    (texture (sampler_blur2, tmpvar_8).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, tmpvar_9).xyz * scale2)
   + bias2)).x * tmpvar_3.y);
  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;
  vec4 tmpvar_12;
  tmpvar_12 = texture (sampler_blur3, uv);
  ret_2.x = (ret_2.x + ((ret_2.x - 
    ((tmpvar_12.xyz * scale3) + bias3)
  .x) * 0.1));
  ret_2.x = (ret_2.x + 0.004);
  vec2 tmpvar_13;
  tmpvar_13.x = tmpvar_7;
  tmpvar_13.y = -(tmpvar_4);
  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - 
    ((tmpvar_12.xyz * scale3) + bias3)
  .y)));
  ret_2.z = texture (sampler_fw_main, my_uv_1).z;
  vec2 x_14;
  x_14 = (my_uv_1 - uv);
  ret_2.z = (ret_2.z + ((
    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))
   * 180.0) / sqrt(
    dot (tmpvar_3, tmpvar_3)
  )));
  ret_2.z = (ret_2.z * 0.8);
  ret_2.z = (ret_2.z + 0.004);
  vec2 tmpvar_15;
  tmpvar_15.x = -(tmpvar_7);
  tmpvar_15.y = tmpvar_4;
  my_uv_1 = (tmpvar_15 * 0.045);
  vec2 tmpvar_16;
  tmpvar_16.x = (((
    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)
   + bias2)).y * tmpvar_3.x);
  tmpvar_16.y = (((
    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)
   + bias2) - (
    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)
   + bias2)).y * tmpvar_3.y);
  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));
  ret_2.y = texture (sampler_fw_main, my_uv_1).y;
  ret_2.y = (ret_2.y + ((
    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)
   * 0.1) + 0.01));
  vec4 tmpvar_17;
  tmpvar_17.w = 1.0;
  tmpvar_17.xyz = ret_2;
  ret = tmpvar_17.xyz;
 }`,comp:` shader_body { 
  vec2 uv1_1;
  vec3 tmpvar_2;
  tmpvar_2 = texture (sampler_main, uv).xyz;
  vec2 tmpvar_3;
  tmpvar_3.y = 0.0;
  tmpvar_3.x = texsize.z;
  vec2 tmpvar_4;
  tmpvar_4.x = 0.0;
  tmpvar_4.y = texsize.w;
  vec2 tmpvar_5;
  tmpvar_5.x = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;
  tmpvar_5.y = (texture (sampler_main, (uv - tmpvar_4)).xyz - texture (sampler_main, (uv + tmpvar_4)).xyz).x;
  uv1_1 = ((0.3 * cos(
    (((uv - 0.5) * 2.0) + 1.7)
  )) - (2.0 * tmpvar_5));
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ((-(tmpvar_2) / 4.0) + ((6.0 * vec3(
    clamp ((0.03 / sqrt(dot (uv1_1, uv1_1))), 0.0, 1.0)
  )) * (-0.08 + tmpvar_2)));
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:2,decay:.99,wave_brighten:0,wave_a:1,wave_scale:.01,wave_mystery:-.2,warpanimspeed:3.434,warpscale:1.295,zoom:1.025,warp:.11284,wave_r:0,wave_g:0,wave_b:0,ob_size:.005,ob_b:1,ob_a:1,mv_x:64,mv_y:48,mv_l:5,mv_g:0,mv_b:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.d=0;a.cx1=0;a.y3=0;a.y1=0;a.cy1=0;a.q25=0;a.q12=0;a.q18=0;a.x1=0;a.q22=0;a.q21=0;a.vt=0;a.q13=0;a.q15=0;a.q29=0;a.q6=0;a.q1=0;a.q5=0;a.vb=0;a.q9=0;a.x3=0;a.q31=0;a.q23=0;a.q24=0;a.q11=0;a.q10=0;a.q4=0;a.dir=0;a.q16=0;a.q26=0;a.x2=0;a.q19=0;a.q17=0;a.y2=0;a.q2=0;a.q27=0;a.q14=0;a.q3=0;a.vvm=0;a.q32=0;a.vvb=0;a.q7=0;a.q28=0;a.vm=0;a.q30=0;a.q20=0;a.vvt=0;a.q8=0;",frame_eqs_str:`a.vb=.95*a.vb+(1-a.vb)*pow(a.bass_att,2)*.02;a.vvb=.95*a.vvb+(1-a.vvb)*a.vb*.01;a.vm=.95*a.vm+(1-a.vm)*pow(a.mid_att,2)*.02;a.vvm=.95*a.vvm+(1-a.vvm)*a.vm*.01;a.vt=.95*a.vt+(1-a.vt)*pow(a.treb_att,2)*.02;a.vvt=.95*a.vvt+(1-a.vvt)*a.vt*.01;a.vvb=Math.min(1,Math.max(0,a.vvb));a.vvm=Math.min(1,Math.max(0,a.vvm));a.vvt=Math.min(1,Math.max(0,a.vvt));a.q1=10*(a.vvb+a.vvm+a.vvt);a.q2=10*(a.vvb+a.vvm+a.vvt);a.q3=10*(a.vvb+a.vvm+a.vvt);a.q4=10*(a.vvb+a.vvm+a.vvt);a.q5=10*(a.vvb+a.vvm+
a.vvt);a.q6=10*(a.vvb+a.vvm+a.vvt);a.q7=10*(a.vvb+a.vvm+a.vvt);a.q8=10*(a.vvb+a.vvm+a.vvt);a.q9=10*(a.vvb+a.vvm+a.vvt);a.q10=10*(a.vvb+a.vvm+a.vvt);a.q11=10*(a.vvb+a.vvm+a.vvt);a.q12=10*(a.vvb+a.vvm+a.vvt);a.q13=10*(a.vvb+a.vvm+a.vvt);a.q14=10*(a.vvb+a.vvm+a.vvt);a.q15=10*(a.vvb+a.vvm+a.vvt);a.q16=10*(a.vvb+a.vvm+a.vvt);a.q17=10*(a.vvb+a.vvm+a.vvt);a.q18=10*(a.vvb+a.vvm+a.vvt);a.q19=10*(a.vvb+a.vvm+a.vvt);a.q20=10*(a.vvb+a.vvm+a.vvt);a.q21=10*(a.vvb+a.vvm+a.vvt);a.q22=10*(a.vvb+a.vvm+a.vvt);a.q23=
10*(a.vvb+a.vvm+a.vvt);a.q24=10*(a.vvb+a.vvm+a.vvt);a.q25=10*(a.vvb+a.vvm+a.vvt);a.q26=10*(a.vvb+a.vvm+a.vvt);a.q27=10*(a.vvb+a.vvm+a.vvt);a.q28=10*(a.vvb+a.vvm+a.vvt);a.q29=10*(a.vvb+a.vvm+a.vvt);a.q30=10*(a.vvb+a.vvm+a.vvt);a.q31=10*(a.vvb+a.vvm+a.vvt);a.q32=10*(a.vvb+a.vvm+a.vvt);a.zoom=.995;a.wave_a=0;a.mv_g=.45+.3*Math.sin(1.33*a.time)+.25*Math.sin(a.treb);a.mv_r=.45+.3*Math.sin(1.13*a.time)+.0825*(a.bass+a.treb+a.mid);a.mv_b=.45+.3*Math.sin(1.23*a.time)+.25*Math.sin(a.bass);a.mv_dx=.1*Math.sin(.1*
a.time);a.mv_dy=.13*Math.cos(.084*a.time);a.mv_x=64-Math.floor(32*(Math.sin(1.5*a.time)+1));a.mv_y=48-Math.floor(22*(Math.cos(1.5*a.time)+1));a.monitor=a.mv_y;`,pixel_eqs_str:`a.cx1=.5+.2*Math.sin(.618*a.time);a.cy1=.5+.2*Math.cos(1.618*a.time);a.dir=a.bass;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.x1=.00001<Math.abs(above(a.d,.3))?0:.05*Math.sin(a.y-a.cy1)*a.dir;a.y1=.00001<Math.abs(above(a.d,.3))?0:.05*-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.3*Math.sin(2.618*a.time);a.cy1=.5+.3*Math.cos(3.14*a.time);a.dir=2*-a.mid;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.x2=.00001<Math.abs(above(a.d,.2))?0:.05*Math.sin(a.y-a.cy1)*
a.dir;a.y2=.00001<Math.abs(above(a.d,.2))?0:.05*-Math.sin(a.x-a.cx1)*a.dir;a.cx1=.5+.4*Math.sin(2.618*-a.time);a.cy1=.5+.4*Math.cos(1.14*-a.time);a.dir=3*a.treb;a.d=sqrt((a.x-a.cx1)*(a.x-a.cx1)+(a.y-a.cy1)*(a.y-a.cy1));a.x3=.00001<Math.abs(above(a.d,.1))?0:.05*Math.sin(a.y-a.cy1)*a.dir;a.y3=.00001<Math.abs(above(a.d,.1))?0:.05*-Math.sin(a.x-a.cx1)*a.dir;a.dx=a.dx+a.x1+a.x2+a.x3;a.dy=a.dy+a.y1+a.y2+a.y3;`,warp:` shader_body { 
  vec2 tmpvar_1;
  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));
  vec2 tmpvar_2;
  tmpvar_2 = (texsize.zw * 3.0);
  vec2 tmpvar_3;
  tmpvar_3.x = dot (((
    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)
   + bias1) - (
    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)
   + bias1)), vec3(0.32, 0.49, 0.29));
  tmpvar_3.y = dot (((
    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)
   + bias1) - (
    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)
   + bias1)), vec3(0.32, 0.49, 0.29));
  vec4 tmpvar_4;
  tmpvar_4.w = 1.0;
  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (
    (tmpvar_3 * texsize.zw)
   * 9.0))) - 0.01).xyz;
  ret = tmpvar_4.xyz;
 }`,comp:` shader_body { 
  vec2 uv_1;
  vec3 ret_2;
  uv_1 = (0.5 + ((uv - 0.5) * 0.98));
  vec2 tmpvar_3;
  tmpvar_3 = (texsize.zw * 4.0);
  vec3 tmpvar_4;
  tmpvar_4 = (((texture (sampler_blur1, 
    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_5;
  tmpvar_5 = (((texture (sampler_blur1, 
    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, 
    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))
  ).xyz * scale1) + bias1));
  vec3 tmpvar_6;
  tmpvar_6.z = 0.0;
  tmpvar_6.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));
  tmpvar_6.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));
  vec4 tmpvar_7;
  tmpvar_7 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (
    ((uv_1.xyy + (tmpvar_6 * 0.5)) * texsize.xyy)
   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));
  vec2 tmpvar_8;
  tmpvar_8.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));
  tmpvar_8.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));
  uv_1 = (uv_1 - (tmpvar_8 * 0.04));
  ret_2 = (abs((
    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))
   - 
    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)
  )) * (dot (tmpvar_7, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));
  vec3 tmpvar_9;
  tmpvar_9 = pow (ret_2, vec3(0.5, 0.5, 0.5));
  ret_2 = tmpvar_9;
  vec4 tmpvar_10;
  tmpvar_10.w = 1.0;
  tmpvar_10.xyz = tmpvar_9;
  ret = tmpvar_10.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,echo_zoom:1,wave_mode:1,wave_thick:1,wrap:0,invert:1,wave_scale:.5,wave_smoothing:.45,warpanimspeed:2.217,warpscale:100,zoomexp:100,zoom:1.01,warp:1.25946,wave_r:0,wave_g:0,wave_b:0,ob_r:1,ob_g:1,ob_b:1,ob_a:1,ib_r:1,ib_g:1,ib_b:1,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.q1=0;",frame_eqs_str:"a.q1=.0003*pow(1.2+1*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6);a.monitor=a.q1;a.wave_r+=.5*Math.sin(1.13*a.time);a.wave_g+=.5*Math.sin(1.23*a.time);a.wave_b+=.5*Math.sin(1.33*a.time);a.ob_r+=Math.sin(2.26*a.time);a.ob_g+=Math.sin(2.46*a.time);a.ob_b+=Math.sin(2.66*a.time);",pixel_eqs_str:"a.zoom+=.125*Math.sin(a.q1);a.rot+=div(.25*Math.sin(100*a.fps)*a.q1,2);a.zoom-=.05*Math.sin(a.rad);a.rot+=.05*Math.sin(5*a.fps);",warp:` shader_body { 
  vec3 ret_1;
  vec2 tmpvar_2;
  tmpvar_2 = fract(uv);
  vec2 tmpvar_3;
  tmpvar_3 = (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy);
  vec2 tmpvar_4;
  tmpvar_4 = (texsize.zw * 12.0);
  vec3 tmpvar_5;
  tmpvar_5 = (((2.0 * 
    ((texture (sampler_blur3, (uv_orig + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)
  ) - (2.0 * 
    ((texture (sampler_blur3, (uv_orig - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)
  )) * 0.5);
  vec3 tmpvar_6;
  tmpvar_6 = (((2.0 * 
    ((texture (sampler_blur3, (uv_orig + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)
  ) - (2.0 * 
    ((texture (sampler_blur3, (uv_orig - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)
  )) * 0.5);
  ret_1.x = ((texture (sampler_fc_main, tmpvar_2).x - (
    (((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3) - texture (sampler_fc_main, tmpvar_2).xyz)
  .x * 0.1)) - 0.035);
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_5.x;
  tmpvar_7.y = tmpvar_6.x;
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_5.y;
  tmpvar_8.y = tmpvar_6.y;
  ret_1.y = (((texture (sampler_fc_main, 
    (((uv_orig + (
      ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)
     * 4.0)) - ((tmpvar_7 * texsize.zw) * 4.0)) + ((tmpvar_8 * texsize.zw) * 8.0))
  ).y + 
    ((texture (sampler_noise_lq, tmpvar_3).xyz - 0.5) * 0.1)
  ) - 0.012) + (texture (sampler_pc_main, uv_orig).z * 0.2)).x;
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_6.x;
  tmpvar_9.y = -(tmpvar_5.x);
  vec2 tmpvar_10;
  tmpvar_10 = ((uv_orig + (
    ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)
   * 2.0)) + ((tmpvar_9 * texsize.zw) * 64.0));
  ret_1.z = (((
    (texture (sampler_fc_main, tmpvar_10).z + ((texture (sampler_fc_main, tmpvar_10).z - (
      (texture (sampler_blur2, tmpvar_10).xyz * scale2)
     + bias2).z) * 0.2))
   + 
    (texture (sampler_noise_lq, tmpvar_3).xyz * 0.1)
  ) - (
    (texture (sampler_blur3, uv_orig).xyz * scale3)
   + bias3).x) - (clamp (
    (1.0 - ((texture (sampler_blur2, uv_orig).xyz * scale2) + bias2).x)
  , 0.0, 1.0) * 0.04)).x;
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = ret_1;
  ret = tmpvar_11.xyz;
 }`,comp:`vec2 xlat_mutabled;
vec3 xlat_mutabledx;
vec3 xlat_mutabledy;
 shader_body { 
  vec3 ret_1;
  xlat_mutabled = (texsize.zw * 1.5);
  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);
  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);
  vec2 tmpvar_2;
  tmpvar_2.x = xlat_mutabledx.y;
  tmpvar_2.y = xlat_mutabledy.y;
  vec2 x_3;
  x_3 = (tmpvar_2 * 8.0);
  ret_1 = (((texture (sampler_main, uv).x * 
    (1.0 - sqrt(dot (x_3, x_3)))
  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);
  vec2 tmpvar_4;
  tmpvar_4.x = xlat_mutabledx.z;
  tmpvar_4.y = xlat_mutabledy.z;
  vec2 x_5;
  x_5 = (tmpvar_4 * 4.0);
  vec3 tmpvar_6;
  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));
  ret_1 = tmpvar_6;
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = tmpvar_6;
  ret = tmpvar_7.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,gammaadj:1.3,decay:1,echo_zoom:1.75,echo_alpha:.15,echo_orient:3,wave_mode:1,wave_dots:1,darken:1,wave_scale:.5,wave_smoothing:.9,warp:.01,mv_l:5},shapes:[{baseVals:{enabled:1,sides:100,border_a:0},init_eqs_str:"a.q1=0;",frame_eqs_str:"a.r+=Math.sin(.339*a.time);a.g+=Math.sin(.369*a.time);a.b+=Math.sin(.399*a.time);a.r2+=Math.sin(.113*a.time);a.g2+=Math.sin(.123*a.time);a.b2+=Math.sin(.133*a.time);a.rad=div(a.q1,3);"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"a.q1=0;",frame_eqs_str:"a.q1=.0003*pow(1+1.2*a.bass+.4*a.bass_att+.1*a.treb+.1*a.treb_att+.1*a.mid+.1*a.mid_att,6);a.mv_a=a.q1;a.mv_x+=Math.sin(a.time);a.mv_y+=Math.cos(a.time);a.mv_dx+=1.25*Math.sin(8*a.fps);a.mv_dy+=1.35*Math.sin(8*a.fps);a.mv_r+=Math.sin(.565*a.time);a.mv_g+=Math.sin(.615*a.time);a.mv_b+=Math.sin(.665*a.time);a.wave_r+=.5*Math.sin(1.13*a.time);a.wave_g+=.5*Math.sin(1.23*a.time);a.wave_b+=.5*Math.sin(1.33*a.time);",pixel_eqs_str:"a.zoom+=.0125*a.q1;a.rot+=.025*Math.sin(10*a.fps)*a.q1;a.warp=0;",warp:` shader_body { 
  vec2 my_uv_1;
  vec3 ret_2;
  vec3 tmpvar_3;
  tmpvar_3 = ((640.0 * texsize.z) * ((2.0 * 
    ((texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2) + bias2)
  ) - (2.0 * 
    ((texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2) + bias2)
  )));
  vec3 tmpvar_4;
  tmpvar_4 = ((512.0 * texsize.w) * ((2.0 * 
    ((texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2) + bias2)
  ) - (2.0 * 
    ((texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2) + bias2)
  )));
  vec2 tmpvar_5;
  tmpvar_5.x = tmpvar_3.y;
  tmpvar_5.y = tmpvar_4.y;
  vec2 tmpvar_6;
  tmpvar_6.x = tmpvar_3.x;
  tmpvar_6.y = tmpvar_4.x;
  vec2 tmpvar_7;
  tmpvar_7.x = tmpvar_4.y;
  tmpvar_7.y = -(tmpvar_3.y);
  vec2 tmpvar_8;
  tmpvar_8 = (uv - ((
    ((tmpvar_5 * 0.3) + (tmpvar_6 * 0.1))
   + 
    (tmpvar_7 * 0.01)
  ) * 0.01));
  ret_2.x = texture (sampler_fw_main, (tmpvar_8 - floor(tmpvar_8))).x;
  ret_2.x = (ret_2.x + ((
    (2.0 * ret_2.x)
   - 
    (2.0 * ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1).x)
  ) * 0.25));
  vec2 tmpvar_9;
  tmpvar_9.x = tmpvar_3.y;
  tmpvar_9.y = tmpvar_4.y;
  vec2 tmpvar_10;
  tmpvar_10.x = tmpvar_4.x;
  tmpvar_10.y = -(tmpvar_3.y);
  my_uv_1 = ((uv - (tmpvar_9 * 0.01)) + (tmpvar_10 * 0.001));
  ret_2.y = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).y;
  ret_2.y = (ret_2.y + ((
    ((2.0 * ret_2.y) - (2.0 * ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y))
   * 0.025) + 0.01));
  vec4 tmpvar_11;
  tmpvar_11.w = 1.0;
  tmpvar_11.xyz = ret_2;
  ret = tmpvar_11.xyz;
 }`,comp:`vec2 xlat_mutablefactorA;
 shader_body { 
  vec2 uv_1;
  vec2 dz_2;
  vec3 dy_3;
  vec3 dx_4;
  vec2 d_5;
  vec3 ret_6;
  xlat_mutablefactorA = (uv - vec2(0.5, 0.5));
  vec2 tmpvar_7;
  tmpvar_7.x = -((xlat_mutablefactorA.y * -1024.0));
  tmpvar_7.y = (xlat_mutablefactorA.x * -1024.0);
  vec2 tmpvar_8;
  tmpvar_8.x = tmpvar_7.x;
  tmpvar_8.y = -(tmpvar_7.y);
  uv_1 = (vec2(-100.0, 100.0) * (tmpvar_8 / (
    (tmpvar_7.x * tmpvar_7.x)
   + 
    (tmpvar_7.y * tmpvar_7.y)
  )).yx);
  uv_1 = (0.5 + ((
    (1.0 - abs(((
      fract((mix ((0.5 + 
        (((0.5 + (
          (uv - 0.5)
         * vec2(1.1, 0.81))) - 0.5) * 2.0)
      ), (uv_1 + 0.5), vec2(0.5, 0.5)) * 0.5))
     * 2.0) - 1.0)))
   - 0.5) * 0.98));
  vec2 tmpvar_9;
  vec2 tmpvar_10;
  tmpvar_10 = (vec2(1.0, 0.0) * texsize.zw);
  tmpvar_9.x = (texture (sampler_main, (uv_1 + tmpvar_10)).xyz - texture (sampler_main, (uv_1 - tmpvar_10)).xyz).y;
  vec2 tmpvar_11;
  tmpvar_11 = (vec2(0.0, 1.0) * texsize.zw);
  tmpvar_9.y = (texture (sampler_main, (uv_1 + tmpvar_11)).xyz - texture (sampler_main, (uv_1 - tmpvar_11)).xyz).y;
  d_5 = (texsize.zw * 2.0);
  dx_4 = (((2.0 * 
    ((texture (sampler_blur1, (uv_1 + (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_1 - (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)
  )) * 0.5);
  dy_3 = (((2.0 * 
    ((texture (sampler_blur1, (uv_1 + (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)
  ) - (2.0 * 
    ((texture (sampler_blur1, (uv_1 - (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)
  )) * 0.5);
  vec2 tmpvar_12;
  tmpvar_12.x = dx_4.y;
  tmpvar_12.y = dy_3.y;
  dz_2 = ((tmpvar_9 * 3.0) + tmpvar_12);
  ret_6 = (vec3(((
    pow ((sqrt(dot (dz_2, dz_2)) * 0.8), 0.7)
   + 
    (((texture (sampler_blur2, uv_1).xyz * scale2) + bias2).y * 0.4)
  ) - 0.1)) * vec3(0.3, 0.5, 0.7));
  vec2 tmpvar_13;
  tmpvar_13.x = dx_4.x;
  tmpvar_13.y = dy_3.x;
  vec3 tmpvar_14;
  tmpvar_14 = mix (mix (ret_6, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, 
    (uv_1 + ((tmpvar_13 * texsize.zw) * 18.0))
  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv_1).zzz);
  ret_6 = tmpvar_14;
  vec4 tmpvar_15;
  tmpvar_15.w = 1.0;
  tmpvar_15.xyz = tmpvar_14;
  ret = tmpvar_15.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,wave_mode:2,wrap:0,wave_a:.001,wave_scale:5.819,wave_mystery:-.38,wave_r:.5,wave_g:.5,wave_b:.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1,thick:1},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:"a.y=a.sample;a.x=.003*(a.value1+a.value2);a.a=.1*(a.value1+a.value2);a.r=.5+.3*Math.sin(10*a.sample+a.time);a.g=.5+.3*Math.cos(10*a.sample-1.334*a.time);a.b=.5+.3*Math.sin(10*a.sample+.998*a.time);"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"",frame_eqs_str:"a.warp=0;a.wave_r=a.wave_r+.4*Math.sin(.333*a.time)+.2*a.bass_att;a.wave_g=a.wave_g+.4*Math.sin(.555*a.time)+.2*a.treb_att;a.wave_b=a.wave_b+.4*Math.sin(.444*a.time)+.2*a.mid_att;",pixel_eqs_str:"",pixel_eqs:"",warp:` shader_body { 
  vec2 muv_1;
  vec3 ret_2;
  float tmpvar_3;
  tmpvar_3 = (2.0 * bass_att);
  muv_1.x = (uv.x - ((
    ((0.01 * cos((
      (uv.x * (5.0 + tmpvar_3))
     + time))) + (0.01 * cos((
      (uv.y * (5.0 + tmpvar_3))
     + time))))
   * 0.5) * treb_att));
  float tmpvar_4;
  tmpvar_4 = (2.0 * mid_att);
  muv_1.y = (uv.y + ((
    ((0.01 * sin((
      (uv.x * (5.0 + tmpvar_4))
     + time))) - (0.01 * cos((
      (uv.y * (5.0 + tmpvar_4))
     + time))))
   * 0.5) * bass_att));
  vec3 tmpvar_5;
  tmpvar_5 = ((texture (sampler_blur2, muv_1).xyz * scale2) + bias2);
  vec4 tmpvar_6;
  tmpvar_6 = texture (sampler_pw_main, muv_1);
  ret_2.x = (tmpvar_6.x + (tmpvar_5.x * (bass_att * 0.05)));
  ret_2.y = (tmpvar_6.y + (tmpvar_5.y * (treb_att * 0.05)));
  ret_2.z = (tmpvar_6.z + (tmpvar_5.z * (mid_att * 0.05)));
  if ((ret_2.x > 0.9)) {
    ret_2.x = 0.0;
  };
  if ((ret_2.y > 0.9)) {
    ret_2.y = 0.0;
  };
  if ((ret_2.z > 0.9)) {
    ret_2.z = 0.0;
  };
  vec4 tmpvar_7;
  tmpvar_7.w = 1.0;
  tmpvar_7.xyz = ret_2;
  ret = tmpvar_7.xyz;
 }`,comp:` shader_body { 
  vec3 ret1_1;
  vec2 uv1_2;
  vec3 ret_3;
  vec4 tmpvar_4;
  tmpvar_4 = texture (sampler_main, uv);
  ret_3 = (tmpvar_4.xyz * (0.6 + (0.3 * 
    sin(((uv.x * 10.0) + time))
  )));
  vec2 tmpvar_5;
  tmpvar_5.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;
  tmpvar_5.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;
  uv1_2 = ((0.5 * cos(
    (((uv - 0.5) * 1.5) + 1.6)
  )) - (3.0 * tmpvar_5));
  ret1_1 = ((0.3 * dot (tmpvar_4.xyz, vec3(0.32, 0.49, 0.29))) + ((
    clamp ((0.01 / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)
   * 
    mix (vec3(dot (((texture (sampler_blur2, uv).xyz * scale2) + bias2), vec3(0.32, 0.49, 0.29))), ret_3, pow (ret_3, vec3((0.05 + (mid_att * 0.03)))))
  ) * (
    (4.0 + bass)
   + 
    (mid + treb_att)
  )));
  ret_3 = ret1_1;
  vec4 tmpvar_6;
  tmpvar_6.w = 1.0;
  tmpvar_6.xyz = ret1_1;
  ret = tmpvar_6.xyz;
 }`}},function(t,a){t.exports={baseVals:{rating:3,gammaadj:1,decay:.997,echo_zoom:.997,echo_orient:1,wave_thick:1,wave_brighten:0,darken:1,wave_a:.001,wave_scale:.01,wave_smoothing:.27,wave_mystery:-.38,modwavealphastart:.71,modwavealphaend:1.3,warpscale:1.331,zoom:.99951,warp:.01,ob_size:.5,ob_r:.01,ib_size:.26,ib_r:1,ib_g:1,ib_b:1,mv_x:64,mv_y:48,mv_l:.85,mv_r:.5,mv_g:.5,mv_b:.5,mv_a:0},shapes:[{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],waves:[{baseVals:{enabled:1},init_eqs_str:"",frame_eqs_str:"",point_eqs_str:"a.x=.5+.2*a.bass*Math.sin(20*a.sample*a.time*a.treb);a.y=.5+.2*a.bass*Math.cos(20*a.sample*a.time*a.treb);a.r=1+.5*Math.sin(.1*a.sample+10*a.time*a.bass);a.g=1+.5*Math.sin(2*a.sample+50*a.time*a.treb);a.b=1+.5*Math.sin(5*a.sample+20*a.time*a.mid);a.a=a.r;"},{baseVals:{enabled:0}},{baseVals:{enabled:0}},{baseVals:{enabled:0}}],init_eqs_str:"",frame_eqs_str:"a.warp=0;a.decay=.92;",pixel_eqs_str:"a.zoom+=.03*a.bass_att*a.bass_att*a.rad;a.rot+=a.rad*bitand(-2.5,5*Math.cos(a.time))*.01;",warp:` shader_body { 
  vec4 tmpvar_1;
  tmpvar_1.w = 1.0;
  tmpvar_1.xyz = texture (sampler_main, uv).xyz;
  ret = tmpvar_1.xyz;
 }`,comp:` shader_body { 
  vec2 uv1_1;
  vec3 ret_2;
  vec3 tmpvar_3;
  tmpvar_3 = texture (sampler_main, uv).xyz;
  vec2 tmpvar_4;
  tmpvar_4.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;
  tmpvar_4.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;
  uv1_1 = ((0.5 * cos(
    (((uv - 0.5) * 1.5) + 1.6)
  )) - (3.0 * tmpvar_4));
  ret_2 = (0.8 * ((0.3 * 
    dot (tmpvar_3, vec3(0.32, 0.49, 0.29))
  ) + (
    (clamp ((0.01 / sqrt(
      dot (uv1_1, uv1_1)
    )), 0.0, 1.0) * tmpvar_3)
   * 
    ((4.0 + bass) + (mid + treb_att))
  )));
  ret_2 = (ret_2 * 0.77);
  vec4 tmpvar_5;
  tmpvar_5.w = 1.0;
  tmpvar_5.xyz = ret_2;
  ret = tmpvar_5.xyz;
 }`}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,a,r){Object.defineProperty(a,"__esModule",{value:!0});var n=o(r(6)),i=o(r(7));function o(m){return m&&m.__esModule?m:{default:m}}var l={};l["$$$ Royal - Mashup (197)"]=r(35),l["$$$ Royal - Mashup (220)"]=r(36),l["$$$ Royal - Mashup (431)"]=r(37),l["_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix)"]=r(38),l["_Geiss - Artifact 01"]=r(39),l["_Geiss - Desert Rose 2"]=r(40),l["_Geiss - untitled"]=r(41),l._Mig_049=r(42),l._Mig_085=r(43),l["_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix)"]=r(44),l["Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix"]=r(45),l["Aderrasi - Potion of Spirits"]=r(20),l["Aderrasi - Songflower (Moss Posy)"]=r(21),l["Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics"]=r(46),l["An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B"]=r(47),l["cope + martin - mother-of-pearl"]=r(48),l["Cope - The Neverending Explosion of Red Liquid Fire"]=r(49),l["Eo.S. + Phat - cubetrace - v2"]=r(22),l["Eo.S. + Zylot - skylight (Stained Glass Majesty mix)"]=r(23),l["Eo.S. - glowsticks v2 05 and proton lights (+Krash′s beat code) _Phat_remix02b"]=r(24),l["fiShbRaiN + Flexi - witchcraft 2.0"]=r(50),l["flexi + amandio c - organic [random mashup]"]=r(51),l["flexi + amandio c - organic12-3d-2.milk"]=r(52),l["Flexi + amandio c - piercing 05 - Kopie (2) - Kopie"]=r(53),l["flexi + fishbrain - neon mindblob grafitti"]=r(54),l["flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish]"]=r(55),l["Flexi + Martin - astral projection"]=r(56),l["Flexi + Martin - cascading decay swing"]=r(57),l["Flexi + stahlregen - jelly showoff parade"]=r(58),l["Flexi - alien fish pond"]=r(59),l["Flexi - area 51"]=r(60),l["flexi - bouncing balls [double mindblob neon mix]"]=r(61),l["Flexi - infused with the spiral"]=r(62),l["Flexi - mindblob [shiny mix]"]=r(63),l["Flexi - mindblob mix"]=r(64),l["flexi - mom, why the sky looks different today"]=r(65),l["flexi - patternton, district of media, capitol of the united abstractions of fractopia"]=r(66),l["Flexi - predator-prey-spirals"]=r(67),l["Flexi - smashing fractals [acid etching mix]"]=r(68),l["flexi - swing out on the spiral"]=r(69),l["Flexi - truly soft piece of software - this is generic texturing (Jelly) "]=r(70),l["flexi - what is the matrix"]=r(71),l["Flexi, fishbrain, Geiss + Martin - tokamak witchery"]=r(72),l["Flexi, martin + geiss - dedicated to the sherwin maxawow"]=r(73),l["Fumbling_Foo & Flexi, Martin, Orb, Unchained - Star Nova v7b"]=r(74),l["Geiss + Flexi + Martin - disconnected"]=r(75),l["Geiss - Cauldron - painterly 2 (saturation remix)"]=r(76),l["Geiss - Reaction Diffusion 2"]=r(77),l["Geiss - Spiral Artifact"]=r(78),l["Geiss - Thumb Drum"]=r(79),l["Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup]"]=r(80),l["Goody - The Wild Vort"]=r(81),l["high-altitude basket unraveling - singh grooves nitrogen argon nz+"]=r(82),l["Idiot - Star Of Annon"]=r(25),l["Krash + Illusion - Spiral Movement"]=r(26),l["martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained"]=r(83),l["Martin - acid wiring"]=r(84),l["martin - angel flight"]=r(85),l["martin - another kind of groove"]=r(86),l["martin - bombyx mori"]=r(87),l["martin - castle in the air"]=r(88),l["martin - chain breaker"]=r(89),l["Martin - charisma"]=r(90),l["martin - disco mix 4"]=r(91),l["martin - extreme heat"]=r(92),l["martin - frosty caves 2"]=r(93),l["martin - fruit machine"]=r(94),l["martin - ghost city"]=r(95),l["martin - glass corridor"]=r(96),l["martin - infinity (2010 update)"]=r(27),l["Martin - liquid arrows"]=r(97),l["martin - mandelbox explorer - high speed demo version"]=r(98),l["martin - mucus cervix"]=r(99),l["Martin - QBikal - Surface Turbulence IIb"]=r(100),l["martin - reflections on black tiles"]=r(101),l["martin - stormy sea (2010 update)"]=r(102),l["martin - The Bridge of Khazad-Dum"]=r(103),l["martin - witchcraft reloaded"]=r(104),l["martin [shadow harlequins shape code] - fata morgana"]=r(105),l["martin, flexi, fishbrain + sto - enterstate [random mashup]"]=r(106),l["Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX"]=r(107),l["ORB - Waaa"]=r(108),l["Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix"]=r(28),l["Rovastar + Loadus + Geiss - FractalDrop (Triple Mix)"]=r(109),l["Rovastar - Oozing Resistance"]=r(29),l["sawtooth grin roam"]=r(110),l["shifter - dark tides bdrv mix 2"]=r(111),l["suksma - heretical crosscut playpen"]=r(112),l["suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression"]=r(113),l["suksma - uninitialized variabowl (hydroponic chronic)"]=r(114),l["suksma - vector exp 1 - couldn′t not"]=r(115),l["TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle]"]=r(116),l["TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse]"]=r(117),l["Unchained & Rovastar - Wormhole Pillars (Hall of Shadows mix)"]=r(30),l["Unchained - Rewop"]=r(31),l["Unchained - Unified Drag 2"]=r(32),l["yin - 191 - Temporal singularities"]=r(33),l["Zylot - Paint Spill (Music Reactive Paint Mix)"]=r(118),l["Zylot - Star Ornament"]=r(34),l["Zylot - True Visionary (Final Mix)"]=r(119);var u=function(){function m(){(0,n.default)(this,m)}return(0,i.default)(m,null,[{key:"getPresets",value:function(){return l}}]),m}();a.default=u,t.exports=u}])})})(butterchurnPresets_min);var butterchurnPresets_minExports=butterchurnPresets_min.exports;const butterchurnPresets=getDefaultExportFromCjs$1(butterchurnPresets_minExports);function create_else_block$7(s){let e,t,a,r,n;return{c(){e=element("canvas"),t=space(),a=element("div"),r=element("audio"),this.h()},l(i){e=claim_element(i,"CANVAS",{class:!0}),children$1(e).forEach(detach),t=claim_space(i),a=claim_element(i,"DIV",{class:!0});var o=children$1(a);r=claim_element(o,"AUDIO",{src:!0}),children$1(r).forEach(detach),o.forEach(detach),this.h()},h(){attr(e,"class","w-full h-full"),src_url_equal(r.src,n=s[1])||attr(r,"src",n),r.controls=!0,attr(a,"class","opacity-0 pointer-events-none")},m(i,o){insert_hydration(i,e,o),s[8](e),insert_hydration(i,t,o),insert_hydration(i,a,o),append_hydration(a,r),s[9](r)},p(i,o){o&2&&!src_url_equal(r.src,n=i[1])&&attr(r,"src",n)},d(i){i&&(detach(e),detach(t),detach(a)),s[8](null),s[9](null)}}}function create_if_block_1$8(s){let e,t='<p class="text-2xl">Failed to initialize WebGL2</p>';return{c(){e=element("div"),e.innerHTML=t,this.h()},l(a){e=claim_element(a,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-ggutr"&&(e.innerHTML=t),this.h()},h(){attr(e,"class","text-center")},m(a,r){insert_hydration(a,e,r)},p:noop$1,d(a){a&&detach(e)}}}function create_if_block$a(s){let e,t='<p class="text-2xl">Your browser does not support WebGL2</p>';return{c(){e=element("div"),e.innerHTML=t,this.h()},l(a){e=claim_element(a,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1f53txr"&&(e.innerHTML=t),this.h()},h(){attr(e,"class","text-center")},m(a,r){insert_hydration(a,e,r)},p:noop$1,d(a){a&&detach(e)}}}function create_default_slot$b(s){let e;function t(n,i){return n[3]?create_if_block$a:n[4]?create_if_block_1$8:create_else_block$7}let a=t(s),r=a(s);return{c(){r.c(),e=empty()},l(n){r.l(n),e=empty()},m(n,i){r.m(n,i),insert_hydration(n,e,i)},p(n,i){a===(a=t(n))&&r?r.p(n,i):(r.d(1),r=a(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){n&&detach(e),r.d(n)}}}function create_fragment$q(s){let e,t;return e=new Layer({props:{$$slots:{default:[create_default_slot$b]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,[r]){const n={};r&4127&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function instance$o(s,e,t){let a;component_subscribe(s,tvState,x=>t(7,a=x));let{props:r}=e,n="",i,o,l,u,m=!1,c=!1;onMount(()=>{l=setTimeout(()=>{if(typeof r=="string"?t(1,n=r):t(1,n=r.src),window.WebGLRenderingContext){var x=u.getContext("webgl2");x||t(4,c=!0)}else{t(3,m=!0);return}const M=new AudioContext;t(0,i.src=n,i),t(0,i.crossOrigin="anonymous",i),i.play();const A=M.createMediaElementSource(i);t(6,o=M.createGain());const w=M.createAnalyser();A.connect(w),A.connect(o),o.connect(M.destination),h(a.volume),w.fftSize=2048;const E=w.frequencyBinCount,g=new Uint8Array(E),{width:q,height:k}=u,L=butterchurn.createVisualizer(M,u,{width:q,height:k});L.connectAudio(A);const S=butterchurnPresets.getPresets(),R=S[Object.keys(S)[0]];L.loadPreset(R);const D=()=>{w.getByteFrequencyData(g),L.render(g),requestAnimationFrame(D)};D()},500)}),onDestroy(()=>{l&&clearTimeout(l),t(0,i.src="",i)});function h(x){o.gain.setValueAtTime(x*2/100*getComponentVolume(r.volume,1),i.currentTime)}function p(x){binding_callbacks[x?"unshift":"push"](()=>{u=x,t(2,u)})}function d(x){binding_callbacks[x?"unshift":"push"](()=>{i=x,t(0,i)})}return s.$$set=x=>{"props"in x&&t(5,r=x.props)},s.$$.update=()=>{s.$$.dirty&193&&i&&o&&(a.isMuting||!a.isOn?o.gain.setValueAtTime(0,i.currentTime):h(a.volume))},[i,n,u,m,c,r,o,a,p,d]}class Visualizer extends SvelteComponent{constructor(e){super(),init(this,e,instance$o,create_fragment$q,safe_not_equal,{props:5})}}const get_b_slot_changes$2=s=>({}),get_b_slot_context$2=s=>({}),get_a_slot_changes$2=s=>({}),get_a_slot_context$2=s=>({});function create_fragment$p(s){let e,t,a,r,n;const i=s[1].a,o=create_slot(i,s,s[0],get_a_slot_context$2),l=s[1].b,u=create_slot(l,s,s[0],get_b_slot_context$2);return{c(){e=element("div"),t=element("div"),o&&o.c(),a=space(),r=element("div"),u&&u.c(),this.h()},l(m){e=claim_element(m,"DIV",{class:!0});var c=children$1(e);t=claim_element(c,"DIV",{class:!0});var h=children$1(t);o&&o.l(h),h.forEach(detach),a=claim_space(c),r=claim_element(c,"DIV",{class:!0});var p=children$1(r);u&&u.l(p),p.forEach(detach),c.forEach(detach),this.h()},h(){attr(t,"class","flex flex-1 relative"),attr(r,"class","flex flex-1 relative"),attr(e,"class","flex flex-row h-full")},m(m,c){insert_hydration(m,e,c),append_hydration(e,t),o&&o.m(t,null),append_hydration(e,a),append_hydration(e,r),u&&u.m(r,null),n=!0},p(m,[c]){o&&o.p&&(!n||c&1)&&update_slot_base(o,i,m,m[0],n?get_slot_changes(i,m[0],c,get_a_slot_changes$2):get_all_dirty_from_scope(m[0]),get_a_slot_context$2),u&&u.p&&(!n||c&1)&&update_slot_base(u,l,m,m[0],n?get_slot_changes(l,m[0],c,get_b_slot_changes$2):get_all_dirty_from_scope(m[0]),get_b_slot_context$2)},i(m){n||(transition_in(o,m),transition_in(u,m),n=!0)},o(m){transition_out(o,m),transition_out(u,m),n=!1},d(m){m&&detach(e),o&&o.d(m),u&&u.d(m)}}}function instance$n(s,e,t){let{$$slots:a={},$$scope:r}=e;return s.$$set=n=>{"$$scope"in n&&t(0,r=n.$$scope)},[r,a]}class HSplit extends SvelteComponent{constructor(e){super(),init(this,e,instance$n,create_fragment$p,safe_not_equal,{})}}const get_b_slot_changes$1=s=>({}),get_b_slot_context$1=s=>({}),get_a_slot_changes$1=s=>({}),get_a_slot_context$1=s=>({});function create_fragment$o(s){let e,t,a,r,n;const i=s[1].a,o=create_slot(i,s,s[0],get_a_slot_context$1),l=s[1].b,u=create_slot(l,s,s[0],get_b_slot_context$1);return{c(){e=element("div"),t=element("div"),o&&o.c(),a=space(),r=element("div"),u&&u.c(),this.h()},l(m){e=claim_element(m,"DIV",{class:!0});var c=children$1(e);t=claim_element(c,"DIV",{class:!0});var h=children$1(t);o&&o.l(h),h.forEach(detach),a=claim_space(c),r=claim_element(c,"DIV",{class:!0});var p=children$1(r);u&&u.l(p),p.forEach(detach),c.forEach(detach),this.h()},h(){attr(t,"class","flex flex-1 relative"),attr(r,"class","flex flex-1 relative"),attr(e,"class","flex flex-col h-full")},m(m,c){insert_hydration(m,e,c),append_hydration(e,t),o&&o.m(t,null),append_hydration(e,a),append_hydration(e,r),u&&u.m(r,null),n=!0},p(m,[c]){o&&o.p&&(!n||c&1)&&update_slot_base(o,i,m,m[0],n?get_slot_changes(i,m[0],c,get_a_slot_changes$1):get_all_dirty_from_scope(m[0]),get_a_slot_context$1),u&&u.p&&(!n||c&1)&&update_slot_base(u,l,m,m[0],n?get_slot_changes(l,m[0],c,get_b_slot_changes$1):get_all_dirty_from_scope(m[0]),get_b_slot_context$1)},i(m){n||(transition_in(o,m),transition_in(u,m),n=!0)},o(m){transition_out(o,m),transition_out(u,m),n=!1},d(m){m&&detach(e),o&&o.d(m),u&&u.d(m)}}}function instance$m(s,e,t){let{$$slots:a={},$$scope:r}=e;return s.$$set=n=>{"$$scope"in n&&t(0,r=n.$$scope)},[r,a]}class VSplit extends SvelteComponent{constructor(e){super(),init(this,e,instance$m,create_fragment$o,safe_not_equal,{})}}function create_fragment$n(s){let e,t=s[0].text+"",a;return{c(){e=element("div"),a=text(t)},l(r){e=claim_element(r,"DIV",{});var n=children$1(e);a=claim_text(n,t),n.forEach(detach)},m(r,n){insert_hydration(r,e,n),append_hydration(e,a),s[3](e)},p(r,[n]){n&1&&t!==(t=r[0].text+"")&&set_data(a,t)},i:noop$1,o:noop$1,d(r){r&&detach(e),s[3](null)}}}function instance$l(s,e,t){let{line:a}=e,{defaults:r}=e,n;onMount(()=>{t(0,a=Object.assign({},r,a));let o="";a.fontFamily&&(o+=`font-family: "${a.fontFamily}";`),a.fontSize&&(o+=`font-size: ${a.fontSize};`),a.color&&(o+=`color: ${a.color};`),a.background&&(o+=`background: ${a.background};`),a.textAlign&&(o+=`text-align: ${a.textAlign};`),a.textShadow&&(o+=`text-shadow: ${a.textShadow};`),a.isBold&&(o+="font-weight: bold;"),a.isItalic&&(o+="font-style: italic;"),a.isUnderlined&&(o+="text-decoration: underline;"),n.setAttribute("style",o)});function i(o){binding_callbacks[o?"unshift":"push"](()=>{n=o,t(1,n)})}return s.$$set=o=>{"line"in o&&t(0,a=o.line),"defaults"in o&&t(2,r=o.defaults)},[a,n,r,i]}class BasicTextLine extends SvelteComponent{constructor(e){super(),init(this,e,instance$l,create_fragment$n,safe_not_equal,{line:0,defaults:2})}}function get_each_context(s,e,t){const a=s.slice();return a[6]=e[t],a[7]=e,a[8]=t,a}function create_each_block(s){let e,t,a,r;function n(l){s[3](l,s[6],s[7],s[8])}function i(l){s[4](l)}let o={};return s[6]!==void 0&&(o.line=s[6]),s[1]!==void 0&&(o.defaults=s[1]),e=new BasicTextLine({props:o}),binding_callbacks.push(()=>bind$1(e,"line",n)),binding_callbacks.push(()=>bind$1(e,"defaults",i)),{c(){create_component(e.$$.fragment)},l(l){claim_component(e.$$.fragment,l)},m(l,u){mount_component(e,l,u),r=!0},p(l,u){s=l;const m={};!t&&u&1&&(t=!0,m.line=s[6],add_flush_callback(()=>t=!1)),!a&&u&2&&(a=!0,m.defaults=s[1],add_flush_callback(()=>a=!1)),e.$set(m)},i(l){r||(transition_in(e.$$.fragment,l),r=!0)},o(l){transition_out(e.$$.fragment,l),r=!1},d(l){destroy_component(e,l)}}}function create_fragment$m(s){var i;let e,t,a=ensure_array_like(((i=s[0])==null?void 0:i.lines)||[]),r=[];for(let o=0;o<a.length;o+=1)r[o]=create_each_block(get_each_context(s,a,o));const n=o=>transition_out(r[o],1,1,()=>{r[o]=null});return{c(){e=element("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var l=children$1(e);for(let u=0;u<r.length;u+=1)r[u].l(l);l.forEach(detach),this.h()},h(){attr(e,"class","h-full w-full flex flex-col p-6")},m(o,l){insert_hydration(o,e,l);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);s[5](e),t=!0},p(o,[l]){var u;if(l&3){a=ensure_array_like(((u=o[0])==null?void 0:u.lines)||[]);let m;for(m=0;m<a.length;m+=1){const c=get_each_context(o,a,m);r[m]?(r[m].p(c,l),transition_in(r[m],1)):(r[m]=create_each_block(c),r[m].c(),transition_in(r[m],1),r[m].m(e,null))}for(group_outros(),m=a.length;m<r.length;m+=1)n(m);check_outros()}},i(o){if(!t){for(let l=0;l<a.length;l+=1)transition_in(r[l]);t=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)transition_out(r[l]);t=!1},d(o){o&&detach(e),destroy_each(r,o),s[5](null)}}}function instance$k(s,e,t){let{page:a}=e,{defaults:r}=e,n;onMount(()=>{if(!a)throw new Error("No page data provided");t(0,a=Object.assign({},r,a)),a.background&&t(2,n.style.background=a.background,n)});function i(u,m,c,h){c[h]=u,t(0,a)}function o(u){r=u,t(1,r)}function l(u){binding_callbacks[u?"unshift":"push"](()=>{n=u,t(2,n)})}return s.$$set=u=>{"page"in u&&t(0,a=u.page),"defaults"in u&&t(1,r=u.defaults)},[a,r,n,i,o,l]}class BasicTextPage extends SvelteComponent{constructor(e){super(),init(this,e,instance$k,create_fragment$m,safe_not_equal,{page:0,defaults:1})}}var webfontloader={exports:{}};(function(s){(function(){function e(oe,ve,Se){return oe.call.apply(oe.bind,arguments)}function t(oe,ve,Se){if(!oe)throw Error();if(2<arguments.length){var ze=Array.prototype.slice.call(arguments,2);return function(){var Le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Le,ze),oe.apply(ve,Le)}}return function(){return oe.apply(ve,arguments)}}function a(oe,ve,Se){return a=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:t,a.apply(null,arguments)}var r=Date.now||function(){return+new Date};function n(oe,ve){this.a=oe,this.o=ve||oe,this.c=this.o.document}var i=!!window.FontFace;function o(oe,ve,Se,ze){if(ve=oe.c.createElement(ve),Se)for(var Le in Se)Se.hasOwnProperty(Le)&&(Le=="style"?ve.style.cssText=Se[Le]:ve.setAttribute(Le,Se[Le]));return ze&&ve.appendChild(oe.c.createTextNode(ze)),ve}function l(oe,ve,Se){oe=oe.c.getElementsByTagName(ve)[0],oe||(oe=document.documentElement),oe.insertBefore(Se,oe.lastChild)}function u(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}function m(oe,ve,Se){ve=ve||[],Se=Se||[];for(var ze=oe.className.split(/\s+/),Le=0;Le<ve.length;Le+=1){for(var Ge=!1,Ve=0;Ve<ze.length;Ve+=1)if(ve[Le]===ze[Ve]){Ge=!0;break}Ge||ze.push(ve[Le])}for(ve=[],Le=0;Le<ze.length;Le+=1){for(Ge=!1,Ve=0;Ve<Se.length;Ve+=1)if(ze[Le]===Se[Ve]){Ge=!0;break}Ge||ve.push(ze[Le])}oe.className=ve.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(oe,ve){for(var Se=oe.className.split(/\s+/),ze=0,Le=Se.length;ze<Le;ze++)if(Se[ze]==ve)return!0;return!1}function h(oe){return oe.o.location.hostname||oe.a.location.hostname}function p(oe,ve,Se){function ze(){nt&&Le&&Ge&&(nt(Ve),nt=null)}ve=o(oe,"link",{rel:"stylesheet",href:ve,media:"all"});var Le=!1,Ge=!0,Ve=null,nt=Se||null;i?(ve.onload=function(){Le=!0,ze()},ve.onerror=function(){Le=!0,Ve=Error("Stylesheet failed to load"),ze()}):setTimeout(function(){Le=!0,ze()},0),l(oe,"head",ve)}function d(oe,ve,Se,ze){var Le=oe.c.getElementsByTagName("head")[0];if(Le){var Ge=o(oe,"script",{src:ve}),Ve=!1;return Ge.onload=Ge.onreadystatechange=function(){Ve||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Ve=!0,Se&&Se(null),Ge.onload=Ge.onreadystatechange=null,Ge.parentNode.tagName=="HEAD"&&Le.removeChild(Ge))},Le.appendChild(Ge),setTimeout(function(){Ve||(Ve=!0,Se&&Se(Error("Script load timeout")))},ze||5e3),Ge}return null}function x(){this.a=0,this.c=null}function M(oe){return oe.a++,function(){oe.a--,w(oe)}}function A(oe,ve){oe.c=ve,w(oe)}function w(oe){oe.a==0&&oe.c&&(oe.c(),oe.c=null)}function E(oe){this.a=oe||"-"}E.prototype.c=function(oe){for(var ve=[],Se=0;Se<arguments.length;Se++)ve.push(arguments[Se].replace(/[\W_]+/g,"").toLowerCase());return ve.join(this.a)};function g(oe,ve){this.c=oe,this.f=4,this.a="n";var Se=(ve||"n4").match(/^([nio])([1-9])$/i);Se&&(this.a=Se[1],this.f=parseInt(Se[2],10))}function q(oe){return S(oe)+" "+(oe.f+"00")+" 300px "+k(oe.c)}function k(oe){var ve=[];oe=oe.split(/,\s*/);for(var Se=0;Se<oe.length;Se++){var ze=oe[Se].replace(/['"]/g,"");ze.indexOf(" ")!=-1||/^\d/.test(ze)?ve.push("'"+ze+"'"):ve.push(ze)}return ve.join(",")}function L(oe){return oe.a+oe.f}function S(oe){var ve="normal";return oe.a==="o"?ve="oblique":oe.a==="i"&&(ve="italic"),ve}function R(oe){var ve=4,Se="n",ze=null;return oe&&((ze=oe.match(/(normal|oblique|italic)/i))&&ze[1]&&(Se=ze[1].substr(0,1).toLowerCase()),(ze=oe.match(/([1-9]00|normal|bold)/i))&&ze[1]&&(/bold/i.test(ze[1])?ve=7:/[1-9]00/.test(ze[1])&&(ve=parseInt(ze[1].substr(0,1),10)))),Se+ve}function D(oe,ve){this.c=oe,this.f=oe.o.document.documentElement,this.h=ve,this.a=new E("-"),this.j=ve.events!==!1,this.g=ve.classes!==!1}function B(oe){oe.g&&m(oe.f,[oe.a.c("wf","loading")]),Q(oe,"loading")}function N(oe){if(oe.g){var ve=c(oe.f,oe.a.c("wf","active")),Se=[],ze=[oe.a.c("wf","loading")];ve||Se.push(oe.a.c("wf","inactive")),m(oe.f,Se,ze)}Q(oe,"inactive")}function Q(oe,ve,Se){oe.j&&oe.h[ve]&&(Se?oe.h[ve](Se.c,L(Se)):oe.h[ve]())}function P(){this.c={}}function U(oe,ve,Se){var ze=[],Le;for(Le in ve)if(ve.hasOwnProperty(Le)){var Ge=oe.c[Le];Ge&&ze.push(Ge(ve[Le],Se))}return ze}function $(oe,ve){this.c=oe,this.f=ve,this.a=o(this.c,"span",{"aria-hidden":"true"},this.f)}function J(oe){l(oe.c,"body",oe.a)}function me(oe){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+k(oe.c)+";"+("font-style:"+S(oe)+";font-weight:"+(oe.f+"00")+";")}function W(oe,ve,Se,ze,Le,Ge){this.g=oe,this.j=ve,this.a=ze,this.c=Se,this.f=Le||3e3,this.h=Ge||void 0}W.prototype.start=function(){var oe=this.c.o.document,ve=this,Se=r(),ze=new Promise(function(Ve,nt){function qe(){r()-Se>=ve.f?nt():oe.fonts.load(q(ve.a),ve.h).then(function(Ne){1<=Ne.length?Ve():setTimeout(qe,25)},function(){nt()})}qe()}),Le=null,Ge=new Promise(function(Ve,nt){Le=setTimeout(nt,ve.f)});Promise.race([Ge,ze]).then(function(){Le&&(clearTimeout(Le),Le=null),ve.g(ve.a)},function(){ve.j(ve.a)})};function ee(oe,ve,Se,ze,Le,Ge,Ve){this.v=oe,this.B=ve,this.c=Se,this.a=ze,this.s=Ve||"BESbswy",this.f={},this.w=Le||3e3,this.u=Ge||null,this.m=this.j=this.h=this.g=null,this.g=new $(this.c,this.s),this.h=new $(this.c,this.s),this.j=new $(this.c,this.s),this.m=new $(this.c,this.s),oe=new g(this.a.c+",serif",L(this.a)),oe=me(oe),this.g.a.style.cssText=oe,oe=new g(this.a.c+",sans-serif",L(this.a)),oe=me(oe),this.h.a.style.cssText=oe,oe=new g("serif",L(this.a)),oe=me(oe),this.j.a.style.cssText=oe,oe=new g("sans-serif",L(this.a)),oe=me(oe),this.m.a.style.cssText=oe,J(this.g),J(this.h),J(this.j),J(this.m)}var ue={D:"serif",C:"sans-serif"},Z=null;function ie(){if(Z===null){var oe=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Z=!!oe&&(536>parseInt(oe[1],10)||parseInt(oe[1],10)===536&&11>=parseInt(oe[2],10))}return Z}ee.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=r(),ye(this)};function fe(oe,ve,Se){for(var ze in ue)if(ue.hasOwnProperty(ze)&&ve===oe.f[ue[ze]]&&Se===oe.f[ue[ze]])return!0;return!1}function ye(oe){var ve=oe.g.a.offsetWidth,Se=oe.h.a.offsetWidth,ze;(ze=ve===oe.f.serif&&Se===oe.f["sans-serif"])||(ze=ie()&&fe(oe,ve,Se)),ze?r()-oe.A>=oe.w?ie()&&fe(oe,ve,Se)&&(oe.u===null||oe.u.hasOwnProperty(oe.a.c))?ge(oe,oe.v):ge(oe,oe.B):xe(oe):ge(oe,oe.v)}function xe(oe){setTimeout(a(function(){ye(this)},oe),50)}function ge(oe,ve){setTimeout(a(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.m.a),ve(this.a)},oe),0)}function Ae(oe,ve,Se){this.c=oe,this.a=ve,this.f=0,this.m=this.j=!1,this.s=Se}var O=null;Ae.prototype.g=function(oe){var ve=this.a;ve.g&&m(ve.f,[ve.a.c("wf",oe.c,L(oe).toString(),"active")],[ve.a.c("wf",oe.c,L(oe).toString(),"loading"),ve.a.c("wf",oe.c,L(oe).toString(),"inactive")]),Q(ve,"fontactive",oe),this.m=!0,Y(this)},Ae.prototype.h=function(oe){var ve=this.a;if(ve.g){var Se=c(ve.f,ve.a.c("wf",oe.c,L(oe).toString(),"active")),ze=[],Le=[ve.a.c("wf",oe.c,L(oe).toString(),"loading")];Se||ze.push(ve.a.c("wf",oe.c,L(oe).toString(),"inactive")),m(ve.f,ze,Le)}Q(ve,"fontinactive",oe),Y(this)};function Y(oe){--oe.f==0&&oe.j&&(oe.m?(oe=oe.a,oe.g&&m(oe.f,[oe.a.c("wf","active")],[oe.a.c("wf","loading"),oe.a.c("wf","inactive")]),Q(oe,"active")):N(oe.a))}function T(oe){this.j=oe,this.a=new P,this.h=0,this.f=this.g=!0}T.prototype.load=function(oe){this.c=new n(this.j,oe.context||this.j),this.g=oe.events!==!1,this.f=oe.classes!==!1,X(this,new D(this.c,oe),oe)};function I(oe,ve,Se,ze,Le){var Ge=--oe.h==0;(oe.f||oe.g)&&setTimeout(function(){var Ve=Le||null,nt=ze||null||{};if(Se.length===0&&Ge)N(ve.a);else{ve.f+=Se.length,Ge&&(ve.j=Ge);var qe,Ne=[];for(qe=0;qe<Se.length;qe++){var ae=Se[qe],Fe=nt[ae.c],Qe=ve.a,je=ae;if(Qe.g&&m(Qe.f,[Qe.a.c("wf",je.c,L(je).toString(),"loading")]),Q(Qe,"fontloading",je),Qe=null,O===null)if(window.FontFace){var je=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),dt=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);O=je?42<parseInt(je[1],10):!dt}else O=!1;O?Qe=new W(a(ve.g,ve),a(ve.h,ve),ve.c,ae,ve.s,Fe):Qe=new ee(a(ve.g,ve),a(ve.h,ve),ve.c,ae,ve.s,Ve,Fe),Ne.push(Qe)}for(qe=0;qe<Ne.length;qe++)Ne[qe].start()}},0)}function X(oe,ve,Se){var Le=[],ze=Se.timeout;B(ve);var Le=U(oe.a,Se,oe.c),Ge=new Ae(oe.c,ve,ze);for(oe.h=Le.length,ve=0,Se=Le.length;ve<Se;ve++)Le[ve].load(function(Ve,nt,qe){I(oe,Ge,Ve,nt,qe)})}function le(oe,ve){this.c=oe,this.a=ve}le.prototype.load=function(oe){function ve(){if(Ge["__mti_fntLst"+ze]){var Ve=Ge["__mti_fntLst"+ze](),nt=[],qe;if(Ve)for(var Ne=0;Ne<Ve.length;Ne++){var ae=Ve[Ne].fontfamily;Ve[Ne].fontStyle!=null&&Ve[Ne].fontWeight!=null?(qe=Ve[Ne].fontStyle+Ve[Ne].fontWeight,nt.push(new g(ae,qe))):nt.push(new g(ae))}oe(nt)}else setTimeout(function(){ve()},50)}var Se=this,ze=Se.a.projectId,Le=Se.a.version;if(ze){var Ge=Se.c.o;d(this.c,(Se.a.api||"https://fast.fonts.net/jsapi")+"/"+ze+".js"+(Le?"?v="+Le:""),function(Ve){Ve?oe([]):(Ge["__MonotypeConfiguration__"+ze]=function(){return Se.a},ve())}).id="__MonotypeAPIScript__"+ze}else oe([])};function se(oe,ve){this.c=oe,this.a=ve}se.prototype.load=function(oe){var ve,Se,ze=this.a.urls||[],Le=this.a.families||[],Ge=this.a.testStrings||{},Ve=new x;for(ve=0,Se=ze.length;ve<Se;ve++)p(this.c,ze[ve],M(Ve));var nt=[];for(ve=0,Se=Le.length;ve<Se;ve++)if(ze=Le[ve].split(":"),ze[1])for(var qe=ze[1].split(","),Ne=0;Ne<qe.length;Ne+=1)nt.push(new g(ze[0],qe[Ne]));else nt.push(new g(ze[0]));A(Ve,function(){oe(nt,Ge)})};function _e(oe,ve){oe?this.c=oe:this.c=we,this.a=[],this.f=[],this.g=ve||""}var we="https://fonts.googleapis.com/css";function Ce(oe,ve){for(var Se=ve.length,ze=0;ze<Se;ze++){var Le=ve[ze].split(":");Le.length==3&&oe.f.push(Le.pop());var Ge="";Le.length==2&&Le[1]!=""&&(Ge=":"),oe.a.push(Le.join(Ge))}}function Be(oe){if(oe.a.length==0)throw Error("No fonts to load!");if(oe.c.indexOf("kit=")!=-1)return oe.c;for(var ve=oe.a.length,Se=[],ze=0;ze<ve;ze++)Se.push(oe.a[ze].replace(/ /g,"+"));return ve=oe.c+"?family="+Se.join("%7C"),0<oe.f.length&&(ve+="&subset="+oe.f.join(",")),0<oe.g.length&&(ve+="&text="+encodeURIComponent(oe.g)),ve}function We(oe){this.f=oe,this.a=[],this.c={}}var re={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},V={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},j={i:"i",italic:"i",n:"n",normal:"n"},he=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Me(oe){for(var ve=oe.f.length,Se=0;Se<ve;Se++){var ze=oe.f[Se].split(":"),Le=ze[0].replace(/\+/g," "),Ge=["n4"];if(2<=ze.length){var Ve,nt=ze[1];if(Ve=[],nt)for(var nt=nt.split(","),qe=nt.length,Ne=0;Ne<qe;Ne++){var ae;if(ae=nt[Ne],ae.match(/^[\w-]+$/)){var Fe=he.exec(ae.toLowerCase());if(Fe==null)ae="";else{if(ae=Fe[2],ae=ae==null||ae==""?"n":j[ae],Fe=Fe[1],Fe==null||Fe=="")Fe="4";else var Qe=V[Fe],Fe=Qe||(isNaN(Fe)?"4":Fe.substr(0,1));ae=[ae,Fe].join("")}}else ae="";ae&&Ve.push(ae)}0<Ve.length&&(Ge=Ve),ze.length==3&&(ze=ze[2],Ve=[],ze=ze?ze.split(","):Ve,0<ze.length&&(ze=re[ze[0]])&&(oe.c[Le]=ze))}for(oe.c[Le]||(ze=re[Le])&&(oe.c[Le]=ze),ze=0;ze<Ge.length;ze+=1)oe.a.push(new g(Le,Ge[ze]))}}function Te(oe,ve){this.c=oe,this.a=ve}var Ie={Arimo:!0,Cousine:!0,Tinos:!0};Te.prototype.load=function(oe){var ve=new x,Se=this.c,ze=new _e(this.a.api,this.a.text),Le=this.a.families;Ce(ze,Le);var Ge=new We(Le);Me(Ge),p(Se,Be(ze),M(ve)),A(ve,function(){oe(Ge.a,Ge.c,Ie)})};function Ze(oe,ve){this.c=oe,this.a=ve}Ze.prototype.load=function(oe){var ve=this.a.id,Se=this.c.o;ve?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+ve+".js",function(ze){if(ze)oe([]);else if(Se.Typekit&&Se.Typekit.config&&Se.Typekit.config.fn){ze=Se.Typekit.config.fn;for(var Le=[],Ge=0;Ge<ze.length;Ge+=2)for(var Ve=ze[Ge],nt=ze[Ge+1],qe=0;qe<nt.length;qe++)Le.push(new g(Ve,nt[qe]));try{Se.Typekit.load({events:!1,classes:!1,async:!0})}catch{}oe(Le)}},2e3):oe([])};function at(oe,ve){this.c=oe,this.f=ve,this.a=[]}at.prototype.load=function(oe){var ve=this.f.id,Se=this.c.o,ze=this;ve?(Se.__webfontfontdeckmodule__||(Se.__webfontfontdeckmodule__={}),Se.__webfontfontdeckmodule__[ve]=function(Le,Ge){for(var Ve=0,nt=Ge.fonts.length;Ve<nt;++Ve){var qe=Ge.fonts[Ve];ze.a.push(new g(qe.name,R("font-weight:"+qe.weight+";font-style:"+qe.style)))}oe(ze.a)},d(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+h(this.c)+"/"+ve+".js",function(Le){Le&&oe([])})):oe([])};var et=new T(window);et.a.c.custom=function(oe,ve){return new se(ve,oe)},et.a.c.fontdeck=function(oe,ve){return new at(ve,oe)},et.a.c.monotype=function(oe,ve){return new le(ve,oe)},et.a.c.typekit=function(oe,ve){return new Ze(ve,oe)},et.a.c.google=function(oe,ve){return new Te(ve,oe)};var it={load:a(et.load,et)};s.exports?s.exports=it:(window.WebFont=it,window.WebFontConfig&&et.load(window.WebFontConfig))})()})(webfontloader);var webfontloaderExports=webfontloader.exports;function create_if_block$9(s){let e=s[0].page,t,a,r=create_key_block$2(s);return{c(){r.c(),t=empty()},l(n){r.l(n),t=empty()},m(n,i){r.m(n,i),insert_hydration(n,t,i),a=!0},p(n,i){i&1&&safe_not_equal(e,e=n[0].page)?(group_outros(),transition_out(r,1,1,noop$1),check_outros(),r=create_key_block$2(n),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r.p(n,i)},i(n){a||(transition_in(r),a=!0)},o(n){transition_out(r),a=!1},d(n){n&&detach(t),r.d(n)}}}function create_key_block$2(s){let e,t,a,r;function n(l){s[4](l)}function i(l){s[5](l)}let o={};return s[2]!==void 0&&(o.page=s[2]),s[3]!==void 0&&(o.defaults=s[3]),e=new BasicTextPage({props:o}),binding_callbacks.push(()=>bind$1(e,"page",n)),binding_callbacks.push(()=>bind$1(e,"defaults",i)),{c(){create_component(e.$$.fragment)},l(l){claim_component(e.$$.fragment,l)},m(l,u){mount_component(e,l,u),r=!0},p(l,u){const m={};!t&&u&4&&(t=!0,m.page=l[2],add_flush_callback(()=>t=!1)),!a&&u&8&&(a=!0,m.defaults=l[3],add_flush_callback(()=>a=!1)),e.$set(m)},i(l){r||(transition_in(e.$$.fragment,l),r=!0)},o(l){transition_out(e.$$.fragment,l),r=!1},d(l){destroy_component(e,l)}}}function create_fragment$l(s){let e,t,a=s[1]&&create_if_block$9(s);return{c(){a&&a.c(),e=empty()},l(r){a&&a.l(r),e=empty()},m(r,n){a&&a.m(r,n),insert_hydration(r,e,n),t=!0},p(r,[n]){r[1]?a?(a.p(r,n),n&2&&transition_in(a,1)):(a=create_if_block$9(r),a.c(),transition_in(a,1),a.m(e.parentNode,e)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(r){t||(transition_in(a),t=!0)},o(r){transition_out(a),t=!1},d(r){r&&detach(e),a&&a.d(r)}}}function instance$j(s,e,t){let{props:a={src:"",page:0,autoAdvance:!1,defaultDuration:10}}=e,r=!1,n,i,o,l;onMount(async()=>{typeof a=="string"?t(0,a={src:a,page:0,autoAdvance:!1,defaultDuration:10}):t(0,a={src:a.src,page:a.page||0,autoAdvance:a.autoAdvance||!1,defaultDuration:a.defaultDuration||10}),await u()});async function u(){try{if(n=await(await fetch(a.src)).json(),t(3,o=n.defaults||{}),console.debug("Loaded data file:",n),a.page>=n.pages.length)throw`Invalid page number: ${a.page}`;n.googleFonts&&webfontloaderExports.load({google:{families:n.googleFonts}}),t(2,i=n.pages[a.page]),t(1,r=!0),a.autoAdvance&&m()}catch(d){console.error("Error loading data file:",d)}}onDestroy(()=>{c()});function m(){l&&clearInterval(l),console.log("Playing page:",i,"for",a.defaultDuration,"seconds"),l=setTimeout(async()=>{a.page+1>=n.pages.length?(await u(),t(0,a.page=0,a)):t(0,a.page++,a),t(2,i=n.pages[a.page]),m()},a.defaultDuration*1e3)}function c(){l&&clearInterval(l)}function h(d){i=d,t(2,i)}function p(d){o=d,t(3,o)}return s.$$set=d=>{"props"in d&&t(0,a=d.props)},[a,r,i,o,h,p]}class BasicText extends SvelteComponent{constructor(e){super(),init(this,e,instance$j,create_fragment$l,safe_not_equal,{props:0})}}var __defProp=Object.defineProperty,__defNormalProp=(s,e,t)=>e in s?__defProp(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,__publicField=(s,e,t)=>(__defNormalProp(s,typeof e!="symbol"?e+"":e,t),t);function _mergeNamespaces(s,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in s)){const n=Object.getOwnPropertyDescriptor(a,r);n&&Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}const systemCoreMap={gb:"mgba",gba:"mgba",gbc:"mgba",megadrive:"genesis_plus_gx",nes:"fceumm",snes:"snes9x"};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}const{hasOwnProperty}=Object.prototype,encode=(s,e={})=>{typeof e=="string"&&(e={section:e}),e.align=e.align===!0,e.newline=e.newline===!0,e.sort=e.sort===!0,e.whitespace=e.whitespace===!0||e.align===!0,e.platform=e.platform||typeof process<"u"&&process.platform,e.bracketedArray=e.bracketedArray!==!1;const t=e.platform==="win32"?`\r
`:`
`,a=e.whitespace?" = ":"=",r=[],n=e.sort?Object.keys(s).sort():Object.keys(s);let i=0;e.align&&(i=safe(n.filter(u=>s[u]===null||Array.isArray(s[u])||typeof s[u]!="object").map(u=>Array.isArray(s[u])?`${u}[]`:u).concat([""]).reduce((u,m)=>safe(u).length>=safe(m).length?u:m)).length);let o="";const l=e.bracketedArray?"[]":"";for(const u of n){const m=s[u];if(m&&Array.isArray(m))for(const c of m)o+=safe(`${u}${l}`).padEnd(i," ")+a+safe(c)+t;else m&&typeof m=="object"?r.push(u):o+=safe(u).padEnd(i," ")+a+safe(m)+t}e.section&&o.length&&(o="["+safe(e.section)+"]"+(e.newline?t+t:t)+o);for(const u of r){const m=splitSections(u,".").join("\\."),c=(e.section?e.section+".":"")+m,h=encode(s[u],{...e,section:c});o.length&&h.length&&(o+=t),o+=h}return o};function splitSections(s,e){var t=0,a=0,r=0,n=[];do if(r=s.indexOf(e,t),r!==-1){if(t=r+e.length,r>0&&s[r-1]==="\\")continue;n.push(s.slice(a,r)),a=r+e.length}while(r!==-1);return n.push(s.slice(a)),n}const decode=(s,e={})=>{e.bracketedArray=e.bracketedArray!==!1;const t=Object.create(null);let a=t,r=null;const n=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,i=s.split(/[\r\n]+/g),o={};for(const u of i){if(!u||u.match(/^\s*[;#]/)||u.match(/^\s*$/))continue;const m=u.match(n);if(!m)continue;if(m[1]!==void 0){if(r=unsafe(m[1]),r==="__proto__"){a=Object.create(null);continue}a=t[r]=t[r]||Object.create(null);continue}const c=unsafe(m[2]);let h;e.bracketedArray?h=c.length>2&&c.slice(-2)==="[]":(o[c]=((o==null?void 0:o[c])||0)+1,h=o[c]>1);const p=h?c.slice(0,-2):c;if(p==="__proto__")continue;const d=m[3]?unsafe(m[4]):!0,x=d==="true"||d==="false"||d==="null"?JSON.parse(d):d;h&&(hasOwnProperty.call(a,p)?Array.isArray(a[p])||(a[p]=[a[p]]):a[p]=[]),Array.isArray(a[p])?a[p].push(x):a[p]=x}const l=[];for(const u of Object.keys(t)){if(!hasOwnProperty.call(t,u)||typeof t[u]!="object"||Array.isArray(t[u]))continue;const m=splitSections(u,".");a=t;const c=m.pop(),h=c.replace(/\\\./g,".");for(const p of m)p!=="__proto__"&&((!hasOwnProperty.call(a,p)||typeof a[p]!="object")&&(a[p]=Object.create(null)),a=a[p]);a===t&&h===c||(a[h]=t[u],l.push(u))}for(const u of l)delete t[u];return t},isQuoted=s=>s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'"),safe=s=>typeof s!="string"||s.match(/[=\r\n]/)||s.match(/^\[/)||s.length>1&&isQuoted(s)||s!==s.trim()?JSON.stringify(s):s.split(";").join("\\;").split("#").join("\\#"),unsafe=s=>{if(s=(s||"").trim(),isQuoted(s)){s.charAt(0)==="'"&&(s=s.slice(1,-1));try{s=JSON.parse(s)}catch{}}else{let e=!1,t="";for(let a=0,r=s.length;a<r;a++){const n=s.charAt(a);if(e)"\\;#".indexOf(n)!==-1?t+=n:t+="\\"+n,e=!1;else{if(";#".indexOf(n)!==-1)break;n==="\\"?e=!0:t+=n}}return e&&(t+="\\"),t.trim()}return s};var ini={parse:decode,decode,stringify:encode,encode,safe,unsafe};const ini$1=getDefaultExportFromCjs(ini),coreInfoMap={81:{corename:"81",savestate:!0},2048:{corename:"2048",savestate:!0,supportsNoGame:!0},"3dengine":{corename:"3DEngine"},"4do":{corename:"4DO",savestate:!0},a5200:{corename:"a5200",savestate:!0},advanced_tests:{corename:"Advanced Test",supportsNoGame:!0},ardens:{corename:"Ardens",savestate:!0},arduous:{corename:"Arduous"},atari800:{corename:"Atari800",savestate:!0},bk:{corename:"bk",savestate:!0},blastem:{corename:"BlastEm",savestate:!0},bluemsx:{corename:"blueMSX",savestate:!0},bnes:{corename:"bnes/higan",savestate:!0},boom3:{corename:"boom3"},boom3_xp:{corename:"boom3_xp"},bsnes_cplusplus98:{cheats:!0,corename:"bsnes C++98 (v085)",savestate:!0},bsnes_hd_beta:{corename:"bsnes-hd beta",savestate:!0},bsnes:{corename:"bsnes",savestate:!0},bsnes_mercury_accuracy:{cheats:!0,corename:"bsnes-mercury Accuracy",savestate:!0},bsnes_mercury_balanced:{cheats:!0,corename:"bsnes-mercury Balanced",savestate:!0},bsnes_mercury_performance:{cheats:!0,corename:"bsnes-mercury Performance",savestate:!0},bsnes2014_accuracy:{cheats:!0,corename:"bsnes 2014 Accuracy",savestate:!0},bsnes2014_balanced:{cheats:!0,corename:"bsnes 2014 Balanced",savestate:!0},bsnes2014_performance:{cheats:!0,corename:"bsnes 2014 Performance",savestate:!0},cannonball:{corename:"Cannonball",supportsNoGame:!0},cap32:{corename:"Caprice32",savestate:!0,supportsNoGame:!0},cdi2015:{corename:"Philips CDi 2015"},chailove:{cheats:!0,corename:"ChaiLove",savestate:!0},chimerasnes:{cheats:!0,corename:"ChimeraSNES",savestate:!0},citra_canary:{corename:"Citra Canary/Experimental"},citra:{corename:"Citra",savestate:!0},citra2018:{corename:"Citra 2018"},craft:{corename:"Craft",supportsNoGame:!0},crocods:{corename:"CrocoDS",savestate:!0},cruzes:{corename:"Cruzes",supportsNoGame:!0},daphne:{corename:"Daphne"},desmume:{cheats:!0,corename:"DeSmuME",savestate:!0},desmume2015:{cheats:!0,corename:"DeSmuME 2015",savestate:!0},dinothawr:{corename:"Dinothawr",supportsNoGame:!0},directxbox:{corename:"DirectXBox"},dirksimple:{corename:"DirkSimple",savestate:!0},dolphin_launcher:{corename:"Dolphin Launcher",supportsNoGame:!0},dolphin:{corename:"Dolphin",savestate:!0},dosbox_core:{corename:"DOSBox-core",supportsNoGame:!0},dosbox:{corename:"DOSBox",supportsNoGame:!0},dosbox_pure:{cheats:!0,corename:"DOSBox-pure",savestate:!0,supportsNoGame:!0},dosbox_svn_ce:{corename:"DOSBox-SVN CE",supportsNoGame:!0},dosbox_svn:{corename:"DOSBox-SVN",supportsNoGame:!0},duckstation:{corename:"DuckStation",savestate:!0},easyrpg:{corename:"EasyRPG Player"},ecwolf:{corename:"ECWolf",savestate:!0},emuscv:{corename:"EmuSCV",supportsNoGame:!0},emux_chip8:{corename:"Emux CHIP-8"},emux_gb:{corename:"Emux GB"},emux_nes:{corename:"Emux NES"},emux_sms:{corename:"Emux SMS"},ep128emu_core:{cheats:!0,corename:"ep128emu-core",savestate:!0,supportsNoGame:!0},fake08:{corename:"FAKE-08",savestate:!0},fbalpha2012_cps1:{corename:"FB Alpha 2012 CPS-1",savestate:!0},fbalpha2012_cps2:{corename:"FB Alpha 2012 CPS-2",savestate:!0},fbalpha2012_cps3:{corename:"FB Alpha 2012 CPS-3",savestate:!0},fbalpha2012:{corename:"FB Alpha 2012",savestate:!0},fbalpha2012_neogeo:{corename:"FB Alpha 2012 Neo Geo",savestate:!0},fbneo:{cheats:!0,corename:"FinalBurn Neo",savestate:!0},fceumm:{cheats:!0,corename:"FCEUmm",savestate:!0},ffmpeg:{corename:"FFmpeg"},fixgb:{corename:"fixGB"},fixnes:{corename:"fixNES"},flycast_gles2:{corename:"Flycast GLES2",savestate:!0},flycast:{corename:"Flycast",savestate:!0},fmsx:{corename:"fMSX"},freechaf:{corename:"FreeChaF"},freeintv:{corename:"FreeIntv"},freej2me:{corename:"FreeJ2ME"},frodo:{corename:"Frodo"},fsuae:{corename:"FS-UAE"},fuse:{corename:"Fuse"},galaksija:{corename:"galaksija",supportsNoGame:!0},gambatte:{corename:"Gambatte",savestate:!0},gearboy:{corename:"Gearboy"},gearcoleco:{corename:"Gearcoleco"},gearsystem:{corename:"Gearsystem"},genesis_plus_gx:{cheats:!0,corename:"Genesis Plus GX",savestate:!0},genesis_plus_gx_wide:{cheats:!0,corename:"Genesis Plus GX Wide",savestate:!0},gme:{corename:"Game Music Emu"},gong:{corename:"Gong",savestate:!0,supportsNoGame:!0},gpsp:{corename:"gpSP",savestate:!0},gw:{corename:"GW"},handy:{corename:"Handy",savestate:!0},hatari:{corename:"Hatari",savestate:!0},hbmame:{corename:"HBMAME (Git)"},higan_sfc_balanced:{corename:"nSide (Super Famicom Balanced)",savestate:!0},higan_sfc:{corename:"nSide (Super Famicom Accuracy)",savestate:!0},imageviewer:{corename:"Imageviewer"},ishiiruka:{corename:"Ishiiruka",savestate:!0},jaxe:{corename:"JAXE"},jumpnbump:{corename:"jumpnbump"},kronos:{cheats:!0,corename:"Kronos",savestate:!0},lowresnx:{corename:"lowresnx"},lutro:{corename:"Lutro"},mame:{corename:"MAME",savestate:!0},mame2000:{corename:"MAME 2000 (0.37b5)",savestate:!0},mame2003:{corename:"MAME 2003 (0.78)",savestate:!0},mame2003_midway:{corename:"MAME 2003 Midway (0.78)",savestate:!0},mame2003_plus:{corename:"MAME 2003-Plus",savestate:!0},mame2009:{corename:"MAME 2009 (0.135u4)"},mame2010:{corename:"MAME 2010 (0.139)"},mame2015:{corename:"MAME 2015 (0.160)"},mame2016:{corename:"MAME 2016 (0.174)"},mamearcade:{corename:"MAME (Git)"},mamemess:{corename:"MESS (Git)",savestate:!0},mednafen_gba:{corename:"Beetle GBA"},mednafen_lynx:{corename:"Beetle Lynx"},mednafen_ngp:{corename:"Beetle NeoPop",savestate:!0},mednafen_pce_fast:{corename:"Beetle PCE Fast",savestate:!0},mednafen_pce:{corename:"Beetle PCE",savestate:!0},mednafen_pcfx:{corename:"Beetle PC-FX"},mednafen_psx_hw:{cheats:!0,corename:"Beetle PSX HW",savestate:!0},mednafen_psx:{cheats:!0,corename:"Beetle PSX",savestate:!0},mednafen_saturn:{cheats:!0,corename:"Beetle Saturn",savestate:!0},mednafen_snes:{corename:"Beetle bsnes",savestate:!0},mednafen_supafaust:{cheats:!0,corename:"Beetle Supafaust",savestate:!0},mednafen_supergrafx:{cheats:!0,corename:"Beetle SuperGrafx",savestate:!0},mednafen_vb:{corename:"Beetle VB"},mednafen_wswan:{corename:"Beetle WonderSwan",savestate:!0},melonds:{corename:"melonDS"},mesen:{cheats:!0,corename:"Mesen",savestate:!0},"mesen-s":{corename:"Mesen-S"},mess2015:{corename:"MESS 2015 (0.160)"},meteor:{corename:"Meteor"},mgba:{cheats:!0,corename:"mGBA",savestate:!0},minivmac:{corename:"MinivmacII"},mojozork:{corename:"mojozork",savestate:!0},moonlight:{corename:"Moonlight",supportsNoGame:!0},mpv:{corename:"MPV"},mrboom:{corename:"Mr.Boom",savestate:!0,supportsNoGame:!0},mu:{corename:"Mu",supportsNoGame:!0},mupen64plus_next_develop:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles2:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next_gles3:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},mupen64plus_next:{cheats:!0,corename:"Mupen64Plus-Next",savestate:!0},nekop2:{corename:"Neko Project II",savestate:!0},neocd:{corename:"NeoCD"},nes:{corename:"nes",savestate:!0},nestopia:{cheats:!0,corename:"Nestopia",savestate:!0},np2kai:{corename:"Neko Project II Kai",savestate:!0},numero:{corename:"Numero",savestate:!0,supportsNoGame:!0},nxengine:{corename:"NXEngine",supportsNoGame:!0},o2em:{corename:"O2EM",savestate:!0},oberon:{corename:"Oberon"},openlara:{corename:"OpenLara"},opentyrian:{corename:"OpenTyrian",supportsNoGame:!0},opera:{corename:"Opera",savestate:!0,supportsNoGame:!0},parallel_n64_debug:{corename:"ParaLLEl (Debug)",savestate:!0},parallel_n64:{corename:"ParaLLEl N64",savestate:!0},pascal_pong:{corename:"PascalPong",supportsNoGame:!0},pcem:{corename:"PCem",supportsNoGame:!0},pcsx_rearmed_interpreter:{cheats:!0,corename:"PCSX ReARMed [Interpreter]",savestate:!0},pcsx_rearmed:{cheats:!0,corename:"PCSX-ReARMed",savestate:!0},pcsx_rearmed_neon:{cheats:!0,corename:"PCSX ReARMed [NEON]",savestate:!0},pcsx1:{corename:"PCSX1"},pcsx2:{corename:"LRPS2",savestate:!0},picodrive:{cheats:!0,corename:"PicoDrive",savestate:!0},play:{corename:"Play!",savestate:!0},pocketcdg:{corename:"PocketCDG"},pokemini:{corename:"PokeMini",savestate:!0},potator:{corename:"Potator",savestate:!0},ppsspp:{corename:"PPSSPP",savestate:!0},prboom:{cheats:!0,corename:"PrBoom",savestate:!0},prosystem:{corename:"ProSystem",savestate:!0},puae:{cheats:!0,corename:"PUAE",savestate:!0,supportsNoGame:!0},puae2021:{cheats:!0,corename:"PUAE 2021",savestate:!0,supportsNoGame:!0},puzzlescript:{corename:"puzzlescript",savestate:!0},px68k:{corename:"PX68k",supportsNoGame:!0},quasi88:{cheats:!0,corename:"QUASI88",savestate:!0,supportsNoGame:!0},quicknes:{corename:"QuickNES",savestate:!0},race:{corename:"RACE",savestate:!0},redbook:{corename:"Redbook"},reminiscence:{corename:"REminiscence",savestate:!0},remotejoy:{corename:"RemoteJoy",supportsNoGame:!0},retro8:{corename:"Retro8"},retrodream:{corename:"RetroDream"},rustation:{corename:"Rustation"},same_cdi:{corename:"SAME CDi (Git)"},sameboy:{corename:"SameBoy"},sameduck:{corename:"SameDuck",savestate:!0},scummvm:{corename:"ScummVM",supportsNoGame:!0},simcp:{corename:"SimCoupe"},smsplus:{corename:"SMS Plus GX"},snes9x:{cheats:!0,corename:"Snes9x",savestate:!0},snes9x2002:{cheats:!0,corename:"Snes9x 2002",savestate:!0},snes9x2005:{cheats:!0,corename:"Snes9x 2005",savestate:!0},snes9x2005_plus:{cheats:!0,corename:"Snes9x 2005 Plus",savestate:!0},snes9x2010:{cheats:!0,corename:"Snes9x 2010",savestate:!0},squirreljme:{corename:"SquirrelJME",supportsNoGame:!0},stella:{corename:"Stella",savestate:!0},stella2014:{corename:"Stella 2014",savestate:!0},stonesoup:{corename:"Dungeon Crawl Stone Soup"},superbroswar:{corename:"superbroswar"},swanstation:{corename:"SwanStation",savestate:!0},tempgba:{corename:"TempGBA"},test:{corename:"Test",supportsNoGame:!0},test_netplay:{corename:"netplay-test",supportsNoGame:!0},testaudio_callback:{corename:"TestAudio Callback",supportsNoGame:!0},testaudio_no_callback:{corename:"TestAudio NoCallback",supportsNoGame:!0},testaudio_playback_wav:{corename:"TestAudio Playback Wav",supportsNoGame:!0},testgl_compute_shaders:{corename:"TestGL ComputeShaders",supportsNoGame:!0},testgl_ff:{corename:"TestGL (FF)",supportsNoGame:!0},testgl:{corename:"TestGL",supportsNoGame:!0},testinput_buttontest:{corename:"Button Test",supportsNoGame:!0},testretroluxury:{corename:"Test RetroLuxury",supportsNoGame:!0},testsw:{corename:"TestSW",supportsNoGame:!0},testsw_vram:{corename:"TestSW VRAM",supportsNoGame:!0},testvulkan_async_compute:{corename:"TestVulkan AsyncCompute",supportsNoGame:!0},testvulkan:{corename:"TestVulkan",supportsNoGame:!0},tgbdual:{corename:"TGB Dual",savestate:!0},theodore:{corename:"theodore",savestate:!0,supportsNoGame:!0},thepowdertoy:{corename:"ThePowderToy",savestate:!0,supportsNoGame:!0},tic80:{cheats:!0,corename:"TIC-80",savestate:!0},tyrquake:{cheats:!0,corename:"TyrQuake"},uae4arm:{corename:"UAE4ARM",savestate:!0},ume2015:{corename:"UME 2015 (0.160)"},uw8:{corename:"MicroW8",savestate:!0},uzem:{corename:"uzem",savestate:!0},vaporspec:{corename:"VaporSpec",savestate:!0},vba_next:{corename:"VBA Next",savestate:!0},vbam:{cheats:!0,corename:"VBA-M",savestate:!0},vecx:{corename:"vecx",savestate:!0},vemulator:{corename:"VeMUlator"},vice_x128:{cheats:!0,corename:"VICE x128",savestate:!0,supportsNoGame:!0},vice_x64:{cheats:!0,corename:"VICE x64",savestate:!0,supportsNoGame:!0},vice_x64dtv:{cheats:!0,corename:"VICE x64dtv",savestate:!0,supportsNoGame:!0},vice_x64sc:{cheats:!0,corename:"VICE x64sc",savestate:!0,supportsNoGame:!0},vice_xcbm2:{cheats:!0,corename:"VICE xcbm2",savestate:!0,supportsNoGame:!0},vice_xcbm5x0:{cheats:!0,corename:"VICE xcbm5x0",savestate:!0,supportsNoGame:!0},vice_xpet:{cheats:!0,corename:"VICE xpet",savestate:!0,supportsNoGame:!0},vice_xplus4:{cheats:!0,corename:"VICE xplus4",savestate:!0,supportsNoGame:!0},vice_xscpu64:{cheats:!0,corename:"VICE xscpu64",savestate:!0,supportsNoGame:!0},vice_xvic:{cheats:!0,corename:"VICE xvic",savestate:!0,supportsNoGame:!0},vircon32:{corename:"Vircon32",supportsNoGame:!0},virtualjaguar:{corename:"Virtual Jaguar"},virtualxt:{corename:"virtualxt"},vitaquake2:{corename:"vitaQuake 2"},"vitaquake2-rogue":{corename:"vitaQuake 2 [Rogue]"},"vitaquake2-xatrix":{corename:"vitaQuake 2 [Xatrix]"},"vitaquake2-zaero":{corename:"vitaQuake 2 [Zaero]"},vitaquake3:{corename:"vitaQuake 3"},vitavoyager:{corename:"vitaVoyager"},wasm4:{corename:"WASM-4",savestate:!0},x1:{corename:"x1"},x64sdl:{corename:"VICE SDL"},xrick:{corename:"XRick",supportsNoGame:!0},yabasanshiro:{cheats:!0,corename:"YabaSanshiro",savestate:!0},yabause:{cheats:!0,corename:"Yabause",savestate:!0}},keyboardCodeMap={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",enter:"Enter",kp_enter:"NumpadEnter",tab:"Tab",insert:"Insert",del:"Delete",end:"End",home:"Home",shift:"ShiftLeft",rshift:"ShiftRight",ctrl:"ControlLeft",alt:"AltLeft",space:"Space",escape:"Escape",add:"NumpadAdd",subtract:"NumpadSubtract",kp_plus:"NumpadAdd",kp_minus:"NumpadSubtract",pageup:"PageUp",pagedown:"PageDown",period:"Period",capslock:"CapsLock",numlock:"NumLock",backspace:"Backspace",multiply:"NumpadMultiply",divide:"NumpadDivide",print_screen:"PrintScreen",scroll_lock:"ScrollLock",tilde:"",backquote:"Backquote",pause:"Pause",quote:"Quote",comma:"Comma",minus:"Minus",slash:"Slash",semicolon:"Semicolon",equals:"Equal",leftbracket:"BracketLeft",backslash:"",rightbracket:"BracketRight",kp_period:"NumpadDecimal",kp_equals:"NumpadEquals",rctrl:"ControlRight",ralt:"AltRight"};var browserfs$2={exports:{}};(function(s,e){(function(a,r){s.exports=r()})(commonjsGlobal,function(){return function(t){var a={};function r(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=a,r.p="",r(0)}([function(t,a,r){(function(n,i,o,l){Object.defineProperty(a,"__esModule",{value:!0});var u=r(2),m=r(9),c;(function(b){b[b.EPERM=1]="EPERM",b[b.ENOENT=2]="ENOENT",b[b.EIO=5]="EIO",b[b.EBADF=9]="EBADF",b[b.EACCES=13]="EACCES",b[b.EBUSY=16]="EBUSY",b[b.EEXIST=17]="EEXIST",b[b.ENOTDIR=20]="ENOTDIR",b[b.EISDIR=21]="EISDIR",b[b.EINVAL=22]="EINVAL",b[b.EFBIG=27]="EFBIG",b[b.ENOSPC=28]="ENOSPC",b[b.EROFS=30]="EROFS",b[b.ENOTEMPTY=39]="ENOTEMPTY",b[b.ENOTSUP=95]="ENOTSUP"})(c||(c={}));var h={};h[c.EPERM]="Operation not permitted.",h[c.ENOENT]="No such file or directory.",h[c.EIO]="Input/output error.",h[c.EBADF]="Bad file descriptor.",h[c.EACCES]="Permission denied.",h[c.EBUSY]="Resource busy or locked.",h[c.EEXIST]="File exists.",h[c.ENOTDIR]="File is not a directory.",h[c.EISDIR]="File is a directory.",h[c.EINVAL]="Invalid argument.",h[c.EFBIG]="File is too big.",h[c.ENOSPC]="No space left on disk.",h[c.EROFS]="Cannot modify a read-only file system.",h[c.ENOTEMPTY]="Directory is not empty.",h[c.ENOTSUP]="Operation is not supported.";var p=function(b){function _(v,f,y){f===void 0&&(f=h[v]),b.call(this,f),this.syscall="",this.errno=v,this.code=c[v],this.path=y,this.stack=new b().stack,this.message="Error: "+this.code+": "+f+(this.path?", '"+this.path+"'":"")}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.fromJSON=function(f){var y=new _(0);return y.errno=f.errno,y.code=f.code,y.path=f.path,y.stack=f.stack,y.message=f.message,y},_.fromBuffer=function(f,y){return y===void 0&&(y=0),_.fromJSON(JSON.parse(f.toString("utf8",y+4,y+4+f.readUInt32LE(y))))},_.FileError=function(f,y){return new _(f,h[f],y)},_.ENOENT=function(f){return this.FileError(c.ENOENT,f)},_.EEXIST=function(f){return this.FileError(c.EEXIST,f)},_.EISDIR=function(f){return this.FileError(c.EISDIR,f)},_.ENOTDIR=function(f){return this.FileError(c.ENOTDIR,f)},_.EPERM=function(f){return this.FileError(c.EPERM,f)},_.ENOTEMPTY=function(f){return this.FileError(c.ENOTEMPTY,f)},_.prototype.toString=function(){return this.message},_.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},_.prototype.writeToBuffer=function(f,y){f===void 0&&(f=n.alloc(this.bufferSize())),y===void 0&&(y=0);var z=f.write(JSON.stringify(this.toJSON()),y+4);return f.writeUInt32LE(z,y),f},_.prototype.bufferSize=function(){return 4+n.byteLength(JSON.stringify(this.toJSON()))},_}(Error),d=Object.freeze({get ErrorCode(){return c},ErrorStrings:h,ApiError:p}),x;(function(b){b[b.NOP=0]="NOP",b[b.THROW_EXCEPTION=1]="THROW_EXCEPTION",b[b.TRUNCATE_FILE=2]="TRUNCATE_FILE",b[b.CREATE_FILE=3]="CREATE_FILE"})(x||(x={}));var M=function b(_){if(this.flagStr=_,b.validFlagStrs.indexOf(_)<0)throw new p(c.EINVAL,"Invalid flag: "+_)};M.getFileFlag=function(_){return M.flagCache.hasOwnProperty(_)?M.flagCache[_]:M.flagCache[_]=new M(_)},M.prototype.getFlagString=function(){return this.flagStr},M.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},M.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},M.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},M.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},M.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},M.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},M.prototype.pathExistsAction=function(){return this.isExclusive()?x.THROW_EXCEPTION:this.isTruncating()?x.TRUNCATE_FILE:x.NOP},M.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?x.CREATE_FILE:x.THROW_EXCEPTION},M.flagCache={},M.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var A;(function(b){b[b.FILE=32768]="FILE",b[b.DIRECTORY=16384]="DIRECTORY",b[b.SYMLINK=40960]="SYMLINK"})(A||(A={}));var w=function(_,v,f,y,z,C){if(y===void 0&&(y=new Date),z===void 0&&(z=new Date),C===void 0&&(C=new Date),this.size=v,this.atime=y,this.mtime=z,this.ctime=C,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,f)this.mode=f;else switch(_){case A.FILE:this.mode=420;break;case A.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(v/512),this.mode<4096&&(this.mode|=_)};w.fromBuffer=function(_){var v=_.readUInt32LE(0),f=_.readUInt32LE(4),y=_.readDoubleLE(8),z=_.readDoubleLE(16),C=_.readDoubleLE(24);return new w(f&61440,v,f&4095,new Date(y),new Date(z),new Date(C))},w.prototype.toBuffer=function(){var _=n.alloc(32);return _.writeUInt32LE(this.size,0),_.writeUInt32LE(this.mode,4),_.writeDoubleLE(this.atime.getTime(),8),_.writeDoubleLE(this.mtime.getTime(),16),_.writeDoubleLE(this.ctime.getTime(),24),_},w.prototype.clone=function(){return new w(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},w.prototype.isFile=function(){return(this.mode&61440)===A.FILE},w.prototype.isDirectory=function(){return(this.mode&61440)===A.DIRECTORY},w.prototype.isSymbolicLink=function(){return(this.mode&61440)===A.SYMLINK},w.prototype.chmod=function(_){this.mode=this.mode&61440|_},w.prototype.isSocket=function(){return!1},w.prototype.isBlockDevice=function(){return!1},w.prototype.isCharacterDevice=function(){return!1},w.prototype.isFIFO=function(){return!1};var E=function(b,_){return b};function g(b){if(b)return b;throw new p(c.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function q(b,_){switch(typeof b){case"number":return b;case"string":var v=parseInt(b,8);return isNaN(v)?_:v;default:return _}}function k(b){if(b instanceof Date)return b;if(typeof b=="number")return new Date(b*1e3);throw new p(c.EINVAL,"Invalid time.")}function L(b){if(b.indexOf("\0")>=0)throw new p(c.EINVAL,"Path must be a string without null bytes.");if(b==="")throw new p(c.EINVAL,"Path must not be empty.");return m.resolve(b)}function S(b,_,v,f){switch(typeof b){case"object":return{encoding:typeof b.encoding<"u"?b.encoding:_,flag:typeof b.flag<"u"?b.flag:v,mode:q(b.mode,f)};case"string":return{encoding:b,flag:v,mode:f};default:return{encoding:_,flag:v,mode:f}}}function R(){}var D=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};D.prototype.initialize=function(_){if(!_.constructor.isAvailable())throw new p(c.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=_},D.prototype._toUnixTimestamp=function(_){if(typeof _=="number")return _;if(_ instanceof Date)return _.getTime()/1e3;throw new Error("Cannot parse time: "+_)},D.prototype.getRootFS=function(){return this.root?this.root:null},D.prototype.rename=function(_,v,f){f===void 0&&(f=R);var y=E(f,1);try{g(this.root).rename(L(_),L(v),y)}catch(z){y(z)}},D.prototype.renameSync=function(_,v){g(this.root).renameSync(L(_),L(v))},D.prototype.exists=function(_,v){v===void 0&&(v=R);var f=E(v,1);try{return g(this.root).exists(L(_),f)}catch{return f(!1)}},D.prototype.existsSync=function(_){try{return g(this.root).existsSync(L(_))}catch{return!1}},D.prototype.stat=function(_,v){v===void 0&&(v=R);var f=E(v,2);try{return g(this.root).stat(L(_),!1,f)}catch(y){return f(y)}},D.prototype.statSync=function(_){return g(this.root).statSync(L(_),!1)},D.prototype.lstat=function(_,v){v===void 0&&(v=R);var f=E(v,2);try{return g(this.root).stat(L(_),!0,f)}catch(y){return f(y)}},D.prototype.lstatSync=function(_){return g(this.root).statSync(L(_),!0)},D.prototype.truncate=function(_,v,f){v===void 0&&(v=0),f===void 0&&(f=R);var y=0;typeof v=="function"?f=v:typeof v=="number"&&(y=v);var z=E(f,1);try{if(y<0)throw new p(c.EINVAL);return g(this.root).truncate(L(_),y,z)}catch(C){return z(C)}},D.prototype.truncateSync=function(_,v){if(v===void 0&&(v=0),v<0)throw new p(c.EINVAL);return g(this.root).truncateSync(L(_),v)},D.prototype.unlink=function(_,v){v===void 0&&(v=R);var f=E(v,1);try{return g(this.root).unlink(L(_),f)}catch(y){return f(y)}},D.prototype.unlinkSync=function(_){return g(this.root).unlinkSync(L(_))},D.prototype.open=function(_,v,f,y){var z=this;y===void 0&&(y=R);var C=q(f,420);y=typeof f=="function"?f:y;var F=E(y,2);try{g(this.root).open(L(_),M.getFileFlag(v),C,function(K,ne){ne?F(K,z.getFdForFile(ne)):F(K)})}catch(K){F(K)}},D.prototype.openSync=function(_,v,f){return f===void 0&&(f=420),this.getFdForFile(g(this.root).openSync(L(_),M.getFileFlag(v),q(f,420)))},D.prototype.readFile=function(_,v,f){v===void 0&&(v={}),f===void 0&&(f=R);var y=S(v,null,"r",null);f=typeof v=="function"?v:f;var z=E(f,2);try{var C=M.getFileFlag(y.flag);return C.isReadable()?g(this.root).readFile(L(_),y.encoding,C,z):z(new p(c.EINVAL,"Flag passed to readFile must allow for reading."))}catch(F){return z(F)}},D.prototype.readFileSync=function(_,v){v===void 0&&(v={});var f=S(v,null,"r",null),y=M.getFileFlag(f.flag);if(!y.isReadable())throw new p(c.EINVAL,"Flag passed to readFile must allow for reading.");return g(this.root).readFileSync(L(_),f.encoding,y)},D.prototype.writeFile=function(_,v,f,y){f===void 0&&(f={}),y===void 0&&(y=R);var z=S(f,"utf8","w",420);y=typeof f=="function"?f:y;var C=E(y,1);try{var F=M.getFileFlag(z.flag);return F.isWriteable()?g(this.root).writeFile(L(_),v,z.encoding,F,z.mode,C):C(new p(c.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(K){return C(K)}},D.prototype.writeFileSync=function(_,v,f){var y=S(f,"utf8","w",420),z=M.getFileFlag(y.flag);if(!z.isWriteable())throw new p(c.EINVAL,"Flag passed to writeFile must allow for writing.");return g(this.root).writeFileSync(L(_),v,y.encoding,z,y.mode)},D.prototype.appendFile=function(_,v,f,y){y===void 0&&(y=R);var z=S(f,"utf8","a",420);y=typeof f=="function"?f:y;var C=E(y,1);try{var F=M.getFileFlag(z.flag);if(!F.isAppendable())return C(new p(c.EINVAL,"Flag passed to appendFile must allow for appending."));g(this.root).appendFile(L(_),v,z.encoding,F,z.mode,C)}catch(K){C(K)}},D.prototype.appendFileSync=function(_,v,f){var y=S(f,"utf8","a",420),z=M.getFileFlag(y.flag);if(!z.isAppendable())throw new p(c.EINVAL,"Flag passed to appendFile must allow for appending.");return g(this.root).appendFileSync(L(_),v,y.encoding,z,y.mode)},D.prototype.fstat=function(_,v){v===void 0&&(v=R);var f=E(v,2);try{var y=this.fd2file(_);y.stat(f)}catch(z){f(z)}},D.prototype.fstatSync=function(_){return this.fd2file(_).statSync()},D.prototype.close=function(_,v){var f=this;v===void 0&&(v=R);var y=E(v,1);try{this.fd2file(_).close(function(z){z||f.closeFd(_),y(z)})}catch(z){y(z)}},D.prototype.closeSync=function(_){this.fd2file(_).closeSync(),this.closeFd(_)},D.prototype.ftruncate=function(_,v,f){f===void 0&&(f=R);var y=typeof v=="number"?v:0;f=typeof v=="function"?v:f;var z=E(f,1);try{var C=this.fd2file(_);if(y<0)throw new p(c.EINVAL);C.truncate(y,z)}catch(F){z(F)}},D.prototype.ftruncateSync=function(_,v){v===void 0&&(v=0);var f=this.fd2file(_);if(v<0)throw new p(c.EINVAL);f.truncateSync(v)},D.prototype.fsync=function(_,v){v===void 0&&(v=R);var f=E(v,1);try{this.fd2file(_).sync(f)}catch(y){f(y)}},D.prototype.fsyncSync=function(_){this.fd2file(_).syncSync()},D.prototype.fdatasync=function(_,v){v===void 0&&(v=R);var f=E(v,1);try{this.fd2file(_).datasync(f)}catch(y){f(y)}},D.prototype.fdatasyncSync=function(_){this.fd2file(_).datasyncSync()},D.prototype.write=function(_,v,f,y,z,C){C===void 0&&(C=R);var F,K,ne,be=null;if(typeof v=="string"){var Ee="utf8";switch(typeof f){case"function":C=f;break;case"number":be=f,Ee=typeof y=="string"?y:"utf8",C=typeof z=="function"?z:C;break;default:return C=typeof y=="function"?y:typeof z=="function"?z:C,C(new p(c.EINVAL,"Invalid arguments."))}F=n.from(v,Ee),K=0,ne=F.length}else F=v,K=f,ne=y,be=typeof z=="number"?z:null,C=typeof z=="function"?z:C;var Re=E(C,3);try{var Ue=this.fd2file(_);be==null&&(be=Ue.getPos()),Ue.write(F,K,ne,be,Re)}catch(Xe){Re(Xe)}},D.prototype.writeSync=function(_,v,f,y,z){var C,F=0,K,ne;if(typeof v=="string"){ne=typeof f=="number"?f:null;var be=typeof y=="string"?y:"utf8";F=0,C=n.from(v,be),K=C.length}else C=v,F=f,K=y,ne=typeof z=="number"?z:null;var Ee=this.fd2file(_);return ne==null&&(ne=Ee.getPos()),Ee.writeSync(C,F,K,ne)},D.prototype.read=function(_,v,f,y,z,C){C===void 0&&(C=R);var F,K,ne,be,Ee;if(typeof v=="number"){ne=v,F=f;var Re=y;C=typeof z=="function"?z:C,K=0,be=n.alloc(ne),Ee=E(function(Xe,Ke,tt){if(Xe)return C(Xe);C(Xe,tt.toString(Re),Ke)},3)}else be=v,K=f,ne=y,F=z,Ee=E(C,3);try{var Ue=this.fd2file(_);F==null&&(F=Ue.getPos()),Ue.read(be,K,ne,F,Ee)}catch(Xe){Ee(Xe)}},D.prototype.readSync=function(_,v,f,y,z){var C=!1,F,K,ne,be,Ee="utf8";typeof v=="number"?(ne=v,be=f,Ee=y,K=0,F=n.alloc(ne),C=!0):(F=v,K=f,ne=y,be=z);var Re=this.fd2file(_);be==null&&(be=Re.getPos());var Ue=Re.readSync(F,K,ne,be);return C?[F.toString(Ee),Ue]:Ue},D.prototype.fchown=function(_,v,f,y){y===void 0&&(y=R);var z=E(y,1);try{this.fd2file(_).chown(v,f,z)}catch(C){z(C)}},D.prototype.fchownSync=function(_,v,f){this.fd2file(_).chownSync(v,f)},D.prototype.fchmod=function(_,v,f){var y=E(f,1);try{var z=typeof v=="string"?parseInt(v,8):v;this.fd2file(_).chmod(z,y)}catch(C){y(C)}},D.prototype.fchmodSync=function(_,v){var f=typeof v=="string"?parseInt(v,8):v;this.fd2file(_).chmodSync(f)},D.prototype.futimes=function(_,v,f,y){y===void 0&&(y=R);var z=E(y,1);try{var C=this.fd2file(_);typeof v=="number"&&(v=new Date(v*1e3)),typeof f=="number"&&(f=new Date(f*1e3)),C.utimes(v,f,z)}catch(F){z(F)}},D.prototype.futimesSync=function(_,v,f){this.fd2file(_).utimesSync(k(v),k(f))},D.prototype.rmdir=function(_,v){v===void 0&&(v=R);var f=E(v,1);try{_=L(_),g(this.root).rmdir(_,f)}catch(y){f(y)}},D.prototype.rmdirSync=function(_){return _=L(_),g(this.root).rmdirSync(_)},D.prototype.mkdir=function(_,v,f){f===void 0&&(f=R),typeof v=="function"&&(f=v,v=511);var y=E(f,1);try{_=L(_),g(this.root).mkdir(_,v,y)}catch(z){y(z)}},D.prototype.mkdirSync=function(_,v){g(this.root).mkdirSync(L(_),q(v,511))},D.prototype.readdir=function(_,v){v===void 0&&(v=R);var f=E(v,2);try{_=L(_),g(this.root).readdir(_,f)}catch(y){f(y)}},D.prototype.readdirSync=function(_){return _=L(_),g(this.root).readdirSync(_)},D.prototype.link=function(_,v,f){f===void 0&&(f=R);var y=E(f,1);try{_=L(_),v=L(v),g(this.root).link(_,v,y)}catch(z){y(z)}},D.prototype.linkSync=function(_,v){return _=L(_),v=L(v),g(this.root).linkSync(_,v)},D.prototype.symlink=function(_,v,f,y){y===void 0&&(y=R);var z=typeof f=="string"?f:"file";y=typeof f=="function"?f:y;var C=E(y,1);try{if(z!=="file"&&z!=="dir")return C(new p(c.EINVAL,"Invalid type: "+z));_=L(_),v=L(v),g(this.root).symlink(_,v,z,C)}catch(F){C(F)}},D.prototype.symlinkSync=function(_,v,f){if(!f)f="file";else if(f!=="file"&&f!=="dir")throw new p(c.EINVAL,"Invalid type: "+f);return _=L(_),v=L(v),g(this.root).symlinkSync(_,v,f)},D.prototype.readlink=function(_,v){v===void 0&&(v=R);var f=E(v,2);try{_=L(_),g(this.root).readlink(_,f)}catch(y){f(y)}},D.prototype.readlinkSync=function(_){return _=L(_),g(this.root).readlinkSync(_)},D.prototype.chown=function(_,v,f,y){y===void 0&&(y=R);var z=E(y,1);try{_=L(_),g(this.root).chown(_,!1,v,f,z)}catch(C){z(C)}},D.prototype.chownSync=function(_,v,f){_=L(_),g(this.root).chownSync(_,!1,v,f)},D.prototype.lchown=function(_,v,f,y){y===void 0&&(y=R);var z=E(y,1);try{_=L(_),g(this.root).chown(_,!0,v,f,z)}catch(C){z(C)}},D.prototype.lchownSync=function(_,v,f){_=L(_),g(this.root).chownSync(_,!0,v,f)},D.prototype.chmod=function(_,v,f){f===void 0&&(f=R);var y=E(f,1);try{var z=q(v,-1);if(z<0)throw new p(c.EINVAL,"Invalid mode.");g(this.root).chmod(L(_),!1,z,y)}catch(C){y(C)}},D.prototype.chmodSync=function(_,v){var f=q(v,-1);if(f<0)throw new p(c.EINVAL,"Invalid mode.");_=L(_),g(this.root).chmodSync(_,!1,f)},D.prototype.lchmod=function(_,v,f){f===void 0&&(f=R);var y=E(f,1);try{var z=q(v,-1);if(z<0)throw new p(c.EINVAL,"Invalid mode.");g(this.root).chmod(L(_),!0,z,y)}catch(C){y(C)}},D.prototype.lchmodSync=function(_,v){var f=q(v,-1);if(f<1)throw new p(c.EINVAL,"Invalid mode.");g(this.root).chmodSync(L(_),!0,f)},D.prototype.utimes=function(_,v,f,y){y===void 0&&(y=R);var z=E(y,1);try{g(this.root).utimes(L(_),k(v),k(f),z)}catch(C){z(C)}},D.prototype.utimesSync=function(_,v,f){g(this.root).utimesSync(L(_),k(v),k(f))},D.prototype.realpath=function(_,v,f){f===void 0&&(f=R);var y=typeof v=="object"?v:{};f=typeof v=="function"?v:R;var z=E(f,2);try{_=L(_),g(this.root).realpath(_,y,z)}catch(C){z(C)}},D.prototype.realpathSync=function(_,v){return v===void 0&&(v={}),_=L(_),g(this.root).realpathSync(_,v)},D.prototype.watchFile=function(_,v,f){throw new p(c.ENOTSUP)},D.prototype.unwatchFile=function(_,v){throw new p(c.ENOTSUP)},D.prototype.watch=function(_,v,f){throw new p(c.ENOTSUP)},D.prototype.access=function(_,v,f){throw new p(c.ENOTSUP)},D.prototype.accessSync=function(_,v){throw new p(c.ENOTSUP)},D.prototype.createReadStream=function(_,v){throw new p(c.ENOTSUP)},D.prototype.createWriteStream=function(_,v){throw new p(c.ENOTSUP)},D.prototype.wrapCallbacks=function(_){E=_},D.prototype.getFdForFile=function(_){var v=this.nextFd++;return this.fdMap[v]=_,v},D.prototype.fd2file=function(_){var v=this.fdMap[_];if(v)return v;throw new p(c.EBADF,"Invalid file descriptor.")},D.prototype.closeFd=function(_){delete this.fdMap[_]},D.Stats=w;var B=new D,N={},Q=D.prototype;Object.keys(Q).forEach(function(b){typeof B[b]=="function"?N[b]=function(){return B[b].apply(B,arguments)}:N[b]=B[b]}),N.changeFSModule=function(b){B=b},N.getFSModule=function(){return B},N.FS=D;function P(b,_,v,f,y){return b<_||v<_?b>v?v+1:b+1:f===y?_:_+1}function U(b,_){if(b===_)return 0;if(b.length>_.length){var v=b;b=_,_=v}for(var f=b.length,y=_.length;f>0&&b.charCodeAt(f-1)===_.charCodeAt(y-1);)f--,y--;for(var z=0;z<f&&b.charCodeAt(z)===_.charCodeAt(z);)z++;if(f-=z,y-=z,f===0||y===1)return y;for(var C=new Array(f<<1),F=0;F<f;)C[f+F]=b.charCodeAt(z+F),C[F]=++F;var K,ne,be,Ee,Re;for(K=0;K+3<y;)for(var Ue=_.charCodeAt(z+(ne=K)),Xe=_.charCodeAt(z+(be=K+1)),Ke=_.charCodeAt(z+(Ee=K+2)),tt=_.charCodeAt(z+(Re=K+3)),st=K+=4,wt=0;wt<f;){var It=C[f+wt],_a=C[wt];ne=P(_a,ne,be,Ue,It),be=P(ne,be,Ee,Xe,It),Ee=P(be,Ee,Re,Ke,It),st=P(Ee,Re,st,tt,It),C[wt++]=st,Re=Ee,Ee=be,be=ne,ne=_a}for(var fa=0;K<y;){var $a=_.charCodeAt(z+(ne=K));fa=++K;for(var wa=0;wa<f;wa++){var qa=C[wa];C[wa]=fa=qa<ne||fa<ne?qa>fa?fa+1:qa+1:$a===C[f+wa]?ne:ne+1,ne=qa}}return fa}function $(b,_,v){b&&console.warn("["+_+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+_+".Create("+JSON.stringify(v)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var J=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),me=typeof window>"u";function W(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function ee(b,_,v){v.existsSync(b)||(ee(m.dirname(b),_,v),v.mkdirSync(b,_))}function ue(b){var _=Z(b),v=_.byteOffset,f=_.byteLength;return v===0&&f===_.buffer.byteLength?_.buffer:_.buffer.slice(v,v+f)}function Z(b){return b instanceof Uint8Array?b:new Uint8Array(b)}function ie(b){return b instanceof n?b:b instanceof Uint8Array?fe(b):n.from(b)}function fe(b){return b instanceof n?b:b.byteOffset===0&&b.byteLength===b.buffer.byteLength?ye(b.buffer):n.from(b.buffer,b.byteOffset,b.byteLength)}function ye(b){return n.from(b)}function xe(b,_,v){if(_===void 0&&(_=0),v===void 0&&(v=b.length),_<0||v<0||v>b.length||_>v)throw new TypeError("Invalid slice bounds on buffer of length "+b.length+": ["+_+", "+v+"]");if(b.length===0)return Ae();var f=Z(b),y=b[0],z=(y+1)%255;return b[0]=z,f[0]===z?(f[0]=y,fe(f.slice(_,v))):(b[0]=y,fe(f.subarray(_,v)))}var ge=null;function Ae(){return ge||(ge=n.alloc(0))}function O(b,_){n.isBuffer(b)?_():_(new p(c.EINVAL,"option must be a Buffer."))}function Y(b,_,v){var f=b.Options,y=b.Name,z=0,C=!1,F=!1;function K(Re){C||(Re&&(C=!0,v(Re)),z--,z===0&&F&&v())}var ne=function(Re){if(f.hasOwnProperty(Re)){var Ue=f[Re],Xe=_[Re];if(Xe==null){if(!Ue.optional){var Ke=Object.keys(_).filter(function(st){return!(st in f)}).map(function(st){return{str:st,distance:U(Re,st)}}).filter(function(st){return st.distance<5}).sort(function(st,wt){return st.distance-wt.distance});return C?{}:(C=!0,{v:v(new p(c.EINVAL,"["+y+"] Required option '"+Re+"' not provided."+(Ke.length>0?" You provided unrecognized option '"+Ke[0].str+"'; perhaps you meant to type '"+Re+"'.":"")+`
Option description: `+Ue.description))})}}else{var tt=!1;if(Array.isArray(Ue.type)?tt=Ue.type.indexOf(typeof Xe)!==-1:tt=typeof Xe===Ue.type,tt)Ue.validator&&(z++,Ue.validator(Xe,K));else return C?{}:(C=!0,{v:v(new p(c.EINVAL,"["+y+"] Value provided for option "+Re+" is not the proper type. Expected "+(Array.isArray(Ue.type)?"one of {"+Ue.type.join(", ")+"}":Ue.type)+", but received "+typeof Xe+`
Option description: `+Ue.description))})}}};for(var be in f){var Ee=ne(be);if(Ee)return Ee.v}F=!0,z===0&&!C&&v()}var T=Object.freeze({deprecationMessage:$,isIE:J,isWebWorker:me,fail:W,mkdirpSync:ee,buffer2ArrayBuffer:ue,buffer2Uint8array:Z,arrayish2Buffer:ie,uint8Array2Buffer:fe,arrayBuffer2Buffer:ye,copyingSlice:xe,emptyBuffer:Ae,bufferValidator:O,checkOptions:Y}),I=function(_){this.fs=_,this.nodefs=_.getNodeFS(),this.FS=_.getFS(),this.PATH=_.getPATH(),this.ERRNO_CODES=_.getERRNO_CODES()};I.prototype.open=function(_){var v=this.fs.realPath(_.node),f=this.FS;try{f.isFile(_.node.mode)&&(_.nfd=this.nodefs.openSync(v,this.fs.flagsToPermissionString(_.flags)))}catch(y){throw y.code?new f.ErrnoError(this.ERRNO_CODES[y.code]):y}},I.prototype.close=function(_){var v=this.FS;try{v.isFile(_.node.mode)&&_.nfd&&this.nodefs.closeSync(_.nfd)}catch(f){throw f.code?new v.ErrnoError(this.ERRNO_CODES[f.code]):f}},I.prototype.read=function(_,v,f,y,z){try{return this.nodefs.readSync(_.nfd,fe(v),f,y,z)}catch(C){throw new this.FS.ErrnoError(this.ERRNO_CODES[C.code])}},I.prototype.write=function(_,v,f,y,z){try{return this.nodefs.writeSync(_.nfd,fe(v),f,y,z)}catch(C){throw new this.FS.ErrnoError(this.ERRNO_CODES[C.code])}},I.prototype.llseek=function(_,v,f){var y=v;if(f===1)y+=_.position;else if(f===2&&this.FS.isFile(_.node.mode))try{var z=this.nodefs.fstatSync(_.nfd);y+=z.size}catch(C){throw new this.FS.ErrnoError(this.ERRNO_CODES[C.code])}if(y<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return _.position=y,y};var X=function(_){this.fs=_,this.nodefs=_.getNodeFS(),this.FS=_.getFS(),this.PATH=_.getPATH(),this.ERRNO_CODES=_.getERRNO_CODES()};X.prototype.getattr=function(_){var v=this.fs.realPath(_),f;try{f=this.nodefs.lstatSync(v)}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}return{dev:f.dev,ino:f.ino,mode:f.mode,nlink:f.nlink,uid:f.uid,gid:f.gid,rdev:f.rdev,size:f.size,atime:f.atime,mtime:f.mtime,ctime:f.ctime,blksize:f.blksize,blocks:f.blocks}},X.prototype.setattr=function(_,v){var f=this.fs.realPath(_);try{if(v.mode!==void 0&&(this.nodefs.chmodSync(f,v.mode),_.mode=v.mode),v.timestamp!==void 0){var y=new Date(v.timestamp);this.nodefs.utimesSync(f,y,y)}}catch(z){if(!z.code)throw z;if(z.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[z.code])}if(v.size!==void 0)try{this.nodefs.truncateSync(f,v.size)}catch(z){throw z.code?new this.FS.ErrnoError(this.ERRNO_CODES[z.code]):z}},X.prototype.lookup=function(_,v){var f=this.PATH.join2(this.fs.realPath(_),v),y=this.fs.getMode(f);return this.fs.createNode(_,v,y)},X.prototype.mknod=function(_,v,f,y){var z=this.fs.createNode(_,v,f,y),C=this.fs.realPath(z);try{this.FS.isDir(z.mode)?this.nodefs.mkdirSync(C,z.mode):this.nodefs.writeFileSync(C,"",{mode:z.mode})}catch(F){throw F.code?new this.FS.ErrnoError(this.ERRNO_CODES[F.code]):F}return z},X.prototype.rename=function(_,v,f){var y=this.fs.realPath(_),z=this.PATH.join2(this.fs.realPath(v),f);try{this.nodefs.renameSync(y,z),_.name=f,_.parent=v}catch(C){throw C.code?new this.FS.ErrnoError(this.ERRNO_CODES[C.code]):C}},X.prototype.unlink=function(_,v){var f=this.PATH.join2(this.fs.realPath(_),v);try{this.nodefs.unlinkSync(f)}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}},X.prototype.rmdir=function(_,v){var f=this.PATH.join2(this.fs.realPath(_),v);try{this.nodefs.rmdirSync(f)}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}},X.prototype.readdir=function(_){var v=this.fs.realPath(_);try{var f=this.nodefs.readdirSync(v);return f.push(".",".."),f}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}},X.prototype.symlink=function(_,v,f){var y=this.PATH.join2(this.fs.realPath(_),v);try{this.nodefs.symlinkSync(f,y)}catch(z){throw z.code?new this.FS.ErrnoError(this.ERRNO_CODES[z.code]):z}},X.prototype.readlink=function(_){var v=this.fs.realPath(_);try{return this.nodefs.readlinkSync(v)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}};var le=function(_,v,f,y){_===void 0&&(_=self.FS),v===void 0&&(v=self.PATH),f===void 0&&(f=self.ERRNO_CODES),y===void 0&&(y=N),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=y,this.FS=_,this.PATH=v,this.ERRNO_CODES=f,this.node_ops=new X(this),this.stream_ops=new I(this)};le.prototype.mount=function(_){return this.createNode(null,"/",this.getMode(_.opts.root),0)},le.prototype.createNode=function(_,v,f,y){var z=this.FS;if(!z.isDir(f)&&!z.isFile(f)&&!z.isLink(f))throw new z.ErrnoError(this.ERRNO_CODES.EINVAL);var C=z.createNode(_,v,f);return C.node_ops=this.node_ops,C.stream_ops=this.stream_ops,C},le.prototype.getMode=function(_){var v;try{v=this.nodefs.lstatSync(_)}catch(f){throw f.code?new this.FS.ErrnoError(this.ERRNO_CODES[f.code]):f}return v.mode},le.prototype.realPath=function(_){for(var v=[];_.parent!==_;)v.push(_.name),_=_.parent;return v.push(_.mount.opts.root),v.reverse(),this.PATH.join.apply(null,v)},le.prototype.flagsToPermissionString=function(_){var v=typeof _=="string"?parseInt(_,10):_;return v&=8191,v in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[v]:_},le.prototype.getNodeFS=function(){return this.nodefs},le.prototype.getFS=function(){return this.FS},le.prototype.getPATH=function(){return this.PATH},le.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var se=function(){};se.prototype.supportsLinks=function(){return!1},se.prototype.diskSpace=function(_,v){v(0,0)},se.prototype.openFile=function(_,v,f){throw new p(c.ENOTSUP)},se.prototype.createFile=function(_,v,f,y){throw new p(c.ENOTSUP)},se.prototype.open=function(_,v,f,y){var z=this,C=function(F,K){if(F)switch(v.pathNotExistsAction()){case x.CREATE_FILE:return z.stat(m.dirname(_),!1,function(ne,be){ne?y(ne):be&&!be.isDirectory()?y(p.ENOTDIR(m.dirname(_))):z.createFile(_,v,f,y)});case x.THROW_EXCEPTION:return y(p.ENOENT(_));default:return y(new p(c.EINVAL,"Invalid FileFlag object."))}else{if(K&&K.isDirectory())return y(p.EISDIR(_));switch(v.pathExistsAction()){case x.THROW_EXCEPTION:return y(p.EEXIST(_));case x.TRUNCATE_FILE:return z.openFile(_,v,function(ne,be){ne?y(ne):be?be.truncate(0,function(){be.sync(function(){y(null,be)})}):W()});case x.NOP:return z.openFile(_,v,y);default:return y(new p(c.EINVAL,"Invalid FileFlag object."))}}};this.stat(_,!1,C)},se.prototype.rename=function(_,v,f){f(new p(c.ENOTSUP))},se.prototype.renameSync=function(_,v){throw new p(c.ENOTSUP)},se.prototype.stat=function(_,v,f){f(new p(c.ENOTSUP))},se.prototype.statSync=function(_,v){throw new p(c.ENOTSUP)},se.prototype.openFileSync=function(_,v,f){throw new p(c.ENOTSUP)},se.prototype.createFileSync=function(_,v,f){throw new p(c.ENOTSUP)},se.prototype.openSync=function(_,v,f){var y;try{y=this.statSync(_,!1)}catch{switch(v.pathNotExistsAction()){case x.CREATE_FILE:var z=this.statSync(m.dirname(_),!1);if(!z.isDirectory())throw p.ENOTDIR(m.dirname(_));return this.createFileSync(_,v,f);case x.THROW_EXCEPTION:throw p.ENOENT(_);default:throw new p(c.EINVAL,"Invalid FileFlag object.")}}if(y.isDirectory())throw p.EISDIR(_);switch(v.pathExistsAction()){case x.THROW_EXCEPTION:throw p.EEXIST(_);case x.TRUNCATE_FILE:return this.unlinkSync(_),this.createFileSync(_,v,y.mode);case x.NOP:return this.openFileSync(_,v,f);default:throw new p(c.EINVAL,"Invalid FileFlag object.")}},se.prototype.unlink=function(_,v){v(new p(c.ENOTSUP))},se.prototype.unlinkSync=function(_){throw new p(c.ENOTSUP)},se.prototype.rmdir=function(_,v){v(new p(c.ENOTSUP))},se.prototype.rmdirSync=function(_){throw new p(c.ENOTSUP)},se.prototype.mkdir=function(_,v,f){f(new p(c.ENOTSUP))},se.prototype.mkdirSync=function(_,v){throw new p(c.ENOTSUP)},se.prototype.readdir=function(_,v){v(new p(c.ENOTSUP))},se.prototype.readdirSync=function(_){throw new p(c.ENOTSUP)},se.prototype.exists=function(_,v){this.stat(_,null,function(f){v(!f)})},se.prototype.existsSync=function(_){try{return this.statSync(_,!0),!0}catch{return!1}},se.prototype.realpath=function(_,v,f){if(this.supportsLinks())for(var y=_.split(m.sep),z=0;z<y.length;z++){var C=y.slice(0,z+1);y[z]=m.join.apply(null,C)}else this.exists(_,function(F){F?f(null,_):f(p.ENOENT(_))})},se.prototype.realpathSync=function(_,v){if(this.supportsLinks()){for(var f=_.split(m.sep),y=0;y<f.length;y++){var z=f.slice(0,y+1);f[y]=m.join.apply(m,z)}return f.join(m.sep)}else{if(this.existsSync(_))return _;throw p.ENOENT(_)}},se.prototype.truncate=function(_,v,f){this.open(_,M.getFileFlag("r+"),420,function(y,z){if(y)return f(y);z.truncate(v,function(C){z.close(function(F){f(C||F)})})})},se.prototype.truncateSync=function(_,v){var f=this.openSync(_,M.getFileFlag("r+"),420);try{f.truncateSync(v)}catch(y){throw y}finally{f.closeSync()}},se.prototype.readFile=function(_,v,f,y){var z=y;this.open(_,f,420,function(C,F){if(C)return y(C);y=function(K,ne){F.close(function(be){return K||(K=be),z(K,ne)})},F.stat(function(K,ne){if(K)return y(K);var be=n.alloc(ne.size);F.read(be,0,ne.size,0,function(Ee){if(Ee)return y(Ee);if(v===null)return y(Ee,be);try{y(null,be.toString(v))}catch(Re){y(Re)}})})})},se.prototype.readFileSync=function(_,v,f){var y=this.openSync(_,f,420);try{var z=y.statSync(),C=n.alloc(z.size);return y.readSync(C,0,z.size,0),y.closeSync(),v===null?C:C.toString(v)}finally{y.closeSync()}},se.prototype.writeFile=function(_,v,f,y,z,C){var F=C;this.open(_,y,420,function(K,ne){if(K)return C(K);C=function(be){ne.close(function(Ee){F(be||Ee)})};try{typeof v=="string"&&(v=n.from(v,f))}catch(be){return C(be)}ne.write(v,0,v.length,0,C)})},se.prototype.writeFileSync=function(_,v,f,y,z){var C=this.openSync(_,y,z);try{typeof v=="string"&&(v=n.from(v,f)),C.writeSync(v,0,v.length,0)}finally{C.closeSync()}},se.prototype.appendFile=function(_,v,f,y,z,C){var F=C;this.open(_,y,z,function(K,ne){if(K)return C(K);C=function(be){ne.close(function(Ee){F(be||Ee)})},typeof v=="string"&&(v=n.from(v,f)),ne.write(v,0,v.length,null,C)})},se.prototype.appendFileSync=function(_,v,f,y,z){var C=this.openSync(_,y,z);try{typeof v=="string"&&(v=n.from(v,f)),C.writeSync(v,0,v.length,null)}finally{C.closeSync()}},se.prototype.chmod=function(_,v,f,y){y(new p(c.ENOTSUP))},se.prototype.chmodSync=function(_,v,f){throw new p(c.ENOTSUP)},se.prototype.chown=function(_,v,f,y,z){z(new p(c.ENOTSUP))},se.prototype.chownSync=function(_,v,f,y){throw new p(c.ENOTSUP)},se.prototype.utimes=function(_,v,f,y){y(new p(c.ENOTSUP))},se.prototype.utimesSync=function(_,v,f){throw new p(c.ENOTSUP)},se.prototype.link=function(_,v,f){f(new p(c.ENOTSUP))},se.prototype.linkSync=function(_,v){throw new p(c.ENOTSUP)},se.prototype.symlink=function(_,v,f,y){y(new p(c.ENOTSUP))},se.prototype.symlinkSync=function(_,v,f){throw new p(c.ENOTSUP)},se.prototype.readlink=function(_,v){v(new p(c.ENOTSUP))},se.prototype.readlinkSync=function(_){throw new p(c.ENOTSUP)};var _e=function(b){function _(){b.apply(this,arguments)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.supportsSynch=function(){return!0},_.prototype.rename=function(f,y,z){try{this.renameSync(f,y),z()}catch(C){z(C)}},_.prototype.stat=function(f,y,z){try{z(null,this.statSync(f,y))}catch(C){z(C)}},_.prototype.open=function(f,y,z,C){try{C(null,this.openSync(f,y,z))}catch(F){C(F)}},_.prototype.unlink=function(f,y){try{this.unlinkSync(f),y()}catch(z){y(z)}},_.prototype.rmdir=function(f,y){try{this.rmdirSync(f),y()}catch(z){y(z)}},_.prototype.mkdir=function(f,y,z){try{this.mkdirSync(f,y),z()}catch(C){z(C)}},_.prototype.readdir=function(f,y){try{y(null,this.readdirSync(f))}catch(z){y(z)}},_.prototype.chmod=function(f,y,z,C){try{this.chmodSync(f,y,z),C()}catch(F){C(F)}},_.prototype.chown=function(f,y,z,C,F){try{this.chownSync(f,y,z,C),F()}catch(K){F(K)}},_.prototype.utimes=function(f,y,z,C){try{this.utimesSync(f,y,z),C()}catch(F){C(F)}},_.prototype.link=function(f,y,z){try{this.linkSync(f,y),z()}catch(C){z(C)}},_.prototype.symlink=function(f,y,z,C){try{this.symlinkSync(f,y,z),C()}catch(F){C(F)}},_.prototype.readlink=function(f,y){try{y(null,this.readlinkSync(f))}catch(z){y(z)}},_}(se),we=function(){};we.prototype.sync=function(_){_(new p(c.ENOTSUP))},we.prototype.syncSync=function(){throw new p(c.ENOTSUP)},we.prototype.datasync=function(_){this.sync(_)},we.prototype.datasyncSync=function(){return this.syncSync()},we.prototype.chown=function(_,v,f){f(new p(c.ENOTSUP))},we.prototype.chownSync=function(_,v){throw new p(c.ENOTSUP)},we.prototype.chmod=function(_,v){v(new p(c.ENOTSUP))},we.prototype.chmodSync=function(_){throw new p(c.ENOTSUP)},we.prototype.utimes=function(_,v,f){f(new p(c.ENOTSUP))},we.prototype.utimesSync=function(_,v){throw new p(c.ENOTSUP)};var Ce=function(b){function _(v,f,y,z,C){if(b.call(this),this._pos=0,this._dirty=!1,this._fs=v,this._path=f,this._flag=y,this._stat=z,C?this._buffer=C:this._buffer=Ae(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.getBuffer=function(){return this._buffer},_.prototype.getStats=function(){return this._stat},_.prototype.getFlag=function(){return this._flag},_.prototype.getPath=function(){return this._path},_.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},_.prototype.advancePos=function(f){return this._pos+=f},_.prototype.setPos=function(f){return this._pos=f},_.prototype.sync=function(f){try{this.syncSync(),f()}catch(y){f(y)}},_.prototype.syncSync=function(){throw new p(c.ENOTSUP)},_.prototype.close=function(f){try{this.closeSync(),f()}catch(y){f(y)}},_.prototype.closeSync=function(){throw new p(c.ENOTSUP)},_.prototype.stat=function(f){try{f(null,this._stat.clone())}catch(y){f(y)}},_.prototype.statSync=function(){return this._stat.clone()},_.prototype.truncate=function(f,y){try{this.truncateSync(f),this._flag.isSynchronous()&&!N.getRootFS().supportsSynch()&&this.sync(y),y()}catch(z){return y(z)}},_.prototype.truncateSync=function(f){if(this._dirty=!0,!this._flag.isWriteable())throw new p(c.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,f>this._buffer.length){var y=n.alloc(f-this._buffer.length,0);this.writeSync(y,0,y.length,this._buffer.length),this._flag.isSynchronous()&&N.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=f;var z=n.alloc(f);this._buffer.copy(z,0,0,f),this._buffer=z,this._flag.isSynchronous()&&N.getRootFS().supportsSynch()&&this.syncSync()},_.prototype.write=function(f,y,z,C,F){try{F(null,this.writeSync(f,y,z,C),f)}catch(K){F(K)}},_.prototype.writeSync=function(f,y,z,C){if(this._dirty=!0,C==null&&(C=this.getPos()),!this._flag.isWriteable())throw new p(c.EPERM,"File not opened with a writeable mode.");var F=C+z;if(F>this._stat.size&&(this._stat.size=F,F>this._buffer.length)){var K=n.alloc(F);this._buffer.copy(K),this._buffer=K}var ne=f.copy(this._buffer,C,y,y+z);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),ne):(this.setPos(C+ne),ne)},_.prototype.read=function(f,y,z,C,F){try{F(null,this.readSync(f,y,z,C),f)}catch(K){F(K)}},_.prototype.readSync=function(f,y,z,C){if(!this._flag.isReadable())throw new p(c.EPERM,"File not opened with a readable mode.");C==null&&(C=this.getPos());var F=C+z;F>this._stat.size&&(z=this._stat.size-C);var K=this._buffer.copy(f,y,C,C+z);return this._stat.atime=new Date,this._pos=C+z,K},_.prototype.chmod=function(f,y){try{this.chmodSync(f),y()}catch(z){y(z)}},_.prototype.chmodSync=function(f){if(!this._fs.supportsProps())throw new p(c.ENOTSUP);this._dirty=!0,this._stat.chmod(f),this.syncSync()},_.prototype.isDirty=function(){return this._dirty},_.prototype.resetDirty=function(){this._dirty=!1},_}(we),Be=function(b){function _(v,f,y,z,C){b.call(this,v,f,y,z,C)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.sync=function(f){f()},_.prototype.syncSync=function(){},_.prototype.close=function(f){f()},_.prototype.closeSync=function(){},_}(Ce),We=function(b){function _(v,f,y,z,C){b.call(this,v,f,y,z,C)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},_.prototype.closeSync=function(){this.syncSync()},_}(Ce),re=function(b){function _(v,f,y){if(y===void 0&&(y=!0),b.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=v,this._async=f,!v.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");$(y,_.Name,{sync:"sync file system instance",async:"async file system instance"})}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){try{var z=new _(f.sync,f.async,!1);z.initialize(function(C){C?y(C):y(null,z)},!1)}catch(C){y(C)}},_.isAvailable=function(){return!0},_.prototype.getName=function(){return _.Name},_.prototype._syncSync=function(f){this._sync.writeFileSync(f.getPath(),f.getBuffer(),null,M.getFileFlag("w"),f.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[f.getPath(),f.getBuffer(),null,f.getFlag(),f.getStats().mode]})},_.prototype.initialize=function(f,y){var z=this;y===void 0&&(y=!0),y&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var C=this._initializeCallbacks,F=function(Ee){z._isInitialized=!Ee,z._initializeCallbacks=[],C.forEach(function(Re){return Re(Ee)})};if(this._isInitialized)f();else if(C.push(f)===1){var K=function(Ee,Re,Ue){Ee!=="/"&&z._sync.mkdirSync(Ee,Re),z._async.readdir(Ee,function(Xe,Ke){var tt=0;function st(wt){wt?Ue(wt):tt<Ke.length?(be(m.join(Ee,Ke[tt]),st),tt++):Ue()}Xe?Ue(Xe):st()})},ne=function(Ee,Re,Ue){z._async.readFile(Ee,null,M.getFileFlag("r"),function(Xe,Ke){if(Xe)Ue(Xe);else try{z._sync.writeFileSync(Ee,Ke,null,M.getFileFlag("w"),Re)}catch(tt){Xe=tt}finally{Ue(Xe)}})},be=function(Ee,Re){z._async.stat(Ee,!1,function(Ue,Xe){Ue?Re(Ue):Xe.isDirectory()?K(Ee,Xe.mode,Re):ne(Ee,Xe.mode,Re)})};K("/",0,F)}},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsSynch=function(){return!0},_.prototype.supportsLinks=function(){return!1},_.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},_.prototype.renameSync=function(f,y){this.checkInitialized(),this._sync.renameSync(f,y),this.enqueueOp({apiMethod:"rename",arguments:[f,y]})},_.prototype.statSync=function(f,y){return this.checkInitialized(),this._sync.statSync(f,y)},_.prototype.openSync=function(f,y,z){this.checkInitialized();var C=this._sync.openSync(f,y,z);return C.closeSync(),new We(this,f,y,this._sync.statSync(f,!1),this._sync.readFileSync(f,null,M.getFileFlag("r")))},_.prototype.unlinkSync=function(f){this.checkInitialized(),this._sync.unlinkSync(f),this.enqueueOp({apiMethod:"unlink",arguments:[f]})},_.prototype.rmdirSync=function(f){this.checkInitialized(),this._sync.rmdirSync(f),this.enqueueOp({apiMethod:"rmdir",arguments:[f]})},_.prototype.mkdirSync=function(f,y){this.checkInitialized(),this._sync.mkdirSync(f,y),this.enqueueOp({apiMethod:"mkdir",arguments:[f,y]})},_.prototype.readdirSync=function(f){return this.checkInitialized(),this._sync.readdirSync(f)},_.prototype.existsSync=function(f){return this.checkInitialized(),this._sync.existsSync(f)},_.prototype.chmodSync=function(f,y,z){this.checkInitialized(),this._sync.chmodSync(f,y,z),this.enqueueOp({apiMethod:"chmod",arguments:[f,y,z]})},_.prototype.chownSync=function(f,y,z,C){this.checkInitialized(),this._sync.chownSync(f,y,z,C),this.enqueueOp({apiMethod:"chown",arguments:[f,y,z,C]})},_.prototype.utimesSync=function(f,y,z){this.checkInitialized(),this._sync.utimesSync(f,y,z),this.enqueueOp({apiMethod:"utimes",arguments:[f,y,z]})},_.prototype.checkInitialized=function(){if(!this._isInitialized)throw new p(c.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},_.prototype.enqueueOp=function(f){var y=this;if(this._queue.push(f),!this._queueRunning){this._queueRunning=!0;var z=function(C){if(C&&console.error("WARNING: File system has desynchronized. Received following error: "+C+`
$`),y._queue.length>0){var F=y._queue.shift(),K=F.arguments;K.push(z),y._async[F.apiMethod].apply(y._async,K)}else y._queueRunning=!1};z()}},_}(_e);re.Name="AsyncMirror",re.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function V(b,_,v){switch(v.length){case 0:return b.call(_);case 1:return b.call(_,v[0]);case 2:return b.call(_,v[0],v[1]);case 3:return b.call(_,v[0],v[1],v[2])}return b.apply(_,v)}var j=Math.max;function he(b,_,v){return _=j(_===void 0?b.length-1:_,0),function(){for(var f=arguments,y=-1,z=j(f.length-_,0),C=Array(z);++y<z;)C[y]=f[_+y];y=-1;for(var F=Array(_+1);++y<_;)F[y]=f[y];return F[_]=v(C),V(b,this,F)}}function Me(b){return b}function Te(b,_){return he(b,_,Me)}var Ie=function(b){return Te(function(_){var v=_.pop();b.call(this,_,v)})};function Ze(b){return Te(function(_,v){var f=Ie(function(y,z){var C=this;return b(_,function(F,K){F.apply(C,y.concat(K))},z)});return v.length?f.apply(this,v):f})}var at=typeof i=="object"&&i&&i.Object===Object&&i,et=typeof self=="object"&&self&&self.Object===Object&&self,it=at||et||Function("return this")(),oe=it.Symbol,ve=Object.prototype,Se=ve.hasOwnProperty,ze=ve.toString,Le=oe?oe.toStringTag:void 0;function Ge(b){var _=Se.call(b,Le),v=b[Le];try{b[Le]=void 0;var f=!0}catch{}var y=ze.call(b);return f&&(_?b[Le]=v:delete b[Le]),y}var Ve=Object.prototype,nt=Ve.toString;function qe(b){return nt.call(b)}var Ne="[object Null]",ae="[object Undefined]",Fe=oe?oe.toStringTag:void 0;function Qe(b){return b==null?b===void 0?ae:Ne:Fe&&Fe in Object(b)?Ge(b):qe(b)}function je(b){var _=typeof b;return b!=null&&(_=="object"||_=="function")}var dt="[object AsyncFunction]",$e="[object Function]",mt="[object GeneratorFunction]",De="[object Proxy]";function Oe(b){if(!je(b))return!1;var _=Qe(b);return _==$e||_==mt||_==dt||_==De}var yt=9007199254740991;function ot(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=yt}function Je(b){return b!=null&&ot(b.length)&&!Oe(b)}var Bt={};function Rt(){}function ut(b){return function(){if(b!==null){var _=b;b=null,_.apply(this,arguments)}}}var lt=typeof Symbol=="function"&&Symbol.iterator,pt=function(b){return lt&&b[lt]&&b[lt]()};function Et(b,_){for(var v=-1,f=Array(b);++v<b;)f[v]=_(v);return f}function vt(b){return b!=null&&typeof b=="object"}var Vt="[object Arguments]";function Zt(b){return vt(b)&&Qe(b)==Vt}var _t=Object.prototype,ht=_t.hasOwnProperty,ft=_t.propertyIsEnumerable,qt=Zt(function(){return arguments}())?Zt:function(b){return vt(b)&&ht.call(b,"callee")&&!ft.call(b,"callee")},zt=Array.isArray;function oa(){return!1}var Na=typeof a=="object"&&a&&!a.nodeType&&a,la=Na&&typeof o=="object"&&o&&!o.nodeType&&o,va=la&&la.exports===Na,gt=va?it.Buffer:void 0,ra=gt?gt.isBuffer:void 0,Nt=ra||oa,Pt=9007199254740991,da=/^(?:0|[1-9]\d*)$/;function jt(b,_){return _=_??Pt,!!_&&(typeof b=="number"||da.test(b))&&b>-1&&b%1==0&&b<_}var Tt="[object Arguments]",Sa="[object Array]",ca="[object Boolean]",na="[object Date]",Ft="[object Error]",Ma="[object Function]",Ta="[object Map]",Xt="[object Number]",za="[object Object]",ia="[object RegExp]",sa="[object Set]",ea="[object String]",Ga="[object WeakMap]",ba="[object ArrayBuffer]",ua="[object DataView]",nr="[object Float32Array]",xr="[object Float64Array]",wr="[object Int8Array]",te="[object Int16Array]",ce="[object Int32Array]",de="[object Uint8Array]",ke="[object Uint8ClampedArray]",Pe="[object Uint16Array]",He="[object Uint32Array]",Ye={};Ye[nr]=Ye[xr]=Ye[wr]=Ye[te]=Ye[ce]=Ye[de]=Ye[ke]=Ye[Pe]=Ye[He]=!0,Ye[Tt]=Ye[Sa]=Ye[ba]=Ye[ca]=Ye[ua]=Ye[na]=Ye[Ft]=Ye[Ma]=Ye[Ta]=Ye[Xt]=Ye[za]=Ye[ia]=Ye[sa]=Ye[ea]=Ye[Ga]=!1;function kt(b){return vt(b)&&ot(b.length)&&!!Ye[Qe(b)]}function Ct(b){return function(_){return b(_)}}var Dt=typeof a=="object"&&a&&!a.nodeType&&a,Jt=Dt&&typeof o=="object"&&o&&!o.nodeType&&o,Gn=Jt&&Jt.exports===Dt,qr=Gn&&at.process,Pr=function(){try{return qr&&qr.binding&&qr.binding("util")}catch{}}(),Fr=Pr&&Pr.isTypedArray,Hn=Fr?Ct(Fr):kt,Wn=Object.prototype,Jn=Wn.hasOwnProperty;function Yn(b,_){var v=zt(b),f=!v&&qt(b),y=!v&&!f&&Nt(b),z=!v&&!f&&!y&&Hn(b),C=v||f||y||z,F=C?Et(b.length,String):[],K=F.length;for(var ne in b)Jn.call(b,ne)&&!(C&&(ne=="length"||y&&(ne=="offset"||ne=="parent")||z&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||jt(ne,K)))&&F.push(ne);return F}var Kn=Object.prototype;function Qn(b){var _=b&&b.constructor,v=typeof _=="function"&&_.prototype||Kn;return b===v}function Zn(b,_){return function(v){return b(_(v))}}var ei=Zn(Object.keys,Object),ti=Object.prototype,ai=ti.hasOwnProperty;function ri(b){if(!Qn(b))return ei(b);var _=[];for(var v in Object(b))ai.call(b,v)&&v!="constructor"&&_.push(v);return _}function ni(b){return Je(b)?Yn(b):ri(b)}function ii(b){var _=-1,v=b.length;return function(){return++_<v?{value:b[_],key:_}:null}}function si(b){var _=-1;return function(){var f=b.next();return f.done?null:(_++,{value:f.value,key:_})}}function oi(b){var _=ni(b),v=-1,f=_.length;return function(){var z=_[++v];return v<f?{value:b[z],key:z}:null}}function li(b){if(Je(b))return ii(b);var _=pt(b);return _?si(_):oi(b)}function Ur(b){return function(){if(b===null)throw new Error("Callback was already called.");var _=b;b=null,_.apply(this,arguments)}}function Br(b){return function(_,v,f){if(f=ut(f||Rt),b<=0||!_)return f(null);var y=li(_),z=!1,C=0;function F(ne,be){if(C-=1,ne)z=!0,f(ne);else{if(be===Bt||z&&C<=0)return z=!0,f(null);K()}}function K(){for(;C<b&&!z;){var ne=y();if(ne===null){z=!0,C<=0&&f(null);return}C+=1,v(ne.value,ne.key,Ur(F))}}K()}}function Vr(b,_,v,f){Br(_)(b,v,f)}function Mr(b,_){return function(v,f,y){return b(v,_,f,y)}}function ci(b,_,v){v=ut(v||Rt);var f=0,y=0,z=b.length;z===0&&v(null);function C(F,K){F?v(F):(++y===z||K===Bt)&&v(null)}for(;f<z;f++)_(b[f],f,Ur(C))}var ui=Mr(Vr,1/0),jr=function(b,_,v){var f=Je(b)?ci:ui;f(b,_,v)};function hi(b){return function(_,v,f){return b(jr,_,v,f)}}function Xr(b,_,v,f){f=f||Rt,_=_||[];var y=[],z=0;b(_,function(C,F,K){var ne=z++;v(C,function(be,Ee){y[ne]=Ee,K(be)})},function(C){f(C,y)})}var mi=hi(Xr);Ze(mi);function pi(b){return function(_,v,f,y){return b(Br(v),_,f,y)}}var _i=pi(Xr),fi=Mr(_i,1);Ze(fi),Te(function(b,_){return Te(function(v){return b.apply(null,_.concat(v))})});function vi(b,_){for(var v=-1,f=b==null?0:b.length;++v<f&&_(b[v],v,b)!==!1;);return b}var $r=typeof setImmediate=="function"&&setImmediate,Gr=typeof l=="object"&&typeof l.nextTick=="function";function Hr(b){setTimeout(b,0)}function Wr(b){return Te(function(_,v){b(function(){_.apply(null,v)})})}var ir;$r?ir=setImmediate:Gr?ir=l.nextTick:ir=Hr,Wr(ir);var di=Mr(Vr,1);function bi(b,_,v,f){f=ut(f||Rt),di(b,function(y,z,C){v(_,y,function(F,K){_=K,C(F)})},function(y){f(y,_)})}var yi=Te(function(_){return Te(function(v){var f=this,y=v[v.length-1];typeof y=="function"?v.pop():y=Rt,bi(_,v,function(z,C,F){C.apply(f,z.concat(Te(function(K,ne){F(K,ne)})))},function(z,C){y.apply(f,[z].concat(C))})})});Te(function(b){return yi.apply(null,b.reverse())}),Te(function(b){var _=[null].concat(b);return Ie(function(v,f){return f.apply(this,_)})});function Jr(b){return Te(function(_,v){_.apply(null,v.concat(Te(function(f,y){typeof console=="object"&&(f?console.error&&console.error(f):console[b]&&vi(y,function(z){console[b](z)}))})))})}Jr("dir");function gi(b){return function(_,v,f){return b(_,f)}}function Yr(b,_,v){jr(b,gi(_),v)}Jr("log");var sr;Gr?sr=l.nextTick:$r?sr=setImmediate:sr=Hr,Wr(sr);var $t;function xi(){$t||($t={},$t[Dropbox.ApiError.NETWORK_ERROR]=c.EIO,$t[Dropbox.ApiError.INVALID_PARAM]=c.EINVAL,$t[Dropbox.ApiError.INVALID_TOKEN]=c.EPERM,$t[Dropbox.ApiError.OAUTH_ERROR]=c.EPERM,$t[Dropbox.ApiError.NOT_FOUND]=c.ENOENT,$t[Dropbox.ApiError.INVALID_METHOD]=c.EINVAL,$t[Dropbox.ApiError.NOT_ACCEPTABLE]=c.EINVAL,$t[Dropbox.ApiError.CONFLICT]=c.EINVAL,$t[Dropbox.ApiError.RATE_LIMITED]=c.EBUSY,$t[Dropbox.ApiError.SERVER_ERROR]=c.EBUSY,$t[Dropbox.ApiError.OVER_QUOTA]=c.ENOSPC)}function wi(b){return b&&b.stat.isFile}function qi(b){return b&&b.stat.isFolder}function Mi(b){return b==null||typeof b=="object"&&typeof b.byteLength=="number"}var Ot=function(_){this._cache={},this._client=_};Ot.prototype.readdir=function(_,v){var f=this,y=this.getCachedDirInfo(_);this._wrap(function(z){y!==null&&y.contents?f._client.readdir(_,{contentHash:y.stat.contentHash},z):f._client.readdir(_,z)},function(z,C,F,K){z?z.status===Dropbox.ApiError.NO_CONTENT&&y!==null?v(null,y.contents.slice(0)):v(z):(f.updateCachedDirInfo(_,F,C.slice(0)),K.forEach(function(ne){f.updateCachedInfo(m.join(_,ne.name),ne)}),v(null,C))})},Ot.prototype.remove=function(_,v){var f=this;this._wrap(function(y){f._client.remove(_,y)},function(y,z){y||f.updateCachedInfo(_,z),v(y)})},Ot.prototype.move=function(_,v,f){var y=this;this._wrap(function(z){y._client.move(_,v,z)},function(z,C){z||(y.deleteCachedInfo(_),y.updateCachedInfo(v,C)),f(z)})},Ot.prototype.stat=function(_,v){var f=this;this._wrap(function(y){f._client.stat(_,y)},function(y,z){y||f.updateCachedInfo(_,z),v(y,z)})},Ot.prototype.readFile=function(_,v){var f=this,y=this.getCachedFileInfo(_);y!==null&&y.contents!==null?this.stat(_,function(z,C){z?v(z):C.contentHash===y.stat.contentHash?v(z,y.contents.slice(0),y.stat):f.readFile(_,v)}):this._wrap(function(z){f._client.readFile(_,{arrayBuffer:!0},z)},function(z,C,F){z||f.updateCachedInfo(_,F,C.slice(0)),v(z,C,F)})},Ot.prototype.writeFile=function(_,v,f){var y=this;this._wrap(function(z){y._client.writeFile(_,v,z)},function(z,C){z||y.updateCachedInfo(_,C,v.slice(0)),f(z,C)})},Ot.prototype.mkdir=function(_,v){var f=this;this._wrap(function(y){f._client.mkdir(_,y)},function(y,z){y||f.updateCachedInfo(_,z,[]),v(y)})},Ot.prototype._wrap=function(_,v){var f=0,y=function(z){var C=2;if(z&&3>++f)switch(z.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){_(y)},C*1e3);break;default:v.apply(null,arguments);break}else v.apply(null,arguments)};_(y)},Ot.prototype.getCachedInfo=function(_){return this._cache[_.toLowerCase()]},Ot.prototype.putCachedInfo=function(_,v){this._cache[_.toLowerCase()]=v},Ot.prototype.deleteCachedInfo=function(_){delete this._cache[_.toLowerCase()]},Ot.prototype.getCachedDirInfo=function(_){var v=this.getCachedInfo(_);return qi(v)?v:null},Ot.prototype.getCachedFileInfo=function(_){var v=this.getCachedInfo(_);return wi(v)?v:null},Ot.prototype.updateCachedDirInfo=function(_,v,f){f===void 0&&(f=null);var y=this.getCachedInfo(_);v.contentHash!==null&&(y===void 0||y.stat.contentHash!==v.contentHash)&&this.putCachedInfo(_,{stat:v,contents:f})},Ot.prototype.updateCachedFileInfo=function(_,v,f){f===void 0&&(f=null);var y=this.getCachedInfo(_);v.versionTag!==null&&(y===void 0||y.stat.versionTag!==v.versionTag)&&this.putCachedInfo(_,{stat:v,contents:f})},Ot.prototype.updateCachedInfo=function(_,v,f){f===void 0&&(f=null),v.isFile&&Mi(f)?this.updateCachedFileInfo(_,v,f):v.isFolder&&Array.isArray(f)&&this.updateCachedDirInfo(_,v,f)};var zi=function(b){function _(v,f,y,z,C){b.call(this,v,f,y,z,C)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.sync=function(f){var y=this;if(this.isDirty()){var z=this.getBuffer(),C=ue(z);this._fs._writeFileStrict(this.getPath(),C,function(F){F||y.resetDirty(),f(F)})}else f()},_.prototype.close=function(f){this.sync(f)},_}(Ce),or=function(b){function _(v,f){f===void 0&&(f=!0),b.call(this),this._client=new Ot(v),$(f,_.Name,{client:"authenticated dropbox client instance"}),xi()}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){y(null,new _(f.client,!1))},_.isAvailable=function(){return typeof Dropbox<"u"},_.prototype.getName=function(){return _.Name},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsSymlinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!1},_.prototype.empty=function(f){var y=this;this._client.readdir("/",function(z,C){if(z)f(y.convert(z,"/"));else{var F=function(ne,be){var Ee=m.join("/",ne);y._client.remove(Ee,function(Re){be(Re?y.convert(Re,Ee):null)})},K=function(ne){ne?f(ne):f()};Yr(C,F,K)}})},_.prototype.rename=function(f,y,z){var C=this;this._client.move(f,y,function(F){F?C._client.stat(y,function(K,ne){if(K||ne.isFolder){var be=F.response.error.indexOf(f)>-1?f:y;z(C.convert(F,be))}else C._client.remove(y,function(Ee){Ee?z(C.convert(Ee,y)):C.rename(f,y,z)})}):z()})},_.prototype.stat=function(f,y,z){var C=this;this._client.stat(f,function(F,K){if(F)z(C.convert(F,f));else if(K&&K.isRemoved)z(p.FileError(c.ENOENT,f));else{var ne=new w(C._statType(K),K.size);return z(null,ne)}})},_.prototype.open=function(f,y,z,C){var F=this;this._client.readFile(f,function(K,ne,be){if(K)if(y.isReadable())C(F.convert(K,f));else switch(K.status){case Dropbox.ApiError.NOT_FOUND:var Ee=new ArrayBuffer(0);return F._writeFileStrict(f,Ee,function(Xe,Ke){if(Xe)C(Xe);else{var tt=F._makeFile(f,y,Ke,ye(Ee));C(null,tt)}});default:return C(F.convert(K,f))}else{var Re;ne===null?Re=Ae():Re=ye(ne);var Ue=F._makeFile(f,y,be,Re);return C(null,Ue)}})},_.prototype._writeFileStrict=function(f,y,z){var C=this,F=m.dirname(f);this.stat(F,!1,function(K,ne){K?z(p.FileError(c.ENOENT,F)):C._client.writeFile(f,y,function(be,Ee){be?z(C.convert(be,f)):z(null,Ee)})})},_.prototype._statType=function(f){return f.isFile?A.FILE:A.DIRECTORY},_.prototype._makeFile=function(f,y,z,C){var F=this._statType(z),K=new w(F,z.size);return new zi(this,f,y,K,C)},_.prototype._remove=function(f,y,z){var C=this;this._client.stat(f,function(F,K){F?y(C.convert(F,f)):K.isFile&&!z?y(p.FileError(c.ENOTDIR,f)):!K.isFile&&z?y(p.FileError(c.EISDIR,f)):C._client.remove(f,function(ne){y(ne?C.convert(ne,f):null)})})},_.prototype.unlink=function(f,y){this._remove(f,y,!0)},_.prototype.rmdir=function(f,y){this._remove(f,y,!1)},_.prototype.mkdir=function(f,y,z){var C=this,F=m.dirname(f);this._client.stat(F,function(K,ne){K?z(C.convert(K,F)):C._client.mkdir(f,function(be){z(be?p.FileError(c.EEXIST,f):null)})})},_.prototype.readdir=function(f,y){var z=this;this._client.readdir(f,function(C,F){return C?y(z.convert(C)):y(null,F)})},_.prototype.convert=function(f,y){y===void 0&&(y=null);var z=$t[f.status];return z===void 0&&(z=c.EIO),y?p.FileError(z,y):new p(z)},_}(se);or.Name="Dropbox",or.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(b,_){b.isAuthenticated&&b.isAuthenticated()?_():_(new p(c.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function Mt(b,_){_===void 0&&(_="");for(var v=b.errno,f=b.node,y=[];f&&(y.unshift(f.name),f!==f.parent);)f=f.parent;return new p(v,h[v],y.length>0?"/"+y.join("/"):_)}var Ei=function(b){function _(v,f,y,z){b.call(this),this._fs=v,this._FS=f,this._path=y,this._stream=z}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.getPos=function(){},_.prototype.close=function(f){var y=null;try{this.closeSync()}catch(z){y=z}finally{f(y)}},_.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(f){throw Mt(f,this._path)}},_.prototype.stat=function(f){try{f(null,this.statSync())}catch(y){f(y)}},_.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(f){throw Mt(f,this._path)}},_.prototype.truncate=function(f,y){var z=null;try{this.truncateSync(f)}catch(C){z=C}finally{y(z)}},_.prototype.truncateSync=function(f){try{this._FS.ftruncate(this._stream.fd,f)}catch(y){throw Mt(y,this._path)}},_.prototype.write=function(f,y,z,C,F){try{F(null,this.writeSync(f,y,z,C),f)}catch(K){F(K)}},_.prototype.writeSync=function(f,y,z,C){try{var F=Z(f),K=C===null?void 0:C;return this._FS.write(this._stream,F,y,z,K)}catch(ne){throw Mt(ne,this._path)}},_.prototype.read=function(f,y,z,C,F){try{F(null,this.readSync(f,y,z,C),f)}catch(K){F(K)}},_.prototype.readSync=function(f,y,z,C){try{var F=Z(f),K=C===null?void 0:C;return this._FS.read(this._stream,F,y,z,K)}catch(ne){throw Mt(ne,this._path)}},_.prototype.sync=function(f){f()},_.prototype.syncSync=function(){},_.prototype.chown=function(f,y,z){var C=null;try{this.chownSync(f,y)}catch(F){C=F}finally{z(C)}},_.prototype.chownSync=function(f,y){try{this._FS.fchown(this._stream.fd,f,y)}catch(z){throw Mt(z,this._path)}},_.prototype.chmod=function(f,y){var z=null;try{this.chmodSync(f)}catch(C){z=C}finally{y(z)}},_.prototype.chmodSync=function(f){try{this._FS.fchmod(this._stream.fd,f)}catch(y){throw Mt(y,this._path)}},_.prototype.utimes=function(f,y,z){var C=null;try{this.utimesSync(f,y)}catch(F){C=F}finally{z(C)}},_.prototype.utimesSync=function(f,y){this._fs.utimesSync(this._path,f,y)},_}(we),lr=function(b){function _(v){b.call(this),this._FS=v}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){y(null,new _(f.FS))},_.isAvailable=function(){return!0},_.prototype.getName=function(){return this._FS.DB_NAME()},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsLinks=function(){return!0},_.prototype.supportsProps=function(){return!0},_.prototype.supportsSynch=function(){return!0},_.prototype.renameSync=function(f,y){try{this._FS.rename(f,y)}catch(z){throw z.errno===c.ENOENT?Mt(z,this.existsSync(f)?y:f):Mt(z)}},_.prototype.statSync=function(f,y){try{var z=y?this._FS.lstat(f):this._FS.stat(f),C=this.modeToFileType(z.mode);return new w(C,z.size,z.mode,z.atime,z.mtime,z.ctime)}catch(F){throw Mt(F,f)}},_.prototype.openSync=function(f,y,z){try{var C=this._FS.open(f,y.getFlagString(),z);if(this._FS.isDir(C.node.mode))throw this._FS.close(C),p.EISDIR(f);return new Ei(this,this._FS,f,C)}catch(F){throw Mt(F,f)}},_.prototype.unlinkSync=function(f){try{this._FS.unlink(f)}catch(y){throw Mt(y,f)}},_.prototype.rmdirSync=function(f){try{this._FS.rmdir(f)}catch(y){throw Mt(y,f)}},_.prototype.mkdirSync=function(f,y){try{this._FS.mkdir(f,y)}catch(z){throw Mt(z,f)}},_.prototype.readdirSync=function(f){try{return this._FS.readdir(f).filter(function(y){return y!=="."&&y!==".."})}catch(y){throw Mt(y,f)}},_.prototype.truncateSync=function(f,y){try{this._FS.truncate(f,y)}catch(z){throw Mt(z,f)}},_.prototype.readFileSync=function(f,y,z){try{var C=this._FS.readFile(f,{flags:z.getFlagString()}),F=fe(C);return y?F.toString(y):F}catch(K){throw Mt(K,f)}},_.prototype.writeFileSync=function(f,y,z,C,F){try{z&&(y=n.from(y,z));var K=Z(y);this._FS.writeFile(f,K,{flags:C.getFlagString(),encoding:"binary"}),this._FS.chmod(f,F)}catch(ne){throw Mt(ne,f)}},_.prototype.chmodSync=function(f,y,z){try{y?this._FS.lchmod(f,z):this._FS.chmod(f,z)}catch(C){throw Mt(C,f)}},_.prototype.chownSync=function(f,y,z,C){try{y?this._FS.lchown(f,z,C):this._FS.chown(f,z,C)}catch(F){throw Mt(F,f)}},_.prototype.symlinkSync=function(f,y,z){try{this._FS.symlink(f,y)}catch(C){throw Mt(C)}},_.prototype.readlinkSync=function(f){try{return this._FS.readlink(f)}catch(y){throw Mt(y,f)}},_.prototype.utimesSync=function(f,y,z){try{this._FS.utime(f,y.getTime(),z.getTime())}catch(C){throw Mt(C,f)}},_.prototype.modeToFileType=function(f){if(this._FS.isDir(f))return A.DIRECTORY;if(this._FS.isFile(f))return A.FILE;if(this._FS.isLink(f))return A.SYMLINK;throw p.EPERM("Invalid mode: "+f)},_}(_e);lr.Name="EmscriptenFileSystem",lr.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Pa=function(b){function _(v,f){b.call(this),this._folder=v,this._wrapped=f}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){y(null,new _(f.folder,f.wrapped))},_.isAvailable=function(){return!0},_.prototype.initialize=function(f){var y=this;this._wrapped.exists(this._folder,function(z){z?f():y._wrapped.isReadOnly()?f(p.ENOENT(y._folder)):y._wrapped.mkdir(y._folder,511,f)})},_.prototype.getName=function(){return this._wrapped.getName()},_.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},_.prototype.supportsProps=function(){return this._wrapped.supportsProps()},_.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},_.prototype.supportsLinks=function(){return!1},_}(se);Pa.Name="FolderAdapter",Pa.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function Kr(b,_){if(_!==null&&typeof _=="object"){var v=_,f=v.path;f&&(f="/"+m.relative(b,f),v.message=v.message.replace(v.path,f),v.path=f)}return _}function Ai(b,_){return typeof _=="function"?function(v){arguments.length>0&&(arguments[0]=Kr(b,v)),_.apply(null,arguments)}:_}function Qr(b,_,v){return b.slice(b.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=m.join(this._folder,arguments[0]),v&&(arguments[1]=m.join(this._folder,arguments[1])),arguments[arguments.length-1]=Ai(this._folder,arguments[arguments.length-1])),this._wrapped[b].apply(this._wrapped,arguments)}:function(){try{return _&&(arguments[0]=m.join(this._folder,arguments[0])),v&&(arguments[1]=m.join(this._folder,arguments[1])),this._wrapped[b].apply(this._wrapped,arguments)}catch(f){throw Kr(this._folder,f)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(b){Pa.prototype[b]=Qr(b,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(b){Pa.prototype[b]=Qr(b,!0,!0)});var cr;typeof window<"u"?cr=window:typeof self<"u"?cr=self:cr=i;var At=cr;function Si(b){return b.isDirectory}var zr=At.webkitRequestFileSystem||At.requestFileSystem||null;function Ti(b,_,v,f){if(typeof navigator.webkitPersistentStorage<"u")switch(b){case At.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(_,v,f);break;case At.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(_,v,f);break;default:f(new TypeError("Invalid storage type: "+b));break}else At.webkitStorageInfo.requestQuota(b,_,v,f)}function ki(b){return Array.prototype.slice.call(b||[],0)}function ha(b,_,v){switch(b.name){case"PathExistsError":return p.EEXIST(_);case"QuotaExceededError":return p.FileError(c.ENOSPC,_);case"NotFoundError":return p.ENOENT(_);case"SecurityError":return p.FileError(c.EACCES,_);case"InvalidModificationError":return p.FileError(c.EPERM,_);case"TypeMismatchError":return p.FileError(v?c.ENOTDIR:c.EISDIR,_);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return p.FileError(c.EINVAL,_)}}var Li=function(b){function _(v,f,y,z,C,F){b.call(this,v,y,z,C,F),this._entry=f}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.sync=function(f){var y=this;if(!this.isDirty())return f();this._entry.createWriter(function(z){var C=y.getBuffer(),F=new Blob([ue(C)]),K=F.size;z.onwriteend=function(ne){z.onwriteend=null,z.onerror=null,z.truncate(K),y.resetDirty(),f()},z.onerror=function(ne){f(ha(ne,y.getPath(),!1))},z.write(F)})},_.prototype.close=function(f){this.sync(f)},_}(Ce),ur=function(b){function _(v,f,y){v===void 0&&(v=5),f===void 0&&(f=At.PERSISTENT),y===void 0&&(y=!0),b.call(this),this.size=1024*1024*v,this.type=f,$(y,_.Name,{size:v,type:f})}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){var z=new _(f.size,f.type,!1);z.allocate(function(C){return C?y(C):y(null,z)},!1)},_.isAvailable=function(){return!!zr},_.prototype.getName=function(){return _.Name},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsSymlinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!1},_.prototype.allocate=function(f,y){var z=this;f===void 0&&(f=function(){}),y===void 0&&(y=!0),y&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var C=function(K){z.fs=K,f()},F=function(K){f(ha(K,"/",!0))};this.type===At.PERSISTENT?Ti(this.type,this.size,function(K){zr(z.type,K,C,F)},F):zr(this.type,this.size,C,F)},_.prototype.empty=function(f){this._readdir("/",function(y,z){if(y)console.error("Failed to empty FS"),f(y);else{var C=function(K){y?(console.error("Failed to empty FS"),f(y)):f()},F=function(K,ne){var be=function(){ne()},Ee=function(Re){ne(ha(Re,K.fullPath,!K.isDirectory))};Si(K)?K.removeRecursively(be,Ee):K.remove(be,Ee)};Yr(z,F,C)}})},_.prototype.rename=function(f,y,z){var C=this,F=2,K=0,ne=this.fs.root,be=f,Ee=function(Ue){--F<=0&&z(ha(Ue,be,!1))},Re=function(Ue){if(++K===2)return z(new p(c.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(f===y)return z();be=m.dirname(y),ne.getDirectory(be,{},function(Xe){be=m.basename(y),Ue.moveTo(Xe,be,function(Ke){z()},function(Ke){Ue.isDirectory?(be=y,C.unlink(y,function(tt){tt?Ee(Ke):C.rename(f,y,z)})):Ee(Ke)})},Ee)};ne.getFile(f,{},Re,Ee),ne.getDirectory(f,{},Re,Ee)},_.prototype.stat=function(f,y,z){var C=this,F={create:!1},K=function(Re){var Ue=function(Xe){var Ke=new w(A.FILE,Xe.size);z(null,Ke)};Re.file(Ue,be)},ne=function(Re){var Ue=4096,Xe=new w(A.DIRECTORY,Ue);z(null,Xe)},be=function(Re){z(ha(Re,f,!1))},Ee=function(){C.fs.root.getDirectory(f,F,ne,be)};this.fs.root.getFile(f,F,K,Ee)},_.prototype.open=function(f,y,z,C){var F=this,K=function(ne){ne.name==="InvalidModificationError"&&y.isExclusive()?C(p.EEXIST(f)):C(ha(ne,f,!1))};this.fs.root.getFile(f,{create:y.pathNotExistsAction()===x.CREATE_FILE,exclusive:y.isExclusive()},function(ne){ne.file(function(be){var Ee=new FileReader;Ee.onloadend=function(Re){var Ue=F._makeFile(f,ne,y,be,Ee.result);C(null,Ue)},Ee.onerror=function(Re){K(Ee.error)},Ee.readAsArrayBuffer(be)},K)},K)},_.prototype.unlink=function(f,y){this._remove(f,y,!0)},_.prototype.rmdir=function(f,y){var z=this;this.readdir(f,function(C,F){C?y(C):F.length>0?y(p.ENOTEMPTY(f)):z._remove(f,y,!1)})},_.prototype.mkdir=function(f,y,z){var C={create:!0,exclusive:!0},F=function(ne){z()},K=function(ne){z(ha(ne,f,!0))};this.fs.root.getDirectory(f,C,F,K)},_.prototype.readdir=function(f,y){this._readdir(f,function(z,C){if(C){for(var F=[],K=0,ne=C;K<ne.length;K+=1){var be=ne[K];F.push(be.name)}y(null,F)}else return y(z)})},_.prototype._makeFile=function(f,y,z,C,F){F===void 0&&(F=new ArrayBuffer(0));var K=new w(A.FILE,C.size),ne=ye(F);return new Li(this,y,f,z,K,ne)},_.prototype._readdir=function(f,y){var z=function(C){y(ha(C,f,!0))};this.fs.root.getDirectory(f,{create:!1},function(C){var F=C.createReader(),K=[],ne=function(){F.readEntries(function(be){be.length?(K=K.concat(ki(be)),ne()):y(null,K)},z)};ne()},z)},_.prototype._remove=function(f,y,z){var C=function(ne){var be=function(){y()},Ee=function(Re){y(ha(Re,f,!z))};ne.remove(be,Ee)},F=function(ne){y(ha(ne,f,!z))},K={create:!1};z?this.fs.root.getFile(f,K,C,F):this.fs.root.getDirectory(f,K,C,F)},_}(se);ur.Name="HTML5FS",ur.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Gt=function(_,v,f,y,z,C){this.id=_,this.size=v,this.mode=f,this.atime=y,this.mtime=z,this.ctime=C};Gt.fromBuffer=function(_){if(_===void 0)throw new Error("NO");return new Gt(_.toString("ascii",30),_.readUInt32LE(0),_.readUInt16LE(4),_.readDoubleLE(6),_.readDoubleLE(14),_.readDoubleLE(22))},Gt.prototype.toStats=function(){return new w((this.mode&61440)===A.DIRECTORY?A.DIRECTORY:A.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Gt.prototype.getSize=function(){return 30+this.id.length},Gt.prototype.toBuffer=function(_){return _===void 0&&(_=n.alloc(this.getSize())),_.writeUInt32LE(this.size,0),_.writeUInt16LE(this.mode,4),_.writeDoubleLE(this.atime,6),_.writeDoubleLE(this.mtime,14),_.writeDoubleLE(this.ctime,22),_.write(this.id,30,this.id.length,"ascii"),_},Gt.prototype.update=function(_){var v=!1;this.size!==_.size&&(this.size=_.size,v=!0),this.mode!==_.mode&&(this.mode=_.mode,v=!0);var f=_.atime.getTime();this.atime!==f&&(this.atime=f,v=!0);var y=_.mtime.getTime();this.mtime!==y&&(this.mtime=y,v=!0);var z=_.ctime.getTime();return this.ctime!==z&&(this.ctime=z,v=!0),v},Gt.prototype.isFile=function(){return(this.mode&61440)===A.FILE},Gt.prototype.isDirectory=function(){return(this.mode&61440)===A.DIRECTORY};var Ea="/",Er=null;function Zr(){return Er||(Er=n.from("{}"))}function hr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var _=Math.random()*16|0,v=b==="x"?_:_&3|8;return v.toString(16)})}function Yt(b,_){return b?(_(b),!1):!0}function Lt(b,_,v){return b?(_.abort(function(){v(b)}),!1):!0}var ya=function(_){this.store=_,this.originalData={},this.modifiedKeys=[]};ya.prototype.get=function(_){var v=this.store.get(_);return this.stashOldValue(_,v),v},ya.prototype.put=function(_,v,f){return this.markModified(_),this.store.put(_,v,f)},ya.prototype.del=function(_){this.markModified(_),this.store.del(_)},ya.prototype.commit=function(){},ya.prototype.abort=function(){for(var _=this,v=0,f=_.modifiedKeys;v<f.length;v+=1){var y=f[v],z=_.originalData[y];z?_.store.put(y,z,!0):_.store.del(y)}},ya.prototype.stashOldValue=function(_,v){this.originalData.hasOwnProperty(_)||(this.originalData[_]=v)},ya.prototype.markModified=function(_){this.modifiedKeys.indexOf(_)===-1&&(this.modifiedKeys.push(_),this.originalData.hasOwnProperty(_)||(this.originalData[_]=this.store.get(_)))};var en=function(b){function _(v,f,y,z,C){b.call(this,v,f,y,z,C)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},_.prototype.closeSync=function(){this.syncSync()},_}(Ce),tn=function(b){function _(v){b.call(this),this.store=v.store,this.makeRootDirectory()}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.isAvailable=function(){return!0},_.prototype.getName=function(){return this.store.name()},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsSymlinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!0},_.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},_.prototype.renameSync=function(f,y){var z=this.store.beginTransaction("readwrite"),C=m.dirname(f),F=m.basename(f),K=m.dirname(y),ne=m.basename(y),be=this.findINode(z,C),Ee=this.getDirListing(z,C,be);if(!Ee[F])throw p.ENOENT(f);var Re=Ee[F];if(delete Ee[F],(K+"/").indexOf(f+"/")===0)throw new p(c.EBUSY,C);var Ue,Xe;if(K===C?(Ue=be,Xe=Ee):(Ue=this.findINode(z,K),Xe=this.getDirListing(z,K,Ue)),Xe[ne]){var Ke=this.getINode(z,y,Xe[ne]);if(Ke.isFile())try{z.del(Ke.id),z.del(Xe[ne])}catch(tt){throw z.abort(),tt}else throw p.EPERM(y)}Xe[ne]=Re;try{z.put(be.id,n.from(JSON.stringify(Ee)),!0),z.put(Ue.id,n.from(JSON.stringify(Xe)),!0)}catch(tt){throw z.abort(),tt}z.commit()},_.prototype.statSync=function(f,y){return this.findINode(this.store.beginTransaction("readonly"),f).toStats()},_.prototype.createFileSync=function(f,y,z){var C=this.store.beginTransaction("readwrite"),F=Ae(),K=this.commitNewFile(C,f,A.FILE,z,F);return new en(this,f,y,K.toStats(),F)},_.prototype.openFileSync=function(f,y){var z=this.store.beginTransaction("readonly"),C=this.findINode(z,f),F=z.get(C.id);if(F===void 0)throw p.ENOENT(f);return new en(this,f,y,C.toStats(),F)},_.prototype.unlinkSync=function(f){this.removeEntry(f,!1)},_.prototype.rmdirSync=function(f){if(this.readdirSync(f).length>0)throw p.ENOTEMPTY(f);this.removeEntry(f,!0)},_.prototype.mkdirSync=function(f,y){var z=this.store.beginTransaction("readwrite"),C=n.from("{}");this.commitNewFile(z,f,A.DIRECTORY,y,C)},_.prototype.readdirSync=function(f){var y=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(y,f,this.findINode(y,f)))},_.prototype._syncSync=function(f,y,z){var C=this.store.beginTransaction("readwrite"),F=this._findINode(C,m.dirname(f),m.basename(f)),K=this.getINode(C,f,F),ne=K.update(z);try{C.put(K.id,y,!0),ne&&C.put(F,K.toBuffer(),!0)}catch(be){throw C.abort(),be}C.commit()},_.prototype.makeRootDirectory=function(){var f=this.store.beginTransaction("readwrite");if(f.get(Ea)===void 0){var y=new Date().getTime(),z=new Gt(hr(),4096,511|A.DIRECTORY,y,y,y);f.put(z.id,Zr(),!1),f.put(Ea,z.toBuffer(),!1),f.commit()}},_.prototype._findINode=function(f,y,z){var C=this,F=function(K){var ne=C.getDirListing(f,y,K);if(ne[z])return ne[z];throw p.ENOENT(m.resolve(y,z))};return y==="/"?z===""?Ea:F(this.getINode(f,y,Ea)):F(this.getINode(f,y+m.sep+z,this._findINode(f,m.dirname(y),m.basename(y))))},_.prototype.findINode=function(f,y){return this.getINode(f,y,this._findINode(f,m.dirname(y),m.basename(y)))},_.prototype.getINode=function(f,y,z){var C=f.get(z);if(C===void 0)throw p.ENOENT(y);return Gt.fromBuffer(C)},_.prototype.getDirListing=function(f,y,z){if(!z.isDirectory())throw p.ENOTDIR(y);var C=f.get(z.id);if(C===void 0)throw p.ENOENT(y);return JSON.parse(C.toString())},_.prototype.addNewNode=function(f,y){for(var z=0,C;z<5;)try{return C=hr(),f.put(C,y,!1),C}catch{}throw new p(c.EIO,"Unable to commit data to key-value store.")},_.prototype.commitNewFile=function(f,y,z,C,F){var K=m.dirname(y),ne=m.basename(y),be=this.findINode(f,K),Ee=this.getDirListing(f,K,be),Re=new Date().getTime();if(y==="/"||Ee[ne])throw p.EEXIST(y);var Ue;try{var Xe=this.addNewNode(f,F);Ue=new Gt(Xe,F.length,C|z,Re,Re,Re);var Ke=this.addNewNode(f,Ue.toBuffer());Ee[ne]=Ke,f.put(be.id,n.from(JSON.stringify(Ee)),!0)}catch(tt){throw f.abort(),tt}return f.commit(),Ue},_.prototype.removeEntry=function(f,y){var z=this.store.beginTransaction("readwrite"),C=m.dirname(f),F=this.findINode(z,C),K=this.getDirListing(z,C,F),ne=m.basename(f);if(!K[ne])throw p.ENOENT(f);var be=K[ne];delete K[ne];var Ee=this.getINode(z,f,be);if(!y&&Ee.isDirectory())throw p.EISDIR(f);if(y&&!Ee.isDirectory())throw p.ENOTDIR(f);try{z.del(Ee.id),z.del(be),z.put(F.id,n.from(JSON.stringify(K)),!0)}catch(Re){throw z.abort(),Re}z.commit()},_}(_e),an=function(b){function _(v,f,y,z,C){b.call(this,v,f,y,z,C)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.sync=function(f){var y=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(z){z||y.resetDirty(),f(z)}):f()},_.prototype.close=function(f){this.sync(f)},_}(Ce),Ci=function(b){function _(){b.apply(this,arguments)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.isAvailable=function(){return!0},_.prototype.init=function(f,y){this.store=f,this.makeRootDirectory(y)},_.prototype.getName=function(){return this.store.name()},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsSymlinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!1},_.prototype.empty=function(f){var y=this;this.store.clear(function(z){Yt(z,f)&&y.makeRootDirectory(f)})},_.prototype.rename=function(f,y,z){var C=this,F=this.store.beginTransaction("readwrite"),K=m.dirname(f),ne=m.basename(f),be=m.dirname(y),Ee=m.basename(y),Re={},Ue={},Xe=!1;if((be+"/").indexOf(f+"/")===0)return z(new p(c.EBUSY,K));var Ke=function(){if(!(Xe||!Ue.hasOwnProperty(K)||!Ue.hasOwnProperty(be))){var st=Ue[K],wt=Re[K],It=Ue[be],_a=Re[be];if(!st[ne])z(p.ENOENT(f));else{var fa=st[ne];delete st[ne];var $a=function(){It[Ee]=fa,F.put(wt.id,n.from(JSON.stringify(st)),!0,function(wa){Lt(wa,F,z)&&(K===be?F.commit(z):F.put(_a.id,n.from(JSON.stringify(It)),!0,function(qa){Lt(qa,F,z)&&F.commit(z)}))})};It[Ee]?C.getINode(F,y,It[Ee],function(wa,qa){Lt(wa,F,z)&&(qa.isFile()?F.del(qa.id,function(Xn){Lt(Xn,F,z)&&F.del(It[Ee],function(ss){Lt(ss,F,z)&&$a()})}):F.abort(function(Xn){z(p.EPERM(y))}))}):$a()}}},tt=function(st){C.findINodeAndDirListing(F,st,function(wt,It,_a){wt?Xe||(Xe=!0,F.abort(function(){z(wt)})):(Re[st]=It,Ue[st]=_a,Ke())})};tt(K),K!==be&&tt(be)},_.prototype.stat=function(f,y,z){var C=this.store.beginTransaction("readonly");this.findINode(C,f,function(F,K){Yt(F,z)&&z(null,K.toStats())})},_.prototype.createFile=function(f,y,z,C){var F=this,K=this.store.beginTransaction("readwrite"),ne=Ae();this.commitNewFile(K,f,A.FILE,z,ne,function(be,Ee){Yt(be,C)&&C(null,new an(F,f,y,Ee.toStats(),ne))})},_.prototype.openFile=function(f,y,z){var C=this,F=this.store.beginTransaction("readonly");this.findINode(F,f,function(K,ne){Yt(K,z)&&F.get(ne.id,function(be,Ee){Yt(be,z)&&(Ee===void 0?z(p.ENOENT(f)):z(null,new an(C,f,y,ne.toStats(),Ee)))})})},_.prototype.unlink=function(f,y){this.removeEntry(f,!1,y)},_.prototype.rmdir=function(f,y){var z=this;this.readdir(f,function(C,F){C?y(C):F.length>0?y(p.ENOTEMPTY(f)):z.removeEntry(f,!0,y)})},_.prototype.mkdir=function(f,y,z){var C=this.store.beginTransaction("readwrite"),F=n.from("{}");this.commitNewFile(C,f,A.DIRECTORY,y,F,z)},_.prototype.readdir=function(f,y){var z=this,C=this.store.beginTransaction("readonly");this.findINode(C,f,function(F,K){Yt(F,y)&&z.getDirListing(C,f,K,function(ne,be){Yt(ne,y)&&y(null,Object.keys(be))})})},_.prototype._sync=function(f,y,z,C){var F=this,K=this.store.beginTransaction("readwrite");this._findINode(K,m.dirname(f),m.basename(f),function(ne,be){Lt(ne,K,C)&&F.getINode(K,f,be,function(Ee,Re){if(Lt(Ee,K,C)){var Ue=Re.update(z);K.put(Re.id,y,!0,function(Xe){Lt(Xe,K,C)&&(Ue?K.put(be,Re.toBuffer(),!0,function(Ke){Lt(Ke,K,C)&&K.commit(C)}):K.commit(C))})}})})},_.prototype.makeRootDirectory=function(f){var y=this.store.beginTransaction("readwrite");y.get(Ea,function(z,C){if(z||C===void 0){var F=new Date().getTime(),K=new Gt(hr(),4096,511|A.DIRECTORY,F,F,F);y.put(K.id,Zr(),!1,function(ne){Lt(ne,y,f)&&y.put(Ea,K.toBuffer(),!1,function(be){be?y.abort(function(){f(be)}):y.commit(f)})})}else y.commit(f)})},_.prototype._findINode=function(f,y,z,C){var F=this,K=function(ne,be,Ee){ne?C(ne):Ee[z]?C(null,Ee[z]):C(p.ENOENT(m.resolve(y,z)))};y==="/"?z===""?C(null,Ea):this.getINode(f,y,Ea,function(ne,be){Yt(ne,C)&&F.getDirListing(f,y,be,function(Ee,Re){K(Ee,be,Re)})}):this.findINodeAndDirListing(f,y,K)},_.prototype.findINode=function(f,y,z){var C=this;this._findINode(f,m.dirname(y),m.basename(y),function(F,K){Yt(F,z)&&C.getINode(f,y,K,z)})},_.prototype.getINode=function(f,y,z,C){f.get(z,function(F,K){Yt(F,C)&&(K===void 0?C(p.ENOENT(y)):C(null,Gt.fromBuffer(K)))})},_.prototype.getDirListing=function(f,y,z,C){z.isDirectory()?f.get(z.id,function(F,K){if(Yt(F,C))try{C(null,JSON.parse(K.toString()))}catch{C(p.ENOENT(y))}}):C(p.ENOTDIR(y))},_.prototype.findINodeAndDirListing=function(f,y,z){var C=this;this.findINode(f,y,function(F,K){Yt(F,z)&&C.getDirListing(f,y,K,function(ne,be){Yt(ne,z)&&z(null,K,be)})})},_.prototype.addNewNode=function(f,y,z){var C=0,F,K=function(){++C===5?z(new p(c.EIO,"Unable to commit data to key-value store.")):(F=hr(),f.put(F,y,!1,function(ne,be){ne||!be?K():z(null,F)}))};K()},_.prototype.commitNewFile=function(f,y,z,C,F,K){var ne=this,be=m.dirname(y),Ee=m.basename(y),Re=new Date().getTime();if(y==="/")return K(p.EEXIST(y));this.findINodeAndDirListing(f,be,function(Ue,Xe,Ke){Lt(Ue,f,K)&&(Ke[Ee]?f.abort(function(){K(p.EEXIST(y))}):ne.addNewNode(f,F,function(tt,st){if(Lt(tt,f,K)){var wt=new Gt(st,F.length,C|z,Re,Re,Re);ne.addNewNode(f,wt.toBuffer(),function(It,_a){Lt(It,f,K)&&(Ke[Ee]=_a,f.put(Xe.id,n.from(JSON.stringify(Ke)),!0,function(fa){Lt(fa,f,K)&&f.commit(function($a){Lt($a,f,K)&&K(null,wt)})}))})}}))})},_.prototype.removeEntry=function(f,y,z){var C=this,F=this.store.beginTransaction("readwrite"),K=m.dirname(f),ne=m.basename(f);this.findINodeAndDirListing(F,K,function(be,Ee,Re){if(Lt(be,F,z))if(!Re[ne])F.abort(function(){z(p.ENOENT(f))});else{var Ue=Re[ne];delete Re[ne],C.getINode(F,f,Ue,function(Xe,Ke){Lt(Xe,F,z)&&(!y&&Ke.isDirectory()?F.abort(function(){z(p.EISDIR(f))}):y&&!Ke.isDirectory()?F.abort(function(){z(p.ENOTDIR(f))}):F.del(Ke.id,function(tt){Lt(tt,F,z)&&F.del(Ue,function(st){Lt(st,F,z)&&F.put(Ee.id,n.from(JSON.stringify(Re)),!0,function(wt){Lt(wt,F,z)&&F.commit(z)})})}))})}})},_}(se),ka=function(){this.store={}};ka.prototype.name=function(){return Fa.Name},ka.prototype.clear=function(){this.store={}},ka.prototype.beginTransaction=function(_){return new ya(this)},ka.prototype.get=function(_){return this.store[_]},ka.prototype.put=function(_,v,f){return!f&&this.store.hasOwnProperty(_)?!1:(this.store[_]=v,!0)},ka.prototype.del=function(_){delete this.store[_]};var Fa=function(b){function _(){b.call(this,{store:new ka})}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){y(null,new _)},_}(tn);Fa.Name="InMemory",Fa.Options={};var Ar=At.indexedDB||At.mozIndexedDB||At.webkitIndexedDB||At.msIndexedDB;function Ha(b,_){switch(_===void 0&&(_=b.toString()),b.name){case"NotFoundError":return new p(c.ENOENT,_);case"QuotaExceededError":return new p(c.ENOSPC,_);default:return new p(c.EIO,_)}}function Wa(b,_,v){return _===void 0&&(_=c.EIO),v===void 0&&(v=null),function(f){f.preventDefault(),b(new p(_,v!==null?v:void 0))}}var Sr=function(_,v){this.tx=_,this.store=v};Sr.prototype.get=function(_,v){try{var f=this.store.get(_);f.onerror=Wa(v),f.onsuccess=function(y){var z=y.target.result;z===void 0?v(null,z):v(null,ye(z))}}catch(y){v(Ha(y))}};var Di=function(b){function _(v,f){b.call(this,v,f)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.put=function(f,y,z,C){try{var F=ue(y),K;z?K=this.store.put(F,f):K=this.store.add(F,f),K.onerror=Wa(C),K.onsuccess=function(ne){C(null,!0)}}catch(ne){C(Ha(ne))}},_.prototype.del=function(f,y){try{var z=this.store.delete(f);z.onerror=Wa(y),z.onsuccess=function(C){y()}}catch(C){y(Ha(C))}},_.prototype.commit=function(f){setTimeout(f,0)},_.prototype.abort=function(f){var y=null;try{this.tx.abort()}catch(z){y=Ha(z)}finally{f(y)}},_}(Sr),mr=function(_,v){var f=this;v===void 0&&(v="browserfs"),this.storeName=v;var y=Ar.open(this.storeName,1);y.onupgradeneeded=function(z){var C=z.target.result;C.objectStoreNames.contains(f.storeName)&&C.deleteObjectStore(f.storeName),C.createObjectStore(f.storeName)},y.onsuccess=function(z){f.db=z.target.result,_(null,f)},y.onerror=Wa(_,c.EACCES)};mr.prototype.name=function(){return Ja.Name+" - "+this.storeName},mr.prototype.clear=function(_){try{var v=this.db.transaction(this.storeName,"readwrite"),f=v.objectStore(this.storeName),y=f.clear();y.onsuccess=function(z){setTimeout(_,0)},y.onerror=Wa(_)}catch(z){_(Ha(z))}},mr.prototype.beginTransaction=function(_){_===void 0&&(_="readonly");var v=this.db.transaction(this.storeName,_),f=v.objectStore(this.storeName);if(_==="readwrite")return new Di(v,f);if(_==="readonly")return new Sr(v,f);throw new p(c.EINVAL,"Invalid transaction type.")};var Ja=function(b){function _(v,f,y){var z=this;y===void 0&&(y=!0),b.call(this),this.store=new mr(function(C){C?v(C):z.init(z.store,function(F){v(F,z)})},f),$(y,_.Name,{storeName:f})}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){new _(y,f.storeName,!1)},_.isAvailable=function(){try{return typeof Ar<"u"&&Ar.open("__browserfs_test__")!==null}catch{return!1}},_}(Ci);Ja.Name="IndexedDB",Ja.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var Tr=!1,Ya;try{At.localStorage.setItem("__test__","\uD800"),Tr=At.localStorage.getItem("__test__")==="\uD800"}catch{Tr=!1}Ya=Tr?"binary_string":"binary_string_ie",n.isEncoding(Ya)||(Ya="base64");var La=function(){};La.prototype.name=function(){return Ka.Name},La.prototype.clear=function(){At.localStorage.clear()},La.prototype.beginTransaction=function(_){return new ya(this)},La.prototype.get=function(_){try{var v=At.localStorage.getItem(_);if(v!==null)return n.from(v,Ya)}catch{}},La.prototype.put=function(_,v,f){try{return!f&&At.localStorage.getItem(_)!==null?!1:(At.localStorage.setItem(_,v.toString(Ya)),!0)}catch{throw new p(c.ENOSPC,"LocalStorage is full.")}},La.prototype.del=function(_){try{At.localStorage.removeItem(_)}catch(v){throw new p(c.EIO,"Unable to delete key "+_+": "+v)}};var Ka=function(b){function _(){b.call(this,{store:new La})}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){y(null,new _)},_.isAvailable=function(){return typeof At.localStorage<"u"},_}(tn);Ka.Name="LocalStorage",Ka.Options={};var Ua=function(b){function _(){b.call(this),this.mountList=[],this.mntMap={},this.rootFs=new Fa}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){var z=new _;Object.keys(f).forEach(function(C){z.mount(C,f[C])}),y(null,z)},_.isAvailable=function(){return!0},_.prototype.mount=function(f,y){if(f[0]!=="/"&&(f="/"+f),f=m.resolve(f),this.mntMap[f])throw new p(c.EINVAL,"Mount point "+f+" is already taken.");ee(f,511,this.rootFs),this.mntMap[f]=y,this.mountList.push(f),this.mountList=this.mountList.sort(function(z,C){return C.length-z.length})},_.prototype.umount=function(f){var y=this;if(f[0]!=="/"&&(f="/"+f),f=m.resolve(f),!this.mntMap[f])throw new p(c.EINVAL,"Mount point "+f+" is already unmounted.");for(delete this.mntMap[f],this.mountList.splice(this.mountList.indexOf(f),1);f!=="/"&&y.rootFs.readdirSync(f).length===0;)y.rootFs.rmdirSync(f),f=m.dirname(f)},_.prototype._getFs=function(f){for(var y=this,z=this.mountList,C=z.length,F=0;F<C;F++){var K=z[F];if(K.length<=f.length&&f.indexOf(K)===0)return f=f.substr(K.length>1?K.length:0),f===""&&(f="/"),{fs:y.mntMap[K],path:f}}return{fs:this.rootFs,path:f}},_.prototype.getName=function(){return _.Name},_.prototype.diskSpace=function(f,y){y(0,0)},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsLinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!0},_.prototype.standardizeError=function(f,y,z){var C=f.message.indexOf(y);return C!==-1&&(f.message=f.message.substr(0,C)+z+f.message.substr(C+y.length),f.path=z),f},_.prototype.rename=function(f,y,z){var C=this,F=this._getFs(f),K=this._getFs(y);return F.fs===K.fs?F.fs.rename(F.path,K.path,function(ne){ne&&C.standardizeError(C.standardizeError(ne,F.path,f),K.path,y),z(ne)}):N.readFile(f,function(ne,be){if(ne)return z(ne);N.writeFile(y,be,function(Ee){if(Ee)return z(Ee);N.unlink(f,z)})})},_.prototype.renameSync=function(f,y){var z=this._getFs(f),C=this._getFs(y);if(z.fs===C.fs)try{return z.fs.renameSync(z.path,C.path)}catch(K){throw this.standardizeError(this.standardizeError(K,z.path,f),C.path,y),K}var F=N.readFileSync(f);return N.writeFileSync(y,F),N.unlinkSync(f)},_.prototype.readdirSync=function(f){var y=this._getFs(f),z=null;if(y.fs!==this.rootFs)try{z=this.rootFs.readdirSync(f)}catch{}try{var C=y.fs.readdirSync(y.path);return z===null?C:C.concat(z.filter(function(F){return C.indexOf(F)===-1}))}catch(F){if(z===null)throw this.standardizeError(F,y.path,f);return z}},_.prototype.readdir=function(f,y){var z=this,C=this._getFs(f);C.fs.readdir(C.path,function(F,K){if(C.fs!==z.rootFs)try{var ne=z.rootFs.readdirSync(f);K?K=K.concat(ne.filter(function(be){return K.indexOf(be)===-1})):K=ne}catch{if(F)return y(z.standardizeError(F,C.path,f))}else if(F)return y(z.standardizeError(F,C.path,f));y(null,K)})},_.prototype.rmdirSync=function(f){var y=this._getFs(f);if(this._containsMountPt(f))throw p.ENOTEMPTY(f);try{y.fs.rmdirSync(y.path)}catch(z){throw this.standardizeError(z,y.path,f)}},_.prototype.rmdir=function(f,y){var z=this,C=this._getFs(f);this._containsMountPt(f)?y(p.ENOTEMPTY(f)):C.fs.rmdir(C.path,function(F){y(F?z.standardizeError(F,C.path,f):null)})},_.prototype._containsMountPt=function(f){for(var y=this.mountList,z=y.length,C=0;C<z;C++){var F=y[C];if(F.length>=f.length&&F.slice(0,f.length)===f)return!0}return!1},_}(se);Ua.Name="MountableFileSystem",Ua.Options={};function rn(b,_,v){return _?function(){for(var f=[],y=arguments.length;y--;)f[y]=arguments[y];var z=f[0],C=this._getFs(z);f[0]=C.path;try{return C.fs[b].apply(C.fs,f)}catch(F){throw this.standardizeError(F,C.path,z),F}}:function(){for(var f=this,y=[],z=arguments.length;z--;)y[z]=arguments[z];var C=y[0],F=this._getFs(C);if(y[0]=F.path,typeof y[y.length-1]=="function"){var K=y[y.length-1];y[y.length-1]=function(){for(var ne=[],be=arguments.length;be--;)ne[be]=arguments[be];ne.length>0&&ne[0]instanceof p&&f.standardizeError(ne[0],F.path,C),K.apply(null,ne)}}return F.fs[b].apply(F.fs,y)}}for(var nn=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],kr=0;kr<nn.length;kr++)for(var Ri=nn[kr],Lr=0,sn=Ri;Lr<sn.length;Lr+=1){var pr=sn[Lr];Ua.prototype[pr]=rn(pr,!1),Ua.prototype[pr+"Sync"]=rn(pr+"Sync",!0)}var Qa;if(typeof setImmediate<"u")Qa=setImmediate;else{var ta=At,Ba=[],on="zero-timeout-message",Oi=function(){if(typeof ta.importScripts<"u"||!ta.postMessage)return!1;var b=!0,_=ta.onmessage;return ta.onmessage=function(){b=!1},ta.postMessage("","*"),ta.onmessage=_,b};if(Oi()){Qa=function(b){Ba.push(b),ta.postMessage(on,"*")};var ln=function(b){if(b.source===self&&b.data===on&&(b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,Ba.length>0)){var _=Ba.shift();return _()}};ta.addEventListener?ta.addEventListener("message",ln,!0):ta.attachEvent("onmessage",ln)}else if(ta.MessageChannel){var cn=new ta.MessageChannel;cn.port1.onmessage=function(b){if(Ba.length>0)return Ba.shift()()},Qa=function(b){Ba.push(b),cn.port2.postMessage("")}}else Qa=function(b){return setTimeout(b,0)}}var Cr=Qa,Za=function(){this._locked=!1,this._waiters=[]};Za.prototype.lock=function(_){if(this._locked){this._waiters.push(_);return}this._locked=!0,_()},Za.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var _=this._waiters.shift();if(_){Cr(_);return}this._locked=!1},Za.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Za.prototype.isLocked=function(){return this._locked};var rt=function(_){this._fs=_,this._mu=new Za};rt.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},rt.prototype.getFSUnlocked=function(){return this._fs},rt.prototype.initialize=function(_){this._fs.initialize(_)},rt.prototype.diskSpace=function(_,v){this._fs.diskSpace(_,v)},rt.prototype.isReadOnly=function(){return this._fs.isReadOnly()},rt.prototype.supportsLinks=function(){return this._fs.supportsLinks()},rt.prototype.supportsProps=function(){return this._fs.supportsProps()},rt.prototype.supportsSynch=function(){return this._fs.supportsSynch()},rt.prototype.rename=function(_,v,f){var y=this;this._mu.lock(function(){y._fs.rename(_,v,function(z){y._mu.unlock(),f(z)})})},rt.prototype.renameSync=function(_,v){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(_,v)},rt.prototype.stat=function(_,v,f){var y=this;this._mu.lock(function(){y._fs.stat(_,v,function(z,C){y._mu.unlock(),f(z,C)})})},rt.prototype.statSync=function(_,v){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(_,v)},rt.prototype.open=function(_,v,f,y){var z=this;this._mu.lock(function(){z._fs.open(_,v,f,function(C,F){z._mu.unlock(),y(C,F)})})},rt.prototype.openSync=function(_,v,f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(_,v,f)},rt.prototype.unlink=function(_,v){var f=this;this._mu.lock(function(){f._fs.unlink(_,function(y){f._mu.unlock(),v(y)})})},rt.prototype.unlinkSync=function(_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(_)},rt.prototype.rmdir=function(_,v){var f=this;this._mu.lock(function(){f._fs.rmdir(_,function(y){f._mu.unlock(),v(y)})})},rt.prototype.rmdirSync=function(_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(_)},rt.prototype.mkdir=function(_,v,f){var y=this;this._mu.lock(function(){y._fs.mkdir(_,v,function(z){y._mu.unlock(),f(z)})})},rt.prototype.mkdirSync=function(_,v){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(_,v)},rt.prototype.readdir=function(_,v){var f=this;this._mu.lock(function(){f._fs.readdir(_,function(y,z){f._mu.unlock(),v(y,z)})})},rt.prototype.readdirSync=function(_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(_)},rt.prototype.exists=function(_,v){var f=this;this._mu.lock(function(){f._fs.exists(_,function(y){f._mu.unlock(),v(y)})})},rt.prototype.existsSync=function(_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(_)},rt.prototype.realpath=function(_,v,f){var y=this;this._mu.lock(function(){y._fs.realpath(_,v,function(z,C){y._mu.unlock(),f(z,C)})})},rt.prototype.realpathSync=function(_,v){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(_,v)},rt.prototype.truncate=function(_,v,f){var y=this;this._mu.lock(function(){y._fs.truncate(_,v,function(z){y._mu.unlock(),f(z)})})},rt.prototype.truncateSync=function(_,v){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(_,v)},rt.prototype.readFile=function(_,v,f,y){var z=this;this._mu.lock(function(){z._fs.readFile(_,v,f,function(C,F){z._mu.unlock(),y(C,F)})})},rt.prototype.readFileSync=function(_,v,f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(_,v,f)},rt.prototype.writeFile=function(_,v,f,y,z,C){var F=this;this._mu.lock(function(){F._fs.writeFile(_,v,f,y,z,function(K){F._mu.unlock(),C(K)})})},rt.prototype.writeFileSync=function(_,v,f,y,z){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(_,v,f,y,z)},rt.prototype.appendFile=function(_,v,f,y,z,C){var F=this;this._mu.lock(function(){F._fs.appendFile(_,v,f,y,z,function(K){F._mu.unlock(),C(K)})})},rt.prototype.appendFileSync=function(_,v,f,y,z){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(_,v,f,y,z)},rt.prototype.chmod=function(_,v,f,y){var z=this;this._mu.lock(function(){z._fs.chmod(_,v,f,function(C){z._mu.unlock(),y(C)})})},rt.prototype.chmodSync=function(_,v,f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(_,v,f)},rt.prototype.chown=function(_,v,f,y,z){var C=this;this._mu.lock(function(){C._fs.chown(_,v,f,y,function(F){C._mu.unlock(),z(F)})})},rt.prototype.chownSync=function(_,v,f,y){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(_,v,f,y)},rt.prototype.utimes=function(_,v,f,y){var z=this;this._mu.lock(function(){z._fs.utimes(_,v,f,function(C){z._mu.unlock(),y(C)})})},rt.prototype.utimesSync=function(_,v,f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(_,v,f)},rt.prototype.link=function(_,v,f){var y=this;this._mu.lock(function(){y._fs.link(_,v,function(z){y._mu.unlock(),f(z)})})},rt.prototype.linkSync=function(_,v){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(_,v)},rt.prototype.symlink=function(_,v,f,y){var z=this;this._mu.lock(function(){z._fs.symlink(_,v,f,function(C){z._mu.unlock(),y(C)})})},rt.prototype.symlinkSync=function(_,v,f){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(_,v,f)},rt.prototype.readlink=function(_,v){var f=this;this._mu.lock(function(){f._fs.readlink(_,function(y,z){f._mu.unlock(),v(y,z)})})},rt.prototype.readlinkSync=function(_){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(_)};var ga="/.deletedFiles.log";function un(b){return 146|b}function Kt(b){return M.getFileFlag(b)}var hn=function(b){function _(v,f,y,z,C){b.call(this,v,f,y,z,C)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.sync=function(f){var y=this;if(!this.isDirty()){f(null);return}this._fs._syncAsync(this,function(z){y.resetDirty(),f(z)})},_.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},_.prototype.close=function(f){this.sync(f)},_.prototype.closeSync=function(){this.syncSync()},_}(Ce),mn=function(b){function _(v,f){if(b.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=v,this._readable=f,this._writable.isReadOnly())throw new p(c.EINVAL,"Writable file system must be writable.")}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.isAvailable=function(){return!0},_.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},_.prototype._syncAsync=function(f,y){var z=this;this.createParentDirectoriesAsync(f.getPath(),function(C){if(C)return y(C);z._writable.writeFile(f.getPath(),f.getBuffer(),null,Kt("w"),f.getStats().mode,y)})},_.prototype._syncSync=function(f){this.createParentDirectories(f.getPath()),this._writable.writeFileSync(f.getPath(),f.getBuffer(),null,Kt("w"),f.getStats().mode)},_.prototype.getName=function(){return er.Name},_.prototype.initialize=function(f){var y=this,z=this._initializeCallbacks,C=function(F){y._isInitialized=!F,y._initializeCallbacks=[],z.forEach(function(K){return K(F)})};if(this._isInitialized)return f();z.push(f),z.length===1&&this._writable.readFile(ga,"utf8",Kt("r"),function(F,K){if(F){if(F.errno!==c.ENOENT)return C(F)}else y._deleteLog=K;y._reparseDeletionLog(),C()})},_.prototype.isReadOnly=function(){return!1},_.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},_.prototype.supportsLinks=function(){return!1},_.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},_.prototype.getDeletionLog=function(){return this._deleteLog},_.prototype.restoreDeletionLog=function(f){this._deleteLog=f,this._reparseDeletionLog(),this.updateLog("")},_.prototype.rename=function(f,y,z){var C=this;if(!(!this.checkInitAsync(z)||this.checkPathAsync(f,z)||this.checkPathAsync(y,z))){if(f===ga||y===ga)return z(p.EPERM("Cannot rename deletion log."));if(f===y)return z();this.stat(f,!1,function(F,K){return F?z(F):C.stat(y,!1,function(ne,be){var Ee=C;function Re(Xe){var Ke=Xe.shift();if(!Ke)return z();var tt=m.resolve(f,Ke),st=m.resolve(y,Ke);Ee.rename(tt,st,function(wt){if(wt)return z(wt);Re(Xe)})}var Ue=511;if(K.isDirectory()){if(ne)return ne.errno!==c.ENOENT?z(ne):C._writable.exists(f,function(Xe){if(Xe)return C._writable.rename(f,y,z);C._writable.mkdir(y,Ue,function(Ke){if(Ke)return z(Ke);C._readable.readdir(f,function(tt,st){if(tt)return z();Re(st)})})});if(Ue=be.mode,!be.isDirectory())return z(p.ENOTDIR(y));C.readdir(y,function(Xe,Ke){if(Ke&&Ke.length)return z(p.ENOTEMPTY(y));C._readable.readdir(f,function(tt,st){if(tt)return z();Re(st)})})}if(be&&be.isDirectory())return z(p.EISDIR(y));C.readFile(f,null,Kt("r"),function(Xe,Ke){return Xe?z(Xe):C.writeFile(y,Ke,null,Kt("w"),K.mode,function(tt){return tt?z(tt):C.unlink(f,z)})})})})}},_.prototype.renameSync=function(f,y){var z=this;if(this.checkInitialized(),this.checkPath(f),this.checkPath(y),f===ga||y===ga)throw p.EPERM("Cannot rename deletion log.");var C=this.statSync(f,!1);if(C.isDirectory()){if(f===y)return;var F=511;if(this.existsSync(y)){var K=this.statSync(y,!1);if(F=K.mode,K.isDirectory()){if(this.readdirSync(y).length>0)throw p.ENOTEMPTY(y)}else throw p.ENOTDIR(y)}this._writable.existsSync(f)?this._writable.renameSync(f,y):this._writable.existsSync(y)||this._writable.mkdirSync(y,F),this._readable.existsSync(f)&&this._readable.readdirSync(f).forEach(function(ne){z.renameSync(m.resolve(f,ne),m.resolve(y,ne))})}else{if(this.existsSync(y)&&this.statSync(y,!1).isDirectory())throw p.EISDIR(y);this.writeFileSync(y,this.readFileSync(f,null,Kt("r")),null,Kt("w"),C.mode)}f!==y&&this.existsSync(f)&&this.unlinkSync(f)},_.prototype.stat=function(f,y,z){var C=this;this.checkInitAsync(z)&&this._writable.stat(f,y,function(F,K){F&&F.errno===c.ENOENT?(C._deletedFiles[f]&&z(p.ENOENT(f)),C._readable.stat(f,y,function(ne,be){be&&(be=be.clone(),be.mode=un(be.mode)),z(ne,be)})):z(F,K)})},_.prototype.statSync=function(f,y){this.checkInitialized();try{return this._writable.statSync(f,y)}catch{if(this._deletedFiles[f])throw p.ENOENT(f);var z=this._readable.statSync(f,y).clone();return z.mode=un(z.mode),z}},_.prototype.open=function(f,y,z,C){var F=this;!this.checkInitAsync(C)||this.checkPathAsync(f,C)||this.stat(f,!1,function(K,ne){if(ne)switch(y.pathExistsAction()){case x.TRUNCATE_FILE:return F.createParentDirectoriesAsync(f,function(be){if(be)return C(be);F._writable.open(f,y,z,C)});case x.NOP:return F._writable.exists(f,function(be){be?F._writable.open(f,y,z,C):(ne=ne.clone(),ne.mode=z,F._readable.readFile(f,null,Kt("r"),function(Ee,Re){if(Ee)return C(Ee);ne.size===-1&&(ne.size=Re.length);var Ue=new hn(F,f,y,ne,Re);C(null,Ue)}))});default:return C(p.EEXIST(f))}else switch(y.pathNotExistsAction()){case x.CREATE_FILE:return F.createParentDirectoriesAsync(f,function(be){return be?C(be):F._writable.open(f,y,z,C)});default:return C(p.ENOENT(f))}})},_.prototype.openSync=function(f,y,z){if(this.checkInitialized(),this.checkPath(f),f===ga)throw p.EPERM("Cannot open deletion log.");if(this.existsSync(f))switch(y.pathExistsAction()){case x.TRUNCATE_FILE:return this.createParentDirectories(f),this._writable.openSync(f,y,z);case x.NOP:if(this._writable.existsSync(f))return this._writable.openSync(f,y,z);var C=this._readable.readFileSync(f,null,Kt("r")),F=this._readable.statSync(f,!1).clone();return F.mode=z,new hn(this,f,y,F,C);default:throw p.EEXIST(f)}else switch(y.pathNotExistsAction()){case x.CREATE_FILE:return this.createParentDirectories(f),this._writable.openSync(f,y,z);default:throw p.ENOENT(f)}},_.prototype.unlink=function(f,y){var z=this;!this.checkInitAsync(y)||this.checkPathAsync(f,y)||this.exists(f,function(C){if(!C)return y(p.ENOENT(f));z._writable.exists(f,function(F){if(F)return z._writable.unlink(f,function(K){if(K)return y(K);z.exists(f,function(ne){ne&&z.deletePath(f),y(null)})});z.deletePath(f),y(null)})})},_.prototype.unlinkSync=function(f){if(this.checkInitialized(),this.checkPath(f),this.existsSync(f))this._writable.existsSync(f)&&this._writable.unlinkSync(f),this.existsSync(f)&&this.deletePath(f);else throw p.ENOENT(f)},_.prototype.rmdir=function(f,y){var z=this;if(this.checkInitAsync(y)){var C=function(){z.readdir(f,function(F,K){if(F)return y(F);if(K.length)return y(p.ENOTEMPTY(f));z.deletePath(f),y(null)})};this.exists(f,function(F){if(!F)return y(p.ENOENT(f));z._writable.exists(f,function(K){K?z._writable.rmdir(f,function(ne){if(ne)return y(ne);z._readable.exists(f,function(be){be?C():y()})}):C()})})}},_.prototype.rmdirSync=function(f){if(this.checkInitialized(),this.existsSync(f)){if(this._writable.existsSync(f)&&this._writable.rmdirSync(f),this.existsSync(f)){if(this.readdirSync(f).length>0)throw p.ENOTEMPTY(f);this.deletePath(f)}}else throw p.ENOENT(f)},_.prototype.mkdir=function(f,y,z){var C=this;this.checkInitAsync(z)&&this.exists(f,function(F){if(F)return z(p.EEXIST(f));C.createParentDirectoriesAsync(f,function(K){if(K)return z(K);C._writable.mkdir(f,y,z)})})},_.prototype.mkdirSync=function(f,y){if(this.checkInitialized(),this.existsSync(f))throw p.EEXIST(f);this.createParentDirectories(f),this._writable.mkdirSync(f,y)},_.prototype.readdir=function(f,y){var z=this;this.checkInitAsync(y)&&this.stat(f,!1,function(C,F){if(C)return y(C);if(!F.isDirectory())return y(p.ENOTDIR(f));z._writable.readdir(f,function(K,ne){if(K&&K.code!=="ENOENT")return y(K);(K||!ne)&&(ne=[]),z._readable.readdir(f,function(be,Ee){(be||!Ee)&&(Ee=[]);var Re={},Ue=ne.concat(Ee.filter(function(Xe){return!z._deletedFiles[f+"/"+Xe]})).filter(function(Xe){var Ke=!Re[Xe];return Re[Xe]=!0,Ke});y(null,Ue)})})})},_.prototype.readdirSync=function(f){var y=this;this.checkInitialized();var z=this.statSync(f,!1);if(!z.isDirectory())throw p.ENOTDIR(f);var C=[];try{C=C.concat(this._writable.readdirSync(f))}catch{}try{C=C.concat(this._readable.readdirSync(f).filter(function(K){return!y._deletedFiles[f+"/"+K]}))}catch{}var F={};return C.filter(function(K){var ne=!F[K];return F[K]=!0,ne})},_.prototype.exists=function(f,y){var z=this;this.checkInitialized(),this._writable.exists(f,function(C){if(C)return y(!0);z._readable.exists(f,function(F){y(F&&z._deletedFiles[f]!==!0)})})},_.prototype.existsSync=function(f){return this.checkInitialized(),this._writable.existsSync(f)||this._readable.existsSync(f)&&this._deletedFiles[f]!==!0},_.prototype.chmod=function(f,y,z,C){var F=this;this.checkInitAsync(C)&&this.operateOnWritableAsync(f,function(K){if(K)return C(K);F._writable.chmod(f,y,z,C)})},_.prototype.chmodSync=function(f,y,z){var C=this;this.checkInitialized(),this.operateOnWritable(f,function(){C._writable.chmodSync(f,y,z)})},_.prototype.chown=function(f,y,z,C,F){var K=this;this.checkInitAsync(F)&&this.operateOnWritableAsync(f,function(ne){if(ne)return F(ne);K._writable.chown(f,y,z,C,F)})},_.prototype.chownSync=function(f,y,z,C){var F=this;this.checkInitialized(),this.operateOnWritable(f,function(){F._writable.chownSync(f,y,z,C)})},_.prototype.utimes=function(f,y,z,C){var F=this;this.checkInitAsync(C)&&this.operateOnWritableAsync(f,function(K){if(K)return C(K);F._writable.utimes(f,y,z,C)})},_.prototype.utimesSync=function(f,y,z){var C=this;this.checkInitialized(),this.operateOnWritable(f,function(){C._writable.utimesSync(f,y,z)})},_.prototype.deletePath=function(f){this._deletedFiles[f]=!0,this.updateLog("d"+f+`
`)},_.prototype.updateLog=function(f){var y=this;this._deleteLog+=f,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(ga,this._deleteLog,"utf8",M.getFileFlag("w"),420,function(z){y._deleteLogUpdatePending=!1,z?y._deleteLogError=z:y._deleteLogUpdateNeeded&&(y._deleteLogUpdateNeeded=!1,y.updateLog(""))}))},_.prototype._reparseDeletionLog=function(){var f=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(y){f._deletedFiles[y.slice(1)]=y.slice(0,1)==="d"})},_.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var f=this._deleteLogError;throw this._deleteLogError=null,f}}else throw new p(c.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},_.prototype.checkInitAsync=function(f){if(this._isInitialized){if(this._deleteLogError!==null){var y=this._deleteLogError;return this._deleteLogError=null,f(y),!1}}else return f(new p(c.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},_.prototype.checkPath=function(f){if(f===ga)throw p.EPERM(f)},_.prototype.checkPathAsync=function(f,y){return f===ga?(y(p.EPERM(f)),!0):!1},_.prototype.createParentDirectoriesAsync=function(f,y){var z=m.dirname(f),C=[],F=this;this._writable.stat(z,!1,K);function K(be,Ee){be?(C.push(z),z=m.dirname(z),F._writable.stat(z,!1,K)):ne()}function ne(){if(!C.length)return y();var be=C.pop();F._readable.stat(be,!1,function(Ee,Re){if(!Re)return y();F._writable.mkdir(be,Re.mode,function(Ue){if(Ue)return y(Ue);ne()})})}},_.prototype.createParentDirectories=function(f){for(var y=this,z=m.dirname(f),C=[];!this._writable.existsSync(z);)C.push(z),z=m.dirname(z);C=C.reverse(),C.forEach(function(F){y._writable.mkdirSync(F,y.statSync(F,!1).mode)})},_.prototype.operateOnWritable=function(f,y){if(this.existsSync(f))this._writable.existsSync(f)||this.copyToWritable(f),y();else throw p.ENOENT(f)},_.prototype.operateOnWritableAsync=function(f,y){var z=this;this.exists(f,function(C){if(!C)return y(p.ENOENT(f));z._writable.exists(f,function(F){if(F)y();else return z.copyToWritableAsync(f,y)})})},_.prototype.copyToWritable=function(f){var y=this.statSync(f,!1);y.isDirectory()?this._writable.mkdirSync(f,y.mode):this.writeFileSync(f,this._readable.readFileSync(f,null,Kt("r")),null,Kt("w"),this.statSync(f,!1).mode)},_.prototype.copyToWritableAsync=function(f,y){var z=this;this.stat(f,!1,function(C,F){if(C)return y(C);if(F.isDirectory())return z._writable.mkdir(f,F.mode,y);z._readable.readFile(f,null,Kt("r"),function(K,ne){if(K)return y(K);z.writeFile(f,ne,null,Kt("w"),F.mode,y)})})},_}(se),er=function(b){function _(v,f,y){y===void 0&&(y=!0),b.call(this,new mn(v,f)),$(y,_.Name,{readable:"readable file system",writable:"writable file system"})}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){try{var z=new _(f.writable,f.readable,!1);z.initialize(function(C){y(C,z)},!1)}catch(C){y(C)}},_.isAvailable=function(){return mn.isAvailable()},_.prototype.initialize=function(f,y){y===void 0&&(y=!0),y&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),b.prototype.initialize.call(this,f)},_.prototype.getOverlayedFileSystems=function(){return b.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},_.prototype.unwrap=function(){return b.prototype.getFSUnlocked.call(this)},_}(rt);er.Name="OverlayFS",er.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var xt;(function(b){b[b.CB=0]="CB",b[b.FD=1]="FD",b[b.API_ERROR=2]="API_ERROR",b[b.STATS=3]="STATS",b[b.PROBE=4]="PROBE",b[b.FILEFLAG=5]="FILEFLAG",b[b.BUFFER=6]="BUFFER",b[b.ERROR=7]="ERROR"})(xt||(xt={}));var Dr=function(){this._callbacks={},this._nextId=0};Dr.prototype.toRemoteArg=function(_){var v=this._nextId++;return this._callbacks[v]=_,{type:xt.CB,id:v}},Dr.prototype.toLocalArg=function(_){var v=this._callbacks[_];return delete this._callbacks[_],v};var _r=function(){this._fileDescriptors={},this._nextId=0};_r.prototype.toRemoteArg=function(_,v,f,y){var z=this._nextId++,C,F;this._fileDescriptors[z]=_,_.stat(function(K,ne){K?y(K):(F=Ca(ne.toBuffer()),f.isReadable()?_.read(n.alloc(ne.size),0,ne.size,0,function(be,Ee,Re){be?y(be):(C=Ca(Re),y(null,{type:xt.FD,id:z,data:C,stat:F,path:v,flag:f.getFlagString()}))}):y(null,{type:xt.FD,id:z,data:new ArrayBuffer(0),stat:F,path:v,flag:f.getFlagString()}))})},_r.prototype.applyFdAPIRequest=function(_,v){var f=this,y=_.args[0];this._applyFdChanges(y,function(z,C){z?v(z):C[_.method](function(F){_.method==="close"&&delete f._fileDescriptors[y.id],v(F)})})},_r.prototype._applyFdChanges=function(_,v){var f=this._fileDescriptors[_.id],y=Da(_.data),z=w.fromBuffer(Da(_.stat)),C=M.getFileFlag(_.flag);C.isWriteable()?f.write(y,0,y.length,C.isAppendable()?f.getPos():0,function(F){function K(){f.stat(function(ne,be){ne?v(ne):be.mode!==z.mode?f.chmod(z.mode,function(Ee){v(Ee,f)}):v(ne,f)})}F?v(F):C.isAppendable()?K():f.truncate(y.length,function(){K()})}):v(null,f)};function fr(b){return{type:xt.API_ERROR,errorData:Ca(b.writeToBuffer())}}function pn(b){return p.fromBuffer(Da(b.errorData))}function _n(b){return{type:xt.ERROR,name:b.name,message:b.message,stack:b.stack}}function fn(b){var _=At[b.name];typeof _!="function"&&(_=Error);var v=new _(b.message);return v.stack=b.stack,v}function vn(b){return{type:xt.STATS,statsData:Ca(b.toBuffer())}}function dn(b){return w.fromBuffer(Da(b.statsData))}function bn(b){return{type:xt.FILEFLAG,flagStr:b.getFlagString()}}function yn(b){return M.getFileFlag(b.flagStr)}function Ca(b){return ue(b)}function Da(b){return ye(b)}function gn(b){return{type:xt.BUFFER,data:Ca(b)}}function xn(b){return Da(b.data)}function Ii(b){return b&&typeof b=="object"&&b.hasOwnProperty("browserfsMessage")&&b.browserfsMessage}function Ni(b){return b&&typeof b=="object"&&b.hasOwnProperty("browserfsMessage")&&b.browserfsMessage}var wn=function(b){function _(v,f,y,z,C,F){b.call(this,v,f,y,z,F),this._remoteFdId=C}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.getRemoteFdId=function(){return this._remoteFdId},_.prototype.toRemoteArg=function(){return{type:xt.FD,id:this._remoteFdId,data:Ca(this.getBuffer()),stat:Ca(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},_.prototype.sync=function(f){this._syncClose("sync",f)},_.prototype.close=function(f){this._syncClose("close",f)},_.prototype._syncClose=function(f,y){var z=this;this.isDirty()?this._fs.syncClose(f,this,function(C){C||z.resetDirty(),y(C)}):y()},_}(Ce),vr=function(b){function _(v,f){var y=this;f===void 0&&(f=!0),b.call(this),this._callbackConverter=new Dr,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=v,$(f,_.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(z){var C=z.data;if(Ni(C)){var F,K=C.args,ne=new Array(K.length);for(F=0;F<ne.length;F++)ne[F]=y._argRemote2Local(K[F]);y._callbackConverter.toLocalArg(C.cbId).apply(null,ne)}})}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){var z=new _(f.worker,!1);z.initialize(function(){y(null,z)})},_.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},_.attachRemoteListener=function(f){var y=new _r;function z(F,K,ne){switch(typeof F){case"object":F instanceof w?ne(null,vn(F)):F instanceof p?ne(null,fr(F)):F instanceof we?ne(null,y.toRemoteArg(F,K[0],K[1],ne)):F instanceof M?ne(null,bn(F)):F instanceof n?ne(null,gn(F)):F instanceof Error?ne(null,_n(F)):ne(null,F);break;default:ne(null,F);break}}function C(F,K){if(!F)return F;switch(typeof F){case"object":if(typeof F.type=="number"){var ne=F;switch(ne.type){case xt.CB:var be=F.id;return function(){var Ee=arguments,Re,Ue=new Array(arguments.length),Xe,Ke=arguments.length;function tt(st){Ke>0&&(Ke=-1,Xe={browserfsMessage:!0,cbId:be,args:[fr(st)]},f.postMessage(Xe))}for(Re=0;Re<arguments.length;Re++)(function(st,wt){z(wt,K,function(It,_a){Ue[st]=_a,It?tt(It):--Ke===0&&(Xe={browserfsMessage:!0,cbId:be,args:Ue},f.postMessage(Xe))})})(Re,Ee[Re]);arguments.length===0&&(Xe={browserfsMessage:!0,cbId:be,args:Ue},f.postMessage(Xe))};case xt.API_ERROR:return pn(ne);case xt.STATS:return dn(ne);case xt.FILEFLAG:return yn(ne);case xt.BUFFER:return xn(ne);case xt.ERROR:return fn(ne);default:return F}}else return F;default:return F}}f.addEventListener("message",function(F){var K=F.data;if(Ii(K)){var ne=K.args,be=new Array(ne.length);switch(K.method){case"close":case"sync":(function(){var Ue=ne[1];y.applyFdAPIRequest(K,function(Xe){var Ke={browserfsMessage:!0,cbId:Ue.id,args:Xe?[fr(Xe)]:[]};f.postMessage(Ke)})})();break;case"probe":(function(){var Ue=N.getRootFS(),Xe=ne[1],Ke={type:xt.PROBE,isReadOnly:Ue.isReadOnly(),supportsLinks:Ue.supportsLinks(),supportsProps:Ue.supportsProps()},tt={browserfsMessage:!0,cbId:Xe.id,args:[Ke]};f.postMessage(tt)})();break;default:for(var Ee=0;Ee<ne.length;Ee++)be[Ee]=C(ne[Ee],be);var Re=N.getRootFS();Re[K.method].apply(Re,be);break}}})},_.prototype.getName=function(){return _.Name},_.prototype.initialize=function(f){var y=this;if(this._isInitialized)f();else{var z={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Ae()),this._callbackConverter.toRemoteArg(function(C){y._isInitialized=!0,y._isReadOnly=C.isReadOnly,y._supportLinks=C.supportsLinks,y._supportProps=C.supportsProps,f()})]};this._worker.postMessage(z)}},_.prototype.isReadOnly=function(){return this._isReadOnly},_.prototype.supportsSynch=function(){return!1},_.prototype.supportsLinks=function(){return this._supportLinks},_.prototype.supportsProps=function(){return this._supportProps},_.prototype.rename=function(f,y,z){this._rpc("rename",arguments)},_.prototype.stat=function(f,y,z){this._rpc("stat",arguments)},_.prototype.open=function(f,y,z,C){this._rpc("open",arguments)},_.prototype.unlink=function(f,y){this._rpc("unlink",arguments)},_.prototype.rmdir=function(f,y){this._rpc("rmdir",arguments)},_.prototype.mkdir=function(f,y,z){this._rpc("mkdir",arguments)},_.prototype.readdir=function(f,y){this._rpc("readdir",arguments)},_.prototype.exists=function(f,y){this._rpc("exists",arguments)},_.prototype.realpath=function(f,y,z){this._rpc("realpath",arguments)},_.prototype.truncate=function(f,y,z){this._rpc("truncate",arguments)},_.prototype.readFile=function(f,y,z,C){this._rpc("readFile",arguments)},_.prototype.writeFile=function(f,y,z,C,F,K){this._rpc("writeFile",arguments)},_.prototype.appendFile=function(f,y,z,C,F,K){this._rpc("appendFile",arguments)},_.prototype.chmod=function(f,y,z,C){this._rpc("chmod",arguments)},_.prototype.chown=function(f,y,z,C,F){this._rpc("chown",arguments)},_.prototype.utimes=function(f,y,z,C){this._rpc("utimes",arguments)},_.prototype.link=function(f,y,z){this._rpc("link",arguments)},_.prototype.symlink=function(f,y,z,C){this._rpc("symlink",arguments)},_.prototype.readlink=function(f,y){this._rpc("readlink",arguments)},_.prototype.syncClose=function(f,y,z){this._worker.postMessage({browserfsMessage:!0,method:f,args:[y.toRemoteArg(),this._callbackConverter.toRemoteArg(z)]})},_.prototype._argRemote2Local=function(f){if(!f)return f;switch(typeof f){case"object":if(typeof f.type=="number"){var y=f;switch(y.type){case xt.API_ERROR:return pn(y);case xt.FD:var z=y;return new wn(this,z.path,M.getFileFlag(z.flag),w.fromBuffer(Da(z.stat)),z.id,Da(z.data));case xt.STATS:return dn(y);case xt.FILEFLAG:return yn(y);case xt.BUFFER:return xn(y);case xt.ERROR:return fn(y);default:return f}}else return f;default:return f}},_.prototype._rpc=function(f,y){for(var z=this,C=new Array(y.length),F=0;F<y.length;F++)C[F]=z._argLocal2Remote(y[F]);var K={browserfsMessage:!0,method:f,args:C};this._worker.postMessage(K)},_.prototype._argLocal2Remote=function(f){if(!f)return f;switch(typeof f){case"object":return f instanceof w?vn(f):f instanceof p?fr(f):f instanceof wn?f.toRemoteArg():f instanceof M?bn(f):f instanceof n?gn(f):f instanceof Error?_n(f):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(f);default:return f}},_}(se);vr.Name="WorkerFS",vr.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(b,_){b.postMessage?_():_(new p(c.EINVAL,"option must be a Web Worker instance."))}}};function Pi(b,_,v){var f=new XMLHttpRequest;f.open("GET",b,!0);var y=!0;switch(_){case"buffer":f.responseType="arraybuffer";break;case"json":try{f.responseType="json",y=f.responseType==="json"}catch{y=!1}break;default:return v(new p(c.EINVAL,"Invalid download type: "+_))}f.onreadystatechange=function(z){if(f.readyState===4)if(f.status===200)switch(_){case"buffer":return v(null,f.response?n.from(f.response):Ae());case"json":return y?v(null,f.response):v(null,JSON.parse(f.responseText))}else return v(new p(f.status,"XHR error."))},f.send()}function Fi(b,_){var v=new XMLHttpRequest;v.open("GET",b,!1);var f=null,y=null;if(v.overrideMimeType("text/plain; charset=x-user-defined"),v.onreadystatechange=function(z){if(v.readyState===4)if(v.status===200)switch(_){case"buffer":var C=v.responseText;f=n.alloc(C.length);for(var F=0;F<C.length;F++)f[F]=C.charCodeAt(F);return;case"json":f=JSON.parse(v.responseText);return}else{y=new p(v.status,"XHR error.");return}},v.send(),y)throw y;return f}function Ui(b,_){var v=new XMLHttpRequest;switch(v.open("GET",b,!1),_){case"buffer":v.responseType="arraybuffer";break;case"json":break;default:throw new p(c.EINVAL,"Invalid download type: "+_)}var f,y;if(v.onreadystatechange=function(z){if(v.readyState===4)if(v.status===200)switch(_){case"buffer":f=n.from(v.response);break;case"json":f=JSON.parse(v.response);break}else y=new p(v.status,"XHR error.")},v.send(),y)throw y;return f}function qn(b,_,v){var f=new XMLHttpRequest;f.open("HEAD",_,b),f.onreadystatechange=function(y){if(f.readyState===4)if(f.status===200)try{return v(null,parseInt(f.getResponseHeader("Content-Length")||"-1",10))}catch{return v(new p(c.EIO,"XHR HEAD error: Could not read content-length."))}else return v(new p(f.status,"XHR HEAD error."))},f.send()}var Mn=Pi,Bi=J&&typeof Blob<"u"?Ui:Fi;function Vi(b){var _=-1;return qn(!1,b,function(v,f){if(v)throw v;_=f}),_}function ji(b,_){qn(!0,b,_)}var aa=function(){this._index={},this.addPath("/",new Ht)};aa.fromListing=function(_){var v=new aa,f=new Ht;v._index["/"]=f;for(var y=[["",_,f]];y.length>0;){var z=void 0,C=y.pop(),F=C[0],K=C[1],ne=C[2];for(var be in K)if(K.hasOwnProperty(be)){var Ee=K[be],Re=F+"/"+be;Ee?(v._index[Re]=z=new Ht,y.push([Re,Ee,z])):z=new Va(new w(A.FILE,-1,365)),ne&&(ne._ls[be]=z)}}return v},aa.prototype.fileIterator=function(_){var v=this;for(var f in v._index)if(v._index.hasOwnProperty(f))for(var y=v._index[f],z=y.getListing(),C=0,F=z;C<F.length;C+=1){var K=F[C],ne=y.getItem(K);xa(ne)&&_(ne.getData())}},aa.prototype.addPath=function(_,v){if(!v)throw new Error("Inode must be specified");if(_[0]!=="/")throw new Error("Path must be absolute, got: "+_);if(this._index.hasOwnProperty(_))return this._index[_]===v;var f=this._split_path(_),y=f[0],z=f[1],C=this._index[y];return C===void 0&&_!=="/"&&(C=new Ht,!this.addPath(y,C))||_!=="/"&&!C.addItem(z,v)?!1:(Aa(v)&&(this._index[_]=v),!0)},aa.prototype.addPathFast=function(_,v){var f=_.lastIndexOf("/"),y=f===0?"/":_.substring(0,f),z=_.substring(f+1),C=this._index[y];return C===void 0&&(C=new Ht,this.addPathFast(y,C)),C.addItem(z,v)?(v.isDir()&&(this._index[_]=v),!0):!1},aa.prototype.removePath=function(_){var v=this,f=this._split_path(_),y=f[0],z=f[1],C=this._index[y];if(C===void 0)return null;var F=C.remItem(z);if(F===null)return null;if(Aa(F)){for(var K=F.getListing(),ne=0,be=K;ne<be.length;ne+=1){var Ee=be[ne];v.removePath(_+"/"+Ee)}_!=="/"&&delete this._index[_]}return F},aa.prototype.ls=function(_){var v=this._index[_];return v===void 0?null:v.getListing()},aa.prototype.getInode=function(_){var v=this._split_path(_),f=v[0],y=v[1],z=this._index[f];return z===void 0?null:f===_?z:z.getItem(y)},aa.prototype._split_path=function(_){var v=m.dirname(_),f=_.substr(v.length+(v==="/"?0:1));return[v,f]};var Va=function(_){this.data=_};Va.prototype.isFile=function(){return!0},Va.prototype.isDir=function(){return!1},Va.prototype.getData=function(){return this.data},Va.prototype.setData=function(_){this.data=_};var Ht=function(_){_===void 0&&(_=null),this.data=_,this._ls={}};Ht.prototype.isFile=function(){return!1},Ht.prototype.isDir=function(){return!0},Ht.prototype.getData=function(){return this.data},Ht.prototype.getStats=function(){return new w(A.DIRECTORY,4096,365)},Ht.prototype.getListing=function(){return Object.keys(this._ls)},Ht.prototype.getItem=function(_){var v=this._ls[_];return v||null},Ht.prototype.addItem=function(_,v){return _ in this._ls?!1:(this._ls[_]=v,!0)},Ht.prototype.remItem=function(_){var v=this._ls[_];return v===void 0?null:(delete this._ls[_],v)};function xa(b){return!!b&&b.isFile()}function Aa(b){return!!b&&b.isDir()}function Xi(b,_,v){try{v(null,b.toString(_))}catch(f){v(f)}}var dr=function(b){function _(v,f,y){f===void 0&&(f=""),y===void 0&&(y=!0),b.call(this),v||(v="index.json"),f.length>0&&f.charAt(f.length-1)!=="/"&&(f=f+"/"),this.prefixUrl=f;var z=null;if(typeof v=="string"){if(z=this._requestFileSync(v,"json"),!z)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else z=v;$(y,_.Name,{index:typeof v=="string"?v:"file index as an object",baseUrl:f}),this._index=aa.fromListing(z)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){f.index===void 0&&(f.index="index.json"),typeof f.index=="string"?_.FromURL(f.index,y,f.baseUrl,!1):y(null,new _(f.index,f.baseUrl,!1))},_.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},_.FromURL=function(f,y,z,C){z===void 0&&(z=f.slice(0,f.lastIndexOf("/")+1)),C===void 0&&(C=!0),C&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+f+'", baseUrl: "'+z+`" }, cb)' instead.`),Mn(f,"json",function(F,K){F?y(F):y(null,new _(K,z,!1))})},_.prototype.empty=function(){this._index.fileIterator(function(f){f.fileData=null})},_.prototype.getName=function(){return _.Name},_.prototype.diskSpace=function(f,y){y(0,0)},_.prototype.isReadOnly=function(){return!0},_.prototype.supportsLinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!0},_.prototype.preloadFile=function(f,y){var z=this._index.getInode(f);if(xa(z)){if(z===null)throw p.ENOENT(f);var C=z.getData();C.size=y.length,C.fileData=y}else throw p.EISDIR(f)},_.prototype.stat=function(f,y,z){var C=this._index.getInode(f);if(C===null)return z(p.ENOENT(f));var F;xa(C)?(F=C.getData(),F.size<0?this._requestFileSizeAsync(f,function(K,ne){if(K)return z(K);F.size=ne,z(null,F.clone())}):z(null,F.clone())):Aa(C)?(F=C.getStats(),z(null,F)):z(p.FileError(c.EINVAL,f))},_.prototype.statSync=function(f,y){var z=this._index.getInode(f);if(z===null)throw p.ENOENT(f);var C;if(xa(z))C=z.getData(),C.size<0&&(C.size=this._requestFileSizeSync(f));else if(Aa(z))C=z.getStats();else throw p.FileError(c.EINVAL,f);return C},_.prototype.open=function(f,y,z,C){if(y.isWriteable())return C(new p(c.EPERM,f));var F=this,K=this._index.getInode(f);if(K===null)return C(p.ENOENT(f));if(xa(K)){var ne=K.getData();switch(y.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:return C(p.EEXIST(f));case x.NOP:if(ne.fileData)return C(null,new Be(F,f,y,ne.clone(),ne.fileData));this._requestFileAsync(f,"buffer",function(be,Ee){return be?C(be):(ne.size=Ee.length,ne.fileData=Ee,C(null,new Be(F,f,y,ne.clone(),Ee)))});break;default:return C(new p(c.EINVAL,"Invalid FileMode object."))}}else return C(p.EISDIR(f))},_.prototype.openSync=function(f,y,z){if(y.isWriteable())throw new p(c.EPERM,f);var C=this._index.getInode(f);if(C===null)throw p.ENOENT(f);if(xa(C)){var F=C.getData();switch(y.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:throw p.EEXIST(f);case x.NOP:if(F.fileData)return new Be(this,f,y,F.clone(),F.fileData);var K=this._requestFileSync(f,"buffer");return F.size=K.length,F.fileData=K,new Be(this,f,y,F.clone(),K);default:throw new p(c.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(f)},_.prototype.readdir=function(f,y){try{y(null,this.readdirSync(f))}catch(z){y(z)}},_.prototype.readdirSync=function(f){var y=this._index.getInode(f);if(y===null)throw p.ENOENT(f);if(Aa(y))return y.getListing();throw p.ENOTDIR(f)},_.prototype.readFile=function(f,y,z,C){var F=C;this.open(f,z,420,function(K,ne){if(K)return C(K);C=function(Re,Ue){ne.close(function(Xe){return Re||(Re=Xe),F(Re,Ue)})};var be=ne,Ee=be.getBuffer();y===null?C(K,xe(Ee)):Xi(Ee,y,C)})},_.prototype.readFileSync=function(f,y,z){var C=this.openSync(f,z,420);try{var F=C,K=F.getBuffer();return y===null?xe(K):K.toString(y)}finally{C.closeSync()}},_.prototype.getXhrPath=function(f){return f.charAt(0)==="/"&&(f=f.slice(1)),this.prefixUrl+f},_.prototype._requestFileAsync=function(f,y,z){Mn(this.getXhrPath(f),y,z)},_.prototype._requestFileSync=function(f,y){return Bi(this.getXhrPath(f),y)},_.prototype._requestFileSizeAsync=function(f,y){ji(this.getXhrPath(f),y)},_.prototype._requestFileSizeSync=function(f){return Vi(this.getXhrPath(f))},_}(se);dr.Name="XmlHttpRequest",dr.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Ra=function(){};Ra.str2byte=function(_,v){for(var f=_.length>v.length?v.length:_.length,y=0;y<f;y++){var z=_.charCodeAt(y);if(z>127){var C=Ra.extendedChars.indexOf(_.charAt(y));C>-1&&(z=C+128)}v[z]=y}return f},Ra.byte2str=function(_){for(var v=new Array(_.length),f=0;f<_.length;f++){var y=_[f];y>127?v[f]=Ra.extendedChars[y-128]:v[f]=String.fromCharCode(y)}return v.join("")},Ra.byteLength=function(_){return _.length},Ra.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var $i=r(31).inflateRaw,zn={},En;(function(b){b[b.MSDOS=0]="MSDOS",b[b.AMIGA=1]="AMIGA",b[b.OPENVMS=2]="OPENVMS",b[b.UNIX=3]="UNIX",b[b.VM_CMS=4]="VM_CMS",b[b.ATARI_ST=5]="ATARI_ST",b[b.OS2_HPFS=6]="OS2_HPFS",b[b.MAC=7]="MAC",b[b.Z_SYSTEM=8]="Z_SYSTEM",b[b.CP_M=9]="CP_M",b[b.NTFS=10]="NTFS",b[b.MVS=11]="MVS",b[b.VSE=12]="VSE",b[b.ACORN_RISC=13]="ACORN_RISC",b[b.VFAT=14]="VFAT",b[b.ALT_MVS=15]="ALT_MVS",b[b.BEOS=16]="BEOS",b[b.TANDEM=17]="TANDEM",b[b.OS_400=18]="OS_400",b[b.OSX=19]="OSX"})(En||(En={}));var ja;(function(b){b[b.STORED=0]="STORED",b[b.SHRUNK=1]="SHRUNK",b[b.REDUCED_1=2]="REDUCED_1",b[b.REDUCED_2=3]="REDUCED_2",b[b.REDUCED_3=4]="REDUCED_3",b[b.REDUCED_4=5]="REDUCED_4",b[b.IMPLODE=6]="IMPLODE",b[b.DEFLATE=8]="DEFLATE",b[b.DEFLATE64=9]="DEFLATE64",b[b.TERSE_OLD=10]="TERSE_OLD",b[b.BZIP2=12]="BZIP2",b[b.LZMA=14]="LZMA",b[b.TERSE_NEW=18]="TERSE_NEW",b[b.LZ77=19]="LZ77",b[b.WAVPACK=97]="WAVPACK",b[b.PPMD=98]="PPMD"})(ja||(ja={}));function An(b,_){var v=_&31,f=(_>>5&15)-1,y=(_>>9)+1980,z=b&31,C=b>>5&63,F=b>>11;return new Date(y,f,v,F,C,z)}function br(b,_,v,f){return f===0?"":_?b.toString("utf8",v,v+f):Ra.byte2str(b.slice(v,v+f))}var Qt=function(_){if(this.data=_,_.readUInt32LE(0)!==67324752)throw new p(c.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Qt.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Qt.prototype.flags=function(){return this.data.readUInt16LE(6)},Qt.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Qt.prototype.lastModFileTime=function(){return An(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Qt.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Qt.prototype.crc32=function(){return this.data.readUInt32LE(14)},Qt.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Qt.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Qt.prototype.fileName=function(){return br(this.data,this.useUTF8(),30,this.fileNameLength())},Qt.prototype.extraField=function(){var _=30+this.fileNameLength();return this.data.slice(_,_+this.extraFieldLength())},Qt.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Qt.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var tr=function(_,v,f){this.header=_,this.record=v,this.data=f};tr.prototype.decompress=function(){var _=this.header.compressionMethod(),v=zn[_];if(v)return v(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var f=ja[_];throw f||(f="Unknown: "+_),new p(c.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+f)},tr.prototype.getHeader=function(){return this.header},tr.prototype.getRecord=function(){return this.record},tr.prototype.getRawData=function(){return this.data};var ct=function(_,v){if(this.zipData=_,this.data=v,this.data.readUInt32LE(0)!==33639248)throw new p(c.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};ct.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},ct.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},ct.prototype.flag=function(){return this.data.readUInt16LE(8)},ct.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},ct.prototype.lastModFileTime=function(){return An(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},ct.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},ct.prototype.crc32=function(){return this.data.readUInt32LE(16)},ct.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},ct.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},ct.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},ct.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},ct.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},ct.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},ct.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},ct.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},ct.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},ct.prototype.produceFilename=function(){var _=br(this.data,this.useUTF8(),46,this.fileNameLength());return _.replace(/\\/g,"/")},ct.prototype.fileName=function(){return this._filename},ct.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},ct.prototype.extraField=function(){var _=44+this.fileNameLength();return this.data.slice(_,_+this.extraFieldLength())},ct.prototype.fileComment=function(){var _=46+this.fileNameLength()+this.extraFieldLength();return br(this.data,this.useUTF8(),_,this.fileCommentLength())},ct.prototype.rawFileComment=function(){var _=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(_,_+this.fileCommentLength())},ct.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},ct.prototype.isDirectory=function(){var _=this.fileName();return!!(this.externalAttributes()&16)||_.charAt(_.length-1)==="/"},ct.prototype.isFile=function(){return!this.isDirectory()},ct.prototype.useUTF8=function(){return(this.flag()&2048)===2048},ct.prototype.isEncrypted=function(){return(this.flag()&1)===1},ct.prototype.getFileData=function(){var _=this.headerRelativeOffset(),v=new Qt(this.zipData.slice(_));return new tr(v,this,this.zipData.slice(_+v.totalSize()))},ct.prototype.getData=function(){return this.getFileData().decompress()},ct.prototype.getRawData=function(){return this.getFileData().getRawData()},ct.prototype.getStats=function(){return new w(A.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var ma=function(_){if(this.data=_,this.data.readUInt32LE(0)!==101010256)throw new p(c.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};ma.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},ma.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},ma.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},ma.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},ma.prototype.cdSize=function(){return this.data.readUInt32LE(12)},ma.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},ma.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},ma.prototype.cdZipComment=function(){return br(this.data,!0,22,this.cdZipCommentLength())},ma.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var Sn=function(_,v,f,y){this.index=_,this.directoryEntries=v,this.eocd=f,this.data=y},Oa=function(b){function _(v,f,y){f===void 0&&(f=""),y===void 0&&(y=!0),b.call(this),this.name=f,this._index=new aa,this._directoryEntries=[],this._eocd=null,$(y,_.Name,{zipData:"zip data as a Buffer",name:f}),v instanceof Sn?(this._index=v.index,this._directoryEntries=v.directoryEntries,this._eocd=v.eocd,this.data=v.data):(this.data=v,this.populateIndex())}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){try{_.computeIndex(f.zipData,function(z){var C=new _(z,f.name,!1);y(null,C)},!1)}catch(z){y(z)}},_.isAvailable=function(){return!0},_.RegisterDecompressionMethod=function(f,y){zn[f]=y},_.computeIndex=function(f,y,z){z===void 0&&(z=!0),z&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var C=new aa,F=_.getEOCD(f);if(F.diskNumber()!==F.cdDiskNumber())throw new p(c.EINVAL,"ZipFS does not support spanned zip files.");var K=F.cdOffset();if(K===4294967295)throw new p(c.EINVAL,"ZipFS does not support Zip64.");var ne=K+F.cdSize();_.computeIndexResponsive(f,C,K,ne,y,[],F)},_.getEOCD=function(f){for(var y=22,z=Math.min(y+65535,f.length-1),C=y;C<z;C++)if(f.readUInt32LE(f.length-C)===101010256)return new ma(f.slice(f.length-C));throw new p(c.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},_.addToIndex=function(f,y){var z=f.fileName();if(z.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");z.charAt(z.length-1)==="/"&&(z=z.substr(0,z.length-1)),f.isDirectory()?y.addPathFast("/"+z,new Ht(f)):y.addPathFast("/"+z,new Va(f))},_.computeIndexResponsive=function(f,y,z,C,F,K,ne){if(z<C){for(var be=0;be++<200&&z<C;){var Ee=new ct(f,f.slice(z));_.addToIndex(Ee,y),z+=Ee.totalSize(),K.push(Ee)}Cr(function(){_.computeIndexResponsive(f,y,z,C,F,K,ne)})}else F(new Sn(y,K,ne,f))},_.prototype.getName=function(){return _.Name+(this.name!==""?" "+this.name:"")},_.prototype.getCentralDirectoryEntry=function(f){var y=this._index.getInode(f);if(y===null)throw p.ENOENT(f);if(xa(y))return y.getData();if(Aa(y))return y.getData();throw p.EPERM("Invalid inode: "+y)},_.prototype.getCentralDirectoryEntryAt=function(f){var y=this._directoryEntries[f];if(!y)throw new RangeError("Invalid directory index: "+f+".");return y},_.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},_.prototype.getEndOfCentralDirectory=function(){return this._eocd},_.prototype.diskSpace=function(f,y){y(this.data.length,0)},_.prototype.isReadOnly=function(){return!0},_.prototype.supportsLinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!0},_.prototype.statSync=function(f,y){var z=this._index.getInode(f);if(z===null)throw p.ENOENT(f);var C;if(xa(z))C=z.getData().getStats();else if(Aa(z))C=z.getStats();else throw new p(c.EINVAL,"Invalid inode.");return C},_.prototype.openSync=function(f,y,z){if(y.isWriteable())throw new p(c.EPERM,f);var C=this._index.getInode(f);if(C)if(xa(C)){var F=C.getData(),K=F.getStats();switch(y.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:throw p.EEXIST(f);case x.NOP:return new Be(this,f,y,K,F.getData());default:throw new p(c.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(f);else throw p.ENOENT(f)},_.prototype.readdirSync=function(f){var y=this._index.getInode(f);if(y){if(Aa(y))return y.getListing();throw p.ENOTDIR(f)}else throw p.ENOENT(f)},_.prototype.readFileSync=function(f,y,z){var C=this.openSync(f,z,420);try{var F=C,K=F.getBuffer();return y===null?xe(K):K.toString(y)}finally{C.closeSync()}},_.prototype.populateIndex=function(){var f=this,y=this._eocd=_.getEOCD(this.data);if(y.diskNumber()!==y.cdDiskNumber())throw new p(c.EINVAL,"ZipFS does not support spanned zip files.");var z=y.cdOffset();if(z===4294967295)throw new p(c.EINVAL,"ZipFS does not support Zip64.");for(var C=z+y.cdSize();z<C;){var F=new ct(f.data,f.data.slice(z));z+=F.totalSize(),_.addToIndex(F,f._index),f._directoryEntries.push(F)}},_}(_e);Oa.Name="ZipFS",Oa.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:O},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Oa.CompressionMethod=ja,Oa.RegisterDecompressionMethod(ja.DEFLATE,function(b,_,v){return ie($i(b.slice(0,_),{chunkSize:v}))}),Oa.RegisterDecompressionMethod(ja.STORED,function(b,_,v){return xe(b,0,v)});var Gi="IEEE_P1282";function Wt(b,_,v){return b.toString("ascii",_,_+v).trim()}function Rr(b,_,v){if(v===1)return String.fromCharCode(b[_]);for(var f=Math.floor(v/2),y=new Array(f),z=0;z<f;z++){var C=_+(z<<1);y[z]=String.fromCharCode(b[C+1]|b[C]<<8)}return y.join("")}function pa(b,_){var v=parseInt(Wt(b,_,4),10),f=parseInt(Wt(b,_+4,2),10),y=parseInt(Wt(b,_+6,2),10),z=parseInt(Wt(b,_+8,2),10),C=parseInt(Wt(b,_+10,2),10),F=parseInt(Wt(b,_+12,2),10),K=parseInt(Wt(b,_+14,2),10);return new Date(v,f,y,z,C,F,K*100)}function Ia(b,_){var v=b[_],f=b[_+1],y=b[_+2],z=b[_+3],C=b[_+4],F=b[_+5];return new Date(v,f-1,y,z,C,F)}function Hi(b,_){var v=b.slice(_),f=new St(v);switch(f.signatureWord()){case 17221:return new Dn(v);case 20548:return new Yi(v);case 21328:return new Rn(v);case 21332:return new On(v);case 17746:return new In(v);case 17747:return new Ki(v);case 20568:return new Pn(v);case 20558:return new Qi(v);case 21324:return new Or(v);case 20045:return new Fn(v);case 17228:return new Ir(v);case 20556:return new Zi(v);case 21061:return new Un(v);case 21574:return new Bn(v);case 21318:return new es(v);case 21074:return new Nn(v);default:return f}}function Tn(b,_,v,f){v=v-4;for(var y=new Array;_<v;){var z=Hi(b,_),C=z.length();if(C===0)return y;if(_+=C,z instanceof On)break;z instanceof Dn?y=y.concat(z.getEntries(f)):y.push(z)}return y}var Xa=function(_){this._data=_};Xa.prototype.type=function(){return this._data[0]},Xa.prototype.standardIdentifier=function(){return Wt(this._data,1,5)},Xa.prototype.version=function(){return this._data[6]},Xa.prototype.data=function(){return this._data.slice(7,2048)};var kn=function(b){function _(v){b.call(this,v),this._root=null}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.systemIdentifier=function(){return this._getString32(8)},_.prototype.volumeIdentifier=function(){return this._getString32(40)},_.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},_.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},_.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},_.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},_.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},_.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},_.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},_.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},_.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},_.prototype.rootDirectoryEntry=function(f){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(f)),this._root},_.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},_.prototype.publisherIdentifier=function(){return this._getString(318,128)},_.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},_.prototype.applicationIdentifier=function(){return this._getString(574,128)},_.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},_.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},_.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},_.prototype.volumeCreationDate=function(){return pa(this._data,813)},_.prototype.volumeModificationDate=function(){return pa(this._data,830)},_.prototype.volumeExpirationDate=function(){return pa(this._data,847)},_.prototype.volumeEffectiveDate=function(){return pa(this._data,864)},_.prototype.fileStructureVersion=function(){return this._data[881]},_.prototype.applicationUsed=function(){return this._data.slice(883,1395)},_.prototype.reserved=function(){return this._data.slice(1395,2048)},_.prototype._getString32=function(f){return this._getString(f,32)},_}(Xa),Wi=function(b){function _(v){if(b.call(this,v),this.type()!==1)throw new p(c.EIO,"Invalid primary volume descriptor.")}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.name=function(){return"ISO9660"},_.prototype._constructRootDirectoryRecord=function(f){return new Ln(f,-1)},_.prototype._getString=function(f,y){return this._getString(f,y)},_}(kn),Ji=function(b){function _(v){if(b.call(this,v),this.type()!==2)throw new p(c.EIO,"Invalid supplementary volume descriptor.");var f=this.escapeSequence(),y=f[2];if(f[0]!==37||f[1]!==47||y!==64&&y!==67&&y!==69)throw new p(c.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+f.toString())}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.name=function(){return"Joliet"},_.prototype.escapeSequence=function(){return this._data.slice(88,120)},_.prototype._constructRootDirectoryRecord=function(f){return new Cn(f,-1)},_.prototype._getString=function(f,y){return Rr(this._data,f,y)},_}(kn),bt=function(_,v){this._suEntries=null,this._fileOrDir=null,this._data=_,this._rockRidgeOffset=v};bt.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},bt.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},bt.prototype.rootCheckForRockRidge=function(_){var v=this.getDirectory(_);this._rockRidgeOffset=v.getDotEntry(_)._getRockRidgeOffset(_),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},bt.prototype.length=function(){return this._data[0]},bt.prototype.extendedAttributeRecordLength=function(){return this._data[1]},bt.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},bt.prototype.dataLength=function(){return this._data.readUInt32LE(10)},bt.prototype.recordingDate=function(){return Ia(this._data,18)},bt.prototype.fileFlags=function(){return this._data[25]},bt.prototype.fileUnitSize=function(){return this._data[26]},bt.prototype.interleaveGapSize=function(){return this._data[27]},bt.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},bt.prototype.identifier=function(){return this._getString(33,this._data[32])},bt.prototype.fileName=function(_){if(this.hasRockRidge()){var v=this._rockRidgeFilename(_);if(v!==null)return v}var f=this.identifier();if(this.isDirectory(_))return f;var y=f.indexOf(";");return y===-1?f:f[y-1]==="."?f.slice(0,y-1):f.slice(0,y)},bt.prototype.isDirectory=function(_){var v=!!(this.fileFlags()&2);return!v&&this.hasRockRidge()&&(v=this.getSUEntries(_).filter(function(f){return f instanceof Ir}).length>0),v},bt.prototype.isSymlink=function(_){return this.hasRockRidge()&&this.getSUEntries(_).filter(function(v){return v instanceof Or}).length>0},bt.prototype.getSymlinkPath=function(_){for(var v="",f=this.getSUEntries(_),y=this._getGetString(),z=0,C=f;z<C.length;z+=1){var F=C[z];if(F instanceof Or){for(var K=F.componentRecords(),ne=0,be=K;ne<be.length;ne+=1){var Ee=be[ne],Re=Ee.flags();Re&2?v+="./":Re&4?v+="../":Re&8?v+="/":(v+=Ee.content(y),Re&1||(v+="/"))}if(!F.continueFlag())break}}return v.length>1&&v[v.length-1]==="/"?v.slice(0,v.length-1):v},bt.prototype.getFile=function(_){if(this.isDirectory(_))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=_.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},bt.prototype.getDirectory=function(_){if(!this.isDirectory(_))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(_)),this._fileOrDir},bt.prototype.getSUEntries=function(_){return this._suEntries||this._constructSUEntries(_),this._suEntries},bt.prototype._rockRidgeFilename=function(_){var v=this.getSUEntries(_).filter(function(K){return K instanceof Fn});if(v.length===0||v[0].flags()&6)return null;for(var f="",y=this._getGetString(),z=0,C=v;z<C.length;z+=1){var F=C[z];if(f+=F.name(y),!(F.flags()&1))break}return f},bt.prototype._constructSUEntries=function(_){var v=33+this._data[32];v%2===1&&v++,v+=this._rockRidgeOffset,this._suEntries=Tn(this._data,v,this.length(),_)},bt.prototype._getRockRidgeOffset=function(_){this._rockRidgeOffset=0;var v=this.getSUEntries(_);if(v.length>0){var f=v[0];if(f instanceof Rn&&f.checkBytesPass())for(var y=1;y<v.length;y++){var z=v[y];if(z instanceof Nn||z instanceof In&&z.extensionIdentifier()===Gi)return f.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Ln=function(b){function _(v,f){b.call(this,v,f)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype._getString=function(f,y){return Wt(this._data,f,y)},_.prototype._constructDirectory=function(f){return new ts(this,f)},_.prototype._getGetString=function(){return Wt},_}(bt),Cn=function(b){function _(v,f){b.call(this,v,f)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype._getString=function(f,y){return Rr(this._data,f,y)},_.prototype._constructDirectory=function(f){return new as(this,f)},_.prototype._getGetString=function(){return Rr},_}(bt),St=function(_){this._data=_};St.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},St.prototype.signatureWordString=function(){return Wt(this._data,0,2)},St.prototype.length=function(){return this._data[2]},St.prototype.suVersion=function(){return this._data[3]};var Dn=function(b){function _(v){b.call(this,v),this._entries=null}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},_.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},_.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},_.prototype.getEntries=function(f){if(!this._entries){var y=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=Tn(f,y,this.continuationLength(),f)}return this._entries},_}(St),Yi=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_}(St),Rn=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},_.prototype.bytesSkipped=function(){return this._data[6]},_}(St),On=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_}(St),In=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.identifierLength=function(){return this._data[4]},_.prototype.descriptorLength=function(){return this._data[5]},_.prototype.sourceLength=function(){return this._data[6]},_.prototype.extensionVersion=function(){return this._data[7]},_.prototype.extensionIdentifier=function(){return Wt(this._data,8,this.identifierLength())},_.prototype.extensionDescriptor=function(){return Wt(this._data,8+this.identifierLength(),this.descriptorLength())},_.prototype.extensionSource=function(){return Wt(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},_}(St),Ki=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.extensionSequence=function(){return this._data[4]},_}(St),Nn=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_}(St),Pn=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.mode=function(){return this._data.readUInt32LE(4)},_.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},_.prototype.uid=function(){return this._data.readUInt32LE(20)},_.prototype.gid=function(){return this._data.readUInt32LE(28)},_.prototype.inode=function(){return this._data.readUInt32LE(36)},_}(St),Qi=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},_.prototype.devTLow=function(){return this._data.readUInt32LE(12)},_}(St),Or=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.flags=function(){return this._data[4]},_.prototype.continueFlag=function(){return this.flags()&1},_.prototype.componentRecords=function(){for(var f=this,y=new Array,z=5;z<this.length();){var C=new ar(f._data.slice(z));y.push(C),z+=C.length()}return y},_}(St),ar=function(_){this._data=_};ar.prototype.flags=function(){return this._data[0]},ar.prototype.length=function(){return 2+this.componentLength()},ar.prototype.componentLength=function(){return this._data[1]},ar.prototype.content=function(_){return _(this._data,2,this.componentLength())};var Fn=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.flags=function(){return this._data[4]},_.prototype.name=function(f){return f(this._data,5,this.length()-5)},_}(St),Ir=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},_}(St),Zi=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},_}(St),Un=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_}(St),Bn=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.flags=function(){return this._data[4]},_.prototype.creation=function(){return this.flags()&1?this._longFormDates()?pa(this._data,5):Ia(this._data,5):null},_.prototype.modify=function(){if(this.flags()&2){var f=this.flags()&1?1:0;return this._longFormDates?pa(this._data,5+f*17):Ia(this._data,5+f*7)}else return null},_.prototype.access=function(){if(this.flags()&4){var f=this.flags()&1?1:0;return f+=this.flags()&2?1:0,this._longFormDates?pa(this._data,5+f*17):Ia(this._data,5+f*7)}else return null},_.prototype.backup=function(){if(this.flags()&16){var f=this.flags()&1?1:0;return f+=this.flags()&2?1:0,f+=this.flags()&4?1:0,this._longFormDates?pa(this._data,5+f*17):Ia(this._data,5+f*7)}else return null},_.prototype.expiration=function(){if(this.flags()&32){var f=this.flags()&1?1:0;return f+=this.flags()&2?1:0,f+=this.flags()&4?1:0,f+=this.flags()&16?1:0,this._longFormDates?pa(this._data,5+f*17):Ia(this._data,5+f*7)}else return null},_.prototype.effective=function(){if(this.flags()&64){var f=this.flags()&1?1:0;return f+=this.flags()&2?1:0,f+=this.flags()&4?1:0,f+=this.flags()&16?1:0,f+=this.flags()&32?1:0,this._longFormDates?pa(this._data,5+f*17):Ia(this._data,5+f*7)}else return null},_.prototype._longFormDates=function(){return!!this.flags()},_}(St),es=function(b){function _(v){b.call(this,v)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},_.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},_.prototype.tableDepth=function(){return this._data[20]},_}(St),rr=function(_,v){var f=this;this._fileList=[],this._fileMap={},this._record=_;var y=_.lba(),z=y+_.dataLength();if(!(_.fileFlags()&2)){var C=_.getSUEntries(v).filter(function(be){return be instanceof Ir})[0];y=C.childDirectoryLba()*2048,z=1/0}for(;y<z;){var F=v[y];if(F===0){y++;continue}var K=f._constructDirectoryRecord(v.slice(y)),ne=K.fileName(v);ne!=="\0"&&ne!==""?(!K.hasRockRidge()||K.getSUEntries(v).filter(function(be){return be instanceof Un}).length===0)&&(f._fileMap[ne]=K,f._fileList.push(ne)):z===1/0&&(z=y+K.dataLength()),y+=K.length()}};rr.prototype.getRecord=function(_){return this._fileMap[_]},rr.prototype.getFileList=function(){return this._fileList},rr.prototype.getDotEntry=function(_){return this._constructDirectoryRecord(_.slice(this._record.lba()))};var ts=function(b){function _(v,f){b.call(this,v,f)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype._constructDirectoryRecord=function(f){return new Ln(f,this._record.getRockRidgeOffset())},_}(rr),as=function(b){function _(v,f){b.call(this,v,f)}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.prototype._constructDirectoryRecord=function(f){return new Cn(f,this._record.getRockRidgeOffset())},_}(rr),yr=function(b){function _(v,f,y){var z=this;f===void 0&&(f=""),y===void 0&&(y=!0),b.call(this),this._data=v,$(y,_.Name,{data:"ISO data as a Buffer",name:f});for(var C=!1,F=16*2048,K=new Array;!C;){var ne=v.slice(F),be=new Xa(ne);switch(be.type()){case 1:K.push(new Wi(ne));break;case 2:K.push(new Ji(ne));break;case 255:C=!0;break}F+=2048}if(K.length===0)throw new p(c.EIO,"Unable to find a suitable volume descriptor.");K.forEach(function(Ee){(!z._pvd||z._pvd.type()!==2)&&(z._pvd=Ee)}),this._root=this._pvd.rootDirectoryEntry(v),this._name=f}return b&&(_.__proto__=b),_.prototype=Object.create(b&&b.prototype),_.prototype.constructor=_,_.Create=function(f,y){var z,C;try{z=new _(f.data,f.name,!1)}catch(F){F=F}finally{y(C,z)}},_.isAvailable=function(){return!0},_.prototype.getName=function(){var f="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(f+="-RockRidge"),f},_.prototype.diskSpace=function(f,y){y(this._data.length,0)},_.prototype.isReadOnly=function(){return!0},_.prototype.supportsLinks=function(){return!1},_.prototype.supportsProps=function(){return!1},_.prototype.supportsSynch=function(){return!0},_.prototype.statSync=function(f,y){var z=this._getDirectoryRecord(f);if(z===null)throw p.ENOENT(f);return this._getStats(f,z)},_.prototype.openSync=function(f,y,z){if(y.isWriteable())throw new p(c.EPERM,f);var C=this._getDirectoryRecord(f);if(C){if(C.isSymlink(this._data))return this.openSync(m.resolve(f,C.getSymlinkPath(this._data)),y,z);if(C.isDirectory(this._data))throw p.EISDIR(f);var F=C.getFile(this._data),K=this._getStats(f,C);switch(y.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:throw p.EEXIST(f);case x.NOP:return new Be(this,f,y,K,F);default:throw new p(c.EINVAL,"Invalid FileMode object.")}}else throw p.ENOENT(f)},_.prototype.readdirSync=function(f){var y=this._getDirectoryRecord(f);if(y){if(y.isDirectory(this._data))return y.getDirectory(this._data).getFileList().slice(0);throw p.ENOTDIR(f)}else throw p.ENOENT(f)},_.prototype.readFileSync=function(f,y,z){var C=this.openSync(f,z,420);try{var F=C,K=F.getBuffer();return y===null?xe(K):K.toString(y)}finally{C.closeSync()}},_.prototype._getDirectoryRecord=function(f){var y=this;if(f==="/")return this._root;for(var z=f.split("/").slice(1),C=this._root,F=0,K=z;F<K.length;F+=1){var ne=K[F];if(C.isDirectory(y._data)){if(C=C.getDirectory(y._data).getRecord(ne),!C)return null}else return null}return C},_.prototype._getStats=function(f,y){if(y.isSymlink(this._data)){var z=m.resolve(f,y.getSymlinkPath(this._data)),C=this._getDirectoryRecord(z);return C?this._getStats(z,C):null}else{var F=y.dataLength(),K=365,ne=y.recordingDate(),be=ne,Ee=ne,Re=ne;if(y.hasRockRidge())for(var Ue=y.getSUEntries(this._data),Xe=0,Ke=Ue;Xe<Ke.length;Xe+=1){var tt=Ke[Xe];if(tt instanceof Pn)K=tt.mode();else if(tt instanceof Bn){var st=tt.flags();st&4&&(be=tt.access()),st&2&&(Ee=tt.modify()),st&1&&(Re=tt.creation())}}return K=K&365,new w(y.isDirectory(this._data)?A.DIRECTORY:A.FILE,F,K,be,Ee,Re)}},_}(_e);yr.Name="IsoFS",yr.Options={data:{type:"object",description:"The ISO file in a buffer",validator:O}},[re,or,lr,Pa,ur,Fa,Ja,yr,Ka,Ua,er,vr,dr,Oa].forEach(function(b){var _=b.Create;b.Create=function(v,f){var y=typeof v=="function",z=y?v:f,C=y?{}:v;function F(K){K?z(K):_.call(b,C,z)}Y(b,C,F)}});var gr={AsyncMirror:re,Dropbox:or,Emscripten:lr,FolderAdapter:Pa,HTML5FS:ur,InMemory:Fa,IndexedDB:Ja,IsoFS:yr,LocalStorage:Ka,MountableFileSystem:Ua,OverlayFS:er,WorkerFS:vr,XmlHttpRequest:dr,ZipFS:Oa};l.initializeTTYs&&l.initializeTTYs();function rs(b){b.Buffer=n,b.process=l;var _=b.require?b.require:null;b.require=function(v){var f=Vn(v);return f||_.apply(null,Array.prototype.slice.call(arguments,0))}}function ns(b,_){gr[b]=_}function Vn(b){switch(b){case"fs":return N;case"path":return m;case"buffer":return u;case"process":return l;case"bfs_utils":return T;default:return gr[b]}}function jn(b){return N.initialize(b)}function is(b,_){Nr(b,function(v,f){f?(jn(f),_()):_(v)})}function Nr(b,_){var v=b.fs;if(!v)return _(new p(c.EPERM,'Missing "fs" property on configuration object.'));var f=b.options,y=0,z=!1;function C(){if(!z){z=!0;var ne=gr[v];ne?ne.Create(f,_):_(new p(c.EPERM,"File system "+v+" is not available in BrowserFS."))}}if(f!==null&&typeof f=="object"){var F=!1,K=Object.keys(f).filter(function(ne){return ne!=="fs"});K.forEach(function(ne){var be=f[ne];be!==null&&typeof be=="object"&&be.fs&&(y++,Nr(be,function(Ee,Re){if(y--,Ee){if(z)return;z=!0,_(Ee)}else f[ne]=Re,y===0&&F&&C()}))}),F=!0}y===0&&C()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(b){return function(_,v){return _<0&&(_=this.length+_),b.call(this,_,v)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(b,_){b===void 0&&(b=0),_===void 0&&(_=this.length);var v=this;return b<0&&(b=this.length+b,b<0&&(b=0)),_<0&&(_=this.length+_,_<0&&(_=0)),_<b&&(_=b),new Uint8Array(v.buffer,v.byteOffset+b,_-b)})),a.install=rs,a.registerFileSystem=ns,a.BFSRequire=Vn,a.initialize=jn,a.configure=is,a.getFileSystem=Nr,a.EmscriptenFS=le,a.FileSystem=gr,a.Errors=d,a.setImmediate=Cr}).call(a,r(1),function(){return this}(),r(5)(t),r(6))},function(t,a,r){t.exports=r(2).Buffer},function(t,a,r){(function(c){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var i=r(3),o=r(4);a.Buffer=c,a.SlowBuffer=q,a.INSPECT_MAX_BYTES=50;var l=2147483647;a.kMaxLength=l,c.TYPED_ARRAY_SUPPORT=u(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var re=new Uint8Array(1);return re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},re.foo()===42}catch{return!1}}function m(re){if(re>l)throw new RangeError("Invalid typed array length");var V=new Uint8Array(re);return V.__proto__=c.prototype,V}function c(re,V,j){if(typeof re=="number"){if(typeof V=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(re)}return h(re,V,j)}typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192;function h(re,V,j){if(typeof re=="number")throw new TypeError('"value" argument must not be a number');return Ce(re)?w(re,V,j):typeof re=="string"?M(re,V):E(re)}c.from=function(re,V,j){return h(re,V,j)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array;function p(re){if(typeof re!="number")throw new TypeError('"size" argument must be a number');if(re<0)throw new RangeError('"size" argument must not be negative')}function d(re,V,j){return p(re),re<=0?m(re):V!==void 0?typeof j=="string"?m(re).fill(V,j):m(re).fill(V):m(re)}c.alloc=function(re,V,j){return d(re,V,j)};function x(re){return p(re),m(re<0?0:g(re)|0)}c.allocUnsafe=function(re){return x(re)},c.allocUnsafeSlow=function(re){return x(re)};function M(re,V){if((typeof V!="string"||V==="")&&(V="utf8"),!c.isEncoding(V))throw new TypeError('"encoding" must be a valid string encoding');var j=k(re,V)|0,he=m(j),Me=he.write(re,V);return Me!==j&&(he=he.slice(0,Me)),he}function A(re){for(var V=re.length<0?0:g(re.length)|0,j=m(V),he=0;he<V;he+=1)j[he]=re[he]&255;return j}function w(re,V,j){if(V<0||re.byteLength<V)throw new RangeError("'offset' is out of bounds");if(re.byteLength<V+(j||0))throw new RangeError("'length' is out of bounds");var he;return V===void 0&&j===void 0?he=new Uint8Array(re):j===void 0?he=new Uint8Array(re,V):he=new Uint8Array(re,V,j),he.__proto__=c.prototype,he}function E(re){if(c.isBuffer(re)){var V=g(re.length)|0,j=m(V);return j.length===0||re.copy(j,0,0,V),j}if(re){if(Be(re)||"length"in re)return typeof re.length!="number"||We(re.length)?m(0):A(re);if(re.type==="Buffer"&&Array.isArray(re.data))return A(re.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(re){if(re>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return re|0}function q(re){return+re!=re&&(re=0),c.alloc(+re)}c.isBuffer=function(V){return V!=null&&V._isBuffer===!0},c.compare=function(V,j){if(!c.isBuffer(V)||!c.isBuffer(j))throw new TypeError("Arguments must be Buffers");if(V===j)return 0;for(var he=V.length,Me=j.length,Te=0,Ie=Math.min(he,Me);Te<Ie;++Te)if(V[Te]!==j[Te]){he=V[Te],Me=j[Te];break}return he<Me?-1:Me<he?1:0},c.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(V,j){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return c.alloc(0);var he;if(j===void 0)for(j=0,he=0;he<V.length;++he)j+=V[he].length;var Me=c.allocUnsafe(j),Te=0;for(he=0;he<V.length;++he){var Ie=V[he];if(!c.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Me,Te),Te+=Ie.length}return Me};function k(re,V){if(c.isBuffer(re))return re.length;if(Be(re)||Ce(re))return re.byteLength;typeof re!="string"&&(re=""+re);var j=re.length;if(j===0)return 0;for(var he=!1;;)switch(V){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return X(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return _e(re).length;default:if(he)return X(re).length;V=(""+V).toLowerCase(),he=!0}}c.byteLength=k;function L(re,V,j){var he=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,V>>>=0,j<=V))return"";for(re||(re="utf8");;)switch(re){case"hex":return ie(this,V,j);case"utf8":case"utf-8":return me(this,V,j);case"ascii":return ue(this,V,j);case"latin1":case"binary":return Z(this,V,j);case"base64":return J(this,V,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,V,j);default:if(he)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),he=!0}}c.prototype._isBuffer=!0;function S(re,V,j){var he=re[V];re[V]=re[j],re[j]=he}c.prototype.swap16=function(){var V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<V;j+=2)S(this,j,j+1);return this},c.prototype.swap32=function(){var V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<V;j+=4)S(this,j,j+3),S(this,j+1,j+2);return this},c.prototype.swap64=function(){var V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<V;j+=8)S(this,j,j+7),S(this,j+1,j+6),S(this,j+2,j+5),S(this,j+3,j+4);return this},c.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?me(this,0,V):L.apply(this,arguments)},c.prototype.equals=function(V){if(!c.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:c.compare(this,V)===0},c.prototype.inspect=function(){var V="",j=a.INSPECT_MAX_BYTES;return this.length>0&&(V=this.toString("hex",0,j).match(/.{2}/g).join(" "),this.length>j&&(V+=" ... ")),"<Buffer "+V+">"},c.prototype.compare=function(V,j,he,Me,Te){if(!c.isBuffer(V))throw new TypeError("Argument must be a Buffer");if(j===void 0&&(j=0),he===void 0&&(he=V?V.length:0),Me===void 0&&(Me=0),Te===void 0&&(Te=this.length),j<0||he>V.length||Me<0||Te>this.length)throw new RangeError("out of range index");if(Me>=Te&&j>=he)return 0;if(Me>=Te)return-1;if(j>=he)return 1;if(j>>>=0,he>>>=0,Me>>>=0,Te>>>=0,this===V)return 0;for(var Ie=Te-Me,Ze=he-j,at=Math.min(Ie,Ze),et=this.slice(Me,Te),it=V.slice(j,he),oe=0;oe<at;++oe)if(et[oe]!==it[oe]){Ie=et[oe],Ze=it[oe];break}return Ie<Ze?-1:Ze<Ie?1:0};function R(re,V,j,he,Me){if(re.length===0)return-1;if(typeof j=="string"?(he=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,We(j)&&(j=Me?0:re.length-1),j<0&&(j=re.length+j),j>=re.length){if(Me)return-1;j=re.length-1}else if(j<0)if(Me)j=0;else return-1;if(typeof V=="string"&&(V=c.from(V,he)),c.isBuffer(V))return V.length===0?-1:D(re,V,j,he,Me);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?Me?Uint8Array.prototype.indexOf.call(re,V,j):Uint8Array.prototype.lastIndexOf.call(re,V,j):D(re,[V],j,he,Me);throw new TypeError("val must be string, number or Buffer")}function D(re,V,j,he,Me){var Te=1,Ie=re.length,Ze=V.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(re.length<2||V.length<2)return-1;Te=2,Ie/=2,Ze/=2,j/=2}function at(Se,ze){return Te===1?Se[ze]:Se.readUInt16BE(ze*Te)}var et;if(Me){var it=-1;for(et=j;et<Ie;et++)if(at(re,et)===at(V,it===-1?0:et-it)){if(it===-1&&(it=et),et-it+1===Ze)return it*Te}else it!==-1&&(et-=et-it),it=-1}else for(j+Ze>Ie&&(j=Ie-Ze),et=j;et>=0;et--){for(var oe=!0,ve=0;ve<Ze;ve++)if(at(re,et+ve)!==at(V,ve)){oe=!1;break}if(oe)return et}return-1}c.prototype.includes=function(V,j,he){return this.indexOf(V,j,he)!==-1},c.prototype.indexOf=function(V,j,he){return R(this,V,j,he,!0)},c.prototype.lastIndexOf=function(V,j,he){return R(this,V,j,he,!1)};function B(re,V,j,he){j=Number(j)||0;var Me=re.length-j;he?(he=Number(he),he>Me&&(he=Me)):he=Me;var Te=V.length;if(Te%2!==0)throw new TypeError("Invalid hex string");he>Te/2&&(he=Te/2);for(var Ie=0;Ie<he;++Ie){var Ze=parseInt(V.substr(Ie*2,2),16);if(We(Ze))return Ie;re[j+Ie]=Ze}return Ie}function N(re,V,j,he){return we(X(V,re.length-j),re,j,he)}function Q(re,V,j,he){return we(le(V),re,j,he)}function P(re,V,j,he){return Q(re,V,j,he)}function U(re,V,j,he){return we(_e(V),re,j,he)}function $(re,V,j,he){return we(se(V,re.length-j),re,j,he)}c.prototype.write=function(V,j,he,Me){if(j===void 0)Me="utf8",he=this.length,j=0;else if(he===void 0&&typeof j=="string")Me=j,he=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(he)?(he=he>>>0,Me===void 0&&(Me="utf8")):(Me=he,he=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Te=this.length-j;if((he===void 0||he>Te)&&(he=Te),V.length>0&&(he<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me||(Me="utf8");for(var Ie=!1;;)switch(Me){case"hex":return B(this,V,j,he);case"utf8":case"utf-8":return N(this,V,j,he);case"ascii":return Q(this,V,j,he);case"latin1":case"binary":return P(this,V,j,he);case"base64":return U(this,V,j,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,V,j,he);default:if(Ie)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),Ie=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(re,V,j){return V===0&&j===re.length?i.fromByteArray(re):i.fromByteArray(re.slice(V,j))}function me(re,V,j){j=Math.min(re.length,j);for(var he=[],Me=V;Me<j;){var Te=re[Me],Ie=null,Ze=Te>239?4:Te>223?3:Te>191?2:1;if(Me+Ze<=j){var at,et,it,oe;switch(Ze){case 1:Te<128&&(Ie=Te);break;case 2:at=re[Me+1],(at&192)===128&&(oe=(Te&31)<<6|at&63,oe>127&&(Ie=oe));break;case 3:at=re[Me+1],et=re[Me+2],(at&192)===128&&(et&192)===128&&(oe=(Te&15)<<12|(at&63)<<6|et&63,oe>2047&&(oe<55296||oe>57343)&&(Ie=oe));break;case 4:at=re[Me+1],et=re[Me+2],it=re[Me+3],(at&192)===128&&(et&192)===128&&(it&192)===128&&(oe=(Te&15)<<18|(at&63)<<12|(et&63)<<6|it&63,oe>65535&&oe<1114112&&(Ie=oe))}}Ie===null?(Ie=65533,Ze=1):Ie>65535&&(Ie-=65536,he.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),he.push(Ie),Me+=Ze}return ee(he)}var W=4096;function ee(re){var V=re.length;if(V<=W)return String.fromCharCode.apply(String,re);for(var j="",he=0;he<V;)j+=String.fromCharCode.apply(String,re.slice(he,he+=W));return j}function ue(re,V,j){var he="";j=Math.min(re.length,j);for(var Me=V;Me<j;++Me)he+=String.fromCharCode(re[Me]&127);return he}function Z(re,V,j){var he="";j=Math.min(re.length,j);for(var Me=V;Me<j;++Me)he+=String.fromCharCode(re[Me]);return he}function ie(re,V,j){var he=re.length;(!V||V<0)&&(V=0),(!j||j<0||j>he)&&(j=he);for(var Me="",Te=V;Te<j;++Te)Me+=I(re[Te]);return Me}function fe(re,V,j){for(var he=re.slice(V,j),Me="",Te=0;Te<he.length;Te+=2)Me+=String.fromCharCode(he[Te]+he[Te+1]*256);return Me}c.prototype.slice=function(V,j){var he=this.length;V=~~V,j=j===void 0?he:~~j,V<0?(V+=he,V<0&&(V=0)):V>he&&(V=he),j<0?(j+=he,j<0&&(j=0)):j>he&&(j=he),j<V&&(j=V);var Me=this.subarray(V,j);return Me.__proto__=c.prototype,Me};function ye(re,V,j){if(re%1!==0||re<0)throw new RangeError("offset is not uint");if(re+V>j)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUIntLE=function(V,j,he){V=V>>>0,j=j>>>0,he||ye(V,j,this.length);for(var Me=this[V],Te=1,Ie=0;++Ie<j&&(Te*=256);)Me+=this[V+Ie]*Te;return Me},c.prototype.readUIntBE=function(V,j,he){V=V>>>0,j=j>>>0,he||ye(V,j,this.length);for(var Me=this[V+--j],Te=1;j>0&&(Te*=256);)Me+=this[V+--j]*Te;return Me},c.prototype.readUInt8=function(V,j){return V=V>>>0,j||ye(V,1,this.length),this[V]},c.prototype.readUInt16LE=function(V,j){return V=V>>>0,j||ye(V,2,this.length),this[V]|this[V+1]<<8},c.prototype.readUInt16BE=function(V,j){return V=V>>>0,j||ye(V,2,this.length),this[V]<<8|this[V+1]},c.prototype.readUInt32LE=function(V,j){return V=V>>>0,j||ye(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},c.prototype.readUInt32BE=function(V,j){return V=V>>>0,j||ye(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},c.prototype.readIntLE=function(V,j,he){V=V>>>0,j=j>>>0,he||ye(V,j,this.length);for(var Me=this[V],Te=1,Ie=0;++Ie<j&&(Te*=256);)Me+=this[V+Ie]*Te;return Te*=128,Me>=Te&&(Me-=Math.pow(2,8*j)),Me},c.prototype.readIntBE=function(V,j,he){V=V>>>0,j=j>>>0,he||ye(V,j,this.length);for(var Me=j,Te=1,Ie=this[V+--Me];Me>0&&(Te*=256);)Ie+=this[V+--Me]*Te;return Te*=128,Ie>=Te&&(Ie-=Math.pow(2,8*j)),Ie},c.prototype.readInt8=function(V,j){return V=V>>>0,j||ye(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},c.prototype.readInt16LE=function(V,j){V=V>>>0,j||ye(V,2,this.length);var he=this[V]|this[V+1]<<8;return he&32768?he|4294901760:he},c.prototype.readInt16BE=function(V,j){V=V>>>0,j||ye(V,2,this.length);var he=this[V+1]|this[V]<<8;return he&32768?he|4294901760:he},c.prototype.readInt32LE=function(V,j){return V=V>>>0,j||ye(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},c.prototype.readInt32BE=function(V,j){return V=V>>>0,j||ye(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},c.prototype.readFloatLE=function(V,j){return V=V>>>0,j||ye(V,4,this.length),o.read(this,V,!0,23,4)},c.prototype.readFloatBE=function(V,j){return V=V>>>0,j||ye(V,4,this.length),o.read(this,V,!1,23,4)},c.prototype.readDoubleLE=function(V,j){return V=V>>>0,j||ye(V,8,this.length),o.read(this,V,!0,52,8)},c.prototype.readDoubleBE=function(V,j){return V=V>>>0,j||ye(V,8,this.length),o.read(this,V,!1,52,8)};function xe(re,V,j,he,Me,Te){if(!c.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>Me||V<Te)throw new RangeError('"value" argument is out of bounds');if(j+he>re.length)throw new RangeError("Index out of range")}c.prototype.writeUIntLE=function(V,j,he,Me){if(V=+V,j=j>>>0,he=he>>>0,!Me){var Te=Math.pow(2,8*he)-1;xe(this,V,j,he,Te,0)}var Ie=1,Ze=0;for(this[j]=V&255;++Ze<he&&(Ie*=256);)this[j+Ze]=V/Ie&255;return j+he},c.prototype.writeUIntBE=function(V,j,he,Me){if(V=+V,j=j>>>0,he=he>>>0,!Me){var Te=Math.pow(2,8*he)-1;xe(this,V,j,he,Te,0)}var Ie=he-1,Ze=1;for(this[j+Ie]=V&255;--Ie>=0&&(Ze*=256);)this[j+Ie]=V/Ze&255;return j+he},c.prototype.writeUInt8=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,1,255,0),this[j]=V&255,j+1},c.prototype.writeUInt16LE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,2,65535,0),this[j]=V&255,this[j+1]=V>>>8,j+2},c.prototype.writeUInt16BE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,2,65535,0),this[j]=V>>>8,this[j+1]=V&255,j+2},c.prototype.writeUInt32LE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,4,4294967295,0),this[j+3]=V>>>24,this[j+2]=V>>>16,this[j+1]=V>>>8,this[j]=V&255,j+4},c.prototype.writeUInt32BE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,4,4294967295,0),this[j]=V>>>24,this[j+1]=V>>>16,this[j+2]=V>>>8,this[j+3]=V&255,j+4},c.prototype.writeIntLE=function(V,j,he,Me){if(V=+V,j=j>>>0,!Me){var Te=Math.pow(2,8*he-1);xe(this,V,j,he,Te-1,-Te)}var Ie=0,Ze=1,at=0;for(this[j]=V&255;++Ie<he&&(Ze*=256);)V<0&&at===0&&this[j+Ie-1]!==0&&(at=1),this[j+Ie]=(V/Ze>>0)-at&255;return j+he},c.prototype.writeIntBE=function(V,j,he,Me){if(V=+V,j=j>>>0,!Me){var Te=Math.pow(2,8*he-1);xe(this,V,j,he,Te-1,-Te)}var Ie=he-1,Ze=1,at=0;for(this[j+Ie]=V&255;--Ie>=0&&(Ze*=256);)V<0&&at===0&&this[j+Ie+1]!==0&&(at=1),this[j+Ie]=(V/Ze>>0)-at&255;return j+he},c.prototype.writeInt8=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,1,127,-128),V<0&&(V=255+V+1),this[j]=V&255,j+1},c.prototype.writeInt16LE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,2,32767,-32768),this[j]=V&255,this[j+1]=V>>>8,j+2},c.prototype.writeInt16BE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,2,32767,-32768),this[j]=V>>>8,this[j+1]=V&255,j+2},c.prototype.writeInt32LE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,4,2147483647,-2147483648),this[j]=V&255,this[j+1]=V>>>8,this[j+2]=V>>>16,this[j+3]=V>>>24,j+4},c.prototype.writeInt32BE=function(V,j,he){return V=+V,j=j>>>0,he||xe(this,V,j,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[j]=V>>>24,this[j+1]=V>>>16,this[j+2]=V>>>8,this[j+3]=V&255,j+4};function ge(re,V,j,he,Me,Te){if(j+he>re.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function Ae(re,V,j,he,Me){return V=+V,j=j>>>0,Me||ge(re,V,j,4),o.write(re,V,j,he,23,4),j+4}c.prototype.writeFloatLE=function(V,j,he){return Ae(this,V,j,!0,he)},c.prototype.writeFloatBE=function(V,j,he){return Ae(this,V,j,!1,he)};function O(re,V,j,he,Me){return V=+V,j=j>>>0,Me||ge(re,V,j,8),o.write(re,V,j,he,52,8),j+8}c.prototype.writeDoubleLE=function(V,j,he){return O(this,V,j,!0,he)},c.prototype.writeDoubleBE=function(V,j,he){return O(this,V,j,!1,he)},c.prototype.copy=function(V,j,he,Me){if(he||(he=0),!Me&&Me!==0&&(Me=this.length),j>=V.length&&(j=V.length),j||(j=0),Me>0&&Me<he&&(Me=he),Me===he||V.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("sourceStart out of bounds");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),V.length-j<Me-he&&(Me=V.length-j+he);var Te=Me-he,Ie;if(this===V&&he<j&&j<Me)for(Ie=Te-1;Ie>=0;--Ie)V[Ie+j]=this[Ie+he];else if(Te<1e3)for(Ie=0;Ie<Te;++Ie)V[Ie+j]=this[Ie+he];else Uint8Array.prototype.set.call(V,this.subarray(he,he+Te),j);return Te},c.prototype.fill=function(V,j,he,Me){if(typeof V=="string"){if(typeof j=="string"?(Me=j,j=0,he=this.length):typeof he=="string"&&(Me=he,he=this.length),V.length===1){var Te=V.charCodeAt(0);Te<256&&(V=Te)}if(Me!==void 0&&typeof Me!="string")throw new TypeError("encoding must be a string");if(typeof Me=="string"&&!c.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me)}else typeof V=="number"&&(V=V&255);if(j<0||this.length<j||this.length<he)throw new RangeError("Out of range index");if(he<=j)return this;j=j>>>0,he=he===void 0?this.length:he>>>0,V||(V=0);var Ie;if(typeof V=="number")for(Ie=j;Ie<he;++Ie)this[Ie]=V;else{var Ze=c.isBuffer(V)?V:new c(V,Me),at=Ze.length;for(Ie=0;Ie<he-j;++Ie)this[Ie+j]=Ze[Ie%at]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function T(re){if(re=re.trim().replace(Y,""),re.length<2)return"";for(;re.length%4!==0;)re=re+"=";return re}function I(re){return re<16?"0"+re.toString(16):re.toString(16)}function X(re,V){V=V||1/0;for(var j,he=re.length,Me=null,Te=[],Ie=0;Ie<he;++Ie){if(j=re.charCodeAt(Ie),j>55295&&j<57344){if(!Me){if(j>56319){(V-=3)>-1&&Te.push(239,191,189);continue}else if(Ie+1===he){(V-=3)>-1&&Te.push(239,191,189);continue}Me=j;continue}if(j<56320){(V-=3)>-1&&Te.push(239,191,189),Me=j;continue}j=(Me-55296<<10|j-56320)+65536}else Me&&(V-=3)>-1&&Te.push(239,191,189);if(Me=null,j<128){if((V-=1)<0)break;Te.push(j)}else if(j<2048){if((V-=2)<0)break;Te.push(j>>6|192,j&63|128)}else if(j<65536){if((V-=3)<0)break;Te.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((V-=4)<0)break;Te.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return Te}function le(re){for(var V=[],j=0;j<re.length;++j)V.push(re.charCodeAt(j)&255);return V}function se(re,V){for(var j,he,Me,Te=[],Ie=0;Ie<re.length&&!((V-=2)<0);++Ie)j=re.charCodeAt(Ie),he=j>>8,Me=j%256,Te.push(Me),Te.push(he);return Te}function _e(re){return i.toByteArray(T(re))}function we(re,V,j,he){for(var Me=0;Me<he&&!(Me+j>=V.length||Me>=re.length);++Me)V[Me+j]=re[Me];return Me}function Ce(re){return re instanceof ArrayBuffer||re!=null&&re.constructor!=null&&re.constructor.name==="ArrayBuffer"&&typeof re.byteLength=="number"}function Be(re){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(re)}function We(re){return re!==re}}).call(a,r(1))},function(t,a){a.byteLength=c,a.toByteArray=h,a.fromByteArray=x;for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=o.length;l<u;++l)r[l]=o[l],n[o.charCodeAt(l)]=l;n[45]=62,n[95]=63;function m(M){var A=M.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return M[A-2]==="="?2:M[A-1]==="="?1:0}function c(M){return M.length*3/4-m(M)}function h(M){var A,w,E,g,q,k,L=M.length;q=m(M),k=new i(L*3/4-q),E=q>0?L-4:L;var S=0;for(A=0,w=0;A<E;A+=4,w+=3)g=n[M.charCodeAt(A)]<<18|n[M.charCodeAt(A+1)]<<12|n[M.charCodeAt(A+2)]<<6|n[M.charCodeAt(A+3)],k[S++]=g>>16&255,k[S++]=g>>8&255,k[S++]=g&255;return q===2?(g=n[M.charCodeAt(A)]<<2|n[M.charCodeAt(A+1)]>>4,k[S++]=g&255):q===1&&(g=n[M.charCodeAt(A)]<<10|n[M.charCodeAt(A+1)]<<4|n[M.charCodeAt(A+2)]>>2,k[S++]=g>>8&255,k[S++]=g&255),k}function p(M){return r[M>>18&63]+r[M>>12&63]+r[M>>6&63]+r[M&63]}function d(M,A,w){for(var E,g=[],q=A;q<w;q+=3)E=(M[q]<<16)+(M[q+1]<<8)+M[q+2],g.push(p(E));return g.join("")}function x(M){for(var A,w=M.length,E=w%3,g="",q=[],k=16383,L=0,S=w-E;L<S;L+=k)q.push(d(M,L,L+k>S?S:L+k));return E===1?(A=M[w-1],g+=r[A>>2],g+=r[A<<4&63],g+="=="):E===2&&(A=(M[w-2]<<8)+M[w-1],g+=r[A>>10],g+=r[A>>4&63],g+=r[A<<2&63],g+="="),q.push(g),q.join("")}},function(t,a){a.read=function(r,n,i,o,l){var u,m,c=l*8-o-1,h=(1<<c)-1,p=h>>1,d=-7,x=i?l-1:0,M=i?-1:1,A=r[n+x];for(x+=M,u=A&(1<<-d)-1,A>>=-d,d+=c;d>0;u=u*256+r[n+x],x+=M,d-=8);for(m=u&(1<<-d)-1,u>>=-d,d+=o;d>0;m=m*256+r[n+x],x+=M,d-=8);if(u===0)u=1-p;else{if(u===h)return m?NaN:(A?-1:1)*(1/0);m=m+Math.pow(2,o),u=u-p}return(A?-1:1)*m*Math.pow(2,u-o)},a.write=function(r,n,i,o,l,u){var m,c,h,p=u*8-l-1,d=(1<<p)-1,x=d>>1,M=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=o?0:u-1,w=o?1:-1,E=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,m=d):(m=Math.floor(Math.log(n)/Math.LN2),n*(h=Math.pow(2,-m))<1&&(m--,h*=2),m+x>=1?n+=M/h:n+=M*Math.pow(2,1-x),n*h>=2&&(m++,h/=2),m+x>=d?(c=0,m=d):m+x>=1?(c=(n*h-1)*Math.pow(2,l),m=m+x):(c=n*Math.pow(2,x-1)*Math.pow(2,l),m=0));l>=8;r[i+A]=c&255,A+=w,c/=256,l-=8);for(m=m<<l|c,p+=l;p>0;r[i+A]=m&255,A+=w,m/=256,p-=8);r[i+A-w]|=E*128}},function(t,a){t.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(t,a,r){var n=r(7),i=new n,o={};function l(m){o[m]||(typeof i[m]=="function"?o[m]=function(){return i[m].apply(i,arguments)}:o[m]=i[m])}for(var u in i)l(u);o.initializeTTYs=function(){i.stdin===null&&(i.initializeTTYs(),o.stdin=i.stdin,o.stdout=i.stdout,o.stderr=i.stderr)},i.nextTick(function(){o.initializeTTYs()}),t.exports=o},function(t,a,r){(function(n){var i=this&&this.__extends||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d]);function x(){this.constructor=h}h.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)},o=r(8),l=null,u=function(){function h(p,d){this.fun=p,this.array=d}return h.prototype.run=function(){this.fun.apply(null,this.array)},h}(),m=function(){function h(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return h.prototype.push=function(p){var d=this;this._queue.push(p)===1&&!this._draining&&setTimeout(function(){return d._drainQueue()},0)},h.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},h.prototype._drainQueue=function(){var p=this;if(!this._draining){var d=setTimeout(function(){return p._cleanUpNextTick()});this._draining=!0;for(var x=this._queue.length;x;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<x;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,x=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(d)}},h}(),c=function(h){i(p,h);function p(){h.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new m,this.execPath=n,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return p.prototype.chdir=function(d){l===null&&(l=r(9)),this._cwd=l.resolve(d)},p.prototype.cwd=function(){return this._cwd},p.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},p.prototype.nextTick=function(d){for(var x=[],M=1;M<arguments.length;M++)x[M-1]=arguments[M];this._queue.push(new u(d,x))},p.prototype.abort=function(){this.emit("abort")},p.prototype.exit=function(d){this.exitCode=d,this.emit("exit",[d])},p.prototype.getgid=function(){return this._gid},p.prototype.setgid=function(d){typeof d=="number"?this._gid=d:this._gid=1},p.prototype.getuid=function(){return this._uid},p.prototype.setuid=function(d){typeof d=="number"?this._uid=d:this._uid=1},p.prototype.kill=function(d,x){this.emit("kill",[d,x])},p.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},p.prototype.umask=function(d){d===void 0&&(d=this._mask);var x=this._mask;return this._mask=d,this.emit("umask",[d]),x},p.prototype.hrtime=function(){var d;typeof performance<"u"?d=performance.now():Date.now?d=Date.now():d=new Date().getTime();var x=d/1e3|0;return d-=x*1e3,d=d*1e6|0,[x,d]},p.prototype.initializeTTYs=function(){if(this.stdout===null){var d=r(10);this.stdout=new d,this.stderr=new d,this.stdin=new d}},p.prototype.disconnect=function(){},p}(o.EventEmitter);t.exports=c}).call(a,"/")},function(t,a){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(u){if(!i(u)||u<0||isNaN(u))throw TypeError("n must be a positive number");return this._maxListeners=u,this},r.prototype.emit=function(u){var m,c,h,p,d,x;if(this._events||(this._events={}),u==="error"&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(m=arguments[1],m instanceof Error)throw m;var M=new Error('Uncaught, unspecified "error" event. ('+m+")");throw M.context=m,M}if(c=this._events[u],l(c))return!1;if(n(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),c.apply(this,p)}else if(o(c))for(p=Array.prototype.slice.call(arguments,1),x=c.slice(),h=x.length,d=0;d<h;d++)x[d].apply(this,p);return!0},r.prototype.addListener=function(u,m){var c;if(!n(m))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",u,n(m.listener)?m.listener:m),this._events[u]?o(this._events[u])?this._events[u].push(m):this._events[u]=[this._events[u],m]:this._events[u]=m,o(this._events[u])&&!this._events[u].warned&&(l(this._maxListeners)?c=r.defaultMaxListeners:c=this._maxListeners,c&&c>0&&this._events[u].length>c&&(this._events[u].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[u].length),typeof console.trace=="function"&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(u,m){if(!n(m))throw TypeError("listener must be a function");var c=!1;function h(){this.removeListener(u,h),c||(c=!0,m.apply(this,arguments))}return h.listener=m,this.on(u,h),this},r.prototype.removeListener=function(u,m){var c,h,p,d;if(!n(m))throw TypeError("listener must be a function");if(!this._events||!this._events[u])return this;if(c=this._events[u],p=c.length,h=-1,c===m||n(c.listener)&&c.listener===m)delete this._events[u],this._events.removeListener&&this.emit("removeListener",u,m);else if(o(c)){for(d=p;d-- >0;)if(c[d]===m||c[d].listener&&c[d].listener===m){h=d;break}if(h<0)return this;c.length===1?(c.length=0,delete this._events[u]):c.splice(h,1),this._events.removeListener&&this.emit("removeListener",u,m)}return this},r.prototype.removeAllListeners=function(u){var m,c;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[u]&&delete this._events[u],this;if(arguments.length===0){for(m in this._events)m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[u],n(c))this.removeListener(u,c);else if(c)for(;c.length;)this.removeListener(u,c[c.length-1]);return delete this._events[u],this},r.prototype.listeners=function(u){var m;return!this._events||!this._events[u]?m=[]:n(this._events[u])?m=[this._events[u]]:m=this._events[u].slice(),m},r.prototype.listenerCount=function(u){if(this._events){var m=this._events[u];if(n(m))return 1;if(m)return m.length}return 0},r.listenerCount=function(u,m){return u.listenerCount(m)};function n(u){return typeof u=="function"}function i(u){return typeof u=="number"}function o(u){return typeof u=="object"&&u!==null}function l(u){return u===void 0}},function(t,a,r){(function(n){var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function o(u){var m=i.exec(u);return m.shift(),m}var l=function(){function u(){}return u.normalize=function(m){m===""&&(m=".");var c=m.charAt(0)===u.sep;m=u._removeDuplicateSeps(m);for(var h=m.split(u.sep),p=[],d=0;d<h.length;d++){var x=h[d];x!=="."&&(x===".."&&(c||!c&&p.length>0&&p[0]!=="..")?p.pop():p.push(x))}if(!c&&p.length<2)switch(p.length){case 1:p[0]===""&&p.unshift(".");break;default:p.push(".")}return m=p.join(u.sep),c&&m.charAt(0)!==u.sep&&(m=u.sep+m),m},u.join=function(){for(var m=[],c=0;c<arguments.length;c++)m[c-0]=arguments[c];for(var h=[],p=0;p<m.length;p++){var d=m[p];if(typeof d!="string")throw new TypeError("Invalid argument type to path.join: "+typeof d);d!==""&&h.push(d)}return u.normalize(h.join(u.sep))},u.resolve=function(){for(var m=[],c=0;c<arguments.length;c++)m[c-0]=arguments[c];for(var h=[],p=0;p<m.length;p++){var d=m[p];if(typeof d!="string")throw new TypeError("Invalid argument type to path.join: "+typeof d);d!==""&&(d.charAt(0)===u.sep&&(h=[]),h.push(d))}var x=u.normalize(h.join(u.sep));if(x.length>1&&x.charAt(x.length-1)===u.sep)return x.substr(0,x.length-1);if(x.charAt(0)!==u.sep){x.charAt(0)==="."&&(x.length===1||x.charAt(1)===u.sep)&&(x=x.length===1?"":x.substr(2));var M=n.cwd();x!==""?x=this.normalize(M+(M!=="/"?u.sep:"")+x):x=M}return x},u.relative=function(m,c){var h;m=u.resolve(m),c=u.resolve(c);var p=m.split(u.sep),d=c.split(u.sep);d.shift(),p.shift();var x=0,M=[];for(h=0;h<p.length;h++){var A=p[h];if(A!==d[h]){x=p.length-h;break}}M=d.slice(h),p.length===1&&p[0]===""&&(x=0),x>p.length&&(x=p.length);var w="";for(h=0;h<x;h++)w+="../";return w+=M.join(u.sep),w.length>1&&w.charAt(w.length-1)===u.sep&&(w=w.substr(0,w.length-1)),w},u.dirname=function(m){m=u._removeDuplicateSeps(m);var c=m.charAt(0)===u.sep,h=m.split(u.sep);return h.pop()===""&&h.length>0&&h.pop(),h.length>1||h.length===1&&!c?h.join(u.sep):c?u.sep:"."},u.basename=function(m,c){if(c===void 0&&(c=""),m==="")return m;m=u.normalize(m);var h=m.split(u.sep),p=h[h.length-1];if(p===""&&h.length>1)return h[h.length-2];if(c.length>0){var d=p.substr(p.length-c.length);if(d===c)return p.substr(0,p.length-c.length)}return p},u.extname=function(m){m=u.normalize(m);var c=m.split(u.sep);if(m=c.pop(),m===""&&c.length>0&&(m=c.pop()),m==="..")return"";var h=m.lastIndexOf(".");return h===-1||h===0?"":m.substr(h)},u.isAbsolute=function(m){return m.length>0&&m.charAt(0)===u.sep},u._makeLong=function(m){return m},u.parse=function(m){var c=o(m);return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},u.format=function(m){if(m===null||typeof m!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof m);var c=m.root||"";if(typeof c!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof m.root);var h=m.dir?m.dir+u.sep:"",p=m.base||"";return h+p},u._removeDuplicateSeps=function(m){return m=m.replace(this._replaceRegex,this.sep),m},u.sep="/",u._replaceRegex=new RegExp("//+","g"),u.delimiter=":",u.posix=u,u.win32=u,u}();t.exports=l}).call(a,r(6))},function(t,a,r){(function(n){var i=this&&this.__extends||function(u,m){for(var c in m)m.hasOwnProperty(c)&&(u[c]=m[c]);function h(){this.constructor=u}u.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)},o=r(11),l=function(u){i(m,u);function m(){u.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return m.prototype.setRawMode=function(c){this.isRaw!==c&&(this.isRaw=c,this.emit("modeChange"))},m.prototype.changeColumns=function(c){c!==this.columns&&(this.columns=c,this.emit("resize"))},m.prototype.changeRows=function(c){c!==this.rows&&(this.rows=c,this.emit("resize"))},m.isatty=function(c){return c&&c instanceof m},m.prototype._write=function(c,h,p){var d;try{var x;typeof c=="string"?x=new n(c,h):x=c,this._bufferedWrites.push(x),this._waitingForWrites&&this._read(1024)}catch(M){d=M}finally{p(d)}},m.prototype._read=function(c){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},m}(o.Duplex);t.exports=l}).call(a,r(1))},function(t,a,r){t.exports=o;var n=r(8).EventEmitter,i=r(12);i(o,n),o.Readable=r(13),o.Writable=r(27),o.Duplex=r(28),o.Transform=r(29),o.PassThrough=r(30),o.Stream=o;function o(){n.call(this)}o.prototype.pipe=function(l,u){var m=this;function c(w){l.writable&&l.write(w)===!1&&m.pause&&m.pause()}m.on("data",c);function h(){m.readable&&m.resume&&m.resume()}l.on("drain",h),!l._isStdio&&(!u||u.end!==!1)&&(m.on("end",d),m.on("close",x));var p=!1;function d(){p||(p=!0,l.end())}function x(){p||(p=!0,typeof l.destroy=="function"&&l.destroy())}function M(w){if(A(),n.listenerCount(this,"error")===0)throw w}m.on("error",M),l.on("error",M);function A(){m.removeListener("data",c),l.removeListener("drain",h),m.removeListener("end",d),m.removeListener("close",x),m.removeListener("error",M),l.removeListener("error",M),m.removeListener("end",A),m.removeListener("close",A),l.removeListener("close",A)}return m.on("end",A),m.on("close",A),l.on("close",A),l.emit("pipe",m),l}},function(t,a){typeof Object.create=="function"?t.exports=function(n,i){n.super_=i,n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(n,i){n.super_=i;var o=function(){};o.prototype=i.prototype,n.prototype=new o,n.prototype.constructor=n}},function(t,a,r){(function(n){var i=function(){try{return r(11)}catch{}}();a=t.exports=r(14),a.Stream=i||a,a.Readable=a,a.Writable=r(22),a.Duplex=r(21),a.Transform=r(25),a.PassThrough=r(26),!n.browser&&n.env.READABLE_STREAM==="disable"&&i&&(t.exports=i)}).call(a,r(6))},function(t,a,r){(function(n){t.exports=g;var i=r(15),o=r(16),l;g.ReadableState=E,r(8).EventEmitter;var u=function(O,Y){return O.listeners(Y).length},m;(function(){try{m=r(11)}catch{}finally{m||(m=r(8).EventEmitter)}})();var c=r(2).Buffer,h=r(17),p=r(18);p.inherits=r(12);var d=r(19),x=void 0;d&&d.debuglog?x=d.debuglog("stream"):x=function(){};var M=r(20),A;p.inherits(g,m);function w(O,Y,T){if(typeof O.prependListener=="function")return O.prependListener(Y,T);!O._events||!O._events[Y]?O.on(Y,T):o(O._events[Y])?O._events[Y].unshift(T):O._events[Y]=[T,O._events[Y]]}function E(O,Y){l=l||r(21),O=O||{},this.objectMode=!!O.objectMode,Y instanceof l&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var T=O.highWaterMark,I=this.objectMode?16:16*1024;this.highWaterMark=T||T===0?T:I,this.highWaterMark=~~this.highWaterMark,this.buffer=new M,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(A||(A=r(24).StringDecoder),this.decoder=new A(O.encoding),this.encoding=O.encoding)}function g(O){if(l=l||r(21),!(this instanceof g))return new g(O);this._readableState=new E(O,this),this.readable=!0,O&&typeof O.read=="function"&&(this._read=O.read),m.call(this)}g.prototype.push=function(O,Y){var T=this._readableState;return!T.objectMode&&typeof O=="string"&&(Y=Y||T.defaultEncoding,Y!==T.encoding&&(O=h.from(O,Y),Y="")),q(this,T,O,Y,!1)},g.prototype.unshift=function(O){var Y=this._readableState;return q(this,Y,O,"",!0)},g.prototype.isPaused=function(){return this._readableState.flowing===!1};function q(O,Y,T,I,X){var le=D(Y,T);if(le)O.emit("error",le);else if(T===null)Y.reading=!1,B(O,Y);else if(Y.objectMode||T&&T.length>0)if(Y.ended&&!X){var se=new Error("stream.push() after EOF");O.emit("error",se)}else if(Y.endEmitted&&X){var _e=new Error("stream.unshift() after end event");O.emit("error",_e)}else{var we;Y.decoder&&!X&&!I&&(T=Y.decoder.write(T),we=!Y.objectMode&&T.length===0),X||(Y.reading=!1),we||(Y.flowing&&Y.length===0&&!Y.sync?(O.emit("data",T),O.read(0)):(Y.length+=Y.objectMode?1:T.length,X?Y.buffer.unshift(T):Y.buffer.push(T),Y.needReadable&&N(O))),P(O,Y)}else X||(Y.reading=!1);return k(Y)}function k(O){return!O.ended&&(O.needReadable||O.length<O.highWaterMark||O.length===0)}g.prototype.setEncoding=function(O){return A||(A=r(24).StringDecoder),this._readableState.decoder=new A(O),this._readableState.encoding=O,this};var L=8388608;function S(O){return O>=L?O=L:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}function R(O,Y){return O<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:O!==O?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(O>Y.highWaterMark&&(Y.highWaterMark=S(O)),O<=Y.length?O:Y.ended?Y.length:(Y.needReadable=!0,0))}g.prototype.read=function(O){x("read",O),O=parseInt(O,10);var Y=this._readableState,T=O;if(O!==0&&(Y.emittedReadable=!1),O===0&&Y.needReadable&&(Y.length>=Y.highWaterMark||Y.ended))return x("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?ye(this):N(this),null;if(O=R(O,Y),O===0&&Y.ended)return Y.length===0&&ye(this),null;var I=Y.needReadable;x("need readable",I),(Y.length===0||Y.length-O<Y.highWaterMark)&&(I=!0,x("length less than watermark",I)),Y.ended||Y.reading?(I=!1,x("reading or ended",I)):I&&(x("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(O=R(T,Y)));var X;return O>0?X=ue(O,Y):X=null,X===null?(Y.needReadable=!0,O=0):Y.length-=O,Y.length===0&&(Y.ended||(Y.needReadable=!0),T!==O&&Y.ended&&ye(this)),X!==null&&this.emit("data",X),X};function D(O,Y){var T=null;return!c.isBuffer(Y)&&typeof Y!="string"&&Y!==null&&Y!==void 0&&!O.objectMode&&(T=new TypeError("Invalid non-string/buffer chunk")),T}function B(O,Y){if(!Y.ended){if(Y.decoder){var T=Y.decoder.end();T&&T.length&&(Y.buffer.push(T),Y.length+=Y.objectMode?1:T.length)}Y.ended=!0,N(O)}}function N(O){var Y=O._readableState;Y.needReadable=!1,Y.emittedReadable||(x("emitReadable",Y.flowing),Y.emittedReadable=!0,Y.sync?i(Q,O):Q(O))}function Q(O){x("emit readable"),O.emit("readable"),ee(O)}function P(O,Y){Y.readingMore||(Y.readingMore=!0,i(U,O,Y))}function U(O,Y){for(var T=Y.length;!Y.reading&&!Y.flowing&&!Y.ended&&Y.length<Y.highWaterMark&&(x("maybeReadMore read 0"),O.read(0),T!==Y.length);)T=Y.length;Y.readingMore=!1}g.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(O,Y){var T=this,I=this._readableState;switch(I.pipesCount){case 0:I.pipes=O;break;case 1:I.pipes=[I.pipes,O];break;default:I.pipes.push(O);break}I.pipesCount+=1,x("pipe count=%d opts=%j",I.pipesCount,Y);var X=(!Y||Y.end!==!1)&&O!==n.stdout&&O!==n.stderr,le=X?_e:Be;I.endEmitted?i(le):T.once("end",le),O.on("unpipe",se);function se(Te){x("onunpipe"),Te===T&&Be()}function _e(){x("onend"),O.end()}var we=$(T);O.on("drain",we);var Ce=!1;function Be(){x("cleanup"),O.removeListener("close",j),O.removeListener("finish",he),O.removeListener("drain",we),O.removeListener("error",V),O.removeListener("unpipe",se),T.removeListener("end",_e),T.removeListener("end",Be),T.removeListener("data",re),Ce=!0,I.awaitDrain&&(!O._writableState||O._writableState.needDrain)&&we()}var We=!1;T.on("data",re);function re(Te){x("ondata"),We=!1;var Ie=O.write(Te);Ie===!1&&!We&&((I.pipesCount===1&&I.pipes===O||I.pipesCount>1&&Ae(I.pipes,O)!==-1)&&!Ce&&(x("false write response, pause",T._readableState.awaitDrain),T._readableState.awaitDrain++,We=!0),T.pause())}function V(Te){x("onerror",Te),Me(),O.removeListener("error",V),u(O,"error")===0&&O.emit("error",Te)}w(O,"error",V);function j(){O.removeListener("finish",he),Me()}O.once("close",j);function he(){x("onfinish"),O.removeListener("close",j),Me()}O.once("finish",he);function Me(){x("unpipe"),T.unpipe(O)}return O.emit("pipe",T),I.flowing||(x("pipe resume"),T.resume()),O};function $(O){return function(){var Y=O._readableState;x("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&u(O,"data")&&(Y.flowing=!0,ee(O))}}g.prototype.unpipe=function(O){var Y=this._readableState;if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return O&&O!==Y.pipes?this:(O||(O=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,O&&O.emit("unpipe",this),this);if(!O){var T=Y.pipes,I=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var X=0;X<I;X++)T[X].emit("unpipe",this);return this}var le=Ae(Y.pipes,O);return le===-1?this:(Y.pipes.splice(le,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),O.emit("unpipe",this),this)},g.prototype.on=function(O,Y){var T=m.prototype.on.call(this,O,Y);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var I=this._readableState;!I.endEmitted&&!I.readableListening&&(I.readableListening=I.needReadable=!0,I.emittedReadable=!1,I.reading?I.length&&N(this):i(J,this))}return T},g.prototype.addListener=g.prototype.on;function J(O){x("readable nexttick read 0"),O.read(0)}g.prototype.resume=function(){var O=this._readableState;return O.flowing||(x("resume"),O.flowing=!0,me(this,O)),this};function me(O,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,i(W,O,Y))}function W(O,Y){Y.reading||(x("resume read 0"),O.read(0)),Y.resumeScheduled=!1,Y.awaitDrain=0,O.emit("resume"),ee(O),Y.flowing&&!Y.reading&&O.read(0)}g.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ee(O){var Y=O._readableState;for(x("flow",Y.flowing);Y.flowing&&O.read()!==null;);}g.prototype.wrap=function(O){var Y=this._readableState,T=!1,I=this;O.on("end",function(){if(x("wrapped end"),Y.decoder&&!Y.ended){var se=Y.decoder.end();se&&se.length&&I.push(se)}I.push(null)}),O.on("data",function(se){if(x("wrapped data"),Y.decoder&&(se=Y.decoder.write(se)),!(Y.objectMode&&se==null)&&!(!Y.objectMode&&(!se||!se.length))){var _e=I.push(se);_e||(T=!0,O.pause())}});for(var X in O)this[X]===void 0&&typeof O[X]=="function"&&(this[X]=function(se){return function(){return O[se].apply(O,arguments)}}(X));var le=["error","close","destroy","pause","resume"];return ge(le,function(se){O.on(se,I.emit.bind(I,se))}),I._read=function(se){x("wrapped _read",se),T&&(T=!1,O.resume())},I},g._fromList=ue;function ue(O,Y){if(Y.length===0)return null;var T;return Y.objectMode?T=Y.buffer.shift():!O||O>=Y.length?(Y.decoder?T=Y.buffer.join(""):Y.buffer.length===1?T=Y.buffer.head.data:T=Y.buffer.concat(Y.length),Y.buffer.clear()):T=Z(O,Y.buffer,Y.decoder),T}function Z(O,Y,T){var I;return O<Y.head.data.length?(I=Y.head.data.slice(0,O),Y.head.data=Y.head.data.slice(O)):O===Y.head.data.length?I=Y.shift():I=T?ie(O,Y):fe(O,Y),I}function ie(O,Y){var T=Y.head,I=1,X=T.data;for(O-=X.length;T=T.next;){var le=T.data,se=O>le.length?le.length:O;if(se===le.length?X+=le:X+=le.slice(0,O),O-=se,O===0){se===le.length?(++I,T.next?Y.head=T.next:Y.head=Y.tail=null):(Y.head=T,T.data=le.slice(se));break}++I}return Y.length-=I,X}function fe(O,Y){var T=h.allocUnsafe(O),I=Y.head,X=1;for(I.data.copy(T),O-=I.data.length;I=I.next;){var le=I.data,se=O>le.length?le.length:O;if(le.copy(T,T.length-O,0,se),O-=se,O===0){se===le.length?(++X,I.next?Y.head=I.next:Y.head=Y.tail=null):(Y.head=I,I.data=le.slice(se));break}++X}return Y.length-=X,T}function ye(O){var Y=O._readableState;if(Y.length>0)throw new Error('"endReadable()" called on non-empty stream');Y.endEmitted||(Y.ended=!0,i(xe,Y,O))}function xe(O,Y){!O.endEmitted&&O.length===0&&(O.endEmitted=!0,Y.readable=!1,Y.emit("end"))}function ge(O,Y){for(var T=0,I=O.length;T<I;T++)Y(O[T],T)}function Ae(O,Y){for(var T=0,I=O.length;T<I;T++)if(O[T]===Y)return T;return-1}}).call(a,r(6))},function(t,a,r){(function(n){!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?t.exports=i:t.exports=n.nextTick;function i(o,l,u,m){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var c=arguments.length,h,p;switch(c){case 0:case 1:return n.nextTick(o);case 2:return n.nextTick(function(){o.call(null,l)});case 3:return n.nextTick(function(){o.call(null,l,u)});case 4:return n.nextTick(function(){o.call(null,l,u,m)});default:for(h=new Array(c-1),p=0;p<h.length;)h[p++]=arguments[p];return n.nextTick(function(){o.apply(null,h)})}}}).call(a,r(6))},function(t,a){var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}},function(t,a,r){(function(n){var i=r(2),o=i.Buffer,l=i.SlowBuffer,u=i.kMaxLength||2147483647;a.alloc=function(c,h,p){if(typeof o.alloc=="function")return o.alloc(c,h,p);if(typeof p=="number")throw new TypeError("encoding must not be number");if(typeof c!="number")throw new TypeError("size must be a number");if(c>u)throw new RangeError("size is too large");var d=p,x=h;x===void 0&&(d=void 0,x=0);var M=new o(c);if(typeof x=="string")for(var A=new o(x,d),w=A.length,E=-1;++E<c;)M[E]=A[E%w];else M.fill(x);return M},a.allocUnsafe=function(c){if(typeof o.allocUnsafe=="function")return o.allocUnsafe(c);if(typeof c!="number")throw new TypeError("size must be a number");if(c>u)throw new RangeError("size is too large");return new o(c)},a.from=function(c,h,p){if(typeof o.from=="function"&&(!n.Uint8Array||Uint8Array.from!==o.from))return o.from(c,h,p);if(typeof c=="number")throw new TypeError('"value" argument must not be a number');if(typeof c=="string")return new o(c,h);if(typeof ArrayBuffer<"u"&&c instanceof ArrayBuffer){var d=h;if(arguments.length===1)return new o(c);typeof d>"u"&&(d=0);var x=p;if(typeof x>"u"&&(x=c.byteLength-d),d>=c.byteLength)throw new RangeError("'offset' is out of bounds");if(x>c.byteLength-d)throw new RangeError("'length' is out of bounds");return new o(c.slice(d,d+x))}if(o.isBuffer(c)){var M=new o(c.length);return c.copy(M,0,0,c.length),M}if(c){if(Array.isArray(c)||typeof ArrayBuffer<"u"&&c.buffer instanceof ArrayBuffer||"length"in c)return new o(c);if(c.type==="Buffer"&&Array.isArray(c.data))return new o(c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},a.allocUnsafeSlow=function(c){if(typeof o.allocUnsafeSlow=="function")return o.allocUnsafeSlow(c);if(typeof c!="number")throw new TypeError("size must be a number");if(c>=u)throw new RangeError("size is too large");return new l(c)}}).call(a,function(){return this}())},function(t,a,r){(function(n){function i(q){return Array.isArray?Array.isArray(q):g(q)==="[object Array]"}a.isArray=i;function o(q){return typeof q=="boolean"}a.isBoolean=o;function l(q){return q===null}a.isNull=l;function u(q){return q==null}a.isNullOrUndefined=u;function m(q){return typeof q=="number"}a.isNumber=m;function c(q){return typeof q=="string"}a.isString=c;function h(q){return typeof q=="symbol"}a.isSymbol=h;function p(q){return q===void 0}a.isUndefined=p;function d(q){return g(q)==="[object RegExp]"}a.isRegExp=d;function x(q){return typeof q=="object"&&q!==null}a.isObject=x;function M(q){return g(q)==="[object Date]"}a.isDate=M;function A(q){return g(q)==="[object Error]"||q instanceof Error}a.isError=A;function w(q){return typeof q=="function"}a.isFunction=w;function E(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}a.isPrimitive=E,a.isBuffer=n.isBuffer;function g(q){return Object.prototype.toString.call(q)}}).call(a,r(1))},function(t,a){},function(t,a,r){r(2).Buffer;var n=r(17);t.exports=i;function i(){this.head=null,this.tail=null,this.length=0}i.prototype.push=function(o){var l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},i.prototype.unshift=function(o){var l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},i.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(o){if(this.length===0)return"";for(var l=this.head,u=""+l.data;l=l.next;)u+=o+l.data;return u},i.prototype.concat=function(o){if(this.length===0)return n.alloc(0);if(this.length===1)return this.head.data;for(var l=n.allocUnsafe(o>>>0),u=this.head,m=0;u;)u.data.copy(l,m),m+=u.data.length,u=u.next;return l}},function(t,a,r){var n=Object.keys||function(M){var A=[];for(var w in M)A.push(w);return A};t.exports=p;var i=r(15),o=r(18);o.inherits=r(12);var l=r(14),u=r(22);o.inherits(p,l);for(var m=n(u.prototype),c=0;c<m.length;c++){var h=m[c];p.prototype[h]||(p.prototype[h]=u.prototype[h])}function p(M){if(!(this instanceof p))return new p(M);l.call(this,M),u.call(this,M),M&&M.readable===!1&&(this.readable=!1),M&&M.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,M&&M.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i(x,this)}function x(M){M.end()}},function(t,a,r){(function(n){t.exports=w;var i=r(15),o=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i,l;w.WritableState=M;var u=r(18);u.inherits=r(12);var m={deprecate:r(23)},c;(function(){try{c=r(11)}catch{}finally{c||(c=r(8).EventEmitter)}})();var h=r(2).Buffer,p=r(17);u.inherits(w,c);function d(){}function x(W,ee,ue){this.chunk=W,this.encoding=ee,this.callback=ue,this.next=null}function M(W,ee){l=l||r(21),W=W||{},this.objectMode=!!W.objectMode,ee instanceof l&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var ue=W.highWaterMark,Z=this.objectMode?16:16*1024;this.highWaterMark=ue||ue===0?ue:Z,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var ie=W.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(fe){D(ee,fe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new me(this)}M.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ue=[];ee;)ue.push(ee),ee=ee.next;return ue},function(){try{Object.defineProperty(M.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(W){return A.call(this,W)?!0:W&&W._writableState instanceof M}})):A=function(W){return W instanceof this};function w(W){if(l=l||r(21),!A.call(w,this)&&!(this instanceof l))return new w(W);this._writableState=new M(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev)),c.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function E(W,ee){var ue=new Error("write after end");W.emit("error",ue),i(ee,ue)}function g(W,ee,ue,Z){var ie=!0,fe=!1;return ue===null?fe=new TypeError("May not write null values to stream"):typeof ue!="string"&&ue!==void 0&&!ee.objectMode&&(fe=new TypeError("Invalid non-string/buffer chunk")),fe&&(W.emit("error",fe),i(Z,fe),ie=!1),ie}w.prototype.write=function(W,ee,ue){var Z=this._writableState,ie=!1,fe=h.isBuffer(W);return typeof ee=="function"&&(ue=ee,ee=null),fe?ee="buffer":ee||(ee=Z.defaultEncoding),typeof ue!="function"&&(ue=d),Z.ended?E(this,ue):(fe||g(this,Z,W,ue))&&(Z.pendingcb++,ie=k(this,Z,fe,W,ee,ue)),ie},w.prototype.cork=function(){var W=this._writableState;W.corked++},w.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.finished&&!W.bufferProcessing&&W.bufferedRequest&&Q(this,W))},w.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ee);return this._writableState.defaultEncoding=ee,this};function q(W,ee,ue){return!W.objectMode&&W.decodeStrings!==!1&&typeof ee=="string"&&(ee=p.from(ee,ue)),ee}function k(W,ee,ue,Z,ie,fe){ue||(Z=q(ee,Z,ie),h.isBuffer(Z)&&(ie="buffer"));var ye=ee.objectMode?1:Z.length;ee.length+=ye;var xe=ee.length<ee.highWaterMark;if(xe||(ee.needDrain=!0),ee.writing||ee.corked){var ge=ee.lastBufferedRequest;ee.lastBufferedRequest=new x(Z,ie,fe),ge?ge.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else L(W,ee,!1,ye,Z,ie,fe);return xe}function L(W,ee,ue,Z,ie,fe,ye){ee.writelen=Z,ee.writecb=ye,ee.writing=!0,ee.sync=!0,ue?W._writev(ie,ee.onwrite):W._write(ie,fe,ee.onwrite),ee.sync=!1}function S(W,ee,ue,Z,ie){--ee.pendingcb,ue?i(ie,Z):ie(Z),W._writableState.errorEmitted=!0,W.emit("error",Z)}function R(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function D(W,ee){var ue=W._writableState,Z=ue.sync,ie=ue.writecb;if(R(ue),ee)S(W,ue,Z,ee,ie);else{var fe=P(ue);!fe&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&Q(W,ue),Z?o(B,W,ue,fe,ie):B(W,ue,fe,ie)}}function B(W,ee,ue,Z){ue||N(W,ee),ee.pendingcb--,Z(),$(W,ee)}function N(W,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,W.emit("drain"))}function Q(W,ee){ee.bufferProcessing=!0;var ue=ee.bufferedRequest;if(W._writev&&ue&&ue.next){var Z=ee.bufferedRequestCount,ie=new Array(Z),fe=ee.corkedRequestsFree;fe.entry=ue;for(var ye=0;ue;)ie[ye]=ue,ue=ue.next,ye+=1;L(W,ee,!0,ee.length,ie,"",fe.finish),ee.pendingcb++,ee.lastBufferedRequest=null,fe.next?(ee.corkedRequestsFree=fe.next,fe.next=null):ee.corkedRequestsFree=new me(ee)}else{for(;ue;){var xe=ue.chunk,ge=ue.encoding,Ae=ue.callback,O=ee.objectMode?1:xe.length;if(L(W,ee,!1,O,xe,ge,Ae),ue=ue.next,ee.writing)break}ue===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequestCount=0,ee.bufferedRequest=ue,ee.bufferProcessing=!1}w.prototype._write=function(W,ee,ue){ue(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(W,ee,ue){var Z=this._writableState;typeof W=="function"?(ue=W,W=null,ee=null):typeof ee=="function"&&(ue=ee,ee=null),W!=null&&this.write(W,ee),Z.corked&&(Z.corked=1,this.uncork()),!Z.ending&&!Z.finished&&J(this,Z,ue)};function P(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function U(W,ee){ee.prefinished||(ee.prefinished=!0,W.emit("prefinish"))}function $(W,ee){var ue=P(ee);return ue&&(ee.pendingcb===0?(U(W,ee),ee.finished=!0,W.emit("finish")):U(W,ee)),ue}function J(W,ee,ue){ee.ending=!0,$(W,ee),ue&&(ee.finished?i(ue):W.once("finish",ue)),ee.ended=!0,W.writable=!1}function me(W){var ee=this;this.next=null,this.entry=null,this.finish=function(ue){var Z=ee.entry;for(ee.entry=null;Z;){var ie=Z.callback;W.pendingcb--,ie(ue),Z=Z.next}W.corkedRequestsFree?W.corkedRequestsFree.next=ee:W.corkedRequestsFree=ee}}}).call(a,r(6))},function(t,a){(function(r){t.exports=n;function n(o,l){if(i("noDeprecation"))return o;var u=!1;function m(){if(!u){if(i("throwDeprecation"))throw new Error(l);i("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return o.apply(this,arguments)}return m}function i(o){try{if(!r.localStorage)return!1}catch{return!1}var l=r.localStorage[o];return l==null?!1:String(l).toLowerCase()==="true"}}).call(a,function(){return this}())},function(t,a,r){var n=r(2).Buffer,i=n.isEncoding||function(h){switch(h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(h){if(h&&!i(h))throw new Error("Unknown encoding: "+h)}var l=a.StringDecoder=function(h){switch(this.encoding=(h||"utf8").toLowerCase().replace(/[-_]/,""),o(h),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=m;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:this.write=u;return}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(h){for(var p="";this.charLength;){var d=h.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:h.length;if(h.copy(this.charBuffer,this.charReceived,0,d),this.charReceived+=d,this.charReceived<this.charLength)return"";h=h.slice(d,h.length),p=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var M=p.charCodeAt(p.length-1);if(M>=55296&&M<=56319){this.charLength+=this.surrogateSize,p="";continue}if(this.charReceived=this.charLength=0,h.length===0)return p;break}this.detectIncompleteChar(h);var x=h.length;this.charLength&&(h.copy(this.charBuffer,0,h.length-this.charReceived,x),x-=this.charReceived),p+=h.toString(this.encoding,0,x);var x=p.length-1,M=p.charCodeAt(x);if(M>=55296&&M<=56319){var A=this.surrogateSize;return this.charLength+=A,this.charReceived+=A,this.charBuffer.copy(this.charBuffer,A,0,A),h.copy(this.charBuffer,0,0,A),p.substring(0,x)}return p},l.prototype.detectIncompleteChar=function(h){for(var p=h.length>=3?3:h.length;p>0;p--){var d=h[h.length-p];if(p==1&&d>>5==6){this.charLength=2;break}if(p<=2&&d>>4==14){this.charLength=3;break}if(p<=3&&d>>3==30){this.charLength=4;break}}this.charReceived=p},l.prototype.end=function(h){var p="";if(h&&h.length&&(p=this.write(h)),this.charReceived){var d=this.charReceived,x=this.charBuffer,M=this.encoding;p+=x.slice(0,d).toString(M)}return p};function u(h){return h.toString(this.encoding)}function m(h){this.charReceived=h.length%2,this.charLength=this.charReceived?2:0}function c(h){this.charReceived=h.length%3,this.charLength=this.charReceived?3:0}},function(t,a,r){t.exports=u;var n=r(21),i=r(18);i.inherits=r(12),i.inherits(u,n);function o(c){this.afterTransform=function(h,p){return l(c,h,p)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function l(c,h,p){var d=c._transformState;d.transforming=!1;var x=d.writecb;if(!x)return c.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,p!=null&&c.push(p),x(h);var M=c._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&c._read(M.highWaterMark)}function u(c){if(!(this instanceof u))return new u(c);n.call(this,c),this._transformState=new o(this);var h=this;this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(p,d){m(h,p,d)}):m(h)})}u.prototype.push=function(c,h){return this._transformState.needTransform=!1,n.prototype.push.call(this,c,h)},u.prototype._transform=function(c,h,p){throw new Error("_transform() is not implemented")},u.prototype._write=function(c,h,p){var d=this._transformState;if(d.writecb=p,d.writechunk=c,d.writeencoding=h,!d.transforming){var x=this._readableState;(d.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},u.prototype._read=function(c){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0};function m(c,h,p){if(h)return c.emit("error",h);p!=null&&c.push(p);var d=c._writableState,x=c._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(x.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}},function(t,a,r){t.exports=o;var n=r(25),i=r(18);i.inherits=r(12),i.inherits(o,n);function o(l){if(!(this instanceof o))return new o(l);n.call(this,l)}o.prototype._transform=function(l,u,m){m(null,l)}},function(t,a,r){t.exports=r(22)},function(t,a,r){t.exports=r(21)},function(t,a,r){t.exports=r(25)},function(t,a,r){t.exports=r(26)},function(t,a,r){var n=r(32),i=r(33),o=r(38),l=r(39),u=r(40),m=r(41),c=r(42),h=Object.prototype.toString;function p(M){if(!(this instanceof p))return new p(M);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},M||{});var A=this.options;A.raw&&A.windowBits>=0&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),A.windowBits>=0&&A.windowBits<16&&!(M&&M.windowBits)&&(A.windowBits+=32),A.windowBits>15&&A.windowBits<48&&(A.windowBits&15||(A.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var w=n.inflateInit2(this.strm,A.windowBits);if(w!==l.Z_OK)throw new Error(u[w]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}p.prototype.push=function(M,A){var w=this.strm,E=this.options.chunkSize,g=this.options.dictionary,q,k,L,S,R,D,B=!1;if(this.ended)return!1;k=A===~~A?A:A===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof M=="string"?w.input=o.binstring2buf(M):h.call(M)==="[object ArrayBuffer]"?w.input=new Uint8Array(M):w.input=M,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new i.Buf8(E),w.next_out=0,w.avail_out=E),q=n.inflate(w,l.Z_NO_FLUSH),q===l.Z_NEED_DICT&&g&&(typeof g=="string"?D=o.string2buf(g):h.call(g)==="[object ArrayBuffer]"?D=new Uint8Array(g):D=g,q=n.inflateSetDictionary(this.strm,D)),q===l.Z_BUF_ERROR&&B===!0&&(q=l.Z_OK,B=!1),q!==l.Z_STREAM_END&&q!==l.Z_OK)return this.onEnd(q),this.ended=!0,!1;w.next_out&&(w.avail_out===0||q===l.Z_STREAM_END||w.avail_in===0&&(k===l.Z_FINISH||k===l.Z_SYNC_FLUSH))&&(this.options.to==="string"?(L=o.utf8border(w.output,w.next_out),S=w.next_out-L,R=o.buf2string(w.output,L),w.next_out=S,w.avail_out=E-S,S&&i.arraySet(w.output,w.output,L,S,0),this.onData(R)):this.onData(i.shrinkBuf(w.output,w.next_out))),w.avail_in===0&&w.avail_out===0&&(B=!0)}while((w.avail_in>0||w.avail_out===0)&&q!==l.Z_STREAM_END);return q===l.Z_STREAM_END&&(k=l.Z_FINISH),k===l.Z_FINISH?(q=n.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===l.Z_OK):(k===l.Z_SYNC_FLUSH&&(this.onEnd(l.Z_OK),w.avail_out=0),!0)},p.prototype.onData=function(M){this.chunks.push(M)},p.prototype.onEnd=function(M){M===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg};function d(M,A){var w=new p(A);if(w.push(M,!0),w.err)throw w.msg||u[w.err];return w.result}function x(M,A){return A=A||{},A.raw=!0,d(M,A)}a.Inflate=p,a.inflate=d,a.inflateRaw=x,a.ungzip=d},function(t,a,r){var n=r(33),i=r(34),o=r(35),l=r(36),u=r(37),m=0,c=1,h=2,p=4,d=5,x=6,M=0,A=1,w=2,E=-2,g=-3,q=-4,k=-5,L=8,S=1,R=2,D=3,B=4,N=5,Q=6,P=7,U=8,$=9,J=10,me=11,W=12,ee=13,ue=14,Z=15,ie=16,fe=17,ye=18,xe=19,ge=20,Ae=21,O=22,Y=23,T=24,I=25,X=26,le=27,se=28,_e=29,we=30,Ce=31,Be=32,We=852,re=592,V=15,j=V;function he(qe){return(qe>>>24&255)+(qe>>>8&65280)+((qe&65280)<<8)+((qe&255)<<24)}function Me(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Te(qe){var Ne;return!qe||!qe.state?E:(Ne=qe.state,qe.total_in=qe.total_out=Ne.total=0,qe.msg="",Ne.wrap&&(qe.adler=Ne.wrap&1),Ne.mode=S,Ne.last=0,Ne.havedict=0,Ne.dmax=32768,Ne.head=null,Ne.hold=0,Ne.bits=0,Ne.lencode=Ne.lendyn=new n.Buf32(We),Ne.distcode=Ne.distdyn=new n.Buf32(re),Ne.sane=1,Ne.back=-1,M)}function Ie(qe){var Ne;return!qe||!qe.state?E:(Ne=qe.state,Ne.wsize=0,Ne.whave=0,Ne.wnext=0,Te(qe))}function Ze(qe,Ne){var ae,Fe;return!qe||!qe.state||(Fe=qe.state,Ne<0?(ae=0,Ne=-Ne):(ae=(Ne>>4)+1,Ne<48&&(Ne&=15)),Ne&&(Ne<8||Ne>15))?E:(Fe.window!==null&&Fe.wbits!==Ne&&(Fe.window=null),Fe.wrap=ae,Fe.wbits=Ne,Ie(qe))}function at(qe,Ne){var ae,Fe;return qe?(Fe=new Me,qe.state=Fe,Fe.window=null,ae=Ze(qe,Ne),ae!==M&&(qe.state=null),ae):E}function et(qe){return at(qe,j)}var it=!0,oe,ve;function Se(qe){if(it){var Ne;for(oe=new n.Buf32(512),ve=new n.Buf32(32),Ne=0;Ne<144;)qe.lens[Ne++]=8;for(;Ne<256;)qe.lens[Ne++]=9;for(;Ne<280;)qe.lens[Ne++]=7;for(;Ne<288;)qe.lens[Ne++]=8;for(u(c,qe.lens,0,288,oe,0,qe.work,{bits:9}),Ne=0;Ne<32;)qe.lens[Ne++]=5;u(h,qe.lens,0,32,ve,0,qe.work,{bits:5}),it=!1}qe.lencode=oe,qe.lenbits=9,qe.distcode=ve,qe.distbits=5}function ze(qe,Ne,ae,Fe){var Qe,je=qe.state;return je.window===null&&(je.wsize=1<<je.wbits,je.wnext=0,je.whave=0,je.window=new n.Buf8(je.wsize)),Fe>=je.wsize?(n.arraySet(je.window,Ne,ae-je.wsize,je.wsize,0),je.wnext=0,je.whave=je.wsize):(Qe=je.wsize-je.wnext,Qe>Fe&&(Qe=Fe),n.arraySet(je.window,Ne,ae-Fe,Qe,je.wnext),Fe-=Qe,Fe?(n.arraySet(je.window,Ne,ae-Fe,Fe,0),je.wnext=Fe,je.whave=je.wsize):(je.wnext+=Qe,je.wnext===je.wsize&&(je.wnext=0),je.whave<je.wsize&&(je.whave+=Qe))),0}function Le(qe,Ne){var ae,Fe,Qe,je,dt,$e,mt,De,Oe,yt,ot,Je,Bt,Rt,ut=0,lt,pt,Et,vt,Vt,Zt,_t,ht,ft=new n.Buf8(4),qt,zt,oa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!qe||!qe.state||!qe.output||!qe.input&&qe.avail_in!==0)return E;ae=qe.state,ae.mode===W&&(ae.mode=ee),dt=qe.next_out,Qe=qe.output,mt=qe.avail_out,je=qe.next_in,Fe=qe.input,$e=qe.avail_in,De=ae.hold,Oe=ae.bits,yt=$e,ot=mt,ht=M;e:for(;;)switch(ae.mode){case S:if(ae.wrap===0){ae.mode=ee;break}for(;Oe<16;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(ae.wrap&2&&De===35615){ae.check=0,ft[0]=De&255,ft[1]=De>>>8&255,ae.check=o(ae.check,ft,2,0),De=0,Oe=0,ae.mode=R;break}if(ae.flags=0,ae.head&&(ae.head.done=!1),!(ae.wrap&1)||(((De&255)<<8)+(De>>8))%31){qe.msg="incorrect header check",ae.mode=we;break}if((De&15)!==L){qe.msg="unknown compression method",ae.mode=we;break}if(De>>>=4,Oe-=4,_t=(De&15)+8,ae.wbits===0)ae.wbits=_t;else if(_t>ae.wbits){qe.msg="invalid window size",ae.mode=we;break}ae.dmax=1<<_t,qe.adler=ae.check=1,ae.mode=De&512?J:W,De=0,Oe=0;break;case R:for(;Oe<16;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(ae.flags=De,(ae.flags&255)!==L){qe.msg="unknown compression method",ae.mode=we;break}if(ae.flags&57344){qe.msg="unknown header flags set",ae.mode=we;break}ae.head&&(ae.head.text=De>>8&1),ae.flags&512&&(ft[0]=De&255,ft[1]=De>>>8&255,ae.check=o(ae.check,ft,2,0)),De=0,Oe=0,ae.mode=D;case D:for(;Oe<32;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}ae.head&&(ae.head.time=De),ae.flags&512&&(ft[0]=De&255,ft[1]=De>>>8&255,ft[2]=De>>>16&255,ft[3]=De>>>24&255,ae.check=o(ae.check,ft,4,0)),De=0,Oe=0,ae.mode=B;case B:for(;Oe<16;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}ae.head&&(ae.head.xflags=De&255,ae.head.os=De>>8),ae.flags&512&&(ft[0]=De&255,ft[1]=De>>>8&255,ae.check=o(ae.check,ft,2,0)),De=0,Oe=0,ae.mode=N;case N:if(ae.flags&1024){for(;Oe<16;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}ae.length=De,ae.head&&(ae.head.extra_len=De),ae.flags&512&&(ft[0]=De&255,ft[1]=De>>>8&255,ae.check=o(ae.check,ft,2,0)),De=0,Oe=0}else ae.head&&(ae.head.extra=null);ae.mode=Q;case Q:if(ae.flags&1024&&(Je=ae.length,Je>$e&&(Je=$e),Je&&(ae.head&&(_t=ae.head.extra_len-ae.length,ae.head.extra||(ae.head.extra=new Array(ae.head.extra_len)),n.arraySet(ae.head.extra,Fe,je,Je,_t)),ae.flags&512&&(ae.check=o(ae.check,Fe,Je,je)),$e-=Je,je+=Je,ae.length-=Je),ae.length))break e;ae.length=0,ae.mode=P;case P:if(ae.flags&2048){if($e===0)break e;Je=0;do _t=Fe[je+Je++],ae.head&&_t&&ae.length<65536&&(ae.head.name+=String.fromCharCode(_t));while(_t&&Je<$e);if(ae.flags&512&&(ae.check=o(ae.check,Fe,Je,je)),$e-=Je,je+=Je,_t)break e}else ae.head&&(ae.head.name=null);ae.length=0,ae.mode=U;case U:if(ae.flags&4096){if($e===0)break e;Je=0;do _t=Fe[je+Je++],ae.head&&_t&&ae.length<65536&&(ae.head.comment+=String.fromCharCode(_t));while(_t&&Je<$e);if(ae.flags&512&&(ae.check=o(ae.check,Fe,Je,je)),$e-=Je,je+=Je,_t)break e}else ae.head&&(ae.head.comment=null);ae.mode=$;case $:if(ae.flags&512){for(;Oe<16;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(De!==(ae.check&65535)){qe.msg="header crc mismatch",ae.mode=we;break}De=0,Oe=0}ae.head&&(ae.head.hcrc=ae.flags>>9&1,ae.head.done=!0),qe.adler=ae.check=0,ae.mode=W;break;case J:for(;Oe<32;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}qe.adler=ae.check=he(De),De=0,Oe=0,ae.mode=me;case me:if(ae.havedict===0)return qe.next_out=dt,qe.avail_out=mt,qe.next_in=je,qe.avail_in=$e,ae.hold=De,ae.bits=Oe,w;qe.adler=ae.check=1,ae.mode=W;case W:if(Ne===d||Ne===x)break e;case ee:if(ae.last){De>>>=Oe&7,Oe-=Oe&7,ae.mode=le;break}for(;Oe<3;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}switch(ae.last=De&1,De>>>=1,Oe-=1,De&3){case 0:ae.mode=ue;break;case 1:if(Se(ae),ae.mode=ge,Ne===x){De>>>=2,Oe-=2;break e}break;case 2:ae.mode=fe;break;case 3:qe.msg="invalid block type",ae.mode=we}De>>>=2,Oe-=2;break;case ue:for(De>>>=Oe&7,Oe-=Oe&7;Oe<32;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if((De&65535)!==(De>>>16^65535)){qe.msg="invalid stored block lengths",ae.mode=we;break}if(ae.length=De&65535,De=0,Oe=0,ae.mode=Z,Ne===x)break e;case Z:ae.mode=ie;case ie:if(Je=ae.length,Je){if(Je>$e&&(Je=$e),Je>mt&&(Je=mt),Je===0)break e;n.arraySet(Qe,Fe,je,Je,dt),$e-=Je,je+=Je,mt-=Je,dt+=Je,ae.length-=Je;break}ae.mode=W;break;case fe:for(;Oe<14;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(ae.nlen=(De&31)+257,De>>>=5,Oe-=5,ae.ndist=(De&31)+1,De>>>=5,Oe-=5,ae.ncode=(De&15)+4,De>>>=4,Oe-=4,ae.nlen>286||ae.ndist>30){qe.msg="too many length or distance symbols",ae.mode=we;break}ae.have=0,ae.mode=ye;case ye:for(;ae.have<ae.ncode;){for(;Oe<3;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}ae.lens[oa[ae.have++]]=De&7,De>>>=3,Oe-=3}for(;ae.have<19;)ae.lens[oa[ae.have++]]=0;if(ae.lencode=ae.lendyn,ae.lenbits=7,qt={bits:ae.lenbits},ht=u(m,ae.lens,0,19,ae.lencode,0,ae.work,qt),ae.lenbits=qt.bits,ht){qe.msg="invalid code lengths set",ae.mode=we;break}ae.have=0,ae.mode=xe;case xe:for(;ae.have<ae.nlen+ae.ndist;){for(;ut=ae.lencode[De&(1<<ae.lenbits)-1],lt=ut>>>24,pt=ut>>>16&255,Et=ut&65535,!(lt<=Oe);){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(Et<16)De>>>=lt,Oe-=lt,ae.lens[ae.have++]=Et;else{if(Et===16){for(zt=lt+2;Oe<zt;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(De>>>=lt,Oe-=lt,ae.have===0){qe.msg="invalid bit length repeat",ae.mode=we;break}_t=ae.lens[ae.have-1],Je=3+(De&3),De>>>=2,Oe-=2}else if(Et===17){for(zt=lt+3;Oe<zt;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}De>>>=lt,Oe-=lt,_t=0,Je=3+(De&7),De>>>=3,Oe-=3}else{for(zt=lt+7;Oe<zt;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}De>>>=lt,Oe-=lt,_t=0,Je=11+(De&127),De>>>=7,Oe-=7}if(ae.have+Je>ae.nlen+ae.ndist){qe.msg="invalid bit length repeat",ae.mode=we;break}for(;Je--;)ae.lens[ae.have++]=_t}}if(ae.mode===we)break;if(ae.lens[256]===0){qe.msg="invalid code -- missing end-of-block",ae.mode=we;break}if(ae.lenbits=9,qt={bits:ae.lenbits},ht=u(c,ae.lens,0,ae.nlen,ae.lencode,0,ae.work,qt),ae.lenbits=qt.bits,ht){qe.msg="invalid literal/lengths set",ae.mode=we;break}if(ae.distbits=6,ae.distcode=ae.distdyn,qt={bits:ae.distbits},ht=u(h,ae.lens,ae.nlen,ae.ndist,ae.distcode,0,ae.work,qt),ae.distbits=qt.bits,ht){qe.msg="invalid distances set",ae.mode=we;break}if(ae.mode=ge,Ne===x)break e;case ge:ae.mode=Ae;case Ae:if($e>=6&&mt>=258){qe.next_out=dt,qe.avail_out=mt,qe.next_in=je,qe.avail_in=$e,ae.hold=De,ae.bits=Oe,l(qe,ot),dt=qe.next_out,Qe=qe.output,mt=qe.avail_out,je=qe.next_in,Fe=qe.input,$e=qe.avail_in,De=ae.hold,Oe=ae.bits,ae.mode===W&&(ae.back=-1);break}for(ae.back=0;ut=ae.lencode[De&(1<<ae.lenbits)-1],lt=ut>>>24,pt=ut>>>16&255,Et=ut&65535,!(lt<=Oe);){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(pt&&!(pt&240)){for(vt=lt,Vt=pt,Zt=Et;ut=ae.lencode[Zt+((De&(1<<vt+Vt)-1)>>vt)],lt=ut>>>24,pt=ut>>>16&255,Et=ut&65535,!(vt+lt<=Oe);){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}De>>>=vt,Oe-=vt,ae.back+=vt}if(De>>>=lt,Oe-=lt,ae.back+=lt,ae.length=Et,pt===0){ae.mode=X;break}if(pt&32){ae.back=-1,ae.mode=W;break}if(pt&64){qe.msg="invalid literal/length code",ae.mode=we;break}ae.extra=pt&15,ae.mode=O;case O:if(ae.extra){for(zt=ae.extra;Oe<zt;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}ae.length+=De&(1<<ae.extra)-1,De>>>=ae.extra,Oe-=ae.extra,ae.back+=ae.extra}ae.was=ae.length,ae.mode=Y;case Y:for(;ut=ae.distcode[De&(1<<ae.distbits)-1],lt=ut>>>24,pt=ut>>>16&255,Et=ut&65535,!(lt<=Oe);){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(!(pt&240)){for(vt=lt,Vt=pt,Zt=Et;ut=ae.distcode[Zt+((De&(1<<vt+Vt)-1)>>vt)],lt=ut>>>24,pt=ut>>>16&255,Et=ut&65535,!(vt+lt<=Oe);){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}De>>>=vt,Oe-=vt,ae.back+=vt}if(De>>>=lt,Oe-=lt,ae.back+=lt,pt&64){qe.msg="invalid distance code",ae.mode=we;break}ae.offset=Et,ae.extra=pt&15,ae.mode=T;case T:if(ae.extra){for(zt=ae.extra;Oe<zt;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}ae.offset+=De&(1<<ae.extra)-1,De>>>=ae.extra,Oe-=ae.extra,ae.back+=ae.extra}if(ae.offset>ae.dmax){qe.msg="invalid distance too far back",ae.mode=we;break}ae.mode=I;case I:if(mt===0)break e;if(Je=ot-mt,ae.offset>Je){if(Je=ae.offset-Je,Je>ae.whave&&ae.sane){qe.msg="invalid distance too far back",ae.mode=we;break}Je>ae.wnext?(Je-=ae.wnext,Bt=ae.wsize-Je):Bt=ae.wnext-Je,Je>ae.length&&(Je=ae.length),Rt=ae.window}else Rt=Qe,Bt=dt-ae.offset,Je=ae.length;Je>mt&&(Je=mt),mt-=Je,ae.length-=Je;do Qe[dt++]=Rt[Bt++];while(--Je);ae.length===0&&(ae.mode=Ae);break;case X:if(mt===0)break e;Qe[dt++]=ae.length,mt--,ae.mode=Ae;break;case le:if(ae.wrap){for(;Oe<32;){if($e===0)break e;$e--,De|=Fe[je++]<<Oe,Oe+=8}if(ot-=mt,qe.total_out+=ot,ae.total+=ot,ot&&(qe.adler=ae.check=ae.flags?o(ae.check,Qe,ot,dt-ot):i(ae.check,Qe,ot,dt-ot)),ot=mt,(ae.flags?De:he(De))!==ae.check){qe.msg="incorrect data check",ae.mode=we;break}De=0,Oe=0}ae.mode=se;case se:if(ae.wrap&&ae.flags){for(;Oe<32;){if($e===0)break e;$e--,De+=Fe[je++]<<Oe,Oe+=8}if(De!==(ae.total&4294967295)){qe.msg="incorrect length check",ae.mode=we;break}De=0,Oe=0}ae.mode=_e;case _e:ht=A;break e;case we:ht=g;break e;case Ce:return q;case Be:default:return E}return qe.next_out=dt,qe.avail_out=mt,qe.next_in=je,qe.avail_in=$e,ae.hold=De,ae.bits=Oe,(ae.wsize||ot!==qe.avail_out&&ae.mode<we&&(ae.mode<le||Ne!==p))&&ze(qe,qe.output,qe.next_out,ot-qe.avail_out),yt-=qe.avail_in,ot-=qe.avail_out,qe.total_in+=yt,qe.total_out+=ot,ae.total+=ot,ae.wrap&&ot&&(qe.adler=ae.check=ae.flags?o(ae.check,Qe,ot,qe.next_out-ot):i(ae.check,Qe,ot,qe.next_out-ot)),qe.data_type=ae.bits+(ae.last?64:0)+(ae.mode===W?128:0)+(ae.mode===ge||ae.mode===Z?256:0),(yt===0&&ot===0||Ne===p)&&ht===M&&(ht=k),ht}function Ge(qe){if(!qe||!qe.state)return E;var Ne=qe.state;return Ne.window&&(Ne.window=null),qe.state=null,M}function Ve(qe,Ne){var ae;return!qe||!qe.state||(ae=qe.state,!(ae.wrap&2))?E:(ae.head=Ne,Ne.done=!1,M)}function nt(qe,Ne){var ae=Ne.length,Fe,Qe,je;return!qe||!qe.state||(Fe=qe.state,Fe.wrap!==0&&Fe.mode!==me)?E:Fe.mode===me&&(Qe=1,Qe=i(Qe,Ne,ae,0),Qe!==Fe.check)?g:(je=ze(qe,Ne,ae,ae),je?(Fe.mode=Ce,q):(Fe.havedict=1,M))}a.inflateReset=Ie,a.inflateReset2=Ze,a.inflateResetKeep=Te,a.inflateInit=et,a.inflateInit2=at,a.inflate=Le,a.inflateEnd=Ge,a.inflateGetHeader=Ve,a.inflateSetDictionary=nt,a.inflateInfo="pako inflate (from Nodeca project)"},function(t,a){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var m in u)u.hasOwnProperty(m)&&(o[m]=u[m])}}return o},a.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var n={arraySet:function(o,l,u,m,c){if(l.subarray&&o.subarray){o.set(l.subarray(u,u+m),c);return}for(var h=0;h<m;h++)o[c+h]=l[u+h]},flattenChunks:function(o){var l,u,m,c,h,p;for(m=0,l=0,u=o.length;l<u;l++)m+=o[l].length;for(p=new Uint8Array(m),c=0,l=0,u=o.length;l<u;l++)h=o[l],p.set(h,c),c+=h.length;return p}},i={arraySet:function(o,l,u,m,c){for(var h=0;h<m;h++)o[c+h]=l[u+h]},flattenChunks:function(o){return[].concat.apply([],o)}};a.setTyped=function(o){o?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,i))},a.setTyped(r)},function(t,a){function r(n,i,o,l){for(var u=n&65535|0,m=n>>>16&65535|0,c=0;o!==0;){c=o>2e3?2e3:o,o-=c;do u=u+i[l++]|0,m=m+u|0;while(--c);u%=65521,m%=65521}return u|m<<16|0}t.exports=r},function(t,a){function r(){for(var o,l=[],u=0;u<256;u++){o=u;for(var m=0;m<8;m++)o=o&1?3988292384^o>>>1:o>>>1;l[u]=o}return l}var n=r();function i(o,l,u,m){var c=n,h=m+u;o^=-1;for(var p=m;p<h;p++)o=o>>>8^c[(o^l[p])&255];return o^-1}t.exports=i},function(t,a){var r=30,n=12;t.exports=function(o,l){var u,m,c,h,p,d,x,M,A,w,E,g,q,k,L,S,R,D,B,N,Q,P,U,$,J;u=o.state,m=o.next_in,$=o.input,c=m+(o.avail_in-5),h=o.next_out,J=o.output,p=h-(l-o.avail_out),d=h+(o.avail_out-257),x=u.dmax,M=u.wsize,A=u.whave,w=u.wnext,E=u.window,g=u.hold,q=u.bits,k=u.lencode,L=u.distcode,S=(1<<u.lenbits)-1,R=(1<<u.distbits)-1;e:do{q<15&&(g+=$[m++]<<q,q+=8,g+=$[m++]<<q,q+=8),D=k[g&S];t:for(;;){if(B=D>>>24,g>>>=B,q-=B,B=D>>>16&255,B===0)J[h++]=D&65535;else if(B&16){N=D&65535,B&=15,B&&(q<B&&(g+=$[m++]<<q,q+=8),N+=g&(1<<B)-1,g>>>=B,q-=B),q<15&&(g+=$[m++]<<q,q+=8,g+=$[m++]<<q,q+=8),D=L[g&R];a:for(;;){if(B=D>>>24,g>>>=B,q-=B,B=D>>>16&255,B&16){if(Q=D&65535,B&=15,q<B&&(g+=$[m++]<<q,q+=8,q<B&&(g+=$[m++]<<q,q+=8)),Q+=g&(1<<B)-1,Q>x){o.msg="invalid distance too far back",u.mode=r;break e}if(g>>>=B,q-=B,B=h-p,Q>B){if(B=Q-B,B>A&&u.sane){o.msg="invalid distance too far back",u.mode=r;break e}if(P=0,U=E,w===0){if(P+=M-B,B<N){N-=B;do J[h++]=E[P++];while(--B);P=h-Q,U=J}}else if(w<B){if(P+=M+w-B,B-=w,B<N){N-=B;do J[h++]=E[P++];while(--B);if(P=0,w<N){B=w,N-=B;do J[h++]=E[P++];while(--B);P=h-Q,U=J}}}else if(P+=w-B,B<N){N-=B;do J[h++]=E[P++];while(--B);P=h-Q,U=J}for(;N>2;)J[h++]=U[P++],J[h++]=U[P++],J[h++]=U[P++],N-=3;N&&(J[h++]=U[P++],N>1&&(J[h++]=U[P++]))}else{P=h-Q;do J[h++]=J[P++],J[h++]=J[P++],J[h++]=J[P++],N-=3;while(N>2);N&&(J[h++]=J[P++],N>1&&(J[h++]=J[P++]))}}else if(B&64){o.msg="invalid distance code",u.mode=r;break e}else{D=L[(D&65535)+(g&(1<<B)-1)];continue a}break}}else if(B&64)if(B&32){u.mode=n;break e}else{o.msg="invalid literal/length code",u.mode=r;break e}else{D=k[(D&65535)+(g&(1<<B)-1)];continue t}break}}while(m<c&&h<d);N=q>>3,m-=N,q-=N<<3,g&=(1<<q)-1,o.next_in=m,o.next_out=h,o.avail_in=m<c?5+(c-m):5-(m-c),o.avail_out=h<d?257+(d-h):257-(h-d),u.hold=g,u.bits=q}},function(t,a,r){var n=r(33),i=15,o=852,l=592,u=0,m=1,c=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(A,w,E,g,q,k,L,S){var R=S.bits,D=0,B=0,N=0,Q=0,P=0,U=0,$=0,J=0,me=0,W=0,ee,ue,Z,ie,fe,ye=null,xe=0,ge,Ae=new n.Buf16(i+1),O=new n.Buf16(i+1),Y=null,T=0,I,X,le;for(D=0;D<=i;D++)Ae[D]=0;for(B=0;B<g;B++)Ae[w[E+B]]++;for(P=R,Q=i;Q>=1&&Ae[Q]===0;Q--);if(P>Q&&(P=Q),Q===0)return q[k++]=1<<24|64<<16|0,q[k++]=1<<24|64<<16|0,S.bits=1,0;for(N=1;N<Q&&Ae[N]===0;N++);for(P<N&&(P=N),J=1,D=1;D<=i;D++)if(J<<=1,J-=Ae[D],J<0)return-1;if(J>0&&(A===u||Q!==1))return-1;for(O[1]=0,D=1;D<i;D++)O[D+1]=O[D]+Ae[D];for(B=0;B<g;B++)w[E+B]!==0&&(L[O[w[E+B]]++]=B);if(A===u?(ye=Y=L,ge=19):A===m?(ye=h,xe-=257,Y=p,T-=257,ge=256):(ye=d,Y=x,ge=-1),W=0,B=0,D=N,fe=k,U=P,$=0,Z=-1,me=1<<P,ie=me-1,A===m&&me>o||A===c&&me>l)return 1;for(;;){I=D-$,L[B]<ge?(X=0,le=L[B]):L[B]>ge?(X=Y[T+L[B]],le=ye[xe+L[B]]):(X=96,le=0),ee=1<<D-$,ue=1<<U,N=ue;do ue-=ee,q[fe+(W>>$)+ue]=I<<24|X<<16|le|0;while(ue!==0);for(ee=1<<D-1;W&ee;)ee>>=1;if(ee!==0?(W&=ee-1,W+=ee):W=0,B++,--Ae[D]===0){if(D===Q)break;D=w[E+L[B]]}if(D>P&&(W&ie)!==Z){for($===0&&($=P),fe+=N,U=D-$,J=1<<U;U+$<Q&&(J-=Ae[U+$],!(J<=0));)U++,J<<=1;if(me+=1<<U,A===m&&me>o||A===c&&me>l)return 1;Z=W&ie,q[Z]=P<<24|U<<16|fe-k|0}}return W!==0&&(q[fe+W]=D-$<<24|64<<16|0),S.bits=P,0}},function(t,a,r){var n=r(33),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new n.Buf8(256),u=0;u<256;u++)l[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;l[254]=l[254]=1,a.string2buf=function(c){var h,p,d,x,M,A=c.length,w=0;for(x=0;x<A;x++)p=c.charCodeAt(x),(p&64512)===55296&&x+1<A&&(d=c.charCodeAt(x+1),(d&64512)===56320&&(p=65536+(p-55296<<10)+(d-56320),x++)),w+=p<128?1:p<2048?2:p<65536?3:4;for(h=new n.Buf8(w),M=0,x=0;M<w;x++)p=c.charCodeAt(x),(p&64512)===55296&&x+1<A&&(d=c.charCodeAt(x+1),(d&64512)===56320&&(p=65536+(p-55296<<10)+(d-56320),x++)),p<128?h[M++]=p:p<2048?(h[M++]=192|p>>>6,h[M++]=128|p&63):p<65536?(h[M++]=224|p>>>12,h[M++]=128|p>>>6&63,h[M++]=128|p&63):(h[M++]=240|p>>>18,h[M++]=128|p>>>12&63,h[M++]=128|p>>>6&63,h[M++]=128|p&63);return h};function m(c,h){if(h<65537&&(c.subarray&&o||!c.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(c,h));for(var p="",d=0;d<h;d++)p+=String.fromCharCode(c[d]);return p}a.buf2binstring=function(c){return m(c,c.length)},a.binstring2buf=function(c){for(var h=new n.Buf8(c.length),p=0,d=h.length;p<d;p++)h[p]=c.charCodeAt(p);return h},a.buf2string=function(c,h){var p,d,x,M,A=h||c.length,w=new Array(A*2);for(d=0,p=0;p<A;){if(x=c[p++],x<128){w[d++]=x;continue}if(M=l[x],M>4){w[d++]=65533,p+=M-1;continue}for(x&=M===2?31:M===3?15:7;M>1&&p<A;)x=x<<6|c[p++]&63,M--;if(M>1){w[d++]=65533;continue}x<65536?w[d++]=x:(x-=65536,w[d++]=55296|x>>10&1023,w[d++]=56320|x&1023)}return m(w,d)},a.utf8border=function(c,h){var p;for(h=h||c.length,h>c.length&&(h=c.length),p=h-1;p>=0&&(c[p]&192)===128;)p--;return p<0||p===0?h:p+l[c[p]]>h?p:h}},function(t,a){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,a){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,a){function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,a){function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r}])})})(browserfs$2);var browserfsExports=browserfs$2.exports;const browserfs=getDefaultExportFromCjs(browserfsExports),browserfs$1=_mergeNamespaces({__proto__:null,default:browserfs},[browserfsExports]),raUserdataDir$1="/home/web_user/retroarch/userdata";function createEmscriptenFS({FS:s,PATH:e,ERRNO_CODES:t}){const a=new browserfsExports.FileSystem.InMemory,r=new browserfsExports.FileSystem.MountableFileSystem;try{r.umount(raUserdataDir$1)}catch{}return r.mount(raUserdataDir$1,a),browserfsExports.initialize(r),new browserfsExports.EmscriptenFS(s,e,t)}function getEmscriptenModuleOverrides(s){let e;const t=new Promise(r=>{e=r});return{noInitialRun:!0,noExitRuntime:!1,locateFile(r){return r},print(...r){console.info(...r)},printErr(...r){console.error(...r)},quit(r,n){r&&console.info(r,n)},async monitorRunDependencies(r){return r===0&&e(),await t},...s}}const{Buffer:Buffer$1}=browserfsExports.BFSRequire("buffer"),path=browserfsExports.BFSRequire("path"),{basename,extname,dirname,join,relative}=path;function urlBaseName(s){let e=s;try{e=new URL(s).pathname}catch{}const t=basename(e);try{return decodeURIComponent(t)}catch{return t}}function isAbsoluteUrl(s){return!s||typeof s!="string"?!1:["http://","https://","//","data:","blob:"].some(t=>s.startsWith(t))}async function blobToBuffer(s){const e=await s.arrayBuffer();return Buffer$1.from(e)}function stringToBuffer(s){return Buffer$1.from(s,"utf8")}function updateStyle(s,e){if(s)for(const t in e){const a=e[t];s.style[t]=a||null}}function delay(s){return new Promise(e=>{setTimeout(e,s)})}function isGlobalScript(s){return s.startsWith("var Module")}function isEsmScript(s){return s.includes("import.meta.url")}function patchCoreJs({name:s,js:e}){let t=e;return isGlobalScript(e)?t=`export function getEmscripten({ Module }) {
        ${e};
        Module.FS = FS;
        Module.PATH = PATH;
        Module.ERRNO_CODES = ERRNO_CODES;
        return { JSEvents, Module, exit: _emscripten_force_exit }
      }`:isEsmScript(e)&&(t=`${e.replace("readyPromiseResolve(Module)","readyPromiseResolve({ JSEvents, Module, exit: _emscripten_force_exit })")};
      export function getEmscripten({ Module }) {
        return (libretro_${s} || ${s})(Module)
      }
    `),t}async function importCoreJsAsESM({name,js}){const jsContent=patchCoreJs({name,js}),jsBlob=new Blob([jsContent],{type:"application/javascript"}),jsBlobUrl=URL.createObjectURL(jsBlob);if(!jsBlobUrl)throw new Error("invalid jsBlob");try{return await import(jsBlobUrl)}catch{return await eval("import(jsBlobUrl)")}finally{URL.revokeObjectURL(jsBlobUrl)}}function isNil(s){return s==null}function isPlainObject(s){if(isNil(s))return!1;const{constructor:e}=s;return e===Object||!e}function mergeSourceToTarget(s,e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const a=s[t],r=e[t];isNil(a)?s[t]=r:Array.isArray(a)&&Array.isArray(r)?s[t]=[...a,...r]:isPlainObject(a)&&isPlainObject(r)?(s[t]=isPlainObject(a)?s[t]:{},mergeSourceToTarget(s[t],r)):s[t]=r}}function merge(s,...e){for(const t of e)mergeSourceToTarget(s,t)}const encoder=new TextEncoder,raUserdataDir="/home/web_user/retroarch/userdata",raBundleDir="/home/web_user/retroarch/bundle",raContentDir=join(raUserdataDir,"content"),raSystemDir=join(raUserdataDir,"system"),raConfigDir=join(raUserdataDir,"config"),raShaderDir=join(raBundleDir,"shaders","shaders_glsl"),raConfigPath=join(raUserdataDir,"retroarch.cfg"),raCoreConfigPath=join(raUserdataDir,"retroarch-core-options.cfg");class Emulator{constructor(e){__publicField(this,"emscripten"),__publicField(this,"browserFS"),__publicField(this,"options"),__publicField(this,"messageQueue",[]),__publicField(this,"gameStatus","initial"),__publicField(this,"canvasInitialSize",{width:0,height:0}),this.options=e}get romBaseName(){const{rom:[{fileName:e}]}=this.options;return e.slice(0,e.lastIndexOf("."))}get stateFileDirectory(){const{core:e}=this.options,t=coreInfoMap[e.name].corename;if(!t)throw new Error(`invalid core name: ${e.name}`);return join(raUserdataDir,"states",t)}get stateFileName(){return join(this.stateFileDirectory,`${this.romBaseName}.state`)}get stateThumbnailFileName(){return`${this.stateFileName}.png`}getOptions(){return this.options}async launch(){await this.setupEmscripten(),this.checkIsAborted(),await this.setupRaConfigFile(),this.checkIsAborted();const{element:e,style:t,respondToGlobalEvents:a,waitForInteraction:r,signal:n}=this.options;if(updateStyle(e,t),e.isConnected||(document.body.append(e),n==null||n.addEventListener("abort",()=>{e==null||e.remove()})),this.canvasInitialSize=this.getElementSize(),a===!1){(!e.tabIndex||e.tabIndex===-1)&&(e.tabIndex=0);const{activeElement:m}=document;e.focus(),n==null||n.addEventListener("abort",()=>{m instanceof HTMLElement&&m.focus()})}const{nostalgist:i,beforeLaunch:o,onLaunch:l}=this.options;o&&await o(i);const u=async()=>{this.runMain(),l&&await l(i)};r?r({done:u}):u()}sendCommand(e){const t=encoder.encode(`${e}
`);this.messageQueue.push([t,0])}resume(){this.gameStatus==="paused"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="running"}restart(){this.sendCommand("RESET"),this.resume()}pause(){this.gameStatus==="running"&&this.sendCommand("PAUSE_TOGGLE"),this.gameStatus="paused"}getEmscripten(){if(!this.emscripten)throw new Error("emulator is not ready");return this.emscripten}async saveState(){this.clearStateFile(),this.sendCommand("SAVE_STATE");const e=this.options.retroarchConfig.savestate_thumbnail_enable;let t,a;e?[t,a]=await Promise.all([this.waitForEmscriptenFile(this.stateFileName),this.waitForEmscriptenFile(this.stateThumbnailFileName)]):t=await this.waitForEmscriptenFile(this.stateFileName),this.clearStateFile();const r=new Blob([t],{type:"application/octet-stream"}),n=a?new Blob([a],{type:"image/png"}):void 0;return{state:r,thumbnail:n}}async loadState(e){this.clearStateFile();const{Module:t}=this.getEmscripten(),{FS:a}=t,r=await blobToBuffer(e);a.writeFile(this.stateFileName,r),await this.waitForEmscriptenFile(this.stateFileName),this.sendCommand("LOAD_STATE")}exit(e=0){const{emscripten:t}=this;if(t){const{Module:a,exit:r,JSEvents:n}=this.getEmscripten(),{FS:i}=a;r(e),i.unmount("/home"),n.removeAllEventListeners()}}resize({width:e,height:t}){const{Module:a}=this.getEmscripten();typeof e=="number"&&typeof t=="number"&&a.setCanvasSize(e,t)}pressDown(e,t=1){const a=this.getKeyboardCode(e,t);a&&this.keyboardDown(a)}pressUp(e,t=1){const a=this.getKeyboardCode(e,t);a&&this.keyboardUp(a)}async press(e,t=1,a=100){const r=this.getKeyboardCode(e,t);r&&await this.keyboardPress(r,a)}async screenshot(){this.sendCommand("SCREENSHOT");const e=join(raUserdataDir,"screenshots"),t=this.guessScreenshotFileName(),a=join(e,t),r=await this.waitForEmscriptenFile(a),{Module:n}=this.getEmscripten(),{FS:i}=n;i.unlink(a);const o={type:"image/png"};return new Blob([r],o)}getElementSize(){const{element:e,size:t}=this.options;return!t||t==="auto"?{width:e.offsetWidth,height:e.offsetHeight}:t}async writeBlobToDirectory({fileName:e,fileContent:t,directory:a}){const{Module:r}=this.getEmscripten(),{FS:n}=r,i=await blobToBuffer(t);n.createDataFile("/",e,i,!0,!1);const o="binary",l=n.readFile(e,{encoding:o});n.mkdirTree(a),n.writeFile(join(a,e),l,{encoding:o}),n.unlink(e)}writeTextToDirectory({fileName:e,fileContent:t,directory:a}){const{Module:r}=this.getEmscripten(),{FS:n}=r,i=stringToBuffer(t);n.createDataFile("/",e,i,!0,!1);const o="binary",l=n.readFile(e,{encoding:o});n.mkdirTree(a),n.writeFile(join(a,e),l,{encoding:o}),n.unlink(e)}async setupFileSystem(){const{Module:e}=this.getEmscripten(),{FS:t,PATH:a,ERRNO_CODES:r}=e,{rom:n,bios:i,state:o}=this.options,l=createEmscriptenFS({FS:t,PATH:a,ERRNO_CODES:r});this.browserFS=l,t.mount(l,{root:"/home"},"/home"),n.length>0&&t.mkdirTree(raContentDir),i.length>0&&t.mkdirTree(raSystemDir),o&&t.mkdirTree(this.stateFileDirectory);const u=100;let m=0;for(;!e.asm&&m<u;)await delay(10),this.checkIsAborted(),m+=5;const c=[];if(c.push(...n.map(h=>this.writeBlobToDirectory({...h,directory:raContentDir})),...i.map(h=>this.writeBlobToDirectory({...h,directory:raSystemDir}))),o){const h=this.writeBlobToDirectory({fileName:`${this.romBaseName}.state.auto`,fileContent:o,directory:this.stateFileDirectory});c.push(h)}await Promise.all(c),this.checkIsAborted()}async setupEmscripten(){var e;typeof window=="object"&&(window.setImmediate??(window.setImmediate=window.setTimeout));const{element:t,core:a,emscriptenModule:r}=this.options,{wasm:n}=a,i={wasmBinary:n,canvas:t,preRun:[],...r},o=getEmscriptenModuleOverrides(i);(e=o.preRun)==null||e.push(()=>o.FS.init(()=>this.stdin()));const{getEmscripten:l}=await importCoreJsAsESM(a),u=await l({Module:o});this.emscripten=u;const{Module:m}=u;await m.monitorRunDependencies(),this.checkIsAborted(),await this.setupFileSystem()}stdin(){const{messageQueue:e}=this;for(;e.length>0;){const t=e[0][0],a=e[0][1];if(a>=t.length)e.shift();else return e[0][1]=a+1,t[a]}return null}writeConfigFile({path:e,config:t}){const{Module:a}=this.getEmscripten(),{FS:r}=a,n=e.slice(0,e.lastIndexOf("/"));r.mkdirTree(n);for(const u in t)t[u]=`__${t[u]}__`;let i=ini$1.stringify(t,{whitespace:!0,platform:"linux"});i=i.replaceAll("__",'"');const o=basename(e),l=dirname(e);this.writeTextToDirectory({fileContent:i,fileName:o,directory:l})}async setupRaConfigFile(){this.writeConfigFile({path:raConfigPath,config:this.options.retroarchConfig}),this.writeConfigFile({path:raCoreConfigPath,config:this.options.retroarchCoreConfig}),await this.setupRaShaderFile()}async setupRaShaderFile(){const{shader:e}=this.options;if(e.length===0)return;const t=e.filter(r=>r.fileName.endsWith(".glslp"));if(t.length===0)return;const a=t.map(r=>`#reference "${join(raShaderDir,r.fileName)}"`).join(`
`);this.writeTextToDirectory({fileName:"global.glslp",fileContent:a,directory:raConfigDir}),await Promise.all(e.map(async({fileName:r,fileContent:n})=>{const i=r.endsWith(".glslp")?raShaderDir:join(raShaderDir,"shaders");await this.writeBlobToDirectory({fileName:r,fileContent:n,directory:i})}))}runMain(){this.checkIsAborted();const{Module:e}=this.getEmscripten(),{arguments:t=[]}=e,{rom:a,signal:r}=this.options;if(!e.arguments&&a.length>0){const[{fileName:n}]=a;t.push(join(raContentDir,n))}e.callMain(t),r==null||r.addEventListener("abort",()=>{this.exit()}),this.gameStatus="running",this.postRun()}postRun(){this.resize(this.canvasInitialSize),this.fireGamepadEvents(),this.updateKeyboardEventHandlers()}fireGamepadEvents(){var e;for(const t of((e=navigator.getGamepads)==null?void 0:e.call(navigator))??[])t&&window.dispatchEvent(new GamepadEvent("gamepadconnected",{gamepad:t}))}updateKeyboardEventHandlers(){const{JSEvents:e}=this.getEmscripten(),{respondToGlobalEvents:t,element:a}=this.options;t||(a.getAttribute("tabindex")||(a.tabIndex=-1),a.focus(),a.addEventListener("click",()=>{a.focus()}));const r=new Set(["keyup","keydown","keypress"]),n=e.eventHandlers.filter(({eventTypeString:i,target:o})=>r.has(i)&&(o===document||o===a));for(const i of n){const{eventTypeString:o,target:l,handlerFunc:u}=i;e.registerOrRemoveHandler({eventTypeString:o,target:l}),e.registerOrRemoveHandler({...i,target:t?document:a,handlerFunc:(...m)=>{const[c]=m;(t||(c==null?void 0:c.target)===a)&&u(...m)}})}}async waitForEmscriptenFile(e){const{Module:t}=this.getEmscripten(),{FS:a}=t,r=30;let n,i=!1,o=0;for(;o<=r&&!i;){const l=Math.min(100*2**o,1e3);await delay(l);try{const u=a.readFile(e).buffer;i=(n==null?void 0:n.byteLength)>0&&(n==null?void 0:n.byteLength)===u.byteLength,n=u}catch(u){console.warn(u)}o+=1}if(!i)throw new Error("fs timeout");return n}clearStateFile(){const{Module:e}=this.getEmscripten(),{FS:t}=e;try{t.unlink(this.stateFileName),t.unlink(this.stateThumbnailFileName)}catch{}}getCurrentRetroarchConfig(){const{Module:e}=this.getEmscripten(),{FS:t}=e,a=t.readFile(raConfigPath,{encoding:"utf8"});return ini$1.parse(a)}fireKeyboardEvent(e,t){const{JSEvents:a}=this.getEmscripten();for(const{eventTypeString:r,eventListenerFunc:n}of a.eventHandlers)if(r===e)try{n({code:t,target:this.options.element})}catch{}}getKeyboardCode(e,t=1){const a=this.getCurrentRetroarchConfig(),r=`input_player${t}_${e}`,n=a[r];if(!n||n==="nul")return;const{length:i}=n;return i===1?`Key${n.toUpperCase()}`:n[0]==="f"&&(i===2||i===3)?n.toUpperCase():i===4&&n.startsWith("num")?`Numpad${n.at(-1)}`:i===7&&n.startsWith("keypad")?`Digit${n.at(-1)}`:keyboardCodeMap[n]||""}keyboardUp(e){this.fireKeyboardEvent("keyup",e)}keyboardDown(e){this.fireKeyboardEvent("keydown",e)}async keyboardPress(e,t=100){this.keyboardDown(e),await delay(t),this.keyboardUp(e)}guessScreenshotFileName(){const e=new Date,t=e.getFullYear()%1e3,a=padZero(e.getMonth()+1),r=padZero(e.getDate()),n=padZero(e.getHours()),i=padZero(e.getMinutes()),o=padZero(e.getSeconds()),l=`${t}${a}${r}-${n}${i}${o}`;return`${this.romBaseName}-${l}.png`}checkIsAborted(){var e;if((e=this.options.signal)!=null&&e.aborted)throw new Error("Launch aborted")}}function padZero(s){return(s<10?"0":"")+s}const defaultRetroarchConfig={menu_driver:"rgui",notification_show_when_menu_is_alive:!0,savestate_auto_load:!0,savestate_thumbnail_enable:!0,stdin_cmd_enable:!0,video_shader_enable:!0,input_audio_mute:"nul",input_cheat_index_minus:"nul",input_cheat_index_plus:"nul",input_cheat_toggle:"nul",input_desktop_menu_toggle:"nul",input_exit_emulator:"nul",input_fps_toggle:"nul",input_frame_advance:"nul",input_game_focus_toggle:"nul",input_grab_mouse_toggle:"nul",input_hold_fast_forward:"nul",input_hold_slowmotion:"nul",input_load_state:"nul",input_netplay_game_watch:"nul",input_netplay_player_chat:"nul",input_pause_toggle:"nul",input_reset:"nul",input_rewind:"nul",input_save_state:"nul",input_screenshot:"nul",input_shader_next:"nul",input_shader_prev:"nul",input_shader_toggle:"nul",input_state_slot_decrease:"nul",input_state_slot_increase:"nul",input_toggle_fast_forward:"nul",input_toggle_fullscreen:"nul",input_volume_down:"nul",input_volume_up:"nul",input_player1_analog_dpad_mode:1,input_player2_analog_dpad_mode:1,input_player3_analog_dpad_mode:1,input_player4_analog_dpad_mode:1},cdnBaseUrl="https://cdn.jsdelivr.net/gh",coreRepo="arianrhodsandlot/retroarch-emscripten-build",coreVersion="v1.17.0",coreDirectory="retroarch",shaderRepo="libretro/glsl-shaders",shaderVersion="bc8df9";function getDefaultOptions(){return{element:"",runEmulatorManually:!1,retroarchConfig:defaultRetroarchConfig,retroarchCoreConfig:{},resolveCoreJs(e){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${e}_libretro.js`},resolveCoreWasm(e){return`${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${e}_libretro.wasm`},resolveRom(e){if(typeof e!="string")return e||[];if(isAbsoluteUrl(e))return e;let t="";if(e.endsWith(".nes")?t="retrobrews/nes-games":e.endsWith(".sfc")?t="retrobrews/snes-games":e.endsWith(".gb")||e.endsWith(".gbc")?t="retrobrews/gbc-games":e.endsWith(".gba")?t="retrobrews/gba-games":e.endsWith(".sms")?t="retrobrews/sms-games":(e.endsWith(".md")||e.endsWith(".bin"))&&(t="retrobrews/md-games"),t){const a=encodeURIComponent(e);return`${cdnBaseUrl}/${t}@master/${a}`}return e||[]},resolveBios(e){return e||[]},resolveShader(e){if(!e)return[];const t=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${e}.glslp`,a=e.split(path.sep);a.splice(-1,0,"shaders");const r=`${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${a.join(path.sep)}.glsl`;return[t,r]}}}const vendors={ini:ini$1,browserfs:browserfs$1},_Nostalgist=class Ut{constructor(e){__publicField(this,"options"),__publicField(this,"emulatorOptions"),__publicField(this,"emulator");const t={...Ut.globalOptions},a={...e},r={};merge(r,t,a),this.options=r}static resetToDefault(){Ut.configure(getDefaultOptions())}static configure(e){merge(Ut.globalOptions,e)}static async launch(e){const t=new Ut(e);return await t.launch(),t}static async gb(e){return await Ut.launchSystem("gb",e)}static async gba(e){return await Ut.launchSystem("gba",e)}static async gbc(e){return await Ut.launchSystem("gbc",e)}static async megadrive(e){return await Ut.launchSystem("megadrive",e)}static async nes(e){return await Ut.launchSystem("nes",e)}static async snes(e){return await Ut.launchSystem("snes",e)}static getCoreForSystem(e){return systemCoreMap[e]}static async launchSystem(e,t){const a=typeof t=="string"||t instanceof File||"fileName"in t&&"fileContent"in t?{rom:t}:t,r=Ut.getCoreForSystem(e);return await Ut.launch({...a,core:r})}getEmulator(){const{emulator:e}=this;if(!e)throw new Error("emulator is not ready");return e}getEmulatorOptions(){if(!this.emulatorOptions)throw new Error("emulator options are not ready");return this.emulatorOptions}getCanvas(){return this.getEmulatorOptions().element}async launchEmulator(){return await this.getEmulator().launch()}getEmscriptenModule(){return this.getEmulator().getEmscripten().Module}getEmscriptenFS(){return this.getEmulator().getEmscripten().Module.FS}getBrowserFS(){return this.getEmulator().browserFS}getOptions(){return this.options}async saveState(){return await this.getEmulator().saveState()}async loadState(e){await this.getEmulator().loadState(e)}resume(){this.getEmulator().resume()}pause(){this.getEmulator().pause()}restart(){this.getEmulator().restart()}exit({removeCanvas:e=!0}={}){this.getEmulator().exit(),e&&this.getCanvas().remove()}resize(e){return this.getEmulator().resize(e)}pressDown(e){const t=this.getEmulator();return typeof e=="string"?t.pressDown(e):t.pressDown(e.button,e.player)}pressUp(e){const t=this.getEmulator();return typeof e=="string"?t.pressUp(e):t.pressUp(e.button,e.player)}async press(e){const t=this.getEmulator();await(typeof e=="string"?t.press(e):t.press(e.button,e.player,e.time))}async screenshot(){return await this.getEmulator().screenshot()}sendCommand(e){return this.getEmulator().sendCommand(e)}async launch(){await this.loadEmulatorOptions(),this.checkIsAborted(),this.loadEmulator(),this.options.runEmulatorManually||await this.launchEmulator()}async loadEmulatorOptions(){const{size:e="auto",respondToGlobalEvents:t=!0,state:a,waitForInteraction:r,signal:n,beforeLaunch:i,onLaunch:o,emscriptenModule:l={}}=this.options,u=this.getElementOption(),m=this.getStyleOption(),c=this.getRetroarchOption(),h=this.getRetroarchCoreOption(),[p,d,x,M]=await Promise.all([this.getCoreOption(),this.getRomOption(),this.getBiosOption(),this.getShaderOption()]);this.checkIsAborted();const A={element:u,style:m,size:e,core:p,rom:d,bios:x,shader:M,state:a,respondToGlobalEvents:t,retroarchConfig:c,retroarchCoreConfig:h,waitForInteraction:r,emscriptenModule:l,signal:n,beforeLaunch:i,onLaunch:o,nostalgist:this};this.emulatorOptions=A}getElementOption(){if(typeof document!="object")throw new TypeError("document must be an object");let{element:e}=this.options;if(typeof e=="string"&&e){const t=document.body.querySelector(e);if(!t)throw new Error(`can not find element "${e}"`);if(!(t instanceof HTMLCanvasElement))throw new TypeError(`element "${e}" is not a canvas element`);e=t}if(e||(e=document.createElement("canvas")),e instanceof HTMLCanvasElement)return e.id="canvas",e;throw new TypeError("invalid element")}getStyleOption(){const{element:e,style:t}=this.options,a={backgroundColor:"black",imageRendering:"pixelated"};if(e)return merge(a,t),a;const r={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1"};return merge(r,a,t),r}async getCoreOption(){const{core:e,resolveCoreJs:t,resolveCoreWasm:a}=this.options;let r;if(typeof e=="string"){const[u,m]=await Promise.all([t(e,this.options),a(e,this.options)]);r={name:e,js:u,wasm:m}}else r=e;let{name:n,js:i,wasm:o}=r;const l=[];return typeof i=="string"&&l.push((async()=>{i=await(await this.fetch(i)).text()})()),typeof o=="string"&&l.push((async()=>{o=await(await this.fetch(o)).arrayBuffer()})()),l.length>0&&await Promise.all(l),{name:n,js:i,wasm:o}}async resolveStringFile(e,t){let a=urlBaseName(e),r;const n=t?await t(e,this.options):e;if(n)n instanceof Blob?r=n:typeof n=="string"&&(a=urlBaseName(n),r=await(await this.fetch(n)).blob());else throw new Error("file is invalid");return{fileName:a,fileContent:r}}async resolveFile(e,t){let a="",r;if(e instanceof File)r=e,a=e.name;else if(e instanceof Blob)r=e,a="rom.bin";else if(typeof e=="string"){const n=await this.resolveStringFile(e,t);a=n.fileName,r=n.fileContent}else typeof e.fileName=="string"&&(a=e.fileName),e.fileContent instanceof Blob&&(r=e.fileContent);if(!r)throw new TypeError("file content is invalid");return a=a?a.replaceAll(/["%*/:<>?\\|]/g,"-"):"rom.bin",{fileName:a,fileContent:r}}async getRomOption(){const{rom:e,resolveRom:t}=this.options;if(!e)return[];const a=Array.isArray(e)?e:[e];return await Promise.all(a.map(r=>this.resolveFile(r,t)))}async getBiosOption(){const{bios:e,resolveBios:t}=this.options;if(!e)return[];const a=Array.isArray(e)?e:[e];return await Promise.all(a.map(r=>this.resolveFile(r,t)))}async getShaderOption(){const{shader:e,resolveShader:t}=this.options;if(!e)return[];const a=await t(e,this.options);return Array.isArray(a)?a.length>0?await Promise.all(a.map(r=>this.resolveFile(r))):[]:a?[await this.resolveFile(a)]:[]}getRetroarchOption(){const e={};return merge(e,Ut.globalOptions.retroarchConfig,this.options.retroarchConfig),e}getRetroarchCoreOption(){const e={};return merge(e,Ut.globalOptions.retroarchCoreConfig,this.options.retroarchCoreConfig),e}loadEmulator(){const e=this.getEmulatorOptions(),t=new Emulator(e);this.emulator=t}async fetch(e){const{signal:t=null}=this.options;return await fetch(e,{signal:t})}checkIsAborted(){var e;if((e=this.options.signal)!=null&&e.aborted)throw new Error("Launch aborted")}};__publicField(_Nostalgist,"Nostalgist",_Nostalgist);__publicField(_Nostalgist,"vendors",vendors);__publicField(_Nostalgist,"globalOptions",getDefaultOptions());let Nostalgist=_Nostalgist;function create_else_block$6(s){let e;return{c(){e=element("canvas"),this.h()},l(t){e=claim_element(t,"CANVAS",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","w-full h-full relative")},m(t,a){insert_hydration(t,e,a),s[5](e)},p:noop$1,d(t){t&&detach(e),s[5](null)}}}function create_if_block$8(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","w-full h-full no-game svelte-tqb9f2")},m(t,a){insert_hydration(t,e,a)},p:noop$1,d(t){t&&detach(e)}}}function create_fragment$k(s){let e;function t(n,i){return n[1]?create_if_block$8:create_else_block$6}let a=t(s),r=a(s);return{c(){r.c(),e=empty()},l(n){r.l(n),e=empty()},m(n,i){r.m(n,i),insert_hydration(n,e,i)},p(n,[i]){a===(a=t(n))&&r?r.p(n,i):(r.d(1),r=a(n),r&&(r.c(),r.m(e.parentNode,e)))},i:noop$1,o:noop$1,d(n){n&&detach(e),r.d(n)}}}const dbName="nostalgist-data",storeName="saved-games";function openDatabase(){return new Promise((s,e)=>{const t=indexedDB.open(dbName,1);t.onupgradeneeded=()=>{const a=t.result;a.objectStoreNames.contains(storeName)||a.createObjectStore(storeName)},t.onsuccess=()=>{s(t.result)},t.onerror=()=>{e(t.error)}})}async function saveBlob(s,e){const t=await openDatabase();return new Promise((a,r)=>{const o=t.transaction(storeName,"readwrite").objectStore(storeName).put(e,s);o.onsuccess=()=>{a()},o.onerror=()=>{r(o.error)}})}async function loadBlob(s){const e=await openDatabase();return new Promise((t,a)=>{const i=e.transaction(storeName,"readonly").objectStore(storeName).get(s);i.onsuccess=()=>{t(i.result)},i.onerror=()=>{a(i.error)}})}function instance$i(s,e,t){let a;component_subscribe(s,tvState,p=>t(4,a=p));let{props:r={}}=e,n,i,o=!1,l,u=!1;const m={nes:"fceumm",snes:"snes9x",genesis:"genesis_plus_gx",gb:"mgba",gbc:"mgba",gba:"mgba"};function c(p){return typeof p=="string"&&p in m?m[p]:p}onMount(async()=>{if(!r.game||!r.game){t(1,o=!0);return}l=setTimeout(async()=>{let p=null;try{p=await loadBlob(r.game)}catch{}if(t(3,n=await Nostalgist.launch({element:i,core:c(r.console),rom:r.game,retroarchConfig:{input_player1_up:"u",input_player1_down:"j",input_player1_left:"h",input_player1_right:"k",input_player1_start:"d",input_player1_select:"f",input_player1_a:"z",input_player1_b:"x",input_player1_x:"a",input_player1_y:"s",input_player1_l:"q",input_player1_r:"w",audio_mute_enable:a.isMuting,input_reset:"e"}})),u){n.exit(),i.remove();return}p&&await n.loadState(p),u&&(n.exit(),i.remove())},300)}),onDestroy(async()=>{if(u=!0,l&&clearTimeout(l),n){const{state:p}=await n.saveState();await saveBlob(r.game,p),n.exit()}});function h(p){binding_callbacks[p?"unshift":"push"](()=>{i=p,t(0,i)})}return s.$$set=p=>{"props"in p&&t(2,r=p.props)},s.$$.update=()=>{s.$$.dirty&24&&(n&&a.isMuting||!a.isMuting)&&(n==null||n.sendCommand("MUTE"))},[i,o,r,n,a,h]}class VideoGame extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$k,safe_not_equal,{props:2})}}function create_fragment$j(s){let e;return{c(){e=element("canvas"),this.h()},l(t){e=claim_element(t,"CANVAS",{width:!0,height:!0,class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"width","320"),attr(e,"height","240"),attr(e,"class","w-full")},m(t,a){insert_hydration(t,e,a),s[2](e)},p:noop$1,i:noop$1,o:noop$1,d(t){t&&detach(e),s[2](null)}}}function getRandomColor(){for(var s="0123456789ABCDEF",e="#",t=0;t<6;t++)e+=s[Math.floor(Math.random()*16)];return e}function instance$h(s,e,t){let{props:a={}}=e;const r={width:40,height:40,speed:1,src:""};let n,i,o,l=0,u=0,m=1,c=1,h=getRandomColor();onMount(()=>{if(typeof a=="string"&&t(1,a={src:a}),n=new Image,t(1,a=Object.assign({},r,a)),!a.src||!a.width||!a.height||i==null)return;let x=i.getContext("2d");if(x!=null)return o=x,n.onload=p,n.src=a.src,()=>{n.onload=null}});function p(){!o||!i||(o.clearRect(0,0,i.width,i.height),(l+a.width>=i.width||l+m<=0)&&(m*=-1,h=getRandomColor()),(u+a.height>=i.height||u+c<=0)&&(c*=-1,h=getRandomColor()),o.fillStyle=h,o.fillRect(l,u,i.width,i.height),o.globalCompositeOperation="destination-in",o.drawImage(n,l+=m,u+=c,a.width,a.height),o.globalCompositeOperation="destination-over",o.fillStyle="black",o.fillRect(0,0,i.width,i.height),setTimeout(()=>requestAnimationFrame(p),1e3/60*a.speed))}function d(x){binding_callbacks[x?"unshift":"push"](()=>{i=x,t(0,i)})}return s.$$set=x=>{"props"in x&&t(1,a=x.props)},[i,a,d]}class BouncingLogo extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$j,safe_not_equal,{props:1})}}const loadTime=readable(new Date);function secondsSinceLoadTime(){const s=get_store_value(loadTime);return(new Date().getTime()-s.getTime())/1e3}function create_if_block_4$3(s){let e,t,a,r;const n=[create_if_block_5$3,create_else_block$5],i=[];function o(l,u){return l[2]?0:1}return e=o(s),t=i[e]=n[e](s),{c(){t.c(),a=empty()},l(l){t.l(l),a=empty()},m(l,u){i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,u){let m=e;e=o(l),e===m?i[e].p(l,u):(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros(),t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a))},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),i[e].d(l)}}}function create_if_block_3$3(s){let e,t;return e=new Dailymotion({props:{videoId:s[0].src}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&1&&(n.videoId=a[0].src),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_2$5(s){let e,t;return e=new Vimeo({props:{videoId:s[0].src}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&1&&(n.videoId=a[0].src),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_1$7(s){let e,t;return e=new Youtube({props:{videoId:s[0].src}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&1&&(n.videoId=a[0].src),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block$7(s){let e,t;return e=new Video({props:{crossorigin:"",poster:"",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&8193&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_else_block$5(s){let e,t;return e=new Hls({props:{$$slots:{default:[create_default_slot_3]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&8193&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_5$3(s){let e,t;return e=new Video({props:{crossorigin:"",poster:"",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&8193&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_default_slot_3(s){let e,t,a;return{c(){e=element("source"),this.h()},l(r){e=claim_element(r,"SOURCE",{"data-src":!0,"data-url-src":!0,type:!0}),this.h()},h(){attr(e,"data-src",t=s[0].src),attr(e,"data-url-src",a=s[0].src),attr(e,"type","application/x-mpegURL")},m(r,n){insert_hydration(r,e,n)},p(r,n){n&1&&t!==(t=r[0].src)&&attr(e,"data-src",t),n&1&&a!==(a=r[0].src)&&attr(e,"data-url-src",a)},d(r){r&&detach(e)}}}function create_default_slot_2(s){let e,t;return{c(){e=element("source"),this.h()},l(a){e=claim_element(a,"SOURCE",{"data-src":!0,type:!0}),this.h()},h(){attr(e,"data-src",t=s[0].src),attr(e,"type","application/vnd.apple.mpegURL")},m(a,r){insert_hydration(a,e,r)},p(a,r){r&1&&t!==(t=a[0].src)&&attr(e,"data-src",t)},d(a){a&&detach(e)}}}function create_default_slot_1$3(s){let e,t;return{c(){e=element("source"),this.h()},l(a){e=claim_element(a,"SOURCE",{"data-src":!0,type:!0}),this.h()},h(){attr(e,"data-src",t=s[0].src),attr(e,"type","video/mp4")},m(a,r){insert_hydration(a,e,r)},p(a,r){r&1&&t!==(t=a[0].src)&&attr(e,"data-src",t)},d(a){a&&detach(e)}}}function create_default_slot$a(s){let e,t,a,r;const n=[create_if_block$7,create_if_block_1$7,create_if_block_2$5,create_if_block_3$3,create_if_block_4$3],i=[];function o(l,u){return l[0].provider==="video"?0:l[0].provider==="youtube"?1:l[0].provider==="vimeo"?2:l[0].provider==="dailymotion"?3:l[0].provider==="hls"?4:-1}return~(e=o(s))&&(t=i[e]=n[e](s)),{c(){t&&t.c(),a=empty()},l(l){t&&t.l(l),a=empty()},m(l,u){~e&&i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,u){let m=e;e=o(l),e===m?~e&&i[e].p(l,u):(t&&(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros()),~e?(t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a)):t=null)},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),~e&&i[e].d(l)}}}function create_fragment$i(s){let e,t,a,r={class:"w-full",muted:s[1].isMuting||!s[1].isOn||s[4]===0,loop:!s[0].isScheduled,aspectRatio:"4:3",duration:!0,volume:s[4],$$slots:{default:[create_default_slot$a]},$$scope:{ctx:s}};return t=new Player({props:r}),s[10](t),t.$on("vmPlaybackReady",s[8]),t.$on("vmCurrentSrcChange",s[7]),t.$on("vmPlaybackEnded",s[9]),{c(){e=element("div"),create_component(t.$$.fragment),this.h()},l(n){e=claim_element(n,"DIV",{class:!0});var i=children$1(e);claim_component(t.$$.fragment,i),i.forEach(detach),this.h()},h(){attr(e,"class","flex items-center justify-center h-full w-full")},m(n,i){insert_hydration(n,e,i),mount_component(t,e,null),a=!0},p(n,[i]){const o={};i&18&&(o.muted=n[1].isMuting||!n[1].isOn||n[4]===0),i&1&&(o.loop=!n[0].isScheduled),i&16&&(o.volume=n[4]),i&8197&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){a||(transition_in(t.$$.fragment,n),a=!0)},o(n){transition_out(t.$$.fragment,n),a=!1},d(n){n&&detach(e),s[10](null),destroy_component(t)}}}function instance$g(s,e,t){let a,r,n,i;component_subscribe(s,tvState,M=>t(1,r=M));let{props:o={}}=e,l=!1,u;const{currentTime:m,duration:c}=usePlayerStore(()=>u);component_subscribe(s,m,M=>t(12,i=M)),component_subscribe(s,c,M=>t(11,n=M)),onMount(()=>{const M=document.createElement("video");return t(2,l=!!(M.canPlayType("application/vnd.apple.mpegURL")||M.canPlayType("audio/mpegurl"))),()=>{u.$destroy()}});function h(M){if(u&&M.detail&&o.provider==="video"&&!o.isScheduled){const A=secondsSinceLoadTime();A>0&&set_store_value(m,i=n%A,i),console.debug("timeshifting")}}function p(){o.provider!=="hls"||o.hlsBugFix?(console.log("trying to play..."),u.play(),console.log("tried...")):console.log("not trying any harder to play...")}function d(){console.debug("signaling end"),o.scheduleSignaler&&o.scheduleSignaler()}function x(M){binding_callbacks[M?"unshift":"push"](()=>{u=M,t(3,u)})}return s.$$set=M=>{"props"in M&&t(0,o=M.props)},s.$$.update=()=>{s.$$.dirty&1&&(typeof o=="string"?t(0,o=getProviderForUrl(o)):typeof o=="object"&&o.src&&!o.provider&&t(0,o=Object.assign({},o,getProviderForUrl(o.src)))),s.$$.dirty&3&&t(4,a=r.volume*2*getComponentVolume(o.volume,1))},[o,r,l,u,a,m,c,h,p,d,x]}class Video1 extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$i,safe_not_equal,{props:0})}}const Background=""+new URL("../assets/bg-01.DU2yyS_S.png",import.meta.url).href,bg01=Object.freeze(Object.defineProperty({__proto__:null,default:Background},Symbol.toStringTag,{value:"Module"}));var rssParser_min={exports:{}},lib={},Utility={},hasRequiredUtility;function requireUtility(){return hasRequiredUtility||(hasRequiredUtility=1,(function(){var s,e,t,a,r,n,i,o={}.hasOwnProperty;s=function(l,...u){var m,c,h,p;if(r(Object.assign))Object.assign.apply(null,arguments);else for(m=0,h=u.length;m<h;m++)if(p=u[m],p!=null)for(c in p)o.call(p,c)&&(l[c]=p[c]);return l},r=function(l){return!!l&&Object.prototype.toString.call(l)==="[object Function]"},n=function(l){var u;return!!l&&((u=typeof l)=="function"||u==="object")},t=function(l){return r(Array.isArray)?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"},a=function(l){var u;if(t(l))return!l.length;for(u in l)if(o.call(l,u))return!1;return!0},i=function(l){var u,m;return n(l)&&(m=Object.getPrototypeOf(l))&&(u=m.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(l){return r(l.valueOf)?l.valueOf():l},Utility.assign=s,Utility.isFunction=r,Utility.isObject=n,Utility.isArray=t,Utility.isEmpty=a,Utility.isPlainObject=i,Utility.getValue=e}).call(commonjsGlobal$1)),Utility}var XMLDOMImplementation={exports:{}},hasRequiredXMLDOMImplementation;function requireXMLDOMImplementation(){return hasRequiredXMLDOMImplementation||(hasRequiredXMLDOMImplementation=1,(function(){XMLDOMImplementation.exports=class{hasFeature(e,t){return!0}createDocumentType(e,t,a){throw new Error("This DOM method is not implemented.")}createDocument(e,t,a){throw new Error("This DOM method is not implemented.")}createHTMLDocument(e){throw new Error("This DOM method is not implemented.")}getFeature(e,t){throw new Error("This DOM method is not implemented.")}}}).call(commonjsGlobal$1)),XMLDOMImplementation.exports}var XMLDocument={exports:{}},XMLDOMConfiguration={exports:{}},XMLDOMErrorHandler={exports:{}},hasRequiredXMLDOMErrorHandler;function requireXMLDOMErrorHandler(){return hasRequiredXMLDOMErrorHandler||(hasRequiredXMLDOMErrorHandler=1,(function(){XMLDOMErrorHandler.exports=class{constructor(){}handleError(e){throw new Error(e)}}}).call(commonjsGlobal$1)),XMLDOMErrorHandler.exports}var XMLDOMStringList={exports:{}},hasRequiredXMLDOMStringList;function requireXMLDOMStringList(){return hasRequiredXMLDOMStringList||(hasRequiredXMLDOMStringList=1,(function(){XMLDOMStringList.exports=(function(){class s{constructor(t){this.arr=t||[]}item(t){return this.arr[t]||null}contains(t){return this.arr.indexOf(t)!==-1}}return Object.defineProperty(s.prototype,"length",{get:function(){return this.arr.length}}),s}).call(this)}).call(commonjsGlobal$1)),XMLDOMStringList.exports}var hasRequiredXMLDOMConfiguration;function requireXMLDOMConfiguration(){return hasRequiredXMLDOMConfiguration||(hasRequiredXMLDOMConfiguration=1,(function(){var s,e;s=requireXMLDOMErrorHandler(),e=requireXMLDOMStringList(),XMLDOMConfiguration.exports=(function(){class t{constructor(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new s,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}getParameter(r){return this.params.hasOwnProperty(r)?this.params[r]:null}canSetParameter(r,n){return!0}setParameter(r,n){return n!=null?this.params[r]=n:delete this.params[r]}}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new e(Object.keys(this.defaultParams))}}),t}).call(this)}).call(commonjsGlobal$1)),XMLDOMConfiguration.exports}var XMLNode={exports:{}},XMLElement={exports:{}},NodeType={exports:{}},hasRequiredNodeType;function requireNodeType(){return hasRequiredNodeType||(hasRequiredNodeType=1,(function(){NodeType.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(commonjsGlobal$1)),NodeType.exports}var XMLAttribute={exports:{}},hasRequiredXMLAttribute;function requireXMLAttribute(){return hasRequiredXMLAttribute||(hasRequiredXMLAttribute=1,(function(){var s;s=requireNodeType(),requireXMLNode(),XMLAttribute.exports=(function(){class e{constructor(a,r,n){if(this.parent=a,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),r==null)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=s.Attribute,this.isId=!1,this.schemaTypeInfo=null}clone(){return Object.create(this)}toString(a){return this.options.writer.attribute(this,this.options.writer.filterOptions(a))}debugInfo(a){return a=a||this.name,a==null?"parent: <"+this.parent.name+">":"attribute: {"+a+"}, parent: <"+this.parent.name+">"}isEqualNode(a){return!(a.namespaceURI!==this.namespaceURI||a.prefix!==this.prefix||a.localName!==this.localName||a.value!==this.value)}}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e}).call(this)}).call(commonjsGlobal$1)),XMLAttribute.exports}var XMLNamedNodeMap={exports:{}},hasRequiredXMLNamedNodeMap;function requireXMLNamedNodeMap(){return hasRequiredXMLNamedNodeMap||(hasRequiredXMLNamedNodeMap=1,(function(){XMLNamedNodeMap.exports=(function(){class s{constructor(t){this.nodes=t}clone(){return this.nodes=null}getNamedItem(t){return this.nodes[t]}setNamedItem(t){var a;return a=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,a||null}removeNamedItem(t){var a;return a=this.nodes[t],delete this.nodes[t],a||null}item(t){return this.nodes[Object.keys(this.nodes)[t]]||null}getNamedItemNS(t,a){throw new Error("This DOM method is not implemented.")}setNamedItemNS(t){throw new Error("This DOM method is not implemented.")}removeNamedItemNS(t,a){throw new Error("This DOM method is not implemented.")}}return Object.defineProperty(s.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),s}).call(this)}).call(commonjsGlobal$1)),XMLNamedNodeMap.exports}var hasRequiredXMLElement;function requireXMLElement(){return hasRequiredXMLElement||(hasRequiredXMLElement=1,(function(){var s,e,t,a,r,n,i,o={}.hasOwnProperty;({isObject:i,isFunction:n,getValue:r}=requireUtility()),a=requireXMLNode(),s=requireNodeType(),e=requireXMLAttribute(),t=requireXMLNamedNodeMap(),XMLElement.exports=(function(){class l extends a{constructor(m,c,h){var p,d,x,M;if(super(m),c==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(c),this.type=s.Element,this.attribs={},this.schemaTypeInfo=null,h!=null&&this.attribute(h),m.type===s.Document&&(this.isRoot=!0,this.documentObject=m,m.rootObject=this,m.children)){for(M=m.children,d=0,x=M.length;d<x;d++)if(p=M[d],p.type===s.DocType){p.name=this.name;break}}}clone(){var m,c,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attribs={},p=this.attribs;for(c in p)o.call(p,c)&&(m=p[c],h.attribs[c]=m.clone());return h.children=[],this.children.forEach(function(d){var x;return x=d.clone(),x.parent=h,h.children.push(x)}),h}attribute(m,c){var h,p;if(m!=null&&(m=r(m)),i(m))for(h in m)o.call(m,h)&&(p=m[h],this.attribute(h,p));else n(c)&&(c=c.apply()),this.options.keepNullAttributes&&c==null?this.attribs[m]=new e(this,m,""):c!=null&&(this.attribs[m]=new e(this,m,c));return this}removeAttribute(m){var c,h,p;if(m==null)throw new Error("Missing attribute name. "+this.debugInfo());if(m=r(m),Array.isArray(m))for(h=0,p=m.length;h<p;h++)c=m[h],delete this.attribs[c];else delete this.attribs[m];return this}toString(m){return this.options.writer.element(this,this.options.writer.filterOptions(m))}att(m,c){return this.attribute(m,c)}a(m,c){return this.attribute(m,c)}getAttribute(m){return this.attribs.hasOwnProperty(m)?this.attribs[m].value:null}setAttribute(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNode(m){return this.attribs.hasOwnProperty(m)?this.attribs[m]:null}setAttributeNode(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNode(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNS(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNS(m,c,h){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNS(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNodeNS(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNodeNS(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasAttribute(m){return this.attribs.hasOwnProperty(m)}hasAttributeNS(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttribute(m,c){return this.attribs.hasOwnProperty(m)?this.attribs[m].isId:c}setIdAttributeNS(m,c,h){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttributeNode(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(m){var c,h,p;if(!super.isEqualNode(m)||m.namespaceURI!==this.namespaceURI||m.prefix!==this.prefix||m.localName!==this.localName||m.attribs.length!==this.attribs.length)return!1;for(c=h=0,p=this.attribs.length-1;0<=p?h<=p:h>=p;c=0<=p?++h:--h)if(!this.attribs[c].isEqualNode(m.attribs[c]))return!1;return!0}}return Object.defineProperty(l.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(l.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(l.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(l.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(l.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(l.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(l.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(l.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new t(this.attribs)),this.attributeMap}}),l}).call(this)}).call(commonjsGlobal$1)),XMLElement.exports}var XMLCData={exports:{}},XMLCharacterData={exports:{}},hasRequiredXMLCharacterData;function requireXMLCharacterData(){return hasRequiredXMLCharacterData||(hasRequiredXMLCharacterData=1,(function(){var s;s=requireXMLNode(),XMLCharacterData.exports=(function(){class e extends s{constructor(a){super(a),this.value=""}clone(){return Object.create(this)}substringData(a,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendData(a){throw new Error("This DOM method is not implemented."+this.debugInfo())}insertData(a,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}deleteData(a,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceData(a,r,n){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(a){return!(!super.isEqualNode(a)||a.data!==this.data)}}return Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e}).call(this)}).call(commonjsGlobal$1)),XMLCharacterData.exports}var hasRequiredXMLCData;function requireXMLCData(){return hasRequiredXMLCData||(hasRequiredXMLCData=1,(function(){var s,e;s=requireNodeType(),e=requireXMLCharacterData(),XMLCData.exports=class extends e{constructor(a,r){if(super(a),r==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=s.CData,this.value=this.stringify.cdata(r)}clone(){return Object.create(this)}toString(a){return this.options.writer.cdata(this,this.options.writer.filterOptions(a))}}}).call(commonjsGlobal$1)),XMLCData.exports}var XMLComment={exports:{}},hasRequiredXMLComment;function requireXMLComment(){return hasRequiredXMLComment||(hasRequiredXMLComment=1,(function(){var s,e;s=requireNodeType(),e=requireXMLCharacterData(),XMLComment.exports=class extends e{constructor(a,r){if(super(a),r==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=s.Comment,this.value=this.stringify.comment(r)}clone(){return Object.create(this)}toString(a){return this.options.writer.comment(this,this.options.writer.filterOptions(a))}}}).call(commonjsGlobal$1)),XMLComment.exports}var XMLDeclaration={exports:{}},hasRequiredXMLDeclaration;function requireXMLDeclaration(){return hasRequiredXMLDeclaration||(hasRequiredXMLDeclaration=1,(function(){var s,e,t;({isObject:t}=requireUtility()),e=requireXMLNode(),s=requireNodeType(),XMLDeclaration.exports=class extends e{constructor(r,n,i,o){super(r),t(n)&&({version:n,encoding:i,standalone:o}=n),n||(n="1.0"),this.type=s.Declaration,this.version=this.stringify.xmlVersion(n),i!=null&&(this.encoding=this.stringify.xmlEncoding(i)),o!=null&&(this.standalone=this.stringify.xmlStandalone(o))}toString(r){return this.options.writer.declaration(this,this.options.writer.filterOptions(r))}}}).call(commonjsGlobal$1)),XMLDeclaration.exports}var XMLDocType={exports:{}},XMLDTDAttList={exports:{}},hasRequiredXMLDTDAttList;function requireXMLDTDAttList(){return hasRequiredXMLDTDAttList||(hasRequiredXMLDTDAttList=1,(function(){var s,e;e=requireXMLNode(),s=requireNodeType(),XMLDTDAttList.exports=class extends e{constructor(a,r,n,i,o,l){if(super(a),r==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(n==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(o.indexOf("#")!==0&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(l&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=s.AttributeDeclaration,this.attributeName=this.stringify.name(n),this.attributeType=this.stringify.dtdAttType(i),l&&(this.defaultValue=this.stringify.dtdAttDefault(l)),this.defaultValueType=o}toString(a){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(a))}}}).call(commonjsGlobal$1)),XMLDTDAttList.exports}var XMLDTDEntity={exports:{}},hasRequiredXMLDTDEntity;function requireXMLDTDEntity(){return hasRequiredXMLDTDEntity||(hasRequiredXMLDTDEntity=1,(function(){var s,e,t;({isObject:t}=requireUtility()),e=requireXMLNode(),s=requireNodeType(),XMLDTDEntity.exports=(function(){class a extends e{constructor(n,i,o,l){if(super(n),o==null)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(l==null)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!i,this.name=this.stringify.name(o),this.type=s.EntityDeclaration,!t(l))this.value=this.stringify.dtdEntityValue(l),this.internal=!0;else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}}toString(n){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(n))}}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(a.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(a.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlVersion",{get:function(){return null}}),a}).call(this)}).call(commonjsGlobal$1)),XMLDTDEntity.exports}var XMLDTDElement={exports:{}},hasRequiredXMLDTDElement;function requireXMLDTDElement(){return hasRequiredXMLDTDElement||(hasRequiredXMLDTDElement=1,(function(){var s,e;e=requireXMLNode(),s=requireNodeType(),XMLDTDElement.exports=class extends e{constructor(a,r,n){if(super(a),r==null)throw new Error("Missing DTD element name. "+this.debugInfo());n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.name(r),this.type=s.ElementDeclaration,this.value=this.stringify.dtdElementValue(n)}toString(a){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(a))}}}).call(commonjsGlobal$1)),XMLDTDElement.exports}var XMLDTDNotation={exports:{}},hasRequiredXMLDTDNotation;function requireXMLDTDNotation(){return hasRequiredXMLDTDNotation||(hasRequiredXMLDTDNotation=1,(function(){var s,e;e=requireXMLNode(),s=requireNodeType(),XMLDTDNotation.exports=(function(){class t extends e{constructor(r,n,i){if(super(r),n==null)throw new Error("Missing DTD notation name. "+this.debugInfo(n));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(n));this.name=this.stringify.name(n),this.type=s.NotationDeclaration,i.pubID!=null&&(this.pubID=this.stringify.dtdPubID(i.pubID)),i.sysID!=null&&(this.sysID=this.stringify.dtdSysID(i.sysID))}toString(r){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(r))}}return Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),t}).call(this)}).call(commonjsGlobal$1)),XMLDTDNotation.exports}var hasRequiredXMLDocType;function requireXMLDocType(){return hasRequiredXMLDocType||(hasRequiredXMLDocType=1,(function(){var s,e,t,a,r,n,i,o;({isObject:o}=requireUtility()),i=requireXMLNode(),s=requireNodeType(),e=requireXMLDTDAttList(),a=requireXMLDTDEntity(),t=requireXMLDTDElement(),r=requireXMLDTDNotation(),n=requireXMLNamedNodeMap(),XMLDocType.exports=(function(){class l extends i{constructor(m,c,h){var p,d,x,M;if(super(m),this.type=s.DocType,m.children){for(M=m.children,d=0,x=M.length;d<x;d++)if(p=M[d],p.type===s.Element){this.name=p.name;break}}this.documentObject=m,o(c)&&({pubID:c,sysID:h}=c),h==null&&([h,c]=[c,h]),c!=null&&(this.pubID=this.stringify.dtdPubID(c)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}element(m,c){var h;return h=new t(this,m,c),this.children.push(h),this}attList(m,c,h,p,d){var x;return x=new e(this,m,c,h,p,d),this.children.push(x),this}entity(m,c){var h;return h=new a(this,!1,m,c),this.children.push(h),this}pEntity(m,c){var h;return h=new a(this,!0,m,c),this.children.push(h),this}notation(m,c){var h;return h=new r(this,m,c),this.children.push(h),this}toString(m){return this.options.writer.docType(this,this.options.writer.filterOptions(m))}ele(m,c){return this.element(m,c)}att(m,c,h,p,d){return this.attList(m,c,h,p,d)}ent(m,c){return this.entity(m,c)}pent(m,c){return this.pEntity(m,c)}not(m,c){return this.notation(m,c)}up(){return this.root()||this.documentObject}isEqualNode(m){return!(!super.isEqualNode(m)||m.name!==this.name||m.publicId!==this.publicId||m.systemId!==this.systemId)}}return Object.defineProperty(l.prototype,"entities",{get:function(){var u,m,c,h,p;for(h={},p=this.children,m=0,c=p.length;m<c;m++)u=p[m],u.type===s.EntityDeclaration&&!u.pe&&(h[u.name]=u);return new n(h)}}),Object.defineProperty(l.prototype,"notations",{get:function(){var u,m,c,h,p;for(h={},p=this.children,m=0,c=p.length;m<c;m++)u=p[m],u.type===s.NotationDeclaration&&(h[u.name]=u);return new n(h)}}),Object.defineProperty(l.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(l.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(l.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),l}).call(this)}).call(commonjsGlobal$1)),XMLDocType.exports}var XMLRaw={exports:{}},hasRequiredXMLRaw;function requireXMLRaw(){return hasRequiredXMLRaw||(hasRequiredXMLRaw=1,(function(){var s,e;s=requireNodeType(),e=requireXMLNode(),XMLRaw.exports=class extends e{constructor(a,r){if(super(a),r==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=s.Raw,this.value=this.stringify.raw(r)}clone(){return Object.create(this)}toString(a){return this.options.writer.raw(this,this.options.writer.filterOptions(a))}}}).call(commonjsGlobal$1)),XMLRaw.exports}var XMLText={exports:{}},hasRequiredXMLText;function requireXMLText(){return hasRequiredXMLText||(hasRequiredXMLText=1,(function(){var s,e;s=requireNodeType(),e=requireXMLCharacterData(),XMLText.exports=(function(){class t extends e{constructor(r,n){if(super(r),n==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=s.Text,this.value=this.stringify.text(n)}clone(){return Object.create(this)}toString(r){return this.options.writer.text(this,this.options.writer.filterOptions(r))}splitText(r){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceWholeText(r){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(t.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"wholeText",{get:function(){var a,r,n;for(n="",r=this.previousSibling;r;)n=r.data+n,r=r.previousSibling;for(n+=this.data,a=this.nextSibling;a;)n=n+a.data,a=a.nextSibling;return n}}),t}).call(this)}).call(commonjsGlobal$1)),XMLText.exports}var XMLProcessingInstruction={exports:{}},hasRequiredXMLProcessingInstruction;function requireXMLProcessingInstruction(){return hasRequiredXMLProcessingInstruction||(hasRequiredXMLProcessingInstruction=1,(function(){var s,e;s=requireNodeType(),e=requireXMLCharacterData(),XMLProcessingInstruction.exports=class extends e{constructor(a,r,n){if(super(a),r==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=s.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,n&&(this.value=this.stringify.insValue(n))}clone(){return Object.create(this)}toString(a){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(a))}isEqualNode(a){return!(!super.isEqualNode(a)||a.target!==this.target)}}}).call(commonjsGlobal$1)),XMLProcessingInstruction.exports}var XMLDummy={exports:{}},hasRequiredXMLDummy;function requireXMLDummy(){return hasRequiredXMLDummy||(hasRequiredXMLDummy=1,(function(){var s,e;e=requireXMLNode(),s=requireNodeType(),XMLDummy.exports=class extends e{constructor(a){super(a),this.type=s.Dummy}clone(){return Object.create(this)}toString(a){return""}}}).call(commonjsGlobal$1)),XMLDummy.exports}var XMLNodeList={exports:{}},hasRequiredXMLNodeList;function requireXMLNodeList(){return hasRequiredXMLNodeList||(hasRequiredXMLNodeList=1,(function(){XMLNodeList.exports=(function(){class s{constructor(t){this.nodes=t}clone(){return this.nodes=null}item(t){return this.nodes[t]||null}}return Object.defineProperty(s.prototype,"length",{get:function(){return this.nodes.length||0}}),s}).call(this)}).call(commonjsGlobal$1)),XMLNodeList.exports}var DocumentPosition={exports:{}},hasRequiredDocumentPosition;function requireDocumentPosition(){return hasRequiredDocumentPosition||(hasRequiredDocumentPosition=1,(function(){DocumentPosition.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(commonjsGlobal$1)),DocumentPosition.exports}var hasRequiredXMLNode;function requireXMLNode(){return hasRequiredXMLNode||(hasRequiredXMLNode=1,(function(){var s,e,t,a,r,n,i,o,l,u,m,c,h,p,d,x,M={}.hasOwnProperty,A=[].splice;({isObject:x,isFunction:d,isEmpty:p,getValue:h}=requireUtility()),o=null,t=null,a=null,r=null,n=null,m=null,c=null,u=null,i=null,e=null,l=null,s=null,XMLNode.exports=(function(){class w{constructor(g){this.parent=g,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,o||(o=requireXMLElement(),t=requireXMLCData(),a=requireXMLComment(),r=requireXMLDeclaration(),n=requireXMLDocType(),m=requireXMLRaw(),c=requireXMLText(),u=requireXMLProcessingInstruction(),i=requireXMLDummy(),e=requireNodeType(),l=requireXMLNodeList(),requireXMLNamedNodeMap(),s=requireDocumentPosition())}setParent(g){var q,k,L,S,R;for(this.parent=g,g&&(this.options=g.options,this.stringify=g.stringify),S=this.children,R=[],k=0,L=S.length;k<L;k++)q=S[k],R.push(q.setParent(this));return R}element(g,q,k){var L,S,R,D,B,N,Q,P,U;if(N=null,q===null&&k==null&&([q,k]=[{},null]),q==null&&(q={}),q=h(q),x(q)||([k,q]=[q,k]),g!=null&&(g=h(g)),Array.isArray(g))for(R=0,Q=g.length;R<Q;R++)S=g[R],N=this.element(S);else if(d(g))N=this.element(g.apply());else if(x(g)){for(B in g)if(M.call(g,B))if(U=g[B],d(U)&&(U=U.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&B.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(B.substr(this.stringify.convertAttKey.length),U);else if(!this.options.separateArrayItems&&Array.isArray(U)&&p(U))N=this.dummy();else if(x(U)&&p(U))N=this.element(B);else if(!this.options.keepNullNodes&&U==null)N=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(U))for(D=0,P=U.length;D<P;D++)S=U[D],L={},L[B]=S,N=this.element(L);else x(U)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&B.indexOf(this.stringify.convertTextKey)===0?N=this.element(U):(N=this.element(B),N.element(U)):N=this.element(B,U)}else!this.options.keepNullNodes&&k===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&g.indexOf(this.stringify.convertTextKey)===0?N=this.text(k):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&g.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(k):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&g.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(k):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&g.indexOf(this.stringify.convertRawKey)===0?N=this.raw(k):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&g.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(g.substr(this.stringify.convertPIKey.length),k):N=this.node(g,q,k);if(N==null)throw new Error("Could not create any elements with: "+g+". "+this.debugInfo());return N}insertBefore(g,q,k){var L,S,R,D,B;if(g!=null&&g.type)return R=g,D=q,R.setParent(this),D?(S=children.indexOf(D),B=children.splice(S),children.push(R),Array.prototype.push.apply(children,B)):children.push(R),R;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return S=this.parent.children.indexOf(this),B=this.parent.children.splice(S),L=this.parent.element(g,q,k),Array.prototype.push.apply(this.parent.children,B),L}insertAfter(g,q,k){var L,S,R;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return S=this.parent.children.indexOf(this),R=this.parent.children.splice(S+1),L=this.parent.element(g,q,k),Array.prototype.push.apply(this.parent.children,R),L}remove(){var g;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return g=this.parent.children.indexOf(this),A.apply(this.parent.children,[g,g-g+1].concat([])),this.parent}node(g,q,k){var L;return g!=null&&(g=h(g)),q||(q={}),q=h(q),x(q)||([k,q]=[q,k]),L=new o(this,g,q),k!=null&&L.text(k),this.children.push(L),L}text(g){var q;return x(g)&&this.element(g),q=new c(this,g),this.children.push(q),this}cdata(g){var q;return q=new t(this,g),this.children.push(q),this}comment(g){var q;return q=new a(this,g),this.children.push(q),this}commentBefore(g){var q,k;return q=this.parent.children.indexOf(this),k=this.parent.children.splice(q),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,k),this}commentAfter(g){var q,k;return q=this.parent.children.indexOf(this),k=this.parent.children.splice(q+1),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,k),this}raw(g){var q;return q=new m(this,g),this.children.push(q),this}dummy(){var g;return g=new i(this),g}instruction(g,q){var k,L,S,R,D;if(g!=null&&(g=h(g)),q!=null&&(q=h(q)),Array.isArray(g))for(R=0,D=g.length;R<D;R++)k=g[R],this.instruction(k);else if(x(g))for(k in g)M.call(g,k)&&(L=g[k],this.instruction(k,L));else d(q)&&(q=q.apply()),S=new u(this,g,q),this.children.push(S);return this}instructionBefore(g,q){var k,L;return k=this.parent.children.indexOf(this),L=this.parent.children.splice(k),this.parent.instruction(g,q),Array.prototype.push.apply(this.parent.children,L),this}instructionAfter(g,q){var k,L;return k=this.parent.children.indexOf(this),L=this.parent.children.splice(k+1),this.parent.instruction(g,q),Array.prototype.push.apply(this.parent.children,L),this}declaration(g,q,k){var L,S;return L=this.document(),S=new r(L,g,q,k),L.children.length===0?L.children.unshift(S):L.children[0].type===e.Declaration?L.children[0]=S:L.children.unshift(S),L.root()||L}dtd(g,q){var k,L,S,R,D,B,N,Q,P,U;for(L=this.document(),S=new n(L,g,q),P=L.children,R=D=0,N=P.length;D<N;R=++D)if(k=P[R],k.type===e.DocType)return L.children[R]=S,S;for(U=L.children,R=B=0,Q=U.length;B<Q;R=++B)if(k=U[R],k.isRoot)return L.children.splice(R,0,S),S;return L.children.push(S),S}up(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent}root(){var g;for(g=this;g;){if(g.type===e.Document)return g.rootObject;if(g.isRoot)return g;g=g.parent}}document(){var g;for(g=this;g;){if(g.type===e.Document)return g;g=g.parent}}end(g){return this.document().end(g)}prev(){var g;if(g=this.parent.children.indexOf(this),g<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[g-1]}next(){var g;if(g=this.parent.children.indexOf(this),g===-1||g===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[g+1]}importDocument(g){var q,k,L,S,R;if(k=g.root().clone(),k.parent=this,k.isRoot=!1,this.children.push(k),this.type===e.Document&&(k.isRoot=!0,k.documentObject=this,this.rootObject=k,this.children)){for(R=this.children,L=0,S=R.length;L<S;L++)if(q=R[L],q.type===e.DocType){q.name=k.name;break}}return this}debugInfo(g){var q,k;return g=g||this.name,g==null&&!((q=this.parent)!=null&&q.name)?"":g==null?"parent: <"+this.parent.name+">":(k=this.parent)!=null&&k.name?"node: <"+g+">, parent: <"+this.parent.name+">":"node: <"+g+">"}ele(g,q,k){return this.element(g,q,k)}nod(g,q,k){return this.node(g,q,k)}txt(g){return this.text(g)}dat(g){return this.cdata(g)}com(g){return this.comment(g)}ins(g,q){return this.instruction(g,q)}doc(){return this.document()}dec(g,q,k){return this.declaration(g,q,k)}e(g,q,k){return this.element(g,q,k)}n(g,q,k){return this.node(g,q,k)}t(g){return this.text(g)}d(g){return this.cdata(g)}c(g){return this.comment(g)}r(g){return this.raw(g)}i(g,q){return this.instruction(g,q)}u(){return this.up()}importXMLBuilder(g){return this.importDocument(g)}attribute(g,q){throw new Error("attribute() applies to element nodes only.")}att(g,q){return this.attribute(g,q)}a(g,q){return this.attribute(g,q)}removeAttribute(g){throw new Error("attribute() applies to element nodes only.")}replaceChild(g,q){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeChild(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendChild(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasChildNodes(){return this.children.length!==0}cloneNode(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalize(){throw new Error("This DOM method is not implemented."+this.debugInfo())}isSupported(g,q){return!0}hasAttributes(){return this.attribs.length!==0}compareDocumentPosition(g){var q,k;return q=this,q===g?0:this.document()!==g.document()?(k=s.Disconnected|s.ImplementationSpecific,Math.random()<.5?k|=s.Preceding:k|=s.Following,k):q.isAncestor(g)?s.Contains|s.Preceding:q.isDescendant(g)?s.Contains|s.Following:q.isPreceding(g)?s.Preceding:s.Following}isSameNode(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupPrefix(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}isDefaultNamespace(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupNamespaceURI(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(g){var q,k,L;if(g.nodeType!==this.nodeType||g.children.length!==this.children.length)return!1;for(q=k=0,L=this.children.length-1;0<=L?k<=L:k>=L;q=0<=L?++k:--k)if(!this.children[q].isEqualNode(g.children[q]))return!1;return!0}getFeature(g,q){throw new Error("This DOM method is not implemented."+this.debugInfo())}setUserData(g,q,k){throw new Error("This DOM method is not implemented."+this.debugInfo())}getUserData(g){throw new Error("This DOM method is not implemented."+this.debugInfo())}contains(g){return g?g===this||this.isDescendant(g):!1}isDescendant(g){var q,k,L,S,R;for(R=this.children,L=0,S=R.length;L<S;L++)if(q=R[L],g===q||(k=q.isDescendant(g),k))return!0;return!1}isAncestor(g){return g.isDescendant(this)}isPreceding(g){var q,k;return q=this.treePosition(g),k=this.treePosition(this),q===-1||k===-1?!1:q<k}isFollowing(g){var q,k;return q=this.treePosition(g),k=this.treePosition(this),q===-1||k===-1?!1:q>k}treePosition(g){var q,k;return k=0,q=!1,this.foreachTreeNode(this.document(),function(L){if(k++,!q&&L===g)return q=!0}),q?k:-1}foreachTreeNode(g,q){var k,L,S,R,D;for(g||(g=this.document()),R=g.children,L=0,S=R.length;L<S;L++){if(k=R[L],D=q(k))return D;if(D=this.foreachTreeNode(k,q),D)return D}}}return Object.defineProperty(w.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(w.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(w.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(w.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(w.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(w.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(w.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(w.prototype,"previousSibling",{get:function(){var E;return E=this.parent.children.indexOf(this),this.parent.children[E-1]||null}}),Object.defineProperty(w.prototype,"nextSibling",{get:function(){var E;return E=this.parent.children.indexOf(this),this.parent.children[E+1]||null}}),Object.defineProperty(w.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(w.prototype,"textContent",{get:function(){var E,g,q,k,L;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(L="",k=this.children,g=0,q=k.length;g<q;g++)E=k[g],E.textContent&&(L+=E.textContent);return L}else return null},set:function(E){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),w}).call(this)}).call(commonjsGlobal$1)),XMLNode.exports}var XMLStringifier={exports:{}},hasRequiredXMLStringifier;function requireXMLStringifier(){return hasRequiredXMLStringifier||(hasRequiredXMLStringifier=1,(function(){var s={}.hasOwnProperty;XMLStringifier.exports=(function(){class e{constructor(a){var r,n,i;this.assertLegalChar=this.assertLegalChar.bind(this),this.assertLegalName=this.assertLegalName.bind(this),a||(a={}),this.options=a,this.options.version||(this.options.version="1.0"),n=a.stringify||{};for(r in n)s.call(n,r)&&(i=n[r],this[r]=i)}name(a){return this.options.noValidation?a:this.assertLegalName(""+a||"")}text(a){return this.options.noValidation?a:this.assertLegalChar(this.textEscape(""+a||""))}cdata(a){return this.options.noValidation?a:(a=""+a||"",a=a.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(a))}comment(a){if(this.options.noValidation)return a;if(a=""+a||"",a.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+a);return this.assertLegalChar(a)}raw(a){return this.options.noValidation?a:""+a||""}attValue(a){return this.options.noValidation?a:this.assertLegalChar(this.attEscape(a=""+a||""))}insTarget(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}insValue(a){if(this.options.noValidation)return a;if(a=""+a||"",a.match(/\?>/))throw new Error("Invalid processing instruction value: "+a);return this.assertLegalChar(a)}xmlVersion(a){if(this.options.noValidation)return a;if(a=""+a||"",!a.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+a);return a}xmlEncoding(a){if(this.options.noValidation)return a;if(a=""+a||"",!a.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+a);return this.assertLegalChar(a)}xmlStandalone(a){return this.options.noValidation?a:a?"yes":"no"}dtdPubID(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}dtdSysID(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}dtdElementValue(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}dtdAttType(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}dtdAttDefault(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}dtdEntityValue(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}dtdNData(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")}assertLegalChar(a){var r,n;if(this.options.noValidation)return a;if(this.options.version==="1.0"){if(r=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)a=a.replace(r,this.options.invalidCharReplacement);else if(n=a.match(r))throw new Error(`Invalid character in string: ${a} at index ${n.index}`)}else if(this.options.version==="1.1"){if(r=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)a=a.replace(r,this.options.invalidCharReplacement);else if(n=a.match(r))throw new Error(`Invalid character in string: ${a} at index ${n.index}`)}return a}assertLegalName(a){var r;if(this.options.noValidation)return a;if(a=this.assertLegalChar(a),r=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!a.match(r))throw new Error(`Invalid character in name: ${a}`);return a}textEscape(a){var r;return this.options.noValidation?a:(r=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,a.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))}attEscape(a){var r;return this.options.noValidation?a:(r=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,a.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))}}return e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e}).call(this)}).call(commonjsGlobal$1)),XMLStringifier.exports}var XMLStringWriter={exports:{}},XMLWriterBase={exports:{}},WriterState={exports:{}},hasRequiredWriterState;function requireWriterState(){return hasRequiredWriterState||(hasRequiredWriterState=1,(function(){WriterState.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(commonjsGlobal$1)),WriterState.exports}var hasRequiredXMLWriterBase;function requireXMLWriterBase(){return hasRequiredXMLWriterBase||(hasRequiredXMLWriterBase=1,(function(){var s,e,t,a={}.hasOwnProperty;({assign:t}=requireUtility()),s=requireNodeType(),requireXMLDeclaration(),requireXMLDocType(),requireXMLCData(),requireXMLComment(),requireXMLElement(),requireXMLRaw(),requireXMLText(),requireXMLProcessingInstruction(),requireXMLDummy(),requireXMLDTDAttList(),requireXMLDTDElement(),requireXMLDTDEntity(),requireXMLDTDNotation(),e=requireWriterState(),XMLWriterBase.exports=class{constructor(n){var i,o,l;n||(n={}),this.options=n,o=n.writer||{};for(i in o)a.call(o,i)&&(l=o[i],this["_"+i]=this[i],this[i]=l)}filterOptions(n){var i,o,l,u,m,c,h,p,d;return n||(n={}),n=t({},this.options,n),i={writer:this},i.pretty=n.pretty||!1,i.allowEmpty=n.allowEmpty||!1,i.indent=(o=n.indent)!=null?o:"  ",i.newline=(l=n.newline)!=null?l:`
`,i.offset=(u=n.offset)!=null?u:0,i.width=(m=n.width)!=null?m:0,i.dontPrettyTextNodes=(c=(h=n.dontPrettyTextNodes)!=null?h:n.dontprettytextnodes)!=null?c:0,i.spaceBeforeSlash=(p=(d=n.spaceBeforeSlash)!=null?d:n.spacebeforeslash)!=null?p:"",i.spaceBeforeSlash===!0&&(i.spaceBeforeSlash=" "),i.suppressPrettyCount=0,i.user={},i.state=e.None,i}indent(n,i,o){var l;return!i.pretty||i.suppressPrettyCount?"":i.pretty&&(l=(o||0)+i.offset+1,l>0)?new Array(l).join(i.indent):""}endline(n,i,o){return!i.pretty||i.suppressPrettyCount?"":i.newline}attribute(n,i,o){var l;return this.openAttribute(n,i,o),i.pretty&&i.width>0?l=n.name+'="'+n.value+'"':l=" "+n.name+'="'+n.value+'"',this.closeAttribute(n,i,o),l}cdata(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<![CDATA[",i.state=e.InsideTag,l+=n.value,i.state=e.CloseTag,l+="]]>"+this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}comment(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<!-- ",i.state=e.InsideTag,l+=n.value,i.state=e.CloseTag,l+=" -->"+this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}declaration(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<?xml",i.state=e.InsideTag,l+=' version="'+n.version+'"',n.encoding!=null&&(l+=' encoding="'+n.encoding+'"'),n.standalone!=null&&(l+=' standalone="'+n.standalone+'"'),i.state=e.CloseTag,l+=i.spaceBeforeSlash+"?>",l+=this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}docType(n,i,o){var l,u,m,c,h;if(o||(o=0),this.openNode(n,i,o),i.state=e.OpenTag,c=this.indent(n,i,o),c+="<!DOCTYPE "+n.root().name,n.pubID&&n.sysID?c+=' PUBLIC "'+n.pubID+'" "'+n.sysID+'"':n.sysID&&(c+=' SYSTEM "'+n.sysID+'"'),n.children.length>0){for(c+=" [",c+=this.endline(n,i,o),i.state=e.InsideTag,h=n.children,u=0,m=h.length;u<m;u++)l=h[u],c+=this.writeChildNode(l,i,o+1);i.state=e.CloseTag,c+="]"}return i.state=e.CloseTag,c+=i.spaceBeforeSlash+">",c+=this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),c}element(n,i,o){var l,u,m,c,h,p,d,x,M,A,w,E,g,q,k,L,S,R,D;if(o||(o=0),E=!1,this.openNode(n,i,o),i.state=e.OpenTag,g=this.indent(n,i,o)+"<"+n.name,i.pretty&&i.width>0){x=g.length,k=n.attribs;for(w in k)a.call(k,w)&&(l=k[w],q=this.attribute(l,i,o),u=q.length,x+u>i.width?(D=this.indent(n,i,o+1)+q,g+=this.endline(n,i,o)+D,x=D.length):(D=" "+q,g+=D,x+=D.length))}else{L=n.attribs;for(w in L)a.call(L,w)&&(l=L[w],g+=this.attribute(l,i,o))}if(c=n.children.length,h=c===0?null:n.children[0],c===0||n.children.every(function(B){return(B.type===s.Text||B.type===s.Raw||B.type===s.CData)&&B.value===""}))i.allowEmpty?(g+=">",i.state=e.CloseTag,g+="</"+n.name+">"+this.endline(n,i,o)):(i.state=e.CloseTag,g+=i.spaceBeforeSlash+"/>"+this.endline(n,i,o));else if(i.pretty&&c===1&&(h.type===s.Text||h.type===s.Raw||h.type===s.CData)&&h.value!=null)g+=">",i.state=e.InsideTag,i.suppressPrettyCount++,E=!0,g+=this.writeChildNode(h,i,o+1),i.suppressPrettyCount--,E=!1,i.state=e.CloseTag,g+="</"+n.name+">"+this.endline(n,i,o);else{if(i.dontPrettyTextNodes){for(S=n.children,p=0,M=S.length;p<M;p++)if(m=S[p],(m.type===s.Text||m.type===s.Raw||m.type===s.CData)&&m.value!=null){i.suppressPrettyCount++,E=!0;break}}for(g+=">"+this.endline(n,i,o),i.state=e.InsideTag,R=n.children,d=0,A=R.length;d<A;d++)m=R[d],g+=this.writeChildNode(m,i,o+1);i.state=e.CloseTag,g+=this.indent(n,i,o)+"</"+n.name+">",E&&i.suppressPrettyCount--,g+=this.endline(n,i,o),i.state=e.None}return this.closeNode(n,i,o),g}writeChildNode(n,i,o){switch(n.type){case s.CData:return this.cdata(n,i,o);case s.Comment:return this.comment(n,i,o);case s.Element:return this.element(n,i,o);case s.Raw:return this.raw(n,i,o);case s.Text:return this.text(n,i,o);case s.ProcessingInstruction:return this.processingInstruction(n,i,o);case s.Dummy:return"";case s.Declaration:return this.declaration(n,i,o);case s.DocType:return this.docType(n,i,o);case s.AttributeDeclaration:return this.dtdAttList(n,i,o);case s.ElementDeclaration:return this.dtdElement(n,i,o);case s.EntityDeclaration:return this.dtdEntity(n,i,o);case s.NotationDeclaration:return this.dtdNotation(n,i,o);default:throw new Error("Unknown XML node type: "+n.constructor.name)}}processingInstruction(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<?",i.state=e.InsideTag,l+=n.target,n.value&&(l+=" "+n.value),i.state=e.CloseTag,l+=i.spaceBeforeSlash+"?>",l+=this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}raw(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o),i.state=e.InsideTag,l+=n.value,i.state=e.CloseTag,l+=this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}text(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o),i.state=e.InsideTag,l+=n.value,i.state=e.CloseTag,l+=this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}dtdAttList(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<!ATTLIST",i.state=e.InsideTag,l+=" "+n.elementName+" "+n.attributeName+" "+n.attributeType,n.defaultValueType!=="#DEFAULT"&&(l+=" "+n.defaultValueType),n.defaultValue&&(l+=' "'+n.defaultValue+'"'),i.state=e.CloseTag,l+=i.spaceBeforeSlash+">"+this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}dtdElement(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<!ELEMENT",i.state=e.InsideTag,l+=" "+n.name+" "+n.value,i.state=e.CloseTag,l+=i.spaceBeforeSlash+">"+this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}dtdEntity(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<!ENTITY",i.state=e.InsideTag,n.pe&&(l+=" %"),l+=" "+n.name,n.value?l+=' "'+n.value+'"':(n.pubID&&n.sysID?l+=' PUBLIC "'+n.pubID+'" "'+n.sysID+'"':n.sysID&&(l+=' SYSTEM "'+n.sysID+'"'),n.nData&&(l+=" NDATA "+n.nData)),i.state=e.CloseTag,l+=i.spaceBeforeSlash+">"+this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}dtdNotation(n,i,o){var l;return this.openNode(n,i,o),i.state=e.OpenTag,l=this.indent(n,i,o)+"<!NOTATION",i.state=e.InsideTag,l+=" "+n.name,n.pubID&&n.sysID?l+=' PUBLIC "'+n.pubID+'" "'+n.sysID+'"':n.pubID?l+=' PUBLIC "'+n.pubID+'"':n.sysID&&(l+=' SYSTEM "'+n.sysID+'"'),i.state=e.CloseTag,l+=i.spaceBeforeSlash+">"+this.endline(n,i,o),i.state=e.None,this.closeNode(n,i,o),l}openNode(n,i,o){}closeNode(n,i,o){}openAttribute(n,i,o){}closeAttribute(n,i,o){}}}).call(commonjsGlobal$1)),XMLWriterBase.exports}var hasRequiredXMLStringWriter;function requireXMLStringWriter(){return hasRequiredXMLStringWriter||(hasRequiredXMLStringWriter=1,(function(){var s;s=requireXMLWriterBase(),XMLStringWriter.exports=class extends s{constructor(t){super(t)}document(t,a){var r,n,i,o,l;for(a=this.filterOptions(a),o="",l=t.children,n=0,i=l.length;n<i;n++)r=l[n],o+=this.writeChildNode(r,a,0);return a.pretty&&o.slice(-a.newline.length)===a.newline&&(o=o.slice(0,-a.newline.length)),o}}}).call(commonjsGlobal$1)),XMLStringWriter.exports}var hasRequiredXMLDocument;function requireXMLDocument(){return hasRequiredXMLDocument||(hasRequiredXMLDocument=1,(function(){var s,e,t,a,r,n,i;({isPlainObject:i}=requireUtility()),t=requireXMLDOMImplementation(),e=requireXMLDOMConfiguration(),a=requireXMLNode(),s=requireNodeType(),n=requireXMLStringifier(),r=requireXMLStringWriter(),XMLDocument.exports=(function(){class o extends a{constructor(u){super(null),this.name="#document",this.type=s.Document,this.documentURI=null,this.domConfig=new e,u||(u={}),u.writer||(u.writer=new r),this.options=u,this.stringify=new n(u)}end(u){var m;return m={},u?i(u)&&(m=u,u=this.options.writer):u=this.options.writer,u.document(this,u.filterOptions(m))}toString(u){return this.options.writer.document(this,this.options.writer.filterOptions(u))}createElement(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}createDocumentFragment(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTextNode(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}createComment(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}createCDATASection(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}createProcessingInstruction(u,m){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttribute(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEntityReference(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}importNode(u,m){throw new Error("This DOM method is not implemented."+this.debugInfo())}createElementNS(u,m){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttributeNS(u,m){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(u,m){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementById(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}adoptNode(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalizeDocument(){throw new Error("This DOM method is not implemented."+this.debugInfo())}renameNode(u,m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEvent(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}createRange(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createNodeIterator(u,m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTreeWalker(u,m,c){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(o.prototype,"implementation",{value:new t}),Object.defineProperty(o.prototype,"doctype",{get:function(){var l,u,m,c;for(c=this.children,u=0,m=c.length;u<m;u++)if(l=c[u],l.type===s.DocType)return l;return null}}),Object.defineProperty(o.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(o.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(o.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(o.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===s.Declaration?this.children[0].encoding:null}}),Object.defineProperty(o.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===s.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(o.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===s.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(o.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(o.prototype,"origin",{get:function(){return null}}),Object.defineProperty(o.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(o.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(o.prototype,"contentType",{get:function(){return null}}),o}).call(this)}).call(commonjsGlobal$1)),XMLDocument.exports}var XMLDocumentCB={exports:{}},hasRequiredXMLDocumentCB;function requireXMLDocumentCB(){return hasRequiredXMLDocumentCB||(hasRequiredXMLDocumentCB=1,(function(){var s,e,t,a,r,n,i,o,l,u,m,c,h,p,d,x,M,A,w,E,g,q,k={}.hasOwnProperty;({isObject:g,isFunction:E,isPlainObject:q,getValue:w}=requireUtility()),s=requireNodeType(),c=requireXMLDocument(),h=requireXMLElement(),a=requireXMLCData(),r=requireXMLComment(),d=requireXMLRaw(),A=requireXMLText(),p=requireXMLProcessingInstruction(),u=requireXMLDeclaration(),m=requireXMLDocType(),n=requireXMLDTDAttList(),o=requireXMLDTDEntity(),i=requireXMLDTDElement(),l=requireXMLDTDNotation(),t=requireXMLAttribute(),M=requireXMLStringifier(),x=requireXMLStringWriter(),e=requireWriterState(),XMLDocumentCB.exports=class{constructor(S,R,D){var B;this.name="?xml",this.type=s.Document,S||(S={}),B={},S.writer?q(S.writer)&&(B=S.writer,S.writer=new x):S.writer=new x,this.options=S,this.writer=S.writer,this.writerOptions=this.writer.filterOptions(B),this.stringify=new M(S),this.onDataCallback=R||function(){},this.onEndCallback=D||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}createChildNode(S){var R,D,B,N,Q,P,U,$;switch(S.type){case s.CData:this.cdata(S.value);break;case s.Comment:this.comment(S.value);break;case s.Element:B={},U=S.attribs;for(D in U)k.call(U,D)&&(R=U[D],B[D]=R.value);this.node(S.name,B);break;case s.Dummy:this.dummy();break;case s.Raw:this.raw(S.value);break;case s.Text:this.text(S.value);break;case s.ProcessingInstruction:this.instruction(S.target,S.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+S.constructor.name)}for($=S.children,Q=0,P=$.length;Q<P;Q++)N=$[Q],this.createChildNode(N),N.type===s.Element&&this.up();return this}dummy(){return this}node(S,R,D){if(S==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(S));return this.openCurrent(),S=w(S),R==null&&(R={}),R=w(R),g(R)||([D,R]=[R,D]),this.currentNode=new h(this,S,R),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,D!=null&&this.text(D),this}element(S,R,D){var B,N,Q,P,U,$;if(this.currentNode&&this.currentNode.type===s.DocType)this.dtdElement(...arguments);else if(Array.isArray(S)||g(S)||E(S))for(P=this.options.noValidation,this.options.noValidation=!0,$=new c(this.options).element("TEMP_ROOT"),$.element(S),this.options.noValidation=P,U=$.children,N=0,Q=U.length;N<Q;N++)B=U[N],this.createChildNode(B),B.type===s.Element&&this.up();else this.node(S,R,D);return this}attribute(S,R){var D,B;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(S));if(S!=null&&(S=w(S)),g(S))for(D in S)k.call(S,D)&&(B=S[D],this.attribute(D,B));else E(R)&&(R=R.apply()),this.options.keepNullAttributes&&R==null?this.currentNode.attribs[S]=new t(this,S,""):R!=null&&(this.currentNode.attribs[S]=new t(this,S,R));return this}text(S){var R;return this.openCurrent(),R=new A(this,S),this.onData(this.writer.text(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}cdata(S){var R;return this.openCurrent(),R=new a(this,S),this.onData(this.writer.cdata(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}comment(S){var R;return this.openCurrent(),R=new r(this,S),this.onData(this.writer.comment(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}raw(S){var R;return this.openCurrent(),R=new d(this,S),this.onData(this.writer.raw(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}instruction(S,R){var D,B,N,Q,P;if(this.openCurrent(),S!=null&&(S=w(S)),R!=null&&(R=w(R)),Array.isArray(S))for(D=0,Q=S.length;D<Q;D++)B=S[D],this.instruction(B);else if(g(S))for(B in S)k.call(S,B)&&(N=S[B],this.instruction(B,N));else E(R)&&(R=R.apply()),P=new p(this,S,R),this.onData(this.writer.processingInstruction(P,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}declaration(S,R,D){var B;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return B=new u(this,S,R,D),this.onData(this.writer.declaration(B,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}doctype(S,R,D){if(this.openCurrent(),S==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new m(this,R,D),this.currentNode.rootNodeName=S,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this}dtdElement(S,R){var D;return this.openCurrent(),D=new i(this,S,R),this.onData(this.writer.dtdElement(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}attList(S,R,D,B,N){var Q;return this.openCurrent(),Q=new n(this,S,R,D,B,N),this.onData(this.writer.dtdAttList(Q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}entity(S,R){var D;return this.openCurrent(),D=new o(this,!1,S,R),this.onData(this.writer.dtdEntity(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}pEntity(S,R){var D;return this.openCurrent(),D=new o(this,!0,S,R),this.onData(this.writer.dtdEntity(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}notation(S,R){var D;return this.openCurrent(),D=new l(this,S,R),this.onData(this.writer.dtdNotation(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}up(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this}end(){for(;this.currentLevel>=0;)this.up();return this.onEnd()}openCurrent(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)}openNode(S){var R,D,B,N;if(!S.isOpen){if(!this.root&&this.currentLevel===0&&S.type===s.Element&&(this.root=S),D="",S.type===s.Element){this.writerOptions.state=e.OpenTag,D=this.writer.indent(S,this.writerOptions,this.currentLevel)+"<"+S.name,N=S.attribs;for(B in N)k.call(N,B)&&(R=N[B],D+=this.writer.attribute(R,this.writerOptions,this.currentLevel));D+=(S.children?">":"/>")+this.writer.endline(S,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,D=this.writer.indent(S,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+S.rootNodeName,S.pubID&&S.sysID?D+=' PUBLIC "'+S.pubID+'" "'+S.sysID+'"':S.sysID&&(D+=' SYSTEM "'+S.sysID+'"'),S.children?(D+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,D+=">"),D+=this.writer.endline(S,this.writerOptions,this.currentLevel);return this.onData(D,this.currentLevel),S.isOpen=!0}}closeNode(S){var R;if(!S.isClosed)return R="",this.writerOptions.state=e.CloseTag,S.type===s.Element?R=this.writer.indent(S,this.writerOptions,this.currentLevel)+"</"+S.name+">"+this.writer.endline(S,this.writerOptions,this.currentLevel):R=this.writer.indent(S,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(S,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(R,this.currentLevel),S.isClosed=!0}onData(S,R){return this.documentStarted=!0,this.onDataCallback(S,R+1)}onEnd(){return this.documentCompleted=!0,this.onEndCallback()}debugInfo(S){return S==null?"":"node: <"+S+">"}ele(){return this.element(...arguments)}nod(S,R,D){return this.node(S,R,D)}txt(S){return this.text(S)}dat(S){return this.cdata(S)}com(S){return this.comment(S)}ins(S,R){return this.instruction(S,R)}dec(S,R,D){return this.declaration(S,R,D)}dtd(S,R,D){return this.doctype(S,R,D)}e(S,R,D){return this.element(S,R,D)}n(S,R,D){return this.node(S,R,D)}t(S){return this.text(S)}d(S){return this.cdata(S)}c(S){return this.comment(S)}r(S){return this.raw(S)}i(S,R){return this.instruction(S,R)}att(){return this.currentNode&&this.currentNode.type===s.DocType?this.attList(...arguments):this.attribute(...arguments)}a(){return this.currentNode&&this.currentNode.type===s.DocType?this.attList(...arguments):this.attribute(...arguments)}ent(S,R){return this.entity(S,R)}pent(S,R){return this.pEntity(S,R)}not(S,R){return this.notation(S,R)}}}).call(commonjsGlobal$1)),XMLDocumentCB.exports}var XMLStreamWriter={exports:{}},hasRequiredXMLStreamWriter;function requireXMLStreamWriter(){return hasRequiredXMLStreamWriter||(hasRequiredXMLStreamWriter=1,(function(){var s,e,t,a={}.hasOwnProperty;s=requireNodeType(),t=requireXMLWriterBase(),e=requireWriterState(),XMLStreamWriter.exports=class extends t{constructor(n,i){super(i),this.stream=n}endline(n,i,o){return n.isLastRootNode&&i.state===e.CloseTag?"":super.endline(n,i,o)}document(n,i){var o,l,u,m,c,h,p,d,x;for(p=n.children,l=u=0,c=p.length;u<c;l=++u)o=p[l],o.isLastRootNode=l===n.children.length-1;for(i=this.filterOptions(i),d=n.children,x=[],m=0,h=d.length;m<h;m++)o=d[m],x.push(this.writeChildNode(o,i,0));return x}cdata(n,i,o){return this.stream.write(super.cdata(n,i,o))}comment(n,i,o){return this.stream.write(super.comment(n,i,o))}declaration(n,i,o){return this.stream.write(super.declaration(n,i,o))}docType(n,i,o){var l,u,m,c;if(o||(o=0),this.openNode(n,i,o),i.state=e.OpenTag,this.stream.write(this.indent(n,i,o)),this.stream.write("<!DOCTYPE "+n.root().name),n.pubID&&n.sysID?this.stream.write(' PUBLIC "'+n.pubID+'" "'+n.sysID+'"'):n.sysID&&this.stream.write(' SYSTEM "'+n.sysID+'"'),n.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(n,i,o)),i.state=e.InsideTag,c=n.children,u=0,m=c.length;u<m;u++)l=c[u],this.writeChildNode(l,i,o+1);i.state=e.CloseTag,this.stream.write("]")}return i.state=e.CloseTag,this.stream.write(i.spaceBeforeSlash+">"),this.stream.write(this.endline(n,i,o)),i.state=e.None,this.closeNode(n,i,o)}element(n,i,o){var l,u,m,c,h,p,d,x,M,A,w,E,g,q,k;if(o||(o=0),this.openNode(n,i,o),i.state=e.OpenTag,A=this.indent(n,i,o)+"<"+n.name,i.pretty&&i.width>0){d=A.length,E=n.attribs;for(M in E)a.call(E,M)&&(l=E[M],w=this.attribute(l,i,o),u=w.length,d+u>i.width?(k=this.indent(n,i,o+1)+w,A+=this.endline(n,i,o)+k,d=k.length):(k=" "+w,A+=k,d+=k.length))}else{g=n.attribs;for(M in g)a.call(g,M)&&(l=g[M],A+=this.attribute(l,i,o))}if(this.stream.write(A),c=n.children.length,h=c===0?null:n.children[0],c===0||n.children.every(function(L){return(L.type===s.Text||L.type===s.Raw||L.type===s.CData)&&L.value===""}))i.allowEmpty?(this.stream.write(">"),i.state=e.CloseTag,this.stream.write("</"+n.name+">")):(i.state=e.CloseTag,this.stream.write(i.spaceBeforeSlash+"/>"));else if(i.pretty&&c===1&&(h.type===s.Text||h.type===s.Raw||h.type===s.CData)&&h.value!=null)this.stream.write(">"),i.state=e.InsideTag,i.suppressPrettyCount++,this.writeChildNode(h,i,o+1),i.suppressPrettyCount--,i.state=e.CloseTag,this.stream.write("</"+n.name+">");else{for(this.stream.write(">"+this.endline(n,i,o)),i.state=e.InsideTag,q=n.children,p=0,x=q.length;p<x;p++)m=q[p],this.writeChildNode(m,i,o+1);i.state=e.CloseTag,this.stream.write(this.indent(n,i,o)+"</"+n.name+">")}return this.stream.write(this.endline(n,i,o)),i.state=e.None,this.closeNode(n,i,o)}processingInstruction(n,i,o){return this.stream.write(super.processingInstruction(n,i,o))}raw(n,i,o){return this.stream.write(super.raw(n,i,o))}text(n,i,o){return this.stream.write(super.text(n,i,o))}dtdAttList(n,i,o){return this.stream.write(super.dtdAttList(n,i,o))}dtdElement(n,i,o){return this.stream.write(super.dtdElement(n,i,o))}dtdEntity(n,i,o){return this.stream.write(super.dtdEntity(n,i,o))}dtdNotation(n,i,o){return this.stream.write(super.dtdNotation(n,i,o))}}}).call(commonjsGlobal$1)),XMLStreamWriter.exports}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,(function(){var s,e,t,a,r,n,i,o,l;({assign:o,isFunction:l}=requireUtility()),t=requireXMLDOMImplementation(),a=requireXMLDocument(),r=requireXMLDocumentCB(),i=requireXMLStringWriter(),n=requireXMLStreamWriter(),s=requireNodeType(),e=requireWriterState(),lib.create=function(u,m,c,h){var p,d;if(u==null)throw new Error("Root element needs a name.");return h=o({},m,c,h),p=new a(h),d=p.element(u),h.headless||(p.declaration(h),(h.pubID!=null||h.sysID!=null)&&p.dtd(h)),d},lib.begin=function(u,m,c){return l(u)&&([m,c]=[u,m],u={}),m?new r(u,m,c):new a(u)},lib.stringWriter=function(u){return new i(u)},lib.streamWriter=function(u,m){return new n(u,m)},lib.implementation=new t,lib.nodeType=s,lib.writerState=e}).call(commonjsGlobal$1)),lib}(function(s,e){(function(t,a){s.exports=a(requireLib())})(commonjsGlobal$1,function(t){return function(a){var r={};function n(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return a[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=a,n.c=r,n.d=function(i,o,l){n.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:l})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,o){if(1&o&&(i=n(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var u in i)n.d(l,u,(function(m){return i[m]}).bind(null,u));return l},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=30)}([function(a,r){function n(o){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(o)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{(typeof window>"u"?"undefined":n(window))==="object"&&(i=window)}a.exports=i},function(a,r){typeof Object.create=="function"?a.exports=function(n,i){n.super_=i,n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(n,i){n.super_=i;var o=function(){};o.prototype=i.prototype,n.prototype=new o,n.prototype.constructor=n}},function(a,r,n){var i=n(7),o=Object.keys||function(A){var w=[];for(var E in A)w.push(E);return w};a.exports=d;var l=n(6);l.inherits=n(1);var u=n(18),m=n(10);l.inherits(d,u);for(var c=o(m.prototype),h=0;h<c.length;h++){var p=c[h];d.prototype[p]||(d.prototype[p]=m.prototype[p])}function d(A){if(!(this instanceof d))return new d(A);u.call(this,A),m.call(this,A),A&&A.readable===!1&&(this.readable=!1),A&&A.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,A&&A.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",x)}function x(){this.allowHalfOpen||this._writableState.ended||i.nextTick(M,this)}function M(A){A.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),d.prototype._destroy=function(A,w){this.push(null),this.end(),i.nextTick(w,A)}},function(a,r,n){(function(i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var o=n(33),l=n(34),u=n(15);function m(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(T,I){if(m()<I)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(T=new Uint8Array(I)).__proto__=h.prototype:(T===null&&(T=new h(I)),T.length=I),T}function h(T,I,X){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(T,I,X);if(typeof T=="number"){if(typeof I=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(this,T)}return p(this,T,I,X)}function p(T,I,X,le){if(typeof I=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&I instanceof ArrayBuffer?function(se,_e,we,Ce){if(_e.byteLength,we<0||_e.byteLength<we)throw new RangeError("'offset' is out of bounds");if(_e.byteLength<we+(Ce||0))throw new RangeError("'length' is out of bounds");return _e=we===void 0&&Ce===void 0?new Uint8Array(_e):Ce===void 0?new Uint8Array(_e,we):new Uint8Array(_e,we,Ce),h.TYPED_ARRAY_SUPPORT?(se=_e).__proto__=h.prototype:se=M(se,_e),se}(T,I,X,le):typeof I=="string"?function(se,_e,we){if(typeof we=="string"&&we!==""||(we="utf8"),!h.isEncoding(we))throw new TypeError('"encoding" must be a valid string encoding');var Ce=0|w(_e,we),Be=(se=c(se,Ce)).write(_e,we);return Be!==Ce&&(se=se.slice(0,Be)),se}(T,I,X):function(se,_e){if(h.isBuffer(_e)){var we=0|A(_e.length);return(se=c(se,we)).length===0||_e.copy(se,0,0,we),se}if(_e){if(typeof ArrayBuffer<"u"&&_e.buffer instanceof ArrayBuffer||"length"in _e)return typeof _e.length!="number"||(Ce=_e.length)!=Ce?c(se,0):M(se,_e);if(_e.type==="Buffer"&&u(_e.data))return M(se,_e.data)}var Ce;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(T,I)}function d(T){if(typeof T!="number")throw new TypeError('"size" argument must be a number');if(T<0)throw new RangeError('"size" argument must not be negative')}function x(T,I){if(d(I),T=c(T,I<0?0:0|A(I)),!h.TYPED_ARRAY_SUPPORT)for(var X=0;X<I;++X)T[X]=0;return T}function M(T,I){var X=I.length<0?0:0|A(I.length);T=c(T,X);for(var le=0;le<X;le+=1)T[le]=255&I[le];return T}function A(T){if(T>=m())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m().toString(16)+" bytes");return 0|T}function w(T,I){if(h.isBuffer(T))return T.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(T)||T instanceof ArrayBuffer))return T.byteLength;typeof T!="string"&&(T=""+T);var X=T.length;if(X===0)return 0;for(var le=!1;;)switch(I){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":case void 0:return Ae(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return O(T).length;default:if(le)return Ae(T).length;I=(""+I).toLowerCase(),le=!0}}function E(T,I,X){var le=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(I>>>=0))return"";for(T||(T="utf8");;)switch(T){case"hex":return J(this,I,X);case"utf8":case"utf-8":return P(this,I,X);case"ascii":return U(this,I,X);case"latin1":case"binary":return $(this,I,X);case"base64":return Q(this,I,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,I,X);default:if(le)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),le=!0}}function g(T,I,X){var le=T[I];T[I]=T[X],T[X]=le}function q(T,I,X,le,se){if(T.length===0)return-1;if(typeof X=="string"?(le=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,isNaN(X)&&(X=se?0:T.length-1),X<0&&(X=T.length+X),X>=T.length){if(se)return-1;X=T.length-1}else if(X<0){if(!se)return-1;X=0}if(typeof I=="string"&&(I=h.from(I,le)),h.isBuffer(I))return I.length===0?-1:k(T,I,X,le,se);if(typeof I=="number")return I&=255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(T,I,X):Uint8Array.prototype.lastIndexOf.call(T,I,X):k(T,[I],X,le,se);throw new TypeError("val must be string, number or Buffer")}function k(T,I,X,le,se){var _e,we=1,Ce=T.length,Be=I.length;if(le!==void 0&&((le=String(le).toLowerCase())==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(T.length<2||I.length<2)return-1;we=2,Ce/=2,Be/=2,X/=2}function We(he,Me){return we===1?he[Me]:he.readUInt16BE(Me*we)}if(se){var re=-1;for(_e=X;_e<Ce;_e++)if(We(T,_e)===We(I,re===-1?0:_e-re)){if(re===-1&&(re=_e),_e-re+1===Be)return re*we}else re!==-1&&(_e-=_e-re),re=-1}else for(X+Be>Ce&&(X=Ce-Be),_e=X;_e>=0;_e--){for(var V=!0,j=0;j<Be;j++)if(We(T,_e+j)!==We(I,j)){V=!1;break}if(V)return _e}return-1}function L(T,I,X,le){X=Number(X)||0;var se=T.length-X;le?(le=Number(le))>se&&(le=se):le=se;var _e=I.length;if(_e%2!=0)throw new TypeError("Invalid hex string");le>_e/2&&(le=_e/2);for(var we=0;we<le;++we){var Ce=parseInt(I.substr(2*we,2),16);if(isNaN(Ce))return we;T[X+we]=Ce}return we}function S(T,I,X,le){return Y(Ae(I,T.length-X),T,X,le)}function R(T,I,X,le){return Y(function(se){for(var _e=[],we=0;we<se.length;++we)_e.push(255&se.charCodeAt(we));return _e}(I),T,X,le)}function D(T,I,X,le){return R(T,I,X,le)}function B(T,I,X,le){return Y(O(I),T,X,le)}function N(T,I,X,le){return Y(function(se,_e){for(var we,Ce,Be,We=[],re=0;re<se.length&&!((_e-=2)<0);++re)we=se.charCodeAt(re),Ce=we>>8,Be=we%256,We.push(Be),We.push(Ce);return We}(I,T.length-X),T,X,le)}function Q(T,I,X){return I===0&&X===T.length?o.fromByteArray(T):o.fromByteArray(T.slice(I,X))}function P(T,I,X){X=Math.min(T.length,X);for(var le=[],se=I;se<X;){var _e,we,Ce,Be,We=T[se],re=null,V=We>239?4:We>223?3:We>191?2:1;if(se+V<=X)switch(V){case 1:We<128&&(re=We);break;case 2:(192&(_e=T[se+1]))==128&&(Be=(31&We)<<6|63&_e)>127&&(re=Be);break;case 3:_e=T[se+1],we=T[se+2],(192&_e)==128&&(192&we)==128&&(Be=(15&We)<<12|(63&_e)<<6|63&we)>2047&&(Be<55296||Be>57343)&&(re=Be);break;case 4:_e=T[se+1],we=T[se+2],Ce=T[se+3],(192&_e)==128&&(192&we)==128&&(192&Ce)==128&&(Be=(15&We)<<18|(63&_e)<<12|(63&we)<<6|63&Ce)>65535&&Be<1114112&&(re=Be)}re===null?(re=65533,V=1):re>65535&&(re-=65536,le.push(re>>>10&1023|55296),re=56320|1023&re),le.push(re),se+=V}return function(j){var he=j.length;if(he<=4096)return String.fromCharCode.apply(String,j);for(var Me="",Te=0;Te<he;)Me+=String.fromCharCode.apply(String,j.slice(Te,Te+=4096));return Me}(le)}r.Buffer=h,r.SlowBuffer=function(T){return+T!=T&&(T=0),h.alloc(+T)},r.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:function(){try{var T=new Uint8Array(1);return T.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},T.foo()===42&&typeof T.subarray=="function"&&T.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=m(),h.poolSize=8192,h._augment=function(T){return T.__proto__=h.prototype,T},h.from=function(T,I,X){return p(null,T,I,X)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(T,I,X){return function(le,se,_e,we){return d(se),se<=0?c(le,se):_e!==void 0?typeof we=="string"?c(le,se).fill(_e,we):c(le,se).fill(_e):c(le,se)}(null,T,I,X)},h.allocUnsafe=function(T){return x(null,T)},h.allocUnsafeSlow=function(T){return x(null,T)},h.isBuffer=function(T){return!(T==null||!T._isBuffer)},h.compare=function(T,I){if(!h.isBuffer(T)||!h.isBuffer(I))throw new TypeError("Arguments must be Buffers");if(T===I)return 0;for(var X=T.length,le=I.length,se=0,_e=Math.min(X,le);se<_e;++se)if(T[se]!==I[se]){X=T[se],le=I[se];break}return X<le?-1:le<X?1:0},h.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(T,I){if(!u(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return h.alloc(0);var X;if(I===void 0)for(I=0,X=0;X<T.length;++X)I+=T[X].length;var le=h.allocUnsafe(I),se=0;for(X=0;X<T.length;++X){var _e=T[X];if(!h.isBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(le,se),se+=_e.length}return le},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<T;I+=2)g(this,I,I+1);return this},h.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<T;I+=4)g(this,I,I+3),g(this,I+1,I+2);return this},h.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<T;I+=8)g(this,I,I+7),g(this,I+1,I+6),g(this,I+2,I+5),g(this,I+3,I+4);return this},h.prototype.toString=function(){var T=0|this.length;return T===0?"":arguments.length===0?P(this,0,T):E.apply(this,arguments)},h.prototype.equals=function(T){if(!h.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||h.compare(this,T)===0},h.prototype.inspect=function(){var T="",I=r.INSPECT_MAX_BYTES;return this.length>0&&(T=this.toString("hex",0,I).match(/.{2}/g).join(" "),this.length>I&&(T+=" ... ")),"<Buffer "+T+">"},h.prototype.compare=function(T,I,X,le,se){if(!h.isBuffer(T))throw new TypeError("Argument must be a Buffer");if(I===void 0&&(I=0),X===void 0&&(X=T?T.length:0),le===void 0&&(le=0),se===void 0&&(se=this.length),I<0||X>T.length||le<0||se>this.length)throw new RangeError("out of range index");if(le>=se&&I>=X)return 0;if(le>=se)return-1;if(I>=X)return 1;if(this===T)return 0;for(var _e=(se>>>=0)-(le>>>=0),we=(X>>>=0)-(I>>>=0),Ce=Math.min(_e,we),Be=this.slice(le,se),We=T.slice(I,X),re=0;re<Ce;++re)if(Be[re]!==We[re]){_e=Be[re],we=We[re];break}return _e<we?-1:we<_e?1:0},h.prototype.includes=function(T,I,X){return this.indexOf(T,I,X)!==-1},h.prototype.indexOf=function(T,I,X){return q(this,T,I,X,!0)},h.prototype.lastIndexOf=function(T,I,X){return q(this,T,I,X,!1)},h.prototype.write=function(T,I,X,le){if(I===void 0)le="utf8",X=this.length,I=0;else if(X===void 0&&typeof I=="string")le=I,X=this.length,I=0;else{if(!isFinite(I))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");I|=0,isFinite(X)?(X|=0,le===void 0&&(le="utf8")):(le=X,X=void 0)}var se=this.length-I;if((X===void 0||X>se)&&(X=se),T.length>0&&(X<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");for(var _e=!1;;)switch(le){case"hex":return L(this,T,I,X);case"utf8":case"utf-8":return S(this,T,I,X);case"ascii":return R(this,T,I,X);case"latin1":case"binary":return D(this,T,I,X);case"base64":return B(this,T,I,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,T,I,X);default:if(_e)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),_e=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(T,I,X){var le="";X=Math.min(T.length,X);for(var se=I;se<X;++se)le+=String.fromCharCode(127&T[se]);return le}function $(T,I,X){var le="";X=Math.min(T.length,X);for(var se=I;se<X;++se)le+=String.fromCharCode(T[se]);return le}function J(T,I,X){var le=T.length;(!I||I<0)&&(I=0),(!X||X<0||X>le)&&(X=le);for(var se="",_e=I;_e<X;++_e)se+=ge(T[_e]);return se}function me(T,I,X){for(var le=T.slice(I,X),se="",_e=0;_e<le.length;_e+=2)se+=String.fromCharCode(le[_e]+256*le[_e+1]);return se}function W(T,I,X){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(T+I>X)throw new RangeError("Trying to access beyond buffer length")}function ee(T,I,X,le,se,_e){if(!h.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>se||I<_e)throw new RangeError('"value" argument is out of bounds');if(X+le>T.length)throw new RangeError("Index out of range")}function ue(T,I,X,le){I<0&&(I=65535+I+1);for(var se=0,_e=Math.min(T.length-X,2);se<_e;++se)T[X+se]=(I&255<<8*(le?se:1-se))>>>8*(le?se:1-se)}function Z(T,I,X,le){I<0&&(I=4294967295+I+1);for(var se=0,_e=Math.min(T.length-X,4);se<_e;++se)T[X+se]=I>>>8*(le?se:3-se)&255}function ie(T,I,X,le,se,_e){if(X+le>T.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function fe(T,I,X,le,se){return se||ie(T,0,X,4),l.write(T,I,X,le,23,4),X+4}function ye(T,I,X,le,se){return se||ie(T,0,X,8),l.write(T,I,X,le,52,8),X+8}h.prototype.slice=function(T,I){var X,le=this.length;if((T=~~T)<0?(T+=le)<0&&(T=0):T>le&&(T=le),(I=I===void 0?le:~~I)<0?(I+=le)<0&&(I=0):I>le&&(I=le),I<T&&(I=T),h.TYPED_ARRAY_SUPPORT)(X=this.subarray(T,I)).__proto__=h.prototype;else{var se=I-T;X=new h(se,void 0);for(var _e=0;_e<se;++_e)X[_e]=this[_e+T]}return X},h.prototype.readUIntLE=function(T,I,X){T|=0,I|=0,X||W(T,I,this.length);for(var le=this[T],se=1,_e=0;++_e<I&&(se*=256);)le+=this[T+_e]*se;return le},h.prototype.readUIntBE=function(T,I,X){T|=0,I|=0,X||W(T,I,this.length);for(var le=this[T+--I],se=1;I>0&&(se*=256);)le+=this[T+--I]*se;return le},h.prototype.readUInt8=function(T,I){return I||W(T,1,this.length),this[T]},h.prototype.readUInt16LE=function(T,I){return I||W(T,2,this.length),this[T]|this[T+1]<<8},h.prototype.readUInt16BE=function(T,I){return I||W(T,2,this.length),this[T]<<8|this[T+1]},h.prototype.readUInt32LE=function(T,I){return I||W(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},h.prototype.readUInt32BE=function(T,I){return I||W(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},h.prototype.readIntLE=function(T,I,X){T|=0,I|=0,X||W(T,I,this.length);for(var le=this[T],se=1,_e=0;++_e<I&&(se*=256);)le+=this[T+_e]*se;return le>=(se*=128)&&(le-=Math.pow(2,8*I)),le},h.prototype.readIntBE=function(T,I,X){T|=0,I|=0,X||W(T,I,this.length);for(var le=I,se=1,_e=this[T+--le];le>0&&(se*=256);)_e+=this[T+--le]*se;return _e>=(se*=128)&&(_e-=Math.pow(2,8*I)),_e},h.prototype.readInt8=function(T,I){return I||W(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},h.prototype.readInt16LE=function(T,I){I||W(T,2,this.length);var X=this[T]|this[T+1]<<8;return 32768&X?4294901760|X:X},h.prototype.readInt16BE=function(T,I){I||W(T,2,this.length);var X=this[T+1]|this[T]<<8;return 32768&X?4294901760|X:X},h.prototype.readInt32LE=function(T,I){return I||W(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},h.prototype.readInt32BE=function(T,I){return I||W(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},h.prototype.readFloatLE=function(T,I){return I||W(T,4,this.length),l.read(this,T,!0,23,4)},h.prototype.readFloatBE=function(T,I){return I||W(T,4,this.length),l.read(this,T,!1,23,4)},h.prototype.readDoubleLE=function(T,I){return I||W(T,8,this.length),l.read(this,T,!0,52,8)},h.prototype.readDoubleBE=function(T,I){return I||W(T,8,this.length),l.read(this,T,!1,52,8)},h.prototype.writeUIntLE=function(T,I,X,le){T=+T,I|=0,X|=0,le||ee(this,T,I,X,Math.pow(2,8*X)-1,0);var se=1,_e=0;for(this[I]=255&T;++_e<X&&(se*=256);)this[I+_e]=T/se&255;return I+X},h.prototype.writeUIntBE=function(T,I,X,le){T=+T,I|=0,X|=0,le||ee(this,T,I,X,Math.pow(2,8*X)-1,0);var se=X-1,_e=1;for(this[I+se]=255&T;--se>=0&&(_e*=256);)this[I+se]=T/_e&255;return I+X},h.prototype.writeUInt8=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,1,255,0),h.TYPED_ARRAY_SUPPORT||(T=Math.floor(T)),this[I]=255&T,I+1},h.prototype.writeUInt16LE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[I]=255&T,this[I+1]=T>>>8):ue(this,T,I,!0),I+2},h.prototype.writeUInt16BE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[I]=T>>>8,this[I+1]=255&T):ue(this,T,I,!1),I+2},h.prototype.writeUInt32LE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[I+3]=T>>>24,this[I+2]=T>>>16,this[I+1]=T>>>8,this[I]=255&T):Z(this,T,I,!0),I+4},h.prototype.writeUInt32BE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[I]=T>>>24,this[I+1]=T>>>16,this[I+2]=T>>>8,this[I+3]=255&T):Z(this,T,I,!1),I+4},h.prototype.writeIntLE=function(T,I,X,le){if(T=+T,I|=0,!le){var se=Math.pow(2,8*X-1);ee(this,T,I,X,se-1,-se)}var _e=0,we=1,Ce=0;for(this[I]=255&T;++_e<X&&(we*=256);)T<0&&Ce===0&&this[I+_e-1]!==0&&(Ce=1),this[I+_e]=(T/we>>0)-Ce&255;return I+X},h.prototype.writeIntBE=function(T,I,X,le){if(T=+T,I|=0,!le){var se=Math.pow(2,8*X-1);ee(this,T,I,X,se-1,-se)}var _e=X-1,we=1,Ce=0;for(this[I+_e]=255&T;--_e>=0&&(we*=256);)T<0&&Ce===0&&this[I+_e+1]!==0&&(Ce=1),this[I+_e]=(T/we>>0)-Ce&255;return I+X},h.prototype.writeInt8=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,1,127,-128),h.TYPED_ARRAY_SUPPORT||(T=Math.floor(T)),T<0&&(T=255+T+1),this[I]=255&T,I+1},h.prototype.writeInt16LE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[I]=255&T,this[I+1]=T>>>8):ue(this,T,I,!0),I+2},h.prototype.writeInt16BE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[I]=T>>>8,this[I+1]=255&T):ue(this,T,I,!1),I+2},h.prototype.writeInt32LE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[I]=255&T,this[I+1]=T>>>8,this[I+2]=T>>>16,this[I+3]=T>>>24):Z(this,T,I,!0),I+4},h.prototype.writeInt32BE=function(T,I,X){return T=+T,I|=0,X||ee(this,T,I,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),h.TYPED_ARRAY_SUPPORT?(this[I]=T>>>24,this[I+1]=T>>>16,this[I+2]=T>>>8,this[I+3]=255&T):Z(this,T,I,!1),I+4},h.prototype.writeFloatLE=function(T,I,X){return fe(this,T,I,!0,X)},h.prototype.writeFloatBE=function(T,I,X){return fe(this,T,I,!1,X)},h.prototype.writeDoubleLE=function(T,I,X){return ye(this,T,I,!0,X)},h.prototype.writeDoubleBE=function(T,I,X){return ye(this,T,I,!1,X)},h.prototype.copy=function(T,I,X,le){if(X||(X=0),le||le===0||(le=this.length),I>=T.length&&(I=T.length),I||(I=0),le>0&&le<X&&(le=X),le===X||T.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("sourceStart out of bounds");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),T.length-I<le-X&&(le=T.length-I+X);var se,_e=le-X;if(this===T&&X<I&&I<le)for(se=_e-1;se>=0;--se)T[se+I]=this[se+X];else if(_e<1e3||!h.TYPED_ARRAY_SUPPORT)for(se=0;se<_e;++se)T[se+I]=this[se+X];else Uint8Array.prototype.set.call(T,this.subarray(X,X+_e),I);return _e},h.prototype.fill=function(T,I,X,le){if(typeof T=="string"){if(typeof I=="string"?(le=I,I=0,X=this.length):typeof X=="string"&&(le=X,X=this.length),T.length===1){var se=T.charCodeAt(0);se<256&&(T=se)}if(le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!h.isEncoding(le))throw new TypeError("Unknown encoding: "+le)}else typeof T=="number"&&(T&=255);if(I<0||this.length<I||this.length<X)throw new RangeError("Out of range index");if(X<=I)return this;var _e;if(I>>>=0,X=X===void 0?this.length:X>>>0,T||(T=0),typeof T=="number")for(_e=I;_e<X;++_e)this[_e]=T;else{var we=h.isBuffer(T)?T:Ae(new h(T,le).toString()),Ce=we.length;for(_e=0;_e<X-I;++_e)this[_e+I]=we[_e%Ce]}return this};var xe=/[^+\/0-9A-Za-z-_]/g;function ge(T){return T<16?"0"+T.toString(16):T.toString(16)}function Ae(T,I){var X;I=I||1/0;for(var le=T.length,se=null,_e=[],we=0;we<le;++we){if((X=T.charCodeAt(we))>55295&&X<57344){if(!se){if(X>56319){(I-=3)>-1&&_e.push(239,191,189);continue}if(we+1===le){(I-=3)>-1&&_e.push(239,191,189);continue}se=X;continue}if(X<56320){(I-=3)>-1&&_e.push(239,191,189),se=X;continue}X=65536+(se-55296<<10|X-56320)}else se&&(I-=3)>-1&&_e.push(239,191,189);if(se=null,X<128){if((I-=1)<0)break;_e.push(X)}else if(X<2048){if((I-=2)<0)break;_e.push(X>>6|192,63&X|128)}else if(X<65536){if((I-=3)<0)break;_e.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;_e.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return _e}function O(T){return o.toByteArray(function(I){if((I=function(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")}(I).replace(xe,"")).length<2)return"";for(;I.length%4!=0;)I+="=";return I}(T))}function Y(T,I,X,le){for(var se=0;se<le&&!(se+X>=I.length||se>=T.length);++se)I[se+X]=T[se];return se}}).call(this,n(0))},function(a,r){var n,i,o=a.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function m(E){if(n===setTimeout)return setTimeout(E,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(E,0);try{return n(E,0)}catch{try{return n.call(null,E,0)}catch{return n.call(this,E,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:l}catch{n=l}try{i=typeof clearTimeout=="function"?clearTimeout:u}catch{i=u}})();var c,h=[],p=!1,d=-1;function x(){p&&c&&(p=!1,c.length?h=c.concat(h):d=-1,h.length&&M())}function M(){if(!p){var E=m(x);p=!0;for(var g=h.length;g;){for(c=h,h=[];++d<g;)c&&c[d].run();d=-1,g=h.length}c=null,p=!1,function(q){if(i===clearTimeout)return clearTimeout(q);if((i===u||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(q);try{i(q)}catch{try{return i.call(null,q)}catch{return i.call(this,q)}}}(E)}}function A(E,g){this.fun=E,this.array=g}function w(){}o.nextTick=function(E){var g=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)g[q-1]=arguments[q];h.push(new A(E,g)),h.length!==1||p||m(M)},A.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=w,o.addListener=w,o.once=w,o.off=w,o.removeListener=w,o.removeAllListeners=w,o.emit=w,o.prependListener=w,o.prependOnceListener=w,o.listeners=function(E){return[]},o.binding=function(E){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(E){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(a,r,n){(r=a.exports=n(18)).Stream=r,r.Readable=r,r.Writable=n(10),r.Duplex=n(2),r.Transform=n(22),r.PassThrough=n(40)},function(a,r,n){(function(i){function o(u){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(u)}function l(u){return Object.prototype.toString.call(u)}r.isArray=function(u){return Array.isArray?Array.isArray(u):l(u)==="[object Array]"},r.isBoolean=function(u){return typeof u=="boolean"},r.isNull=function(u){return u===null},r.isNullOrUndefined=function(u){return u==null},r.isNumber=function(u){return typeof u=="number"},r.isString=function(u){return typeof u=="string"},r.isSymbol=function(u){return o(u)==="symbol"},r.isUndefined=function(u){return u===void 0},r.isRegExp=function(u){return l(u)==="[object RegExp]"},r.isObject=function(u){return o(u)==="object"&&u!==null},r.isDate=function(u){return l(u)==="[object Date]"},r.isError=function(u){return l(u)==="[object Error]"||u instanceof Error},r.isFunction=function(u){return typeof u=="function"},r.isPrimitive=function(u){return u===null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||o(u)==="symbol"||u===void 0},r.isBuffer=i.isBuffer}).call(this,n(3).Buffer)},function(a,r,n){(function(i){!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?a.exports={nextTick:function(o,l,u,m){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var c,h,p=arguments.length;switch(p){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick(function(){o.call(null,l)});case 3:return i.nextTick(function(){o.call(null,l,u)});case 4:return i.nextTick(function(){o.call(null,l,u,m)});default:for(c=new Array(p-1),h=0;h<c.length;)c[h++]=arguments[h];return i.nextTick(function(){o.apply(null,c)})}}}:a.exports=i}).call(this,n(4))},function(a,r,n){function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(g)}var o,l=(typeof Reflect>"u"?"undefined":i(Reflect))==="object"?Reflect:null,u=l&&typeof l.apply=="function"?l.apply:function(g,q,k){return Function.prototype.apply.call(g,q,k)};o=l&&typeof l.ownKeys=="function"?l.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var m=Number.isNaN||function(g){return g!=g};function c(){c.init.call(this)}a.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var h=10;function p(g){return g._maxListeners===void 0?c.defaultMaxListeners:g._maxListeners}function d(g,q,k,L){var S,R,D,B;if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+i(k));if((R=g._events)===void 0?(R=g._events=Object.create(null),g._eventsCount=0):(R.newListener!==void 0&&(g.emit("newListener",q,k.listener?k.listener:k),R=g._events),D=R[q]),D===void 0)D=R[q]=k,++g._eventsCount;else if(typeof D=="function"?D=R[q]=L?[k,D]:[D,k]:L?D.unshift(k):D.push(k),(S=p(g))>0&&D.length>S&&!D.warned){D.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(q)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=g,N.type=q,N.count=D.length,B=N,console&&console.warn&&console.warn(B)}return g}function x(){for(var g=[],q=0;q<arguments.length;q++)g.push(arguments[q]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,u(this.listener,this.target,g))}function M(g,q,k){var L={fired:!1,wrapFn:void 0,target:g,type:q,listener:k},S=x.bind(L);return S.listener=k,L.wrapFn=S,S}function A(g,q,k){var L=g._events;if(L===void 0)return[];var S=L[q];return S===void 0?[]:typeof S=="function"?k?[S.listener||S]:[S]:k?function(R){for(var D=new Array(R.length),B=0;B<D.length;++B)D[B]=R[B].listener||R[B];return D}(S):E(S,S.length)}function w(g){var q=this._events;if(q!==void 0){var k=q[g];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}function E(g,q){for(var k=new Array(q),L=0;L<q;++L)k[L]=g[L];return k}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(g){if(typeof g!="number"||g<0||m(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");h=g}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||m(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},c.prototype.getMaxListeners=function(){return p(this)},c.prototype.emit=function(g){for(var q=[],k=1;k<arguments.length;k++)q.push(arguments[k]);var L=g==="error",S=this._events;if(S!==void 0)L=L&&S.error===void 0;else if(!L)return!1;if(L){var R;if(q.length>0&&(R=q[0]),R instanceof Error)throw R;var D=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw D.context=R,D}var B=S[g];if(B===void 0)return!1;if(typeof B=="function")u(B,this,q);else{var N=B.length,Q=E(B,N);for(k=0;k<N;++k)u(Q[k],this,q)}return!0},c.prototype.addListener=function(g,q){return d(this,g,q,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(g,q){return d(this,g,q,!0)},c.prototype.once=function(g,q){if(typeof q!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+i(q));return this.on(g,M(this,g,q)),this},c.prototype.prependOnceListener=function(g,q){if(typeof q!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+i(q));return this.prependListener(g,M(this,g,q)),this},c.prototype.removeListener=function(g,q){var k,L,S,R,D;if(typeof q!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+i(q));if((L=this._events)===void 0)return this;if((k=L[g])===void 0)return this;if(k===q||k.listener===q)--this._eventsCount==0?this._events=Object.create(null):(delete L[g],L.removeListener&&this.emit("removeListener",g,k.listener||q));else if(typeof k!="function"){for(S=-1,R=k.length-1;R>=0;R--)if(k[R]===q||k[R].listener===q){D=k[R].listener,S=R;break}if(S<0)return this;S===0?k.shift():function(B,N){for(;N+1<B.length;N++)B[N]=B[N+1];B.pop()}(k,S),k.length===1&&(L[g]=k[0]),L.removeListener!==void 0&&this.emit("removeListener",g,D||q)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(g){var q,k,L;if((k=this._events)===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete k[g]),this;if(arguments.length===0){var S,R=Object.keys(k);for(L=0;L<R.length;++L)(S=R[L])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(q=k[g])=="function")this.removeListener(g,q);else if(q!==void 0)for(L=q.length-1;L>=0;L--)this.removeListener(g,q[L]);return this},c.prototype.listeners=function(g){return A(this,g,!0)},c.prototype.rawListeners=function(g){return A(this,g,!1)},c.listenerCount=function(g,q){return typeof g.listenerCount=="function"?g.listenerCount(q):w.call(g,q)},c.prototype.listenerCount=w,c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(a,r,n){var i=n(3),o=i.Buffer;function l(m,c){for(var h in m)c[h]=m[h]}function u(m,c,h){return o(m,c,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?a.exports=i:(l(i,r),r.Buffer=u),l(o,u),u.from=function(m,c,h){if(typeof m=="number")throw new TypeError("Argument must not be a number");return o(m,c,h)},u.alloc=function(m,c,h){if(typeof m!="number")throw new TypeError("Argument must be a number");var p=o(m);return c!==void 0?typeof h=="string"?p.fill(c,h):p.fill(c):p.fill(0),p},u.allocUnsafe=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return o(m)},u.allocUnsafeSlow=function(m){if(typeof m!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(m)}},function(a,r,n){(function(i,o,l){var u=n(7);function m(Q){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(U,$,J){var me=U.entry;for(U.entry=null;me;){var W=me.callback;$.pendingcb--,W(J),me=me.next}$.corkedRequestsFree?$.corkedRequestsFree.next=U:$.corkedRequestsFree=U})(P,Q)}}a.exports=k;var c,h=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:u.nextTick;k.WritableState=q;var p=n(6);p.inherits=n(1);var d={deprecate:n(39)},x=n(19),M=n(9).Buffer,A=l.Uint8Array||function(){},w,E=n(20);function g(){}function q(Q,P){c=c||n(2),Q=Q||{};var U=P instanceof c;this.objectMode=!!Q.objectMode,U&&(this.objectMode=this.objectMode||!!Q.writableObjectMode);var $=Q.highWaterMark,J=Q.writableHighWaterMark,me=this.objectMode?16:16384;this.highWaterMark=$||$===0?$:U&&(J||J===0)?J:me,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=Q.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ee){(function(ue,Z){var ie=ue._writableState,fe=ie.sync,ye=ie.writecb;if(function(ge){ge.writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0}(ie),Z)(function(ge,Ae,O,Y,T){--Ae.pendingcb,O?(u.nextTick(T,Y),u.nextTick(N,ge,Ae),ge._writableState.errorEmitted=!0,ge.emit("error",Y)):(T(Y),ge._writableState.errorEmitted=!0,ge.emit("error",Y),N(ge,Ae))})(ue,ie,fe,Z,ye);else{var xe=D(ie);xe||ie.corked||ie.bufferProcessing||!ie.bufferedRequest||R(ue,ie),fe?h(S,ue,ie,xe,ye):S(ue,ie,xe,ye)}})(P,ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new m(this)}function k(Q){if(c=c||n(2),!(w.call(k,this)||this instanceof c))return new k(Q);this._writableState=new q(Q,this),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),x.call(this)}function L(Q,P,U,$,J,me,W){P.writelen=$,P.writecb=W,P.writing=!0,P.sync=!0,U?Q._writev(J,P.onwrite):Q._write(J,me,P.onwrite),P.sync=!1}function S(Q,P,U,$){U||function(J,me){me.length===0&&me.needDrain&&(me.needDrain=!1,J.emit("drain"))}(Q,P),P.pendingcb--,$(),N(Q,P)}function R(Q,P){P.bufferProcessing=!0;var U=P.bufferedRequest;if(Q._writev&&U&&U.next){var $=P.bufferedRequestCount,J=new Array($),me=P.corkedRequestsFree;me.entry=U;for(var W=0,ee=!0;U;)J[W]=U,U.isBuf||(ee=!1),U=U.next,W+=1;J.allBuffers=ee,L(Q,P,!0,P.length,J,"",me.finish),P.pendingcb++,P.lastBufferedRequest=null,me.next?(P.corkedRequestsFree=me.next,me.next=null):P.corkedRequestsFree=new m(P),P.bufferedRequestCount=0}else{for(;U;){var ue=U.chunk,Z=U.encoding,ie=U.callback;if(L(Q,P,!1,P.objectMode?1:ue.length,ue,Z,ie),U=U.next,P.bufferedRequestCount--,P.writing)break}U===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=U,P.bufferProcessing=!1}function D(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function B(Q,P){Q._final(function(U){P.pendingcb--,U&&Q.emit("error",U),P.prefinished=!0,Q.emit("prefinish"),N(Q,P)})}function N(Q,P){var U=D(P);return U&&(function($,J){J.prefinished||J.finalCalled||(typeof $._final=="function"?(J.pendingcb++,J.finalCalled=!0,u.nextTick(B,$,J)):(J.prefinished=!0,$.emit("prefinish")))}(Q,P),P.pendingcb===0&&(P.finished=!0,Q.emit("finish"))),U}p.inherits(k,x),q.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,P=[];Q;)P.push(Q),Q=Q.next;return P},function(){try{Object.defineProperty(q.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(Q){return!!w.call(this,Q)||this===k&&Q&&Q._writableState instanceof q}})):w=function(Q){return Q instanceof this},k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},k.prototype.write=function(Q,P,U){var $,J=this._writableState,me=!1,W=!J.objectMode&&($=Q,M.isBuffer($)||$ instanceof A);return W&&!M.isBuffer(Q)&&(Q=function(ee){return M.from(ee)}(Q)),typeof P=="function"&&(U=P,P=null),W?P="buffer":P||(P=J.defaultEncoding),typeof U!="function"&&(U=g),J.ended?function(ee,ue){var Z=new Error("write after end");ee.emit("error",Z),u.nextTick(ue,Z)}(this,U):(W||function(ee,ue,Z,ie){var fe=!0,ye=!1;return Z===null?ye=new TypeError("May not write null values to stream"):typeof Z=="string"||Z===void 0||ue.objectMode||(ye=new TypeError("Invalid non-string/buffer chunk")),ye&&(ee.emit("error",ye),u.nextTick(ie,ye),fe=!1),fe}(this,J,Q,U))&&(J.pendingcb++,me=function(ee,ue,Z,ie,fe,ye){if(!Z){var xe=function(Y,T,I){return Y.objectMode||Y.decodeStrings===!1||typeof T!="string"||(T=M.from(T,I)),T}(ue,ie,fe);ie!==xe&&(Z=!0,fe="buffer",ie=xe)}var ge=ue.objectMode?1:ie.length;ue.length+=ge;var Ae=ue.length<ue.highWaterMark;if(Ae||(ue.needDrain=!0),ue.writing||ue.corked){var O=ue.lastBufferedRequest;ue.lastBufferedRequest={chunk:ie,encoding:fe,isBuf:Z,callback:ye,next:null},O?O.next=ue.lastBufferedRequest:ue.bufferedRequest=ue.lastBufferedRequest,ue.bufferedRequestCount+=1}else L(ee,ue,!1,ge,ie,fe,ye);return Ae}(this,J,W,Q,P,U)),me},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,Q.writing||Q.corked||Q.finished||Q.bufferProcessing||!Q.bufferedRequest||R(this,Q))},k.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(Q,P,U){U(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(Q,P,U){var $=this._writableState;typeof Q=="function"?(U=Q,Q=null,P=null):typeof P=="function"&&(U=P,P=null),Q!=null&&this.write(Q,P),$.corked&&($.corked=1,this.uncork()),$.ending||$.finished||function(J,me,W){me.ending=!0,N(J,me),W&&(me.finished?u.nextTick(W):J.once("finish",W)),me.ended=!0,J.writable=!1}(this,$,U)},Object.defineProperty(k.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),k.prototype.destroy=E.destroy,k.prototype._undestroy=E.undestroy,k.prototype._destroy=function(Q,P){this.end(),P(Q)}}).call(this,n(4),n(21).setImmediate,n(0))},function(a,r,n){var i=n(9).Buffer,o=i.isEncoding||function(A){switch((A=""+A)&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(A){var w;switch(this.encoding=function(E){var g=function(q){if(!q)return"utf8";for(var k;;)switch(q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return q;default:if(k)return;q=(""+q).toLowerCase(),k=!0}}(E);if(typeof g!="string"&&(i.isEncoding===o||!o(E)))throw new Error("Unknown encoding: "+E);return g||E}(A),this.encoding){case"utf16le":this.text=c,this.end=h,w=4;break;case"utf8":this.fillLast=m,w=4;break;case"base64":this.text=p,this.end=d,w=3;break;default:return this.write=x,void(this.end=M)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(w)}function u(A){return A<=127?0:A>>5==6?2:A>>4==14?3:A>>3==30?4:A>>6==2?-1:-2}function m(A){var w=this.lastTotal-this.lastNeed,E=function(g,q,k){if((192&q[0])!=128)return g.lastNeed=0,"�";if(g.lastNeed>1&&q.length>1){if((192&q[1])!=128)return g.lastNeed=1,"�";if(g.lastNeed>2&&q.length>2&&(192&q[2])!=128)return g.lastNeed=2,"�"}}(this,A);return E!==void 0?E:this.lastNeed<=A.length?(A.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,w,0,A.length),void(this.lastNeed-=A.length))}function c(A,w){if((A.length-w)%2==0){var E=A.toString("utf16le",w);if(E){var g=E.charCodeAt(E.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",w,A.length-1)}function h(A){var w=A&&A.length?this.write(A):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,E)}return w}function p(A,w){var E=(A.length-w)%3;return E===0?A.toString("base64",w):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",w,A.length-E))}function d(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function x(A){return A.toString(this.encoding)}function M(A){return A&&A.length?this.write(A):""}r.StringDecoder=l,l.prototype.write=function(A){if(A.length===0)return"";var w,E;if(this.lastNeed){if((w=this.fillLast(A))===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<A.length?w?w+this.text(A,E):this.text(A,E):w||""},l.prototype.end=function(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+"�":w},l.prototype.text=function(A,w){var E=function(q,k,L){var S=k.length-1;if(S<L)return 0;var R=u(k[S]);return R>=0?(R>0&&(q.lastNeed=R-1),R):--S<L||R===-2?0:(R=u(k[S]))>=0?(R>0&&(q.lastNeed=R-2),R):--S<L||R===-2?0:(R=u(k[S]))>=0?(R>0&&(R===2?R=0:q.lastNeed=R-3),R):0}(this,A,w);if(!this.lastNeed)return A.toString("utf8",w);this.lastTotal=E;var g=A.length-(E-this.lastNeed);return A.copy(this.lastChar,0,g),A.toString("utf8",w,g)},l.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length}},function(a,r,n){function i(S){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}var o=n(44),l=n(46);function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=L,r.resolve=function(S,R){return L(S,!1,!0).resolve(R)},r.resolveObject=function(S,R){return S?L(S,!1,!0).resolveObject(R):R},r.format=function(S){return l.isString(S)&&(S=L(S)),S instanceof u?S.format():u.prototype.format.call(S)},r.Url=u;var m=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),d=["'"].concat(p),x=["%","/","?",";","#"].concat(d),M=["/","?","#"],A=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=n(47);function L(S,R,D){if(S&&l.isObject(S)&&S instanceof u)return S;var B=new u;return B.parse(S,R,D),B}u.prototype.parse=function(S,R,D){if(!l.isString(S))throw new TypeError("Parameter 'url' must be a string, not "+i(S));var B=S.indexOf("?"),N=B!==-1&&B<S.indexOf("#")?"?":"#",Q=S.split(N);Q[0]=Q[0].replace(/\\/g,"/");var P=S=Q.join(N);if(P=P.trim(),!D&&S.split("#").length===1){var U=h.exec(P);if(U)return this.path=P,this.href=P,this.pathname=U[1],U[2]?(this.search=U[2],this.query=R?k.parse(this.search.substr(1)):this.search.substr(1)):R&&(this.search="",this.query={}),this}var $=m.exec(P);if($){var J=($=$[0]).toLowerCase();this.protocol=J,P=P.substr($.length)}if(D||$||P.match(/^\/\/[^@\/]+@[^@\/]+/)){var me=P.substr(0,2)==="//";!me||$&&g[$]||(P=P.substr(2),this.slashes=!0)}if(!g[$]&&(me||$&&!q[$])){for(var W,ee,ue=-1,Z=0;Z<M.length;Z++)(ie=P.indexOf(M[Z]))!==-1&&(ue===-1||ie<ue)&&(ue=ie);for((ee=ue===-1?P.lastIndexOf("@"):P.lastIndexOf("@",ue))!==-1&&(W=P.slice(0,ee),P=P.slice(ee+1),this.auth=decodeURIComponent(W)),ue=-1,Z=0;Z<x.length;Z++){var ie;(ie=P.indexOf(x[Z]))!==-1&&(ue===-1||ie<ue)&&(ue=ie)}ue===-1&&(ue=P.length),this.host=P.slice(0,ue),P=P.slice(ue),this.parseHost(),this.hostname=this.hostname||"";var fe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!fe)for(var ye=this.hostname.split(/\./),xe=(Z=0,ye.length);Z<xe;Z++){var ge=ye[Z];if(ge&&!ge.match(A)){for(var Ae="",O=0,Y=ge.length;O<Y;O++)ge.charCodeAt(O)>127?Ae+="x":Ae+=ge[O];if(!Ae.match(A)){var T=ye.slice(0,Z),I=ye.slice(Z+1),X=ge.match(w);X&&(T.push(X[1]),I.unshift(X[2])),I.length&&(P="/"+I.join(".")+P),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),fe||(this.hostname=o.toASCII(this.hostname));var le=this.port?":"+this.port:"",se=this.hostname||"";this.host=se+le,this.href+=this.host,fe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),P[0]!=="/"&&(P="/"+P))}if(!E[J])for(Z=0,xe=d.length;Z<xe;Z++){var _e=d[Z];if(P.indexOf(_e)!==-1){var we=encodeURIComponent(_e);we===_e&&(we=escape(_e)),P=P.split(_e).join(we)}}var Ce=P.indexOf("#");Ce!==-1&&(this.hash=P.substr(Ce),P=P.slice(0,Ce));var Be=P.indexOf("?");if(Be!==-1?(this.search=P.substr(Be),this.query=P.substr(Be+1),R&&(this.query=k.parse(this.query)),P=P.slice(0,Be)):R&&(this.search="",this.query={}),P&&(this.pathname=P),q[J]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){le=this.pathname||"";var We=this.search||"";this.path=le+We}return this.href=this.format(),this},u.prototype.format=function(){var S=this.auth||"";S&&(S=(S=encodeURIComponent(S)).replace(/%3A/i,":"),S+="@");var R=this.protocol||"",D=this.pathname||"",B=this.hash||"",N=!1,Q="";this.host?N=S+this.host:this.hostname&&(N=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(Q=k.stringify(this.query));var P=this.search||Q&&"?"+Q||"";return R&&R.substr(-1)!==":"&&(R+=":"),this.slashes||(!R||q[R])&&N!==!1?(N="//"+(N||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):N||(N=""),B&&B.charAt(0)!=="#"&&(B="#"+B),P&&P.charAt(0)!=="?"&&(P="?"+P),R+N+(D=D.replace(/[?#]/g,function(U){return encodeURIComponent(U)}))+(P=P.replace("#","%23"))+B},u.prototype.resolve=function(S){return this.resolveObject(L(S,!1,!0)).format()},u.prototype.resolveObject=function(S){if(l.isString(S)){var R=new u;R.parse(S,!1,!0),S=R}for(var D=new u,B=Object.keys(this),N=0;N<B.length;N++){var Q=B[N];D[Q]=this[Q]}if(D.hash=S.hash,S.href==="")return D.href=D.format(),D;if(S.slashes&&!S.protocol){for(var P=Object.keys(S),U=0;U<P.length;U++){var $=P[U];$!=="protocol"&&(D[$]=S[$])}return q[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/"),D.href=D.format(),D}if(S.protocol&&S.protocol!==D.protocol){if(!q[S.protocol]){for(var J=Object.keys(S),me=0;me<J.length;me++){var W=J[me];D[W]=S[W]}return D.href=D.format(),D}if(D.protocol=S.protocol,S.host||g[S.protocol])D.pathname=S.pathname;else{for(var ee=(S.pathname||"").split("/");ee.length&&!(S.host=ee.shift()););S.host||(S.host=""),S.hostname||(S.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),D.pathname=ee.join("/")}if(D.search=S.search,D.query=S.query,D.host=S.host||"",D.auth=S.auth,D.hostname=S.hostname||S.host,D.port=S.port,D.pathname||D.search){var ue=D.pathname||"",Z=D.search||"";D.path=ue+Z}return D.slashes=D.slashes||S.slashes,D.href=D.format(),D}var ie=D.pathname&&D.pathname.charAt(0)==="/",fe=S.host||S.pathname&&S.pathname.charAt(0)==="/",ye=fe||ie||D.host&&S.pathname,xe=ye,ge=D.pathname&&D.pathname.split("/")||[],Ae=(ee=S.pathname&&S.pathname.split("/")||[],D.protocol&&!q[D.protocol]);if(Ae&&(D.hostname="",D.port=null,D.host&&(ge[0]===""?ge[0]=D.host:ge.unshift(D.host)),D.host="",S.protocol&&(S.hostname=null,S.port=null,S.host&&(ee[0]===""?ee[0]=S.host:ee.unshift(S.host)),S.host=null),ye=ye&&(ee[0]===""||ge[0]==="")),fe)D.host=S.host||S.host===""?S.host:D.host,D.hostname=S.hostname||S.hostname===""?S.hostname:D.hostname,D.search=S.search,D.query=S.query,ge=ee;else if(ee.length)ge||(ge=[]),ge.pop(),ge=ge.concat(ee),D.search=S.search,D.query=S.query;else if(!l.isNullOrUndefined(S.search))return Ae&&(D.hostname=D.host=ge.shift(),(X=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=X.shift(),D.host=D.hostname=X.shift())),D.search=S.search,D.query=S.query,l.isNull(D.pathname)&&l.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D;if(!ge.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var O=ge.slice(-1)[0],Y=(D.host||S.host||ge.length>1)&&(O==="."||O==="..")||O==="",T=0,I=ge.length;I>=0;I--)(O=ge[I])==="."?ge.splice(I,1):O===".."?(ge.splice(I,1),T++):T&&(ge.splice(I,1),T--);if(!ye&&!xe)for(;T--;T)ge.unshift("..");!ye||ge[0]===""||ge[0]&&ge[0].charAt(0)==="/"||ge.unshift(""),Y&&ge.join("/").substr(-1)!=="/"&&ge.push("");var X,le=ge[0]===""||ge[0]&&ge[0].charAt(0)==="/";return Ae&&(D.hostname=D.host=le?"":ge.length?ge.shift():"",(X=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=X.shift(),D.host=D.hostname=X.shift())),(ye=ye||D.host&&ge.length)&&!le&&ge.unshift(""),ge.length?D.pathname=ge.join("/"):(D.pathname=null,D.path=null),l.isNull(D.pathname)&&l.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=S.auth||D.auth,D.slashes=D.slashes||S.slashes,D.href=D.format(),D},u.prototype.parseHost=function(){var S=this.host,R=c.exec(S);R&&((R=R[0])!==":"&&(this.port=R.substr(1)),S=S.substr(0,S.length-R.length)),S&&(this.hostname=S)}},function(a,r){(function(){r.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},function(a,r,n){(function(i){var o=n(32),l=n(17),u=n(42),m=n(43),c=n(12),h=r;h.request=function(p,d){p=typeof p=="string"?c.parse(p):u(p);var x=i.location.protocol.search(/^https?:$/)===-1?"http:":"",M=p.protocol||x,A=p.hostname||p.host,w=p.port,E=p.path||"/";A&&A.indexOf(":")!==-1&&(A="["+A+"]"),p.url=(A?M+"//"+A:"")+(w?":"+w:"")+E,p.method=(p.method||"GET").toUpperCase(),p.headers=p.headers||{};var g=new o(p);return d&&g.on("response",d),g},h.get=function(p,d){var x=h.request(p,d);return x.end(),x},h.ClientRequest=o,h.IncomingMessage=l.IncomingMessage,h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.globalAgent=new h.Agent,h.STATUS_CODES=m,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(0))},function(a,r){var n={}.toString;a.exports=Array.isArray||function(i){return n.call(i)=="[object Array]"}},function(a,r,n){(function(i){r.fetch=h(i.fetch)&&h(i.ReadableStream),r.writableStream=h(i.WritableStream),r.abortController=h(i.AbortController),r.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),r.blobConstructor=!0}catch{}var o;function l(){if(o!==void 0)return o;if(i.XMLHttpRequest){o=new i.XMLHttpRequest;try{o.open("GET",i.XDomainRequest?"/":"https://example.com")}catch{o=null}}else o=null;return o}function u(p){var d=l();if(!d)return!1;try{return d.responseType=p,d.responseType===p}catch{}return!1}var m=i.ArrayBuffer!==void 0,c=m&&h(i.ArrayBuffer.prototype.slice);function h(p){return typeof p=="function"}r.arraybuffer=r.fetch||m&&u("arraybuffer"),r.msstream=!r.fetch&&c&&u("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&m&&u("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!l()&&h(l().overrideMimeType),r.vbArray=h(i.VBArray),o=null}).call(this,n(0))},function(a,r,n){(function(i,o,l){var u=n(16),m=n(1),c=n(5),h=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},p=r.IncomingMessage=function(d,x,M,A){var w=this;if(c.Readable.call(w),w._mode=M,w.headers={},w.rawHeaders=[],w.trailers={},w.rawTrailers=[],w.on("end",function(){i.nextTick(function(){w.emit("close")})}),M==="fetch"){if(w._fetchResponse=x,w.url=x.url,w.statusCode=x.status,w.statusMessage=x.statusText,x.headers.forEach(function(L,S){w.headers[S.toLowerCase()]=L,w.rawHeaders.push(S,L)}),u.writableStream){var E=new WritableStream({write:function(L){return new Promise(function(S,R){w._destroyed?R():w.push(new l(L))?S():w._resumeFetch=S})},close:function(){o.clearTimeout(A),w._destroyed||w.push(null)},abort:function(L){w._destroyed||w.emit("error",L)}});try{return void x.body.pipeTo(E).catch(function(L){o.clearTimeout(A),w._destroyed||w.emit("error",L)})}catch{}}var g=x.body.getReader();(function L(){g.read().then(function(S){if(!w._destroyed){if(S.done)return o.clearTimeout(A),void w.push(null);w.push(new l(S.value)),L()}}).catch(function(S){o.clearTimeout(A),w._destroyed||w.emit("error",S)})})()}else if(w._xhr=d,w._pos=0,w.url=d.responseURL,w.statusCode=d.status,w.statusMessage=d.statusText,d.getAllResponseHeaders().split(/\r?\n/).forEach(function(L){var S=L.match(/^([^:]+):\s*(.*)/);if(S){var R=S[1].toLowerCase();R==="set-cookie"?(w.headers[R]===void 0&&(w.headers[R]=[]),w.headers[R].push(S[2])):w.headers[R]!==void 0?w.headers[R]+=", "+S[2]:w.headers[R]=S[2],w.rawHeaders.push(S[1],S[2])}}),w._charset="x-user-defined",!u.overrideMimeType){var q=w.rawHeaders["mime-type"];if(q){var k=q.match(/;\s*charset=([^;])(;|$)/);k&&(w._charset=k[1].toLowerCase())}w._charset||(w._charset="utf-8")}};m(p,c.Readable),p.prototype._read=function(){var d=this._resumeFetch;d&&(this._resumeFetch=null,d())},p.prototype._onXHRProgress=function(){var d=this,x=d._xhr,M=null;switch(d._mode){case"text:vbarray":if(x.readyState!==h.DONE)break;try{M=new o.VBArray(x.responseBody).toArray()}catch{}if(M!==null){d.push(new l(M));break}case"text":try{M=x.responseText}catch{d._mode="text:vbarray";break}if(M.length>d._pos){var A=M.substr(d._pos);if(d._charset==="x-user-defined"){for(var w=new l(A.length),E=0;E<A.length;E++)w[E]=255&A.charCodeAt(E);d.push(w)}else d.push(A,d._charset);d._pos=M.length}break;case"arraybuffer":if(x.readyState!==h.DONE||!x.response)break;M=x.response,d.push(new l(new Uint8Array(M)));break;case"moz-chunked-arraybuffer":if(M=x.response,x.readyState!==h.LOADING||!M)break;d.push(new l(new Uint8Array(M)));break;case"ms-stream":if(M=x.response,x.readyState!==h.LOADING)break;var g=new o.MSStreamReader;g.onprogress=function(){g.result.byteLength>d._pos&&(d.push(new l(new Uint8Array(g.result.slice(d._pos)))),d._pos=g.result.byteLength)},g.onload=function(){d.push(null)},g.readAsArrayBuffer(M)}d._xhr.readyState===h.DONE&&d._mode!=="ms-stream"&&d.push(null)}}).call(this,n(4),n(0),n(3).Buffer)},function(a,r,n){(function(i,o){var l=n(7);a.exports=L;var u,m=n(15);L.ReadableState=k,n(8).EventEmitter;var c=function(Z,ie){return Z.listeners(ie).length},h=n(19),p=n(9).Buffer,d=i.Uint8Array||function(){},x=n(6);x.inherits=n(1);var M=n(35),A=void 0;A=M&&M.debuglog?M.debuglog("stream"):function(){};var w,E=n(36),g=n(20);x.inherits(L,h);var q=["error","close","destroy","pause","resume"];function k(Z,ie){Z=Z||{};var fe=ie instanceof(u=u||n(2));this.objectMode=!!Z.objectMode,fe&&(this.objectMode=this.objectMode||!!Z.readableObjectMode);var ye=Z.highWaterMark,xe=Z.readableHighWaterMark,ge=this.objectMode?16:16384;this.highWaterMark=ye||ye===0?ye:fe&&(xe||xe===0)?xe:ge,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(w||(w=n(11).StringDecoder),this.decoder=new w(Z.encoding),this.encoding=Z.encoding)}function L(Z){if(u=u||n(2),!(this instanceof L))return new L(Z);this._readableState=new k(Z,this),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),h.call(this)}function S(Z,ie,fe,ye,xe){var ge,Ae=Z._readableState;return ie===null?(Ae.reading=!1,function(O,Y){if(!Y.ended){if(Y.decoder){var T=Y.decoder.end();T&&T.length&&(Y.buffer.push(T),Y.length+=Y.objectMode?1:T.length)}Y.ended=!0,B(O)}}(Z,Ae)):(xe||(ge=function(O,Y){var T;I=Y,p.isBuffer(I)||I instanceof d||typeof Y=="string"||Y===void 0||O.objectMode||(T=new TypeError("Invalid non-string/buffer chunk"));var I;return T}(Ae,ie)),ge?Z.emit("error",ge):Ae.objectMode||ie&&ie.length>0?(typeof ie=="string"||Ae.objectMode||Object.getPrototypeOf(ie)===p.prototype||(ie=function(O){return p.from(O)}(ie)),ye?Ae.endEmitted?Z.emit("error",new Error("stream.unshift() after end event")):R(Z,Ae,ie,!0):Ae.ended?Z.emit("error",new Error("stream.push() after EOF")):(Ae.reading=!1,Ae.decoder&&!fe?(ie=Ae.decoder.write(ie),Ae.objectMode||ie.length!==0?R(Z,Ae,ie,!1):Q(Z,Ae)):R(Z,Ae,ie,!1))):ye||(Ae.reading=!1)),function(O){return!O.ended&&(O.needReadable||O.length<O.highWaterMark||O.length===0)}(Ae)}function R(Z,ie,fe,ye){ie.flowing&&ie.length===0&&!ie.sync?(Z.emit("data",fe),Z.read(0)):(ie.length+=ie.objectMode?1:fe.length,ye?ie.buffer.unshift(fe):ie.buffer.push(fe),ie.needReadable&&B(Z)),Q(Z,ie)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),L.prototype.destroy=g.destroy,L.prototype._undestroy=g.undestroy,L.prototype._destroy=function(Z,ie){this.push(null),ie(Z)},L.prototype.push=function(Z,ie){var fe,ye=this._readableState;return ye.objectMode?fe=!0:typeof Z=="string"&&((ie=ie||ye.defaultEncoding)!==ye.encoding&&(Z=p.from(Z,ie),ie=""),fe=!0),S(this,Z,ie,!1,fe)},L.prototype.unshift=function(Z){return S(this,Z,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(Z){return w||(w=n(11).StringDecoder),this._readableState.decoder=new w(Z),this._readableState.encoding=Z,this};function D(Z,ie){return Z<=0||ie.length===0&&ie.ended?0:ie.objectMode?1:Z!=Z?ie.flowing&&ie.length?ie.buffer.head.data.length:ie.length:(Z>ie.highWaterMark&&(ie.highWaterMark=function(fe){return fe>=8388608?fe=8388608:(fe--,fe|=fe>>>1,fe|=fe>>>2,fe|=fe>>>4,fe|=fe>>>8,fe|=fe>>>16,fe++),fe}(Z)),Z<=ie.length?Z:ie.ended?ie.length:(ie.needReadable=!0,0))}function B(Z){var ie=Z._readableState;ie.needReadable=!1,ie.emittedReadable||(A("emitReadable",ie.flowing),ie.emittedReadable=!0,ie.sync?l.nextTick(N,Z):N(Z))}function N(Z){A("emit readable"),Z.emit("readable"),J(Z)}function Q(Z,ie){ie.readingMore||(ie.readingMore=!0,l.nextTick(P,Z,ie))}function P(Z,ie){for(var fe=ie.length;!ie.reading&&!ie.flowing&&!ie.ended&&ie.length<ie.highWaterMark&&(A("maybeReadMore read 0"),Z.read(0),fe!==ie.length);)fe=ie.length;ie.readingMore=!1}function U(Z){A("readable nexttick read 0"),Z.read(0)}function $(Z,ie){ie.reading||(A("resume read 0"),Z.read(0)),ie.resumeScheduled=!1,ie.awaitDrain=0,Z.emit("resume"),J(Z),ie.flowing&&!ie.reading&&Z.read(0)}function J(Z){var ie=Z._readableState;for(A("flow",ie.flowing);ie.flowing&&Z.read()!==null;);}function me(Z,ie){return ie.length===0?null:(ie.objectMode?fe=ie.buffer.shift():!Z||Z>=ie.length?(fe=ie.decoder?ie.buffer.join(""):ie.buffer.length===1?ie.buffer.head.data:ie.buffer.concat(ie.length),ie.buffer.clear()):fe=function(ye,xe,ge){var Ae;return ye<xe.head.data.length?(Ae=xe.head.data.slice(0,ye),xe.head.data=xe.head.data.slice(ye)):Ae=ye===xe.head.data.length?xe.shift():ge?function(O,Y){var T=Y.head,I=1,X=T.data;for(O-=X.length;T=T.next;){var le=T.data,se=O>le.length?le.length:O;if(se===le.length?X+=le:X+=le.slice(0,O),(O-=se)===0){se===le.length?(++I,T.next?Y.head=T.next:Y.head=Y.tail=null):(Y.head=T,T.data=le.slice(se));break}++I}return Y.length-=I,X}(ye,xe):function(O,Y){var T=p.allocUnsafe(O),I=Y.head,X=1;for(I.data.copy(T),O-=I.data.length;I=I.next;){var le=I.data,se=O>le.length?le.length:O;if(le.copy(T,T.length-O,0,se),(O-=se)===0){se===le.length?(++X,I.next?Y.head=I.next:Y.head=Y.tail=null):(Y.head=I,I.data=le.slice(se));break}++X}return Y.length-=X,T}(ye,xe),Ae}(Z,ie.buffer,ie.decoder),fe);var fe}function W(Z){var ie=Z._readableState;if(ie.length>0)throw new Error('"endReadable()" called on non-empty stream');ie.endEmitted||(ie.ended=!0,l.nextTick(ee,ie,Z))}function ee(Z,ie){Z.endEmitted||Z.length!==0||(Z.endEmitted=!0,ie.readable=!1,ie.emit("end"))}function ue(Z,ie){for(var fe=0,ye=Z.length;fe<ye;fe++)if(Z[fe]===ie)return fe;return-1}L.prototype.read=function(Z){A("read",Z),Z=parseInt(Z,10);var ie=this._readableState,fe=Z;if(Z!==0&&(ie.emittedReadable=!1),Z===0&&ie.needReadable&&(ie.length>=ie.highWaterMark||ie.ended))return A("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?W(this):B(this),null;if((Z=D(Z,ie))===0&&ie.ended)return ie.length===0&&W(this),null;var ye,xe=ie.needReadable;return A("need readable",xe),(ie.length===0||ie.length-Z<ie.highWaterMark)&&A("length less than watermark",xe=!0),ie.ended||ie.reading?A("reading or ended",xe=!1):xe&&(A("do read"),ie.reading=!0,ie.sync=!0,ie.length===0&&(ie.needReadable=!0),this._read(ie.highWaterMark),ie.sync=!1,ie.reading||(Z=D(fe,ie))),(ye=Z>0?me(Z,ie):null)===null?(ie.needReadable=!0,Z=0):ie.length-=Z,ie.length===0&&(ie.ended||(ie.needReadable=!0),fe!==Z&&ie.ended&&W(this)),ye!==null&&this.emit("data",ye),ye},L.prototype._read=function(Z){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(Z,ie){var fe=this,ye=this._readableState;switch(ye.pipesCount){case 0:ye.pipes=Z;break;case 1:ye.pipes=[ye.pipes,Z];break;default:ye.pipes.push(Z)}ye.pipesCount+=1,A("pipe count=%d opts=%j",ye.pipesCount,ie);var xe=(!ie||ie.end!==!1)&&Z!==o.stdout&&Z!==o.stderr?Ae:_e;function ge(we,Ce){A("onunpipe"),we===fe&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,A("cleanup"),Z.removeListener("close",le),Z.removeListener("finish",se),Z.removeListener("drain",O),Z.removeListener("error",X),Z.removeListener("unpipe",ge),fe.removeListener("end",Ae),fe.removeListener("end",_e),fe.removeListener("data",I),Y=!0,!ye.awaitDrain||Z._writableState&&!Z._writableState.needDrain||O())}function Ae(){A("onend"),Z.end()}ye.endEmitted?l.nextTick(xe):fe.once("end",xe),Z.on("unpipe",ge);var O=function(we){return function(){var Ce=we._readableState;A("pipeOnDrain",Ce.awaitDrain),Ce.awaitDrain&&Ce.awaitDrain--,Ce.awaitDrain===0&&c(we,"data")&&(Ce.flowing=!0,J(we))}}(fe);Z.on("drain",O);var Y=!1,T=!1;function I(we){A("ondata"),T=!1,Z.write(we)!==!1||T||((ye.pipesCount===1&&ye.pipes===Z||ye.pipesCount>1&&ue(ye.pipes,Z)!==-1)&&!Y&&(A("false write response, pause",fe._readableState.awaitDrain),fe._readableState.awaitDrain++,T=!0),fe.pause())}function X(we){A("onerror",we),_e(),Z.removeListener("error",X),c(Z,"error")===0&&Z.emit("error",we)}function le(){Z.removeListener("finish",se),_e()}function se(){A("onfinish"),Z.removeListener("close",le),_e()}function _e(){A("unpipe"),fe.unpipe(Z)}return fe.on("data",I),function(we,Ce,Be){if(typeof we.prependListener=="function")return we.prependListener(Ce,Be);we._events&&we._events[Ce]?m(we._events[Ce])?we._events[Ce].unshift(Be):we._events[Ce]=[Be,we._events[Ce]]:we.on(Ce,Be)}(Z,"error",X),Z.once("close",le),Z.once("finish",se),Z.emit("pipe",fe),ye.flowing||(A("pipe resume"),fe.resume()),Z},L.prototype.unpipe=function(Z){var ie=this._readableState,fe={hasUnpiped:!1};if(ie.pipesCount===0)return this;if(ie.pipesCount===1)return Z&&Z!==ie.pipes||(Z||(Z=ie.pipes),ie.pipes=null,ie.pipesCount=0,ie.flowing=!1,Z&&Z.emit("unpipe",this,fe)),this;if(!Z){var ye=ie.pipes,xe=ie.pipesCount;ie.pipes=null,ie.pipesCount=0,ie.flowing=!1;for(var ge=0;ge<xe;ge++)ye[ge].emit("unpipe",this,fe);return this}var Ae=ue(ie.pipes,Z);return Ae===-1||(ie.pipes.splice(Ae,1),ie.pipesCount-=1,ie.pipesCount===1&&(ie.pipes=ie.pipes[0]),Z.emit("unpipe",this,fe)),this},L.prototype.on=function(Z,ie){var fe=h.prototype.on.call(this,Z,ie);if(Z==="data")this._readableState.flowing!==!1&&this.resume();else if(Z==="readable"){var ye=this._readableState;ye.endEmitted||ye.readableListening||(ye.readableListening=ye.needReadable=!0,ye.emittedReadable=!1,ye.reading?ye.length&&B(this):l.nextTick(U,this))}return fe},L.prototype.addListener=L.prototype.on,L.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(A("resume"),Z.flowing=!0,function(ie,fe){fe.resumeScheduled||(fe.resumeScheduled=!0,l.nextTick($,ie,fe))}(this,Z)),this},L.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this},L.prototype.wrap=function(Z){var ie=this,fe=this._readableState,ye=!1;for(var xe in Z.on("end",function(){if(A("wrapped end"),fe.decoder&&!fe.ended){var Ae=fe.decoder.end();Ae&&Ae.length&&ie.push(Ae)}ie.push(null)}),Z.on("data",function(Ae){A("wrapped data"),fe.decoder&&(Ae=fe.decoder.write(Ae)),fe.objectMode&&Ae==null||(fe.objectMode||Ae&&Ae.length)&&(ie.push(Ae)||(ye=!0,Z.pause()))}),Z)this[xe]===void 0&&typeof Z[xe]=="function"&&(this[xe]=function(Ae){return function(){return Z[Ae].apply(Z,arguments)}}(xe));for(var ge=0;ge<q.length;ge++)Z.on(q[ge],this.emit.bind(this,q[ge]));return this._read=function(Ae){A("wrapped _read",Ae),ye&&(ye=!1,Z.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=me}).call(this,n(0),n(4))},function(a,r,n){a.exports=n(8).EventEmitter},function(a,r,n){var i=n(7);function o(l,u){l.emit("error",u)}a.exports={destroy:function(l,u){var m=this,c=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return c||h?(u?u(l):!l||this._writableState&&this._writableState.errorEmitted||i.nextTick(o,this,l),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(p){!u&&p?(i.nextTick(o,m,p),m._writableState&&(m._writableState.errorEmitted=!0)):u&&u(p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(a,r,n){(function(i){var o=i!==void 0&&i||typeof self<"u"&&self||window,l=Function.prototype.apply;function u(m,c){this._id=m,this._clearFn=c}r.setTimeout=function(){return new u(l.call(setTimeout,o,arguments),clearTimeout)},r.setInterval=function(){return new u(l.call(setInterval,o,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(m){m&&m.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(o,this._id)},r.enroll=function(m,c){clearTimeout(m._idleTimeoutId),m._idleTimeout=c},r.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},r._unrefActive=r.active=function(m){clearTimeout(m._idleTimeoutId);var c=m._idleTimeout;c>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},c))},n(38),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(a,r,n){a.exports=u;var i=n(2),o=n(6);function l(h,p){var d=this._transformState;d.transforming=!1;var x=d.writecb;if(!x)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,p!=null&&this.push(p),x(h);var M=this._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}function u(h){if(!(this instanceof u))return new u(h);i.call(this,h),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",m)}function m(){var h=this;typeof this._flush=="function"?this._flush(function(p,d){c(h,p,d)}):c(this,null,null)}function c(h,p,d){if(p)return h.emit("error",p);if(d!=null&&h.push(d),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}o.inherits=n(1),o.inherits(u,i),u.prototype.push=function(h,p){return this._transformState.needTransform=!1,i.prototype.push.call(this,h,p)},u.prototype._transform=function(h,p,d){throw new Error("_transform() is not implemented")},u.prototype._write=function(h,p,d){var x=this._transformState;if(x.writecb=d,x.writechunk=h,x.writeencoding=p,!x.transforming){var M=this._readableState;(x.needTransform||M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}},u.prototype._read=function(h){var p=this._transformState;p.writechunk!==null&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},u.prototype._destroy=function(h,p){var d=this;i.prototype._destroy.call(this,h,function(x){p(x),d.emit("close")})}},function(a,r){(function(n){a.exports=n}).call(this,{})},function(a,r,n){(function(){var i,o,l,u,m={}.hasOwnProperty;o=n(13),i=n(51),l=n(53),u=n(25),r.defaults=o.defaults,r.processors=u,r.ValidationError=function(c){function h(p){this.message=p}return function(p,d){for(var x in d)m.call(d,x)&&(p[x]=d[x]);function M(){this.constructor=p}M.prototype=d.prototype,p.prototype=new M,p.__super__=d.prototype}(h,Error),h}(),r.Builder=i.Builder,r.Parser=l.Parser,r.parseString=l.parseString,r.parseStringPromise=l.parseStringPromise}).call(this)},function(a,r){(function(){var n;n=new RegExp(/(?!xmlns)^.*:/),r.normalize=function(i){return i.toLowerCase()},r.firstCharLowerCase=function(i){return i.charAt(0).toLowerCase()+i.slice(1)},r.stripPrefix=function(i){return i.replace(n,"")},r.parseNumbers=function(i){return isNaN(i)||(i=i%1==0?parseInt(i,10):parseFloat(i)),i},r.parseBooleans=function(i){return/^(?:true|false)$/i.test(i)&&(i=i.toLowerCase()==="true"),i}}).call(this)},function(a,r,n){var i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(r,"__esModule",{value:!0}),r.decodeHTML=r.decodeHTMLStrict=r.decodeXML=void 0;var o=i(n(27)),l=i(n(64)),u=i(n(28)),m=i(n(65));function c(d){var x=Object.keys(d).join("|"),M=p(d),A=new RegExp("&(?:"+(x+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(w){return String(w).replace(A,M)}}r.decodeXML=c(u.default),r.decodeHTMLStrict=c(o.default);var h=function(d,x){return d<x?1:-1};function p(d){return function(x){if(x.charAt(1)==="#"){var M=x.charAt(2);return M==="X"||M==="x"?m.default(parseInt(x.substr(3),16)):m.default(parseInt(x.substr(2),10))}return d[x.slice(1,-1)]}}r.decodeHTML=function(){for(var d=Object.keys(l.default).sort(h),x=Object.keys(o.default).sort(h),M=0,A=0;M<x.length;M++)d[A]===x[M]?(x[M]+=";?",A++):x[M]+=";";var w=new RegExp("&(?:"+x.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),E=p(o.default);function g(q){return q.substr(-1)!==";"&&(q+=";"),E(q)}return function(q){return String(q).replace(w,g)}}()},function(a){a.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(a){a.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)},function(a,r,n){var i=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(r,"__esModule",{value:!0}),r.escape=r.encodeHTML=r.encodeXML=void 0;var o=c(i(n(28)).default),l=h(o);r.encodeXML=x(o,l);var u=c(i(n(27)).default),m=h(u);function c(A){return Object.keys(A).sort().reduce(function(w,E){return w[A[E]]="&"+E+";",w},{})}function h(A){for(var w=[],E=[],g=0,q=Object.keys(A);g<q.length;g++){var k=q[g];k.length===1?w.push("\\"+k):E.push(k)}w.sort();for(var L=0;L<w.length-1;L++){for(var S=L;S<w.length-1&&w[S].charCodeAt(1)+1===w[S+1].charCodeAt(1);)S+=1;var R=1+S-L;R<3||w.splice(L,R,w[L]+"-"+w[S])}return E.unshift("["+w.join("")+"]"),new RegExp(E.join("|"),"g")}r.encodeHTML=x(u,m);var p=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;function d(A){return"&#x"+A.codePointAt(0).toString(16).toUpperCase()+";"}function x(A,w){return function(E){return E.replace(w,function(g){return A[g]}).replace(p,d)}}var M=h(o);r.escape=function(A){return A.replace(M,d).replace(p,d)}},function(a,r,n){a.exports=n(31)},function(a,r,n){function i(A){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(A)}function o(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function l(A,w){for(var E=0;E<w.length;E++){var g=w[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(A,(q=g.key,k=void 0,k=function(L,S){if(i(L)!=="object"||L===null)return L;var R=L[Symbol.toPrimitive];if(R!==void 0){var D=R.call(L,S||"default");if(i(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(L)}(q,"string"),i(k)==="symbol"?k:String(k)),g)}var q,k}var u=n(14),m=n(50),c=n(24),h=n(12),p=n(61),d=n(62),x={"User-Agent":"rss-parser",Accept:"application/rss+xml"},M=function(){function A(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o(this,A),g.headers=g.headers||{},g.xml2js=g.xml2js||{},g.customFields=g.customFields||{},g.customFields.item=g.customFields.item||[],g.customFields.feed=g.customFields.feed||[],g.requestOptions=g.requestOptions||{},g.maxRedirects||(g.maxRedirects=5),g.timeout||(g.timeout=6e4),this.options=g,this.xmlParser=new c.Parser(this.options.xml2js)}var w,E;return w=A,(E=[{key:"parseString",value:function(g,q){var k=this,L=new Promise(function(S,R){k.xmlParser.parseString(g,function(D,B){if(D)return R(D);if(!B)return R(new Error("Unable to parse XML."));var N=null;if(B.feed)N=k.buildAtomFeed(B);else if(B.rss&&B.rss.$&&B.rss.$.version&&B.rss.$.version.match(/^2/))N=k.buildRSS2(B);else if(B["rdf:RDF"])N=k.buildRSS1(B);else if(B.rss&&B.rss.$&&B.rss.$.version&&B.rss.$.version.match(/0\.9/))N=k.buildRSS0_9(B);else{if(!B.rss||!k.options.defaultRSS)return R(new Error("Feed not recognized as RSS 1 or 2."));switch(k.options.defaultRSS){case .9:N=k.buildRSS0_9(B);break;case 1:N=k.buildRSS1(B);break;case 2:N=k.buildRSS2(B);break;default:return R(new Error("default RSS version not recognized."))}}S(N)})});return L=d.maybePromisify(q,L)}},{key:"parseURL",value:function(g,q){var k=this,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S="",R=g.indexOf("https")===0?m.get:u.get,D=h.parse(g),B=Object.assign({},x,this.options.headers),N=null,Q=new Promise(function(P,U){var $=Object.assign({headers:B},D,k.options.requestOptions);R($,function(J){if(k.options.maxRedirects&&J.statusCode>=300&&J.statusCode<400&&J.headers.location){if(L===k.options.maxRedirects)return U(new Error("Too many redirects"));var me=h.resolve(g,J.headers.location);return k.parseURL(me,null,L+1).then(P,U)}if(J.statusCode>=300)return U(new Error("Status code "+J.statusCode));var W=d.getEncodingFromContentType(J.headers["content-type"]);J.setEncoding(W),J.on("data",function(ee){S+=ee}),J.on("end",function(){return k.parseString(S).then(P,U)})}).on("error",U),N=setTimeout(function(){return U(new Error("Request timed out after "+k.options.timeout+"ms"))},k.options.timeout)}).then(function(P){return clearTimeout(N),Promise.resolve(P)},function(P){return clearTimeout(N),Promise.reject(P)});return Q=d.maybePromisify(q,Q)}},{key:"buildAtomFeed",value:function(g){var q=this,k={items:[]};if(d.copyFromXML(g.feed,k,this.options.customFields.feed),g.feed.link&&(k.link=d.getLink(g.feed.link,"alternate",0),k.feedUrl=d.getLink(g.feed.link,"self",1)),g.feed.title){var L=g.feed.title[0]||"";L._&&(L=L._),L&&(k.title=L)}return g.feed.updated&&(k.lastBuildDate=g.feed.updated[0]),k.items=(g.feed.entry||[]).map(function(S){return q.parseItemAtom(S)}),k}},{key:"parseItemAtom",value:function(g){var q={};if(d.copyFromXML(g,q,this.options.customFields.item),g.title){var k=g.title[0]||"";k._&&(k=k._),k&&(q.title=k)}return g.link&&g.link.length&&(q.link=d.getLink(g.link,"alternate",0)),g.published&&g.published.length&&g.published[0].length&&(q.pubDate=new Date(g.published[0]).toISOString()),!q.pubDate&&g.updated&&g.updated.length&&g.updated[0].length&&(q.pubDate=new Date(g.updated[0]).toISOString()),g.author&&g.author.length&&g.author[0].name&&g.author[0].name.length&&(q.author=g.author[0].name[0]),g.content&&g.content.length&&(q.content=d.getContent(g.content[0]),q.contentSnippet=d.getSnippet(q.content)),g.summary&&g.summary.length&&(q.summary=d.getContent(g.summary[0])),g.id&&(q.id=g.id[0]),this.setISODate(q),q}},{key:"buildRSS0_9",value:function(g){var q=g.rss.channel[0],k=q.item;return this.buildRSS(q,k)}},{key:"buildRSS1",value:function(g){var q=(g=g["rdf:RDF"]).channel[0],k=g.item;return this.buildRSS(q,k)}},{key:"buildRSS2",value:function(g){var q=g.rss.channel[0],k=q.item,L=this.buildRSS(q,k);return g.rss.$&&g.rss.$["xmlns:itunes"]&&this.decorateItunes(L,q),L}},{key:"buildRSS",value:function(g,q){var k=this;q=q||[];var L={items:[]},S=p.feed.concat(this.options.customFields.feed),R=p.item.concat(this.options.customFields.item);if(g["atom:link"]&&g["atom:link"][0]&&g["atom:link"][0].$&&(L.feedUrl=g["atom:link"][0].$.href),g.image&&g.image[0]&&g.image[0].url){L.image={};var D=g.image[0];D.link&&(L.image.link=D.link[0]),D.url&&(L.image.url=D.url[0]),D.title&&(L.image.title=D.title[0]),D.width&&(L.image.width=D.width[0]),D.height&&(L.image.height=D.height[0])}var B=this.generatePaginationLinks(g);return Object.keys(B).length&&(L.paginationLinks=B),d.copyFromXML(g,L,S),L.items=q.map(function(N){return k.parseItemRss(N,R)}),L}},{key:"parseItemRss",value:function(g,q){var k={};return d.copyFromXML(g,k,q),g.enclosure&&(k.enclosure=g.enclosure[0].$),g.description&&(k.content=d.getContent(g.description[0]),k.contentSnippet=d.getSnippet(k.content)),g.guid&&(k.guid=g.guid[0],k.guid._&&(k.guid=k.guid._)),g.$&&g.$["rdf:about"]&&(k["rdf:about"]=g.$["rdf:about"]),g.category&&(k.categories=g.category),this.setISODate(k),k}},{key:"decorateItunes",value:function(g,q){var k,L=q.item||[];if(g.itunes={},q["itunes:owner"]){var S={};q["itunes:owner"][0]["itunes:name"]&&(S.name=q["itunes:owner"][0]["itunes:name"][0]),q["itunes:owner"][0]["itunes:email"]&&(S.email=q["itunes:owner"][0]["itunes:email"][0]),g.itunes.owner=S}if(q["itunes:image"]&&(k=q["itunes:image"][0]&&q["itunes:image"][0].$&&q["itunes:image"][0].$.href?q["itunes:image"][0].$.href:null)&&(g.itunes.image=k),q["itunes:category"]){var R=q["itunes:category"].map(function(B){return{name:B&&B.$&&B.$.text,subs:B["itunes:category"]?B["itunes:category"].map(function(N){return{name:N&&N.$&&N.$.text}}):null}});g.itunes.categories=R.map(function(B){return B.name}),g.itunes.categoriesWithSubs=R}if(q["itunes:keywords"])if(q["itunes:keywords"].length>1)g.itunes.keywords=q["itunes:keywords"].map(function(B){return B&&B.$&&B.$.text});else{var D=q["itunes:keywords"][0];D&&typeof D._=="string"&&(D=D._),D&&D.$&&D.$.text?g.itunes.keywords=D.$.text.split(","):typeof D=="string"&&(g.itunes.keywords=D.split(","))}d.copyFromXML(q,g.itunes,p.podcastFeed),L.forEach(function(B,N){var Q=g.items[N];Q.itunes={},d.copyFromXML(B,Q.itunes,p.podcastItem);var P=B["itunes:image"];P&&P[0]&&P[0].$&&P[0].$.href&&(Q.itunes.image=P[0].$.href)})}},{key:"setISODate",value:function(g){var q=g.pubDate||g.date;if(q)try{g.isoDate=new Date(q.trim()).toISOString()}catch{}}},{key:"generatePaginationLinks",value:function(g){if(!g["atom:link"])return{};var q=["self","first","next","prev","last"];return g["atom:link"].reduce(function(k,L){return L.$&&q.includes(L.$.rel)&&(k[L.$.rel]=L.$.href),k},{})}}])&&l(w.prototype,E),Object.defineProperty(w,"prototype",{writable:!1}),A}();a.exports=M},function(a,r,n){(function(i,o,l){var u=n(16),m=n(1),c=n(17),h=n(5),p=n(41),d=c.IncomingMessage,x=c.readyStates,M=a.exports=function(w){var E,g=this;h.Writable.call(g),g._opts=w,g._body=[],g._headers={},w.auth&&g.setHeader("Authorization","Basic "+new i(w.auth).toString("base64")),Object.keys(w.headers).forEach(function(k){g.setHeader(k,w.headers[k])});var q=!0;if(w.mode==="disable-fetch"||"requestTimeout"in w&&!u.abortController)q=!1,E=!0;else if(w.mode==="prefer-streaming")E=!1;else if(w.mode==="allow-wrong-content-type")E=!u.overrideMimeType;else{if(w.mode&&w.mode!=="default"&&w.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");E=!0}g._mode=function(k,L){return u.fetch&&L?"fetch":u.mozchunkedarraybuffer?"moz-chunked-arraybuffer":u.msstream?"ms-stream":u.arraybuffer&&k?"arraybuffer":u.vbArray&&k?"text:vbarray":"text"}(E,q),g._fetchTimer=null,g.on("finish",function(){g._onFinish()})};m(M,h.Writable),M.prototype.setHeader=function(w,E){var g=w.toLowerCase();A.indexOf(g)===-1&&(this._headers[g]={name:w,value:E})},M.prototype.getHeader=function(w){var E=this._headers[w.toLowerCase()];return E?E.value:null},M.prototype.removeHeader=function(w){delete this._headers[w.toLowerCase()]},M.prototype._onFinish=function(){var w=this;if(!w._destroyed){var E=w._opts,g=w._headers,q=null;E.method!=="GET"&&E.method!=="HEAD"&&(q=u.arraybuffer?p(i.concat(w._body)):u.blobConstructor?new o.Blob(w._body.map(function(D){return p(D)}),{type:(g["content-type"]||{}).value||""}):i.concat(w._body).toString());var k=[];if(Object.keys(g).forEach(function(D){var B=g[D].name,N=g[D].value;Array.isArray(N)?N.forEach(function(Q){k.push([B,Q])}):k.push([B,N])}),w._mode==="fetch"){var L=null;if(u.abortController){var S=new AbortController;L=S.signal,w._fetchAbortController=S,"requestTimeout"in E&&E.requestTimeout!==0&&(w._fetchTimer=o.setTimeout(function(){w.emit("requestTimeout"),w._fetchAbortController&&w._fetchAbortController.abort()},E.requestTimeout))}o.fetch(w._opts.url,{method:w._opts.method,headers:k,body:q||void 0,mode:"cors",credentials:E.withCredentials?"include":"same-origin",signal:L}).then(function(D){w._fetchResponse=D,w._connect()},function(D){o.clearTimeout(w._fetchTimer),w._destroyed||w.emit("error",D)})}else{var R=w._xhr=new o.XMLHttpRequest;try{R.open(w._opts.method,w._opts.url,!0)}catch(D){return void l.nextTick(function(){w.emit("error",D)})}"responseType"in R&&(R.responseType=w._mode.split(":")[0]),"withCredentials"in R&&(R.withCredentials=!!E.withCredentials),w._mode==="text"&&"overrideMimeType"in R&&R.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in E&&(R.timeout=E.requestTimeout,R.ontimeout=function(){w.emit("requestTimeout")}),k.forEach(function(D){R.setRequestHeader(D[0],D[1])}),w._response=null,R.onreadystatechange=function(){switch(R.readyState){case x.LOADING:case x.DONE:w._onXHRProgress()}},w._mode==="moz-chunked-arraybuffer"&&(R.onprogress=function(){w._onXHRProgress()}),R.onerror=function(){w._destroyed||w.emit("error",new Error("XHR error"))};try{R.send(q)}catch(D){return void l.nextTick(function(){w.emit("error",D)})}}}},M.prototype._onXHRProgress=function(){(function(w){try{var E=w.status;return E!==null&&E!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},M.prototype._connect=function(){var w=this;w._destroyed||(w._response=new d(w._xhr,w._fetchResponse,w._mode,w._fetchTimer),w._response.on("error",function(E){w.emit("error",E)}),w.emit("response",w._response))},M.prototype._write=function(w,E,g){this._body.push(w),g()},M.prototype.abort=M.prototype.destroy=function(){this._destroyed=!0,o.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},M.prototype.end=function(w,E,g){typeof w=="function"&&(g=w,w=void 0),h.Writable.prototype.end.call(this,w,E,g)},M.prototype.flushHeaders=function(){},M.prototype.setTimeout=function(){},M.prototype.setNoDelay=function(){},M.prototype.setSocketKeepAlive=function(){};var A=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(3).Buffer,n(0),n(4))},function(a,r,n){r.byteLength=function(d){var x=h(d),M=x[0],A=x[1];return 3*(M+A)/4-A},r.toByteArray=function(d){var x,M,A=h(d),w=A[0],E=A[1],g=new l(function(L,S,R){return 3*(S+R)/4-R}(0,w,E)),q=0,k=E>0?w-4:w;for(M=0;M<k;M+=4)x=o[d.charCodeAt(M)]<<18|o[d.charCodeAt(M+1)]<<12|o[d.charCodeAt(M+2)]<<6|o[d.charCodeAt(M+3)],g[q++]=x>>16&255,g[q++]=x>>8&255,g[q++]=255&x;return E===2&&(x=o[d.charCodeAt(M)]<<2|o[d.charCodeAt(M+1)]>>4,g[q++]=255&x),E===1&&(x=o[d.charCodeAt(M)]<<10|o[d.charCodeAt(M+1)]<<4|o[d.charCodeAt(M+2)]>>2,g[q++]=x>>8&255,g[q++]=255&x),g},r.fromByteArray=function(d){for(var x,M=d.length,A=M%3,w=[],E=0,g=M-A;E<g;E+=16383)w.push(p(d,E,E+16383>g?g:E+16383));return A===1?(x=d[M-1],w.push(i[x>>2]+i[x<<4&63]+"==")):A===2&&(x=(d[M-2]<<8)+d[M-1],w.push(i[x>>10]+i[x>>4&63]+i[x<<2&63]+"=")),w.join("")};for(var i=[],o=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,c=u.length;m<c;++m)i[m]=u[m],o[u.charCodeAt(m)]=m;function h(d){var x=d.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=d.indexOf("=");return M===-1&&(M=x),[M,M===x?0:4-M%4]}function p(d,x,M){for(var A,w,E=[],g=x;g<M;g+=3)A=(d[g]<<16&16711680)+(d[g+1]<<8&65280)+(255&d[g+2]),E.push(i[(w=A)>>18&63]+i[w>>12&63]+i[w>>6&63]+i[63&w]);return E.join("")}o[45]=62,o[95]=63},function(a,r){r.read=function(n,i,o,l,u){var m,c,h=8*u-l-1,p=(1<<h)-1,d=p>>1,x=-7,M=o?u-1:0,A=o?-1:1,w=n[i+M];for(M+=A,m=w&(1<<-x)-1,w>>=-x,x+=h;x>0;m=256*m+n[i+M],M+=A,x-=8);for(c=m&(1<<-x)-1,m>>=-x,x+=l;x>0;c=256*c+n[i+M],M+=A,x-=8);if(m===0)m=1-d;else{if(m===p)return c?NaN:1/0*(w?-1:1);c+=Math.pow(2,l),m-=d}return(w?-1:1)*c*Math.pow(2,m-l)},r.write=function(n,i,o,l,u,m){var c,h,p,d=8*m-u-1,x=(1<<d)-1,M=x>>1,A=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=l?0:m-1,E=l?1:-1,g=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,c=x):(c=Math.floor(Math.log(i)/Math.LN2),i*(p=Math.pow(2,-c))<1&&(c--,p*=2),(i+=c+M>=1?A/p:A*Math.pow(2,1-M))*p>=2&&(c++,p/=2),c+M>=x?(h=0,c=x):c+M>=1?(h=(i*p-1)*Math.pow(2,u),c+=M):(h=i*Math.pow(2,M-1)*Math.pow(2,u),c=0));u>=8;n[o+w]=255&h,w+=E,h/=256,u-=8);for(c=c<<u|h,d+=u;d>0;n[o+w]=255&c,w+=E,c/=256,d-=8);n[o+w-E]|=128*g}},function(a,r){},function(a,r,n){var i=n(9).Buffer,o=n(37);a.exports=function(){function l(){(function(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(u){var m={data:u,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length},l.prototype.unshift=function(u){var m={data:u,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length},l.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(u){if(this.length===0)return"";for(var m=this.head,c=""+m.data;m=m.next;)c+=u+m.data;return c},l.prototype.concat=function(u){if(this.length===0)return i.alloc(0);if(this.length===1)return this.head.data;for(var m,c,h,p=i.allocUnsafe(u>>>0),d=this.head,x=0;d;)m=d.data,c=p,h=x,m.copy(c,h),x+=d.data.length,d=d.next;return p},l}(),o&&o.inspect&&o.inspect.custom&&(a.exports.prototype[o.inspect.custom]=function(){var l=o.inspect({length:this.length});return this.constructor.name+" "+l})},function(a,r){},function(a,r,n){(function(i,o){(function(l,u){if(!l.setImmediate){var m,c,h,p,d,x=1,M={},A=!1,w=l.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(l);E=E&&E.setTimeout?E:l,{}.toString.call(l.process)==="[object process]"?m=function(k){o.nextTick(function(){q(k)})}:function(){if(l.postMessage&&!l.importScripts){var k=!0,L=l.onmessage;return l.onmessage=function(){k=!1},l.postMessage("","*"),l.onmessage=L,k}}()?(p="setImmediate$"+Math.random()+"$",d=function(k){k.source===l&&typeof k.data=="string"&&k.data.indexOf(p)===0&&q(+k.data.slice(p.length))},l.addEventListener?l.addEventListener("message",d,!1):l.attachEvent("onmessage",d),m=function(k){l.postMessage(p+k,"*")}):l.MessageChannel?((h=new MessageChannel).port1.onmessage=function(k){q(k.data)},m=function(k){h.port2.postMessage(k)}):w&&"onreadystatechange"in w.createElement("script")?(c=w.documentElement,m=function(k){var L=w.createElement("script");L.onreadystatechange=function(){q(k),L.onreadystatechange=null,c.removeChild(L),L=null},c.appendChild(L)}):m=function(k){setTimeout(q,0,k)},E.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var L=new Array(arguments.length-1),S=0;S<L.length;S++)L[S]=arguments[S+1];var R={callback:k,args:L};return M[x]=R,m(x),x++},E.clearImmediate=g}function g(k){delete M[k]}function q(k){if(A)setTimeout(q,0,k);else{var L=M[k];if(L){A=!0;try{(function(S){var R=S.callback,D=S.args;switch(D.length){case 0:R();break;case 1:R(D[0]);break;case 2:R(D[0],D[1]);break;case 3:R(D[0],D[1],D[2]);break;default:R.apply(void 0,D)}})(L)}finally{g(k),A=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,n(0),n(4))},function(a,r,n){(function(i){function o(l){try{if(!i.localStorage)return!1}catch{return!1}var u=i.localStorage[l];return u!=null&&String(u).toLowerCase()==="true"}a.exports=function(l,u){if(o("noDeprecation"))return l;var m=!1;return function(){if(!m){if(o("throwDeprecation"))throw new Error(u);o("traceDeprecation")?console.trace(u):console.warn(u),m=!0}return l.apply(this,arguments)}}}).call(this,n(0))},function(a,r,n){a.exports=l;var i=n(22),o=n(6);function l(u){if(!(this instanceof l))return new l(u);i.call(this,u)}o.inherits=n(1),o.inherits(l,i),l.prototype._transform=function(u,m,c){c(null,u)}},function(a,r,n){var i=n(3).Buffer;a.exports=function(o){if(o instanceof Uint8Array){if(o.byteOffset===0&&o.byteLength===o.buffer.byteLength)return o.buffer;if(typeof o.buffer.slice=="function")return o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength)}if(i.isBuffer(o)){for(var l=new Uint8Array(o.length),u=o.length,m=0;m<u;m++)l[m]=o[m];return l.buffer}throw new Error("Argument must be a Buffer")}},function(a,r){a.exports=function(){for(var i={},o=0;o<arguments.length;o++){var l=arguments[o];for(var u in l)n.call(l,u)&&(i[u]=l[u])}return i};var n=Object.prototype.hasOwnProperty},function(a,r){a.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(a,r,n){(function(i,o){var l;function u(m){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(m)}/*! https://mths.be/punycode v1.4.1 by @mathias */(function(m){var c=u(r)=="object"&&r&&!r.nodeType&&r,h=u(i)=="object"&&i&&!i.nodeType&&i,p=(o===void 0?"undefined":u(o))=="object"&&o;p.global!==p&&p.window!==p&&p.self!==p||(m=p);var d,x,M=2147483647,A=/^xn--/,w=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=Math.floor,k=String.fromCharCode;function L($){throw new RangeError(g[$])}function S($,J){for(var me=$.length,W=[];me--;)W[me]=J($[me]);return W}function R($,J){var me=$.split("@"),W="";return me.length>1&&(W=me[0]+"@",$=me[1]),W+S(($=$.replace(E,".")).split("."),J).join(".")}function D($){for(var J,me,W=[],ee=0,ue=$.length;ee<ue;)(J=$.charCodeAt(ee++))>=55296&&J<=56319&&ee<ue?(64512&(me=$.charCodeAt(ee++)))==56320?W.push(((1023&J)<<10)+(1023&me)+65536):(W.push(J),ee--):W.push(J);return W}function B($){return S($,function(J){var me="";return J>65535&&(me+=k((J-=65536)>>>10&1023|55296),J=56320|1023&J),me+=k(J)}).join("")}function N($,J){return $+22+75*($<26)-((J!=0)<<5)}function Q($,J,me){var W=0;for($=me?q($/700):$>>1,$+=q($/J);$>455;W+=36)$=q($/35);return q(W+36*$/($+38))}function P($){var J,me,W,ee,ue,Z,ie,fe,ye,xe,ge,Ae=[],O=$.length,Y=0,T=128,I=72;for((me=$.lastIndexOf("-"))<0&&(me=0),W=0;W<me;++W)$.charCodeAt(W)>=128&&L("not-basic"),Ae.push($.charCodeAt(W));for(ee=me>0?me+1:0;ee<O;){for(ue=Y,Z=1,ie=36;ee>=O&&L("invalid-input"),((fe=(ge=$.charCodeAt(ee++))-48<10?ge-22:ge-65<26?ge-65:ge-97<26?ge-97:36)>=36||fe>q((M-Y)/Z))&&L("overflow"),Y+=fe*Z,!(fe<(ye=ie<=I?1:ie>=I+26?26:ie-I));ie+=36)Z>q(M/(xe=36-ye))&&L("overflow"),Z*=xe;I=Q(Y-ue,J=Ae.length+1,ue==0),q(Y/J)>M-T&&L("overflow"),T+=q(Y/J),Y%=J,Ae.splice(Y++,0,T)}return B(Ae)}function U($){var J,me,W,ee,ue,Z,ie,fe,ye,xe,ge,Ae,O,Y,T,I=[];for(Ae=($=D($)).length,J=128,me=0,ue=72,Z=0;Z<Ae;++Z)(ge=$[Z])<128&&I.push(k(ge));for(W=ee=I.length,ee&&I.push("-");W<Ae;){for(ie=M,Z=0;Z<Ae;++Z)(ge=$[Z])>=J&&ge<ie&&(ie=ge);for(ie-J>q((M-me)/(O=W+1))&&L("overflow"),me+=(ie-J)*O,J=ie,Z=0;Z<Ae;++Z)if((ge=$[Z])<J&&++me>M&&L("overflow"),ge==J){for(fe=me,ye=36;!(fe<(xe=ye<=ue?1:ye>=ue+26?26:ye-ue));ye+=36)T=fe-xe,Y=36-xe,I.push(k(N(xe+T%Y,0))),fe=q(T/Y);I.push(k(N(fe,0))),ue=Q(me,O,W==ee),me=0,++W}++me,++J}return I.join("")}if(d={version:"1.4.1",ucs2:{decode:D,encode:B},decode:P,encode:U,toASCII:function($){return R($,function(J){return w.test(J)?"xn--"+U(J):J})},toUnicode:function($){return R($,function(J){return A.test(J)?P(J.slice(4).toLowerCase()):J})}},u(n(23))=="object"&&n(23))(l=(function(){return d}).call(r,n,r,i))===void 0||(i.exports=l);else if(c&&h)if(i.exports==c)h.exports=d;else for(x in d)d.hasOwnProperty(x)&&(c[x]=d[x]);else m.punycode=d})(this)}).call(this,n(45)(a),n(0))},function(a,r){a.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(a,r,n){function i(o){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(o)}a.exports={isString:function(o){return typeof o=="string"},isObject:function(o){return i(o)==="object"&&o!==null},isNull:function(o){return o===null},isNullOrUndefined:function(o){return o==null}}},function(a,r,n){r.decode=r.parse=n(48),r.encode=r.stringify=n(49)},function(a,r,n){function i(l,u){return Object.prototype.hasOwnProperty.call(l,u)}a.exports=function(l,u,m,c){u=u||"&",m=m||"=";var h={};if(typeof l!="string"||l.length===0)return h;var p=/\+/g;l=l.split(u);var d=1e3;c&&typeof c.maxKeys=="number"&&(d=c.maxKeys);var x=l.length;d>0&&x>d&&(x=d);for(var M=0;M<x;++M){var A,w,E,g,q=l[M].replace(p,"%20"),k=q.indexOf(m);k>=0?(A=q.substr(0,k),w=q.substr(k+1)):(A=q,w=""),E=decodeURIComponent(A),g=decodeURIComponent(w),i(h,E)?o(h[E])?h[E].push(g):h[E]=[h[E],g]:h[E]=g}return h};var o=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}},function(a,r,n){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}var o=function(c){switch(i(c)){case"string":return c;case"boolean":return c?"true":"false";case"number":return isFinite(c)?c:"";default:return""}};a.exports=function(c,h,p,d){return h=h||"&",p=p||"=",c===null&&(c=void 0),i(c)==="object"?u(m(c),function(x){var M=encodeURIComponent(o(x))+p;return l(c[x])?u(c[x],function(A){return M+encodeURIComponent(o(A))}).join(h):M+encodeURIComponent(o(c[x]))}).join(h):d?encodeURIComponent(o(d))+p+encodeURIComponent(o(c)):""};var l=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function u(c,h){if(c.map)return c.map(h);for(var p=[],d=0;d<c.length;d++)p.push(h(c[d],d));return p}var m=Object.keys||function(c){var h=[];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&h.push(p);return h}},function(a,r,n){var i=n(14),o=n(12),l=a.exports;for(var u in i)i.hasOwnProperty(u)&&(l[u]=i[u]);function m(c){if(typeof c=="string"&&(c=o.parse(c)),c.protocol||(c.protocol="https:"),c.protocol!=="https:")throw new Error('Protocol "'+c.protocol+'" not supported. Expected "https:"');return c}l.request=function(c,h){return c=m(c),i.request.call(this,c,h)},l.get=function(c,h){return c=m(c),i.get.call(this,c,h)}},function(a,r,n){function i(o){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(o)}(function(){var o,l,u,m,c,h={}.hasOwnProperty;o=n(52),l=n(13).defaults,m=function(p){return typeof p=="string"&&(p.indexOf("&")>=0||p.indexOf(">")>=0||p.indexOf("<")>=0)},c=function(p){return"<![CDATA["+u(p)+"]]>"},u=function(p){return p.replace("]]>","]]]]><![CDATA[>")},r.Builder=function(){function p(d){var x,M,A;for(x in this.options={},M=l[.2])h.call(M,x)&&(A=M[x],this.options[x]=A);for(x in d)h.call(d,x)&&(A=d[x],this.options[x]=A)}return p.prototype.buildObject=function(d){var x,M,A,w,E,g;return x=this.options.attrkey,M=this.options.charkey,Object.keys(d).length===1&&this.options.rootName===l[.2].rootName?d=d[E=Object.keys(d)[0]]:E=this.options.rootName,g=this,A=function(q,k){var L,S,R,D,B,N;if(i(k)!=="object")g.options.cdata&&m(k)?q.raw(c(k)):q.txt(k);else if(Array.isArray(k)){for(D in k)if(h.call(k,D))for(B in S=k[D])R=S[B],q=A(q.ele(B),R).up()}else for(B in k)if(h.call(k,B))if(S=k[B],B===x){if(i(S)==="object")for(L in S)N=S[L],q=q.att(L,N)}else if(B===M)q=g.options.cdata&&m(S)?q.raw(c(S)):q.txt(S);else if(Array.isArray(S))for(D in S)h.call(S,D)&&(q=typeof(R=S[D])=="string"?g.options.cdata&&m(R)?q.ele(B).raw(c(R)).up():q.ele(B,R).up():A(q.ele(B),R).up());else i(S)==="object"?q=A(q.ele(B),S).up():typeof S=="string"&&g.options.cdata&&m(S)?q=q.ele(B).raw(c(S)).up():(S==null&&(S=""),q=q.ele(B,S.toString()).up());return q},w=o.create(E,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),A(w,d).end(this.options.renderOpts)},p}()}).call(this)},function(a,r){a.exports=t},function(a,r,n){function i(o){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(o)}(function(){var o,l,u,m,c,h,p,d,x=function(A,w){return function(){return A.apply(w,arguments)}},M={}.hasOwnProperty;p=n(54),u=n(8),o=n(60),h=n(25),d=n(21).setImmediate,l=n(13).defaults,m=function(A){return i(A)==="object"&&A!=null&&Object.keys(A).length===0},c=function(A,w,E){var g,q;for(g=0,q=A.length;g<q;g++)w=(0,A[g])(w,E);return w},r.Parser=function(A){function w(E){var g,q,k;if(this.parseStringPromise=x(this.parseStringPromise,this),this.parseString=x(this.parseString,this),this.reset=x(this.reset,this),this.assignOrPush=x(this.assignOrPush,this),this.processAsync=x(this.processAsync,this),!(this instanceof r.Parser))return new r.Parser(E);for(g in this.options={},q=l[.2])M.call(q,g)&&(k=q[g],this.options[g]=k);for(g in E)M.call(E,g)&&(k=E[g],this.options[g]=k);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(h.normalize)),this.reset()}return function(E,g){for(var q in g)M.call(g,q)&&(E[q]=g[q]);function k(){this.constructor=E}k.prototype=g.prototype,E.prototype=new k,E.__super__=g.prototype}(w,A),w.prototype.processAsync=function(){var E,g;try{return this.remaining.length<=this.options.chunkSize?(E=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(E),this.saxParser.close()):(E=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(E),d(this.processAsync))}catch(q){if(g=q,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(g)}},w.prototype.assignOrPush=function(E,g,q){return g in E?(E[g]instanceof Array||(E[g]=[E[g]]),E[g].push(q)):this.options.explicitArray?E[g]=[q]:E[g]=q},w.prototype.reset=function(){var E,g,q,k,L;return this.removeAllListeners(),this.saxParser=p.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(L=this,function(S){if(L.saxParser.resume(),!L.saxParser.errThrown)return L.saxParser.errThrown=!0,L.emit("error",S)}),this.saxParser.onend=function(S){return function(){if(!S.saxParser.ended)return S.saxParser.ended=!0,S.emit("end",S.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,k=[],E=this.options.attrkey,g=this.options.charkey,this.saxParser.onopentag=function(S){return function(R){var D,B,N,Q,P;if((N=Object.create(null))[g]="",!S.options.ignoreAttrs)for(D in P=R.attributes)M.call(P,D)&&(E in N||S.options.mergeAttrs||(N[E]=Object.create(null)),B=S.options.attrValueProcessors?c(S.options.attrValueProcessors,R.attributes[D],D):R.attributes[D],Q=S.options.attrNameProcessors?c(S.options.attrNameProcessors,D):D,S.options.mergeAttrs?S.assignOrPush(N,Q,B):N[E][Q]=B);return N["#name"]=S.options.tagNameProcessors?c(S.options.tagNameProcessors,R.name):R.name,S.options.xmlns&&(N[S.options.xmlnskey]={uri:R.uri,local:R.local}),k.push(N)}}(this),this.saxParser.onclosetag=function(S){return function(){var R,D,B,N,Q,P,U,$,J,me;if(P=k.pop(),Q=P["#name"],S.options.explicitChildren&&S.options.preserveChildrenOrder||delete P["#name"],P.cdata===!0&&(R=P.cdata,delete P.cdata),J=k[k.length-1],P[g].match(/^\s*$/)&&!R?(D=P[g],delete P[g]):(S.options.trim&&(P[g]=P[g].trim()),S.options.normalize&&(P[g]=P[g].replace(/\s{2,}/g," ").trim()),P[g]=S.options.valueProcessors?c(S.options.valueProcessors,P[g],Q):P[g],Object.keys(P).length===1&&g in P&&!S.EXPLICIT_CHARKEY&&(P=P[g])),m(P)&&(P=typeof S.options.emptyTag=="function"?S.options.emptyTag():S.options.emptyTag!==""?S.options.emptyTag:D),S.options.validator!=null&&(me="/"+function(){var W,ee,ue;for(ue=[],W=0,ee=k.length;W<ee;W++)N=k[W],ue.push(N["#name"]);return ue}().concat(Q).join("/"),function(){var W;try{P=S.options.validator(me,J&&J[Q],P)}catch(ee){return W=ee,S.emit("error",W)}}()),S.options.explicitChildren&&!S.options.mergeAttrs&&i(P)==="object")if(S.options.preserveChildrenOrder){if(J){for(B in J[S.options.childkey]=J[S.options.childkey]||[],U=Object.create(null),P)M.call(P,B)&&(U[B]=P[B]);J[S.options.childkey].push(U),delete P["#name"],Object.keys(P).length===1&&g in P&&!S.EXPLICIT_CHARKEY&&(P=P[g])}}else N=Object.create(null),S.options.attrkey in P&&(N[S.options.attrkey]=P[S.options.attrkey],delete P[S.options.attrkey]),!S.options.charsAsChildren&&S.options.charkey in P&&(N[S.options.charkey]=P[S.options.charkey],delete P[S.options.charkey]),Object.getOwnPropertyNames(P).length>0&&(N[S.options.childkey]=P),P=N;return k.length>0?S.assignOrPush(J,Q,P):(S.options.explicitRoot&&($=P,(P=Object.create(null))[Q]=$),S.resultObject=P,S.saxParser.ended=!0,S.emit("end",S.resultObject))}}(this),q=function(S){return function(R){var D,B;if(B=k[k.length-1])return B[g]+=R,S.options.explicitChildren&&S.options.preserveChildrenOrder&&S.options.charsAsChildren&&(S.options.includeWhiteChars||R.replace(/\\n/g,"").trim()!=="")&&(B[S.options.childkey]=B[S.options.childkey]||[],(D={"#name":"__text__"})[g]=R,S.options.normalize&&(D[g]=D[g].replace(/\s{2,}/g," ").trim()),B[S.options.childkey].push(D)),B}}(this),this.saxParser.ontext=q,this.saxParser.oncdata=function(S){var R;if(R=q(S))return R.cdata=!0}},w.prototype.parseString=function(E,g){var q;g!=null&&typeof g=="function"&&(this.on("end",function(k){return this.reset(),g(null,k)}),this.on("error",function(k){return this.reset(),g(k)}));try{return(E=E.toString()).trim()===""?(this.emit("end",null),!0):(E=o.stripBOM(E),this.options.async?(this.remaining=E,d(this.processAsync),this.saxParser):this.saxParser.write(E).close())}catch(k){if(q=k,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",q),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw q}},w.prototype.parseStringPromise=function(E){return new Promise((g=this,function(q,k){return g.parseString(E,function(L,S){return L?k(L):q(S)})}));var g},w}(u),r.parseString=function(A,w,E){var g,q;return E!=null?(typeof E=="function"&&(g=E),i(w)==="object"&&(q=w)):(typeof w=="function"&&(g=w),q={}),new r.Parser(q).parseString(A,g)},r.parseStringPromise=function(A,w){var E;return i(w)==="object"&&(E=w),new r.Parser(E).parseStringPromise(A)}}).call(this)},function(a,r,n){(function(i){function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}(function(l){l.parser=function(O,Y){return new c(O,Y)},l.SAXParser=c,l.SAXStream=p,l.createStream=function(O,Y){return new p(O,Y)},l.MAX_BUFFER_LENGTH=65536;var u,m=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function c(O,Y){if(!(this instanceof c))return new c(O,Y);(function(T){for(var I=0,X=m.length;I<X;I++)T[m[I]]=""})(this),this.q=this.c="",this.bufferCheckPosition=l.MAX_BUFFER_LENGTH,this.opt=Y||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!O,this.noscript=!(!O&&!this.opt.noscript),this.state=N.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(l.XML_ENTITIES):Object.create(l.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(x)),this.trackPosition=this.opt.position!==!1,this.trackPosition&&(this.position=this.line=this.column=0),P(this,"onready")}l.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(O){function Y(){}return Y.prototype=O,new Y}),Object.keys||(Object.keys=function(O){var Y=[];for(var T in O)O.hasOwnProperty(T)&&Y.push(T);return Y}),c.prototype={end:function(){W(this)},write:function(O){if(this.error)throw this.error;if(this.closed)return me(this,"Cannot write after close. Assign an onready handler.");if(O===null)return W(this);o(O)==="object"&&(O=O.toString());for(var Y=0,T="";T=Ae(O,Y++),this.c=T,T;)switch(this.trackPosition&&(this.position++,T===`
`?(this.line++,this.column=0):this.column++),this.state){case N.BEGIN:if(this.state=N.BEGIN_WHITESPACE,T==="\uFEFF")continue;ge(this,T);continue;case N.BEGIN_WHITESPACE:ge(this,T);continue;case N.TEXT:if(this.sawRoot&&!this.closedRoot){for(var I=Y-1;T&&T!=="<"&&T!=="&";)(T=Ae(O,Y++))&&this.trackPosition&&(this.position++,T===`
`?(this.line++,this.column=0):this.column++);this.textNode+=O.substring(I,Y-1)}T!=="<"||this.sawRoot&&this.closedRoot&&!this.strict?(g(T)||this.sawRoot&&!this.closedRoot||ee(this,"Text data outside of root node."),T==="&"?this.state=N.TEXT_ENTITY:this.textNode+=T):(this.state=N.OPEN_WAKA,this.startTagPosition=this.position);continue;case N.SCRIPT:T==="<"?this.state=N.SCRIPT_ENDING:this.script+=T;continue;case N.SCRIPT_ENDING:T==="/"?this.state=N.CLOSE_TAG:(this.script+="<"+T,this.state=N.SCRIPT);continue;case N.OPEN_WAKA:if(T==="!")this.state=N.SGML_DECL,this.sgmlDecl="";else if(!g(T))if(L(M,T))this.state=N.OPEN_TAG,this.tagName=T;else if(T==="/")this.state=N.CLOSE_TAG,this.tagName="";else if(T==="?")this.state=N.PROC_INST,this.procInstName=this.procInstBody="";else{if(ee(this,"Unencoded <"),this.startTagPosition+1<this.position){var X=this.position-this.startTagPosition;T=new Array(X).join(" ")+T}this.textNode+="<"+T,this.state=N.TEXT}continue;case N.SGML_DECL:(this.sgmlDecl+T).toUpperCase()==="[CDATA["?(U(this,"onopencdata"),this.state=N.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+T==="--"?(this.state=N.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+T).toUpperCase()==="DOCTYPE"?(this.state=N.DOCTYPE,(this.doctype||this.sawRoot)&&ee(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):T===">"?(U(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=N.TEXT):q(T)?(this.state=N.SGML_DECL_QUOTED,this.sgmlDecl+=T):this.sgmlDecl+=T;continue;case N.SGML_DECL_QUOTED:T===this.q&&(this.state=N.SGML_DECL,this.q=""),this.sgmlDecl+=T;continue;case N.DOCTYPE:T===">"?(this.state=N.TEXT,U(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=T,T==="["?this.state=N.DOCTYPE_DTD:q(T)&&(this.state=N.DOCTYPE_QUOTED,this.q=T));continue;case N.DOCTYPE_QUOTED:this.doctype+=T,T===this.q&&(this.q="",this.state=N.DOCTYPE);continue;case N.DOCTYPE_DTD:this.doctype+=T,T==="]"?this.state=N.DOCTYPE:q(T)&&(this.state=N.DOCTYPE_DTD_QUOTED,this.q=T);continue;case N.DOCTYPE_DTD_QUOTED:this.doctype+=T,T===this.q&&(this.state=N.DOCTYPE_DTD,this.q="");continue;case N.COMMENT:T==="-"?this.state=N.COMMENT_ENDING:this.comment+=T;continue;case N.COMMENT_ENDING:T==="-"?(this.state=N.COMMENT_ENDED,this.comment=J(this.opt,this.comment),this.comment&&U(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+T,this.state=N.COMMENT);continue;case N.COMMENT_ENDED:T!==">"?(ee(this,"Malformed comment"),this.comment+="--"+T,this.state=N.COMMENT):this.state=N.TEXT;continue;case N.CDATA:T==="]"?this.state=N.CDATA_ENDING:this.cdata+=T;continue;case N.CDATA_ENDING:T==="]"?this.state=N.CDATA_ENDING_2:(this.cdata+="]"+T,this.state=N.CDATA);continue;case N.CDATA_ENDING_2:T===">"?(this.cdata&&U(this,"oncdata",this.cdata),U(this,"onclosecdata"),this.cdata="",this.state=N.TEXT):T==="]"?this.cdata+="]":(this.cdata+="]]"+T,this.state=N.CDATA);continue;case N.PROC_INST:T==="?"?this.state=N.PROC_INST_ENDING:g(T)?this.state=N.PROC_INST_BODY:this.procInstName+=T;continue;case N.PROC_INST_BODY:if(!this.procInstBody&&g(T))continue;T==="?"?this.state=N.PROC_INST_ENDING:this.procInstBody+=T;continue;case N.PROC_INST_ENDING:T===">"?(U(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=N.TEXT):(this.procInstBody+="?"+T,this.state=N.PROC_INST_BODY);continue;case N.OPEN_TAG:L(A,T)?this.tagName+=T:(ue(this),T===">"?fe(this):T==="/"?this.state=N.OPEN_TAG_SLASH:(g(T)||ee(this,"Invalid character in tag name"),this.state=N.ATTRIB));continue;case N.OPEN_TAG_SLASH:T===">"?(fe(this,!0),ye(this)):(ee(this,"Forward-slash in opening tag not followed by >"),this.state=N.ATTRIB);continue;case N.ATTRIB:if(g(T))continue;T===">"?fe(this):T==="/"?this.state=N.OPEN_TAG_SLASH:L(M,T)?(this.attribName=T,this.attribValue="",this.state=N.ATTRIB_NAME):ee(this,"Invalid attribute name");continue;case N.ATTRIB_NAME:T==="="?this.state=N.ATTRIB_VALUE:T===">"?(ee(this,"Attribute without value"),this.attribValue=this.attribName,ie(this),fe(this)):g(T)?this.state=N.ATTRIB_NAME_SAW_WHITE:L(A,T)?this.attribName+=T:ee(this,"Invalid attribute name");continue;case N.ATTRIB_NAME_SAW_WHITE:if(T==="=")this.state=N.ATTRIB_VALUE;else{if(g(T))continue;ee(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",U(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",T===">"?fe(this):L(M,T)?(this.attribName=T,this.state=N.ATTRIB_NAME):(ee(this,"Invalid attribute name"),this.state=N.ATTRIB)}continue;case N.ATTRIB_VALUE:if(g(T))continue;q(T)?(this.q=T,this.state=N.ATTRIB_VALUE_QUOTED):(ee(this,"Unquoted attribute value"),this.state=N.ATTRIB_VALUE_UNQUOTED,this.attribValue=T);continue;case N.ATTRIB_VALUE_QUOTED:if(T!==this.q){T==="&"?this.state=N.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=T;continue}ie(this),this.q="",this.state=N.ATTRIB_VALUE_CLOSED;continue;case N.ATTRIB_VALUE_CLOSED:g(T)?this.state=N.ATTRIB:T===">"?fe(this):T==="/"?this.state=N.OPEN_TAG_SLASH:L(M,T)?(ee(this,"No whitespace between attributes"),this.attribName=T,this.attribValue="",this.state=N.ATTRIB_NAME):ee(this,"Invalid attribute name");continue;case N.ATTRIB_VALUE_UNQUOTED:if(!k(T)){T==="&"?this.state=N.ATTRIB_VALUE_ENTITY_U:this.attribValue+=T;continue}ie(this),T===">"?fe(this):this.state=N.ATTRIB;continue;case N.CLOSE_TAG:if(this.tagName)T===">"?ye(this):L(A,T)?this.tagName+=T:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=N.SCRIPT):(g(T)||ee(this,"Invalid tagname in closing tag"),this.state=N.CLOSE_TAG_SAW_WHITE);else{if(g(T))continue;S(M,T)?this.script?(this.script+="</"+T,this.state=N.SCRIPT):ee(this,"Invalid tagname in closing tag."):this.tagName=T}continue;case N.CLOSE_TAG_SAW_WHITE:if(g(T))continue;T===">"?ye(this):ee(this,"Invalid characters in closing tag");continue;case N.TEXT_ENTITY:case N.ATTRIB_VALUE_ENTITY_Q:case N.ATTRIB_VALUE_ENTITY_U:var le,se;switch(this.state){case N.TEXT_ENTITY:le=N.TEXT,se="textNode";break;case N.ATTRIB_VALUE_ENTITY_Q:le=N.ATTRIB_VALUE_QUOTED,se="attribValue";break;case N.ATTRIB_VALUE_ENTITY_U:le=N.ATTRIB_VALUE_UNQUOTED,se="attribValue"}T===";"?(this[se]+=xe(this),this.entity="",this.state=le):L(this.entity.length?E:w,T)?this.entity+=T:(ee(this,"Invalid character in entity name"),this[se]+="&"+this.entity+T,this.entity="",this.state=le);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(_e){for(var we=Math.max(l.MAX_BUFFER_LENGTH,10),Ce=0,Be=0,We=m.length;Be<We;Be++){var re=_e[m[Be]].length;if(re>we)switch(m[Be]){case"textNode":$(_e);break;case"cdata":U(_e,"oncdata",_e.cdata),_e.cdata="";break;case"script":U(_e,"onscript",_e.script),_e.script="";break;default:me(_e,"Max buffer length exceeded: "+m[Be])}Ce=Math.max(Ce,re)}var V=l.MAX_BUFFER_LENGTH-Ce;_e.bufferCheckPosition=V+_e.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var O;$(O=this),O.cdata!==""&&(U(O,"oncdata",O.cdata),O.cdata=""),O.script!==""&&(U(O,"onscript",O.script),O.script="")}};try{u=n(55).Stream}catch{u=function(){}}var h=l.EVENTS.filter(function(O){return O!=="error"&&O!=="end"});function p(O,Y){if(!(this instanceof p))return new p(O,Y);u.apply(this),this._parser=new c(O,Y),this.writable=!0,this.readable=!0;var T=this;this._parser.onend=function(){T.emit("end")},this._parser.onerror=function(I){T.emit("error",I),T._parser.error=null},this._decoder=null,h.forEach(function(I){Object.defineProperty(T,"on"+I,{get:function(){return T._parser["on"+I]},set:function(X){if(!X)return T.removeAllListeners(I),T._parser["on"+I]=X,X;T.on(I,X)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(u.prototype,{constructor:{value:p}}),p.prototype.write=function(O){if(typeof i=="function"&&typeof i.isBuffer=="function"&&i.isBuffer(O)){if(!this._decoder){var Y=n(11).StringDecoder;this._decoder=new Y("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},p.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},p.prototype.on=function(O,Y){var T=this;return T._parser["on"+O]||h.indexOf(O)===-1||(T._parser["on"+O]=function(){var I=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);I.splice(0,0,O),T.emit.apply(T,I)}),u.prototype.on.call(T,O,Y)};var d="http://www.w3.org/XML/1998/namespace",x={xml:d,xmlns:"http://www.w3.org/2000/xmlns/"},M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(O){return O===" "||O===`
`||O==="\r"||O==="	"}function q(O){return O==='"'||O==="'"}function k(O){return O===">"||g(O)}function L(O,Y){return O.test(Y)}function S(O,Y){return!L(O,Y)}var R,D,B,N=0;for(var Q in l.STATE={BEGIN:N++,BEGIN_WHITESPACE:N++,TEXT:N++,TEXT_ENTITY:N++,OPEN_WAKA:N++,SGML_DECL:N++,SGML_DECL_QUOTED:N++,DOCTYPE:N++,DOCTYPE_QUOTED:N++,DOCTYPE_DTD:N++,DOCTYPE_DTD_QUOTED:N++,COMMENT_STARTING:N++,COMMENT:N++,COMMENT_ENDING:N++,COMMENT_ENDED:N++,CDATA:N++,CDATA_ENDING:N++,CDATA_ENDING_2:N++,PROC_INST:N++,PROC_INST_BODY:N++,PROC_INST_ENDING:N++,OPEN_TAG:N++,OPEN_TAG_SLASH:N++,ATTRIB:N++,ATTRIB_NAME:N++,ATTRIB_NAME_SAW_WHITE:N++,ATTRIB_VALUE:N++,ATTRIB_VALUE_QUOTED:N++,ATTRIB_VALUE_CLOSED:N++,ATTRIB_VALUE_UNQUOTED:N++,ATTRIB_VALUE_ENTITY_Q:N++,ATTRIB_VALUE_ENTITY_U:N++,CLOSE_TAG:N++,CLOSE_TAG_SAW_WHITE:N++,SCRIPT:N++,SCRIPT_ENDING:N++},l.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},l.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(l.ENTITIES).forEach(function(O){var Y=l.ENTITIES[O],T=typeof Y=="number"?String.fromCharCode(Y):Y;l.ENTITIES[O]=T}),l.STATE)l.STATE[l.STATE[Q]]=Q;function P(O,Y,T){O[Y]&&O[Y](T)}function U(O,Y,T){O.textNode&&$(O),P(O,Y,T)}function $(O){O.textNode=J(O.opt,O.textNode),O.textNode&&P(O,"ontext",O.textNode),O.textNode=""}function J(O,Y){return O.trim&&(Y=Y.trim()),O.normalize&&(Y=Y.replace(/\s+/g," ")),Y}function me(O,Y){return $(O),O.trackPosition&&(Y+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c),Y=new Error(Y),O.error=Y,P(O,"onerror",Y),O}function W(O){return O.sawRoot&&!O.closedRoot&&ee(O,"Unclosed root tag"),O.state!==N.BEGIN&&O.state!==N.BEGIN_WHITESPACE&&O.state!==N.TEXT&&me(O,"Unexpected end"),$(O),O.c="",O.closed=!0,P(O,"onend"),c.call(O,O.strict,O.opt),O}function ee(O,Y){if(o(O)!=="object"||!(O instanceof c))throw new Error("bad call to strictFail");O.strict&&me(O,Y)}function ue(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var Y=O.tags[O.tags.length-1]||O,T=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(T.ns=Y.ns),O.attribList.length=0,U(O,"onopentagstart",T)}function Z(O,Y){var T=O.indexOf(":")<0?["",O]:O.split(":"),I=T[0],X=T[1];return Y&&O==="xmlns"&&(I="xmlns",X=""),{prefix:I,local:X}}function ie(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),O.attribList.indexOf(O.attribName)!==-1||O.tag.attributes.hasOwnProperty(O.attribName))O.attribName=O.attribValue="";else{if(O.opt.xmlns){var Y=Z(O.attribName,!0),T=Y.prefix,I=Y.local;if(T==="xmlns")if(I==="xml"&&O.attribValue!==d)ee(O,"xml: prefix must be bound to "+d+`
Actual: `+O.attribValue);else if(I==="xmlns"&&O.attribValue!=="http://www.w3.org/2000/xmlns/")ee(O,`xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/
Actual: `+O.attribValue);else{var X=O.tag,le=O.tags[O.tags.length-1]||O;X.ns===le.ns&&(X.ns=Object.create(le.ns)),X.ns[I]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,U(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}}function fe(O,Y){if(O.opt.xmlns){var T=O.tag,I=Z(O.tagName);T.prefix=I.prefix,T.local=I.local,T.uri=T.ns[I.prefix]||"",T.prefix&&!T.uri&&(ee(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),T.uri=I.prefix);var X=O.tags[O.tags.length-1]||O;T.ns&&X.ns!==T.ns&&Object.keys(T.ns).forEach(function(he){U(O,"onopennamespace",{prefix:he,uri:T.ns[he]})});for(var le=0,se=O.attribList.length;le<se;le++){var _e=O.attribList[le],we=_e[0],Ce=_e[1],Be=Z(we,!0),We=Be.prefix,re=Be.local,V=We===""?"":T.ns[We]||"",j={name:we,value:Ce,prefix:We,local:re,uri:V};We&&We!=="xmlns"&&!V&&(ee(O,"Unbound namespace prefix: "+JSON.stringify(We)),j.uri=We),O.tag.attributes[we]=j,U(O,"onattribute",j)}O.attribList.length=0}O.tag.isSelfClosing=!!Y,O.sawRoot=!0,O.tags.push(O.tag),U(O,"onopentag",O.tag),Y||(O.noscript||O.tagName.toLowerCase()!=="script"?O.state=N.TEXT:O.state=N.SCRIPT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function ye(O){if(!O.tagName)return ee(O,"Weird empty close tag."),O.textNode+="</>",void(O.state=N.TEXT);if(O.script){if(O.tagName!=="script")return O.script+="</"+O.tagName+">",O.tagName="",void(O.state=N.SCRIPT);U(O,"onscript",O.script),O.script=""}var Y=O.tags.length,T=O.tagName;O.strict||(T=T[O.looseCase]());for(var I=T;Y--&&O.tags[Y].name!==I;)ee(O,"Unexpected close tag");if(Y<0)return ee(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",void(O.state=N.TEXT);O.tagName=T;for(var X=O.tags.length;X-- >Y;){var le=O.tag=O.tags.pop();O.tagName=O.tag.name,U(O,"onclosetag",O.tagName);var se={};for(var _e in le.ns)se[_e]=le.ns[_e];var we=O.tags[O.tags.length-1]||O;O.opt.xmlns&&le.ns!==we.ns&&Object.keys(le.ns).forEach(function(Ce){var Be=le.ns[Ce];U(O,"onclosenamespace",{prefix:Ce,uri:Be})})}Y===0&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=N.TEXT}function xe(O){var Y,T=O.entity,I=T.toLowerCase(),X="";return O.ENTITIES[T]?O.ENTITIES[T]:O.ENTITIES[I]?O.ENTITIES[I]:((T=I).charAt(0)==="#"&&(T.charAt(1)==="x"?(T=T.slice(2),X=(Y=parseInt(T,16)).toString(16)):(T=T.slice(1),X=(Y=parseInt(T,10)).toString(10))),T=T.replace(/^0+/,""),isNaN(Y)||X.toLowerCase()!==T?(ee(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(Y))}function ge(O,Y){Y==="<"?(O.state=N.OPEN_WAKA,O.startTagPosition=O.position):g(Y)||(ee(O,"Non-whitespace before first tag."),O.textNode=Y,O.state=N.TEXT)}function Ae(O,Y){var T="";return Y<O.length&&(T=O.charAt(Y)),T}N=l.STATE,String.fromCodePoint||(R=String.fromCharCode,D=Math.floor,B=function(){var O,Y,T=16384,I=[],X=-1,le=arguments.length;if(!le)return"";for(var se="";++X<le;){var _e=Number(arguments[X]);if(!isFinite(_e)||_e<0||_e>1114111||D(_e)!==_e)throw RangeError("Invalid code point: "+_e);_e<=65535?I.push(_e):(O=55296+((_e-=65536)>>10),Y=_e%1024+56320,I.push(O,Y)),(X+1===le||I.length>T)&&(se+=R.apply(null,I),I.length=0)}return se},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:B,configurable:!0,writable:!0}):String.fromCodePoint=B)})(r)}).call(this,n(3).Buffer)},function(a,r,n){a.exports=o;var i=n(8).EventEmitter;function o(){i.call(this)}n(1)(o,i),o.Readable=n(5),o.Writable=n(56),o.Duplex=n(57),o.Transform=n(58),o.PassThrough=n(59),o.Stream=o,o.prototype.pipe=function(l,u){var m=this;function c(w){l.writable&&l.write(w)===!1&&m.pause&&m.pause()}function h(){m.readable&&m.resume&&m.resume()}m.on("data",c),l.on("drain",h),l._isStdio||u&&u.end===!1||(m.on("end",d),m.on("close",x));var p=!1;function d(){p||(p=!0,l.end())}function x(){p||(p=!0,typeof l.destroy=="function"&&l.destroy())}function M(w){if(A(),i.listenerCount(this,"error")===0)throw w}function A(){m.removeListener("data",c),l.removeListener("drain",h),m.removeListener("end",d),m.removeListener("close",x),m.removeListener("error",M),l.removeListener("error",M),m.removeListener("end",A),m.removeListener("close",A),l.removeListener("close",A)}return m.on("error",M),l.on("error",M),m.on("end",A),m.on("close",A),l.on("close",A),l.emit("pipe",m),l}},function(a,r,n){a.exports=n(10)},function(a,r,n){a.exports=n(2)},function(a,r,n){a.exports=n(5).Transform},function(a,r,n){a.exports=n(5).PassThrough},function(a,r){(function(){r.stripBOM=function(n){return n[0]==="\uFEFF"?n.substring(1):n}}).call(this)},function(a,r){var n=a.exports={};n.feed=[["author","creator"],["dc:publisher","publisher"],["dc:creator","creator"],["dc:source","source"],["dc:title","title"],["dc:type","type"],"title","description","author","pubDate","webMaster","managingEditor","generator","link","language","copyright","lastBuildDate","docs","generator","ttl","rating","skipHours","skipDays"],n.item=[["author","creator"],["dc:creator","creator"],["dc:date","date"],["dc:language","language"],["dc:rights","rights"],["dc:source","source"],["dc:title","title"],"title","link","pubDate","author","summary",["content:encoded","content:encoded",{includeSnippet:!0}],"enclosure","dc:creator","dc:date","comments"];var i=function(o){return["itunes:"+o,o]};n.podcastFeed=["author","subtitle","summary","explicit"].map(i),n.podcastItem=["author","subtitle","summary","explicit","duration","image","episode","image","season","keywords","episodeType"].map(i)},function(a,r,n){function i(p){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(p)}var o=a.exports={},l=n(63),u=n(24);o.stripHtml=function(p){return p=(p=p.replace(/([^\n])<\/?(h|br|p|ul|ol|li|blockquote|section|table|tr|div)(?:.|\n)*?>([^\n])/gm,`$1
$3`)).replace(/<(?:.|\n)*?>/gm,"")},o.getSnippet=function(p){return l.decodeHTML(o.stripHtml(p)).trim()},o.getLink=function(p,d,x){if(p){for(var M=0;M<p.length;++M)if(p[M].$.rel===d)return p[M].$.href;return p[x]?p[x].$.href:void 0}},o.getContent=function(p){return typeof p._=="string"?p._:i(p)==="object"?new u.Builder({headless:!0,explicitRoot:!0,rootName:"div",renderOpts:{pretty:!1}}).buildObject(p):p},o.copyFromXML=function(p,d,x){x.forEach(function(M){var A=M,w=M,E={};Array.isArray(M)&&(A=M[0],w=M[1],M.length>2&&(E=M[2]));var g=E,q=g.keepArray,k=g.includeSnippet;p[A]!==void 0&&(d[w]=q?p[A]:p[A][0]),d[w]&&typeof d[w]._=="string"&&(d[w]=d[w]._),k&&d[w]&&typeof d[w]=="string"&&(d[w+"Snippet"]=o.getSnippet(d[w]))})},o.maybePromisify=function(p,d){return p?d.then(function(x){return setTimeout(function(){return p(null,x)})},function(x){return setTimeout(function(){return p(x)})}):d};var m=/(encoding|charset)\s*=\s*(\S+)/,c=["ascii","utf8","utf16le","ucs2","base64","latin1","binary","hex"],h={"utf-8":"utf8","iso-8859-1":"latin1"};o.getEncodingFromContentType=function(p){var d=((p=p||"").match(m)||[])[2]||"";return d=d.toLowerCase(),(d=h[d]||d)&&c.indexOf(d)!==-1||(d="utf8"),d}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.encode=r.decodeStrict=r.decode=void 0;var i=n(26),o=n(29);r.decode=function(m,c){return(!c||c<=0?i.decodeXML:i.decodeHTML)(m)},r.decodeStrict=function(m,c){return(!c||c<=0?i.decodeXML:i.decodeHTMLStrict)(m)},r.encode=function(m,c){return(!c||c<=0?o.encodeXML:o.encodeHTML)(m)};var l=n(29);Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var u=n(26);Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})},function(a){a.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},function(a,r,n){var i=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0});var o=i(n(66));r.default=function(l){if(l>=55296&&l<=57343||l>1114111)return"�";l in o.default&&(l=o.default[l]);var u="";return l>65535&&(l-=65536,u+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),u+=String.fromCharCode(l)}},function(a){a.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')}])})})(rssParser_min);var rssParser_minExports=rssParser_min.exports;const Parser$1=getDefaultExportFromCjs$1(rssParser_minExports);function create_else_block_1$2(s){let e,t="Loading...";return{c(){e=element("div"),e.textContent=t},l(a){e=claim_element(a,"DIV",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-194gxkm"&&(e.textContent=t)},m(a,r){insert_hydration(a,e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}function create_if_block_2$4(s){let e,t="Error loading feed.";return{c(){e=element("div"),e.textContent=t,this.h()},l(a){e=claim_element(a,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-6qmxy9"&&(e.textContent=t),this.h()},h(){attr(e,"class","text-xl")},m(a,r){insert_hydration(a,e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}function create_if_block$6(s){var w;let e,t=(((w=s[0])==null?void 0:w.title)||"News")+"",a,r,n,i,o,l,u,m,c,h,p,d;i=new OldSchoolTextScroller({props:{message:s[1].title,width:28}});const x=[create_if_block_1$6,create_else_block$4],M=[];function A(E,g){return E[4]?0:1}return h=A(s),p=M[h]=x[h](s),{c(){e=element("div"),a=text(t),r=space(),n=element("div"),create_component(i.$$.fragment),o=space(),l=element("div"),u=text(s[8]),m=space(),c=element("div"),p.c(),this.h()},l(E){e=claim_element(E,"DIV",{class:!0});var g=children$1(e);a=claim_text(g,t),g.forEach(detach),r=claim_space(E),n=claim_element(E,"DIV",{class:!0});var q=children$1(n);claim_component(i.$$.fragment,q),o=claim_space(q),l=claim_element(q,"DIV",{});var k=children$1(l);u=claim_text(k,s[8]),k.forEach(detach),q.forEach(detach),m=claim_space(E),c=claim_element(E,"DIV",{class:!0});var L=children$1(c);p.l(L),L.forEach(detach),this.h()},h(){attr(e,"class","text-6xl text-nowrap origin-top-left scale-x-75"),attr(n,"class","flex justify-between text-2xl"),attr(c,"class","bg-black bg-opacity-50 p-2 mt-2")},m(E,g){insert_hydration(E,e,g),append_hydration(e,a),insert_hydration(E,r,g),insert_hydration(E,n,g),mount_component(i,n,null),append_hydration(n,o),append_hydration(n,l),append_hydration(l,u),insert_hydration(E,m,g),insert_hydration(E,c,g),M[h].m(c,null),d=!0},p(E,g){var L;(!d||g&1)&&t!==(t=(((L=E[0])==null?void 0:L.title)||"News")+"")&&set_data(a,t);const q={};g&2&&(q.message=E[1].title),i.$set(q),(!d||g&256)&&set_data(u,E[8]);let k=h;h=A(E),h===k?M[h].p(E,g):(group_outros(),transition_out(M[k],1,1,()=>{M[k]=null}),check_outros(),p=M[h],p?p.p(E,g):(p=M[h]=x[h](E),p.c()),transition_in(p,1),p.m(c,null))},i(E){d||(transition_in(i.$$.fragment,E),transition_in(p),d=!0)},o(E){transition_out(i.$$.fragment,E),transition_out(p),d=!1},d(E){E&&(detach(e),detach(r),detach(n),detach(m),detach(c)),destroy_component(i),M[h].d()}}}function create_else_block$4(s){let e,t="No news available.";return{c(){e=element("div"),e.textContent=t},l(a){e=claim_element(a,"DIV",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-pac79b"&&(e.textContent=t)},m(a,r){insert_hydration(a,e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}function create_if_block_1$6(s){let e,t=s[4].title+"",a,r,n,i=s[4].content,o,l=create_key_block$1(s);return{c(){e=element("div"),a=text(t),r=space(),n=element("div"),l.c(),this.h()},l(u){e=claim_element(u,"DIV",{class:!0});var m=children$1(e);a=claim_text(m,t),m.forEach(detach),r=claim_space(u),n=claim_element(u,"DIV",{class:!0,style:!0});var c=children$1(n);l.l(c),c.forEach(detach),this.h()},h(){var u;attr(e,"class","text-3xl italic"),attr(n,"class","relative overflow-hidden text-2xl"),set_style(n,"height",310-(((u=s[3])==null?void 0:u.offsetHeight)||0)+"px")},m(u,m){insert_hydration(u,e,m),append_hydration(e,a),s[10](e),insert_hydration(u,r,m),insert_hydration(u,n,m),l.m(n,null),o=!0},p(u,m){var c;(!o||m&16)&&t!==(t=u[4].title+"")&&set_data(a,t),m&16&&safe_not_equal(i,i=u[4].content)?(group_outros(),transition_out(l,1,1,noop$1),check_outros(),l=create_key_block$1(u),l.c(),transition_in(l,1),l.m(n,null)):l.p(u,m),(!o||m&8)&&set_style(n,"height",310-(((c=u[3])==null?void 0:c.offsetHeight)||0)+"px")},i(u){o||(transition_in(l),o=!0)},o(u){transition_out(l),o=!1},d(u){u&&(detach(e),detach(r),detach(n)),s[10](null),l.d(u)}}}function create_default_slot$9(s){let e,t=(s[4].content||"Article has no content.")+"",a;return{c(){e=new HtmlTagHydration(!1),a=empty(),this.h()},l(r){e=claim_html_tag(r,!1),a=empty(),this.h()},h(){e.a=a},m(r,n){e.m(t,r,n),insert_hydration(r,a,n)},p(r,n){n&16&&t!==(t=(r[4].content||"Article has no content.")+"")&&e.p(t)},d(r){r&&(detach(a),e.d())}}}function create_key_block$1(s){let e,t;return e=new RevealText({props:{scrollSpeed:s[6],paddingBottom:24,delay:s[7],$$slots:{default:[create_default_slot$9]},$$scope:{ctx:s}}}),e.$on("scrollEnd",s[9]),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&64&&(n.scrollSpeed=a[6]),r&128&&(n.delay=a[7]),r&65552&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_fragment$h(s){let e,t,a,r;const n=[create_if_block$6,create_if_block_2$4,create_else_block_1$2],i=[];function o(l,u){return l[1]?0:l[5]?1:2}return t=o(s),a=i[t]=n[t](s),{c(){e=element("div"),a.c(),this.h()},l(l){e=claim_element(l,"DIV",{class:!0,style:!0});var u=children$1(e);a.l(u),u.forEach(detach),this.h()},h(){attr(e,"class","w-full h-full p-8 font-home-video text-white"),set_style(e,"text-shadow","2px 2px black")},m(l,u){insert_hydration(l,e,u),i[t].m(e,null),s[11](e),r=!0},p(l,[u]){let m=t;t=o(l),t===m?i[t].p(l,u):(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros(),a=i[t],a?a.p(l,u):(a=i[t]=n[t](l),a.c()),transition_in(a,1),a.m(e,null))},i(l){r||(transition_in(a),r=!0)},o(l){transition_out(a),r=!1},d(l){l&&detach(e),i[t].d(),s[11](null)}}}function instance$f(s,e,t){let a,{props:r}=e,n,i,o,l,u=0,m,c,h=!1,p,d;onMount(()=>(typeof r=="string"&&t(0,r={src:r}),(r==null?void 0:r.backgroundImage)!==!1&&t(2,n.style.background=`url(${(r==null?void 0:r.backgroundImage)||Background}) no-repeat`,n),r.textColor&&t(2,n.style.color=r.textColor,n),r.refreshInterval&&(o=setInterval(x,r.refreshInterval*1e3)),t(6,p=(r==null?void 0:r.scrollSpeed)??30),t(7,d=((r==null?void 0:r.scrollDelay)||5)*1e3),x(),()=>{clearInterval(o),clearInterval(l)}));async function x(){try{console.debug("fetching feed",r.src);let E=new Parser$1;t(1,c=await E.parseURL(r.src)),console.debug("feed",c),M()}catch(E){console.error("Error fetching feed",E),t(5,h=!0)}}function M(){u=u%c.items.length,t(4,m=c.items[u]),u++}function A(E){binding_callbacks[E?"unshift":"push"](()=>{i=E,t(3,i)})}function w(E){binding_callbacks[E?"unshift":"push"](()=>{n=E,t(2,n)})}return s.$$set=E=>{"props"in E&&t(0,r=E.props)},s.$$.update=()=>{s.$$.dirty&2&&t(8,a=c?new Date(c.pubDate||c.lastBuildDate||c.updatedAt).toLocaleDateString():"")},[r,c,n,i,m,h,p,d,a,M,A,w]}class FeedReader extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$h,safe_not_equal,{props:0})}}const get_b_slot_changes=s=>({}),get_b_slot_context=s=>({}),get_a_slot_changes=s=>({}),get_a_slot_context=s=>({});function create_default_slot_1$2(s){let e;const t=s[6].a,a=create_slot(t,s,s[7],get_a_slot_context);return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,n){a&&a.m(r,n),e=!0},p(r,n){a&&a.p&&(!e||n&128)&&update_slot_base(a,t,r,r[7],e?get_slot_changes(t,r[7],n,get_a_slot_changes):get_all_dirty_from_scope(r[7]),get_a_slot_context)},i(r){e||(transition_in(a,r),e=!0)},o(r){transition_out(a,r),e=!1},d(r){a&&a.d(r)}}}function create_default_slot$8(s){let e;const t=s[6].b,a=create_slot(t,s,s[7],get_b_slot_context);return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,n){a&&a.m(r,n),e=!0},p(r,n){a&&a.p&&(!e||n&128)&&update_slot_base(a,t,r,r[7],e?get_slot_changes(t,r[7],n,get_b_slot_changes):get_all_dirty_from_scope(r[7]),get_b_slot_context)},i(r){e||(transition_in(a,r),e=!0)},o(r){transition_out(a,r),e=!1},d(r){a&&a.d(r)}}}function create_fragment$g(s){let e,t,a,r,n,i;return e=new Layer({props:{$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:s}}}),r=new Layer({props:{$$slots:{default:[create_default_slot$8]},$$scope:{ctx:s}}}),{c(){t=element("div"),create_component(e.$$.fragment),a=space(),n=element("div"),create_component(r.$$.fragment),this.h()},l(o){t=claim_element(o,"DIV",{style:!0});var l=children$1(t);claim_component(e.$$.fragment,l),a=claim_space(o),n=claim_element(o,"DIV",{style:!0});var u=children$1(n);claim_component(r.$$.fragment,u),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--blend-mode",s[0]),set_style(t,"--opacity",s[2]),set_style(n,"display","contents"),set_style(n,"--blend-mode",s[1]),set_style(n,"--opacity",s[3])},m(o,l){insert_hydration(o,t,l),mount_component(e,t,null),insert_hydration(o,a,l),insert_hydration(o,n,l),mount_component(r,n,null),i=!0},p(o,[l]){l&1&&set_style(t,"--blend-mode",o[0]),l&4&&set_style(t,"--opacity",o[2]);const u={};l&128&&(u.$$scope={dirty:l,ctx:o}),e.$set(u),l&2&&set_style(n,"--blend-mode",o[1]),l&8&&set_style(n,"--opacity",o[3]);const m={};l&128&&(m.$$scope={dirty:l,ctx:o}),r.$set(m)},i(o){i||(transition_in(e.$$.fragment,o),transition_in(r.$$.fragment,o),i=!0)},o(o){transition_out(e.$$.fragment,o),transition_out(r.$$.fragment,o),i=!1},d(o){o&&detach(a),o&&e&&detach(t),destroy_component(e,o),o&&r&&detach(n),destroy_component(r,o)}}}function instance$e(s,e,t){let{$$slots:a={},$$scope:r}=e,{a:n}=e,{b:i}=e;onMount(()=>{n!=null&&n.mixMode&&t(0,o=n==null?void 0:n.mixMode),i!=null&&i.mixMode&&t(1,l=i==null?void 0:i.mixMode),n!=null&&n.opacity&&t(2,u=n==null?void 0:n.opacity),i!=null&&i.opacity&&t(3,m=i==null?void 0:i.opacity)});let o="normal",l="normal",u=1,m=1;return s.$$set=c=>{"a"in c&&t(4,n=c.a),"b"in c&&t(5,i=c.b),"$$scope"in c&&t(7,r=c.$$scope)},[o,l,u,m,n,i,a,r]}class Mix extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$g,safe_not_equal,{a:4,b:5})}}function create_fragment$f(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","w-full h-full")},m(t,a){insert_hydration(t,e,a),s[2](e)},p:noop$1,i:noop$1,o:noop$1,d(t){t&&detach(e),s[2](null)}}}function instance$d(s,e,t){let{props:a}=e,r;onMount(()=>{typeof a!="string"&&(console.warn("Falling back to black for `color` component since provided value is not a string."),t(1,a="black")),t(0,r.style.background=a,r)});function n(i){binding_callbacks[i?"unshift":"push"](()=>{r=i,t(0,r)})}return s.$$set=i=>{"props"in i&&t(1,a=i.props)},[r,a,n]}class Color extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$f,safe_not_equal,{props:1})}}function create_fragment$e(s){let e;return{c(){e=element("canvas"),this.h()},l(t){e=claim_element(t,"CANVAS",{height:!0,width:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"height","480"),attr(e,"width","640")},m(t,a){insert_hydration(t,e,a),s[2](e)},p:noop$1,i:noop$1,o:noop$1,d(t){t&&detach(e),s[2](null)}}}let waveAmplitude=20,waveFrequency=.02,waveSpeed=.05;function instance$c(s,e,t){let{props:a}=e,r=!1,n="",i,o,l,u,m=null,c=new Image,h=0;function p(){if(!(!m||r)){u.clearRect(0,0,l.width,l.height),u.save();for(let A=0;A<l.height;A++){const w=Math.sin(A*waveFrequency+h)*waveAmplitude;u.setTransform(1,0,0,1,w,0),u.fillStyle=m,u.fillRect(-w,A,l.width+w,1)}u.restore(),h+=waveSpeed,x(),requestAnimationFrame(p)}}function d(){if(!m||r)return;o.clearRect(0,0,i.width,i.height),o.fillStyle=m,o.fillRect(0,0,i.width,i.height);const A=o.getImageData(0,0,i.width,i.height),w=A.data;for(let E=0;E<i.height;E++){const g=Math.sin(E*waveFrequency+h)*waveAmplitude;for(let q=0;q<i.width;q++){const k=Math.floor((q-g+i.width)%i.width),L=(E*i.width+k)*4,S=(E*i.width+q)*4;w[S]=w[L],w[S+1]=w[L+1],w[S+2]=w[L+2],w[S+3]=w[L+3]}}o.putImageData(A,0,0),h+=waveSpeed,requestAnimationFrame(d)}function x(){r||(o==null||o.clearRect(0,0,i.width,i.height),o==null||o.drawImage(l,i.width,i.height,i.width,i.height,0,0,i.width,i.height))}onMount(async()=>{const A=Object.assign({"/src/lib/backgrounds/bg-01.png":()=>__vitePreload(()=>Promise.resolve().then(()=>bg01),[],import.meta.url),"/src/lib/backgrounds/bg-02.png":()=>__vitePreload(()=>import("./bg-02.C6vk5_rl.js"),[],import.meta.url),"/src/lib/backgrounds/bg-03.png":()=>__vitePreload(()=>import("./bg-03.Ct2_b_yg.js"),[],import.meta.url),"/src/lib/backgrounds/bg-04.png":()=>__vitePreload(()=>import("./bg-04.DyFmaZTJ.js"),[],import.meta.url),"/src/lib/backgrounds/bg-05.png":()=>__vitePreload(()=>import("./bg-05.DppJJXRR.js"),[],import.meta.url),"/src/lib/backgrounds/bg-06.png":()=>__vitePreload(()=>import("./bg-06.Bcs-ieTb.js"),[],import.meta.url),"/src/lib/backgrounds/bg-07.png":()=>__vitePreload(()=>import("./bg-07.oVpaEMDm.js"),[],import.meta.url),"/src/lib/backgrounds/bg-08.png":()=>__vitePreload(()=>import("./bg-08.n5qlt_ku.js"),[],import.meta.url)}),w=[];for(const E in A)w.push(E);n=w[Math.floor(Math.random()*w.length)],c.onload=()=>{m=u.createPattern(c,"repeat"),a.type==="wave1"?p():a.type==="wave2"&&d()},c.src=n,l=document.createElement("canvas"),l.width=i.width*3,l.height=i.height*3,u=l.getContext("2d"),o=i.getContext("2d",{willReadFrequently:!0})}),onDestroy(()=>{r=!0});function M(A){binding_callbacks[A?"unshift":"push"](()=>{i=A,t(0,i)})}return s.$$set=A=>{"props"in A&&t(1,a=A.props)},[i,a,M]}class AbstractBackground extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$e,safe_not_equal,{props:1})}}const Components={generator:{name:"Generator",description:"SMTPE bars or color bars",src:Generator},image:{name:"Image",description:"A single image, stretched to fit its layout slot",src:Image$1},slideshow:{name:"Slideshow",description:"A series of images, one at a time",src:Slideshow,hasEndDetection:!0},video:{name:"Video",description:"A single video file or live streaming content from a number of providers, scaled to preserve aspect ratio in its layout slot",src:Video$1,hasEndDetection:!0,isDeprecated:!0},"video@2":{name:"Video",description:"A single video file or live streaming content from a number of providers, scaled to preserve aspect ratio in its layout slot",src:Video$1,hasEndDetection:!0},"video@1":{name:"Video (VimeJS)",description:"A single video file or live streaming content from a number of providers, scaled to preserve aspect ratio in its layout slot",src:Video1,hasEndDetection:!0,isDeprecated:!0},guide:{name:"Program Guide",description:"A list of channels and their current and upcoming content",src:Guide,requiresChannels:!0},weather:{name:"Weather",description:"The current weather conditions and forecast",src:Weather},keno:{name:"Keno",description:"The results of Keno games, drawn at regular intervals",src:Keno},loop:{name:"Loop",description:"A series of other content engines in sequence, with optional durations for each",src:Loop,isContainer:!0},iframe:{name:"IFrame",description:"A web page or other content from a URL",src:IFrame},"youtube-playlist":{name:"YouTube Playlist",description:"A YouTube playlist, playing each video in sequence or randomly",src:YoutubePlaylist,hasEndDetection:!0},"feed-reader":{name:"Feed Reader",description:"RSS feed reader that can display news from any standard RSS feed",src:FeedReader},"abstract-background":{name:"Abstract Background",description:"A background with abstract shapes and colors",src:AbstractBackground},about:{name:"About",description:"Information about Television Simulator '99 and its creators",src:About},visualizer:{name:"Visualizer",description:"A visualizer for audio content",src:Visualizer},"video-game":{name:"Video Game",description:"Emulation via Nostalgist and RetroArch",src:VideoGame},"bouncing-logo":{name:"Bouncing Logo",description:"Displays an image that bounces around the screen like the famous DVD logo screensaver",src:BouncingLogo},"":{name:"Default Engine",description:"In the event of invalid configuration, this engine will be used",src:About},"basic-text":{name:"Basic Text",description:"Header and body text with customizable colors and fonts",src:BasicText},color:{name:"Basic Color",description:"A solid CSS color or gradient",src:Color},"h-split":{name:"Horizontal Split",description:"Two content engines side-by-side",isLayout:!0,src:HSplit},"v-split":{name:"Vertical Split",description:"Two content engines stacked vertically",isLayout:!0,src:VSplit},pip:{name:"Picture-in-Picture",description:"A smaller content engine in the corner of a larger one",isLayout:!0},mix:{name:"Mix",description:"Blend one component into another one",isLayout:!0,src:Mix}};function create_else_block$3(s){let e,t,a,r;function n(l){s[18](l)}var i=Components[s[3]].src;function o(l,u){let m={};return l[1]!==void 0&&(m.props=l[1]),{props:m}}return i&&(e=construct_svelte_component(i,o(s)),binding_callbacks.push(()=>bind$1(e,"props",n)),s[19](e)),{c(){e&&create_component(e.$$.fragment),a=empty()},l(l){e&&claim_component(e.$$.fragment,l),a=empty()},m(l,u){e&&mount_component(e,l,u),insert_hydration(l,a,u),r=!0},p(l,u){if(u&8&&i!==(i=Components[l[3]].src)){if(e){group_outros();const m=e;transition_out(m.$$.fragment,1,0,()=>{destroy_component(m,1)}),check_outros()}i?(e=construct_svelte_component(i,o(l)),binding_callbacks.push(()=>bind$1(e,"props",n)),l[19](e),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,a.parentNode,a)):e=null}else if(i){const m={};!t&&u&2&&(t=!0,m.props=l[1],add_flush_callback(()=>t=!1)),e.$set(m)}},i(l){r||(e&&transition_in(e.$$.fragment,l),r=!0)},o(l){e&&transition_out(e.$$.fragment,l),r=!1},d(l){l&&detach(a),s[19](null),e&&destroy_component(e,l)}}}function create_if_block_1$5(s){let e,t,a,r;function n(l){s[16](l)}var i=Components[s[3]].src;function o(l,u){let m={channels:l[4]};return l[1]!==void 0&&(m.props=l[1]),{props:m}}return i&&(e=construct_svelte_component(i,o(s)),binding_callbacks.push(()=>bind$1(e,"props",n)),s[17](e)),{c(){e&&create_component(e.$$.fragment),a=empty()},l(l){e&&claim_component(e.$$.fragment,l),a=empty()},m(l,u){e&&mount_component(e,l,u),insert_hydration(l,a,u),r=!0},p(l,u){if(u&8&&i!==(i=Components[l[3]].src)){if(e){group_outros();const m=e;transition_out(m.$$.fragment,1,0,()=>{destroy_component(m,1)}),check_outros()}i?(e=construct_svelte_component(i,o(l)),binding_callbacks.push(()=>bind$1(e,"props",n)),l[17](e),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,a.parentNode,a)):e=null}else if(i){const m={};u&16&&(m.channels=l[4]),!t&&u&2&&(t=!0,m.props=l[1],add_flush_callback(()=>t=!1)),e.$set(m)}},i(l){r||(e&&transition_in(e.$$.fragment,l),r=!0)},o(l){e&&transition_out(e.$$.fragment,l),r=!1},d(l){l&&detach(a),s[17](null),e&&destroy_component(e,l)}}}function create_if_block$5(s){let e,t,a;var r=Components[s[3]].src;function n(i,o){return{props:{a:i[1].a,b:i[1].b,$$slots:{b:[create_b_slot],a:[create_a_slot]},$$scope:{ctx:i}}}}return r&&(e=construct_svelte_component(r,n(s))),{c(){e&&create_component(e.$$.fragment),t=empty()},l(i){e&&claim_component(e.$$.fragment,i),t=empty()},m(i,o){e&&mount_component(e,i,o),insert_hydration(i,t,o),a=!0},p(i,o){if(o&8&&r!==(r=Components[i[3]].src)){if(e){group_outros();const l=e;transition_out(l.$$.fragment,1,0,()=>{destroy_component(l,1)}),check_outros()}r?(e=construct_svelte_component(r,n(i)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else if(r){const l={};o&2&&(l.a=i[1].a),o&2&&(l.b=i[1].b),o&16777618&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)}},i(i){a||(e&&transition_in(e.$$.fragment,i),a=!0)},o(i){e&&transition_out(e.$$.fragment,i),a=!1},d(i){i&&detach(t),e&&destroy_component(e,i)}}}function create_a_slot(s){let e,t,a={engine:s[1].a.engine,props:s[1].a.props,channels:s[4],classes:"top-0 bottom-0 left-0 right-0 absolute",isNested:!0,slot:"a"};return e=new Content({props:a}),s[15](e),{c(){create_component(e.$$.fragment)},l(r){claim_component(e.$$.fragment,r)},m(r,n){mount_component(e,r,n),t=!0},p(r,n){const i={};n&2&&(i.engine=r[1].a.engine),n&2&&(i.props=r[1].a.props),n&16&&(i.channels=r[4]),e.$set(i)},i(r){t||(transition_in(e.$$.fragment,r),t=!0)},o(r){transition_out(e.$$.fragment,r),t=!1},d(r){s[15](null),destroy_component(e,r)}}}function create_b_slot(s){let e,t,a={engine:s[1].b.engine,props:s[1].b.props,channels:s[4],classes:"top-0 bottom-0 left-0 right-0 absolute",isNested:!0,slot:"b"};return e=new Content({props:a}),s[14](e),{c(){create_component(e.$$.fragment)},l(r){claim_component(e.$$.fragment,r)},m(r,n){mount_component(e,r,n),t=!0},p(r,n){const i={};n&2&&(i.engine=r[1].b.engine),n&2&&(i.props=r[1].b.props),n&16&&(i.channels=r[4]),e.$set(i)},i(r){t||(transition_in(e.$$.fragment,r),t=!0)},o(r){transition_out(e.$$.fragment,r),t=!1},d(r){s[14](null),destroy_component(e,r)}}}function create_default_slot$7(s){let e,t,a,r;const n=[create_if_block$5,create_if_block_1$5,create_else_block$3],i=[];function o(l,u){var m,c;return(m=Components[l[3]])!=null&&m.isLayout?0:(c=Components[l[3]])!=null&&c.requiresChannels?1:2}return e=o(s),t=i[e]=n[e](s),{c(){t.c(),a=empty()},l(l){t.l(l),a=empty()},m(l,u){i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,u){let m=e;e=o(l),e===m?i[e].p(l,u):(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros(),t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a))},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),i[e].d(l)}}}function create_fragment$d(s){let e,t,a,r,n;function i(u){s[20](u)}function o(u){s[21](u)}let l={$$slots:{default:[create_default_slot$7]},$$scope:{ctx:s}};return s[0]!==void 0&&(l.classes=s[0]),s[2]!==void 0&&(l.isNested=s[2]),e=new Layer({props:l}),binding_callbacks.push(()=>bind$1(e,"classes",i)),binding_callbacks.push(()=>bind$1(e,"isNested",o)),{c(){t=element("div"),create_component(e.$$.fragment),this.h()},l(u){t=claim_element(u,"DIV",{style:!0});var m=children$1(t);claim_component(e.$$.fragment,m),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--translate-y",s[5])},m(u,m){insert_hydration(u,t,m),mount_component(e,t,null),n=!0},p(u,[m]){m&32&&set_style(t,"--translate-y",u[5]);const c={};m&16777690&&(c.$$scope={dirty:m,ctx:u}),!a&&m&1&&(a=!0,c.classes=u[0],add_flush_callback(()=>a=!1)),!r&&m&4&&(r=!0,c.isNested=u[2],add_flush_callback(()=>r=!1)),e.$set(c)},i(u){n||(transition_in(e.$$.fragment,u),n=!0)},o(u){transition_out(e.$$.fragment,u),n=!1},d(u){u&&e&&detach(t),destroy_component(e,u)}}}function instance$b(s,e,t){let a;component_subscribe(s,backgroundAudio,B=>t(23,a=B));let{classes:r=""}=e,{engine:n=""}=e,{props:i={}}=e,{channels:o={}}=e,{number:l=0}=e,{isChangeAnimated:u=!1}=e,{isNested:m=!1}=e,{isScheduled:c=!1}=e,{scheduleSignaler:h=null}=e,p="0",d,x=`${l}-${n||"unknown"}-${Date.now()}-${Math.random().toString(16).slice(2)}`,M,A,w;onMount(()=>(c&&(t(1,i.isScheduled=!0,i),h&&t(1,i.scheduleSignaler=h,i)),console.debug("lifecycle","created",x),i!=null&&i.interruptsBackgroundAudio&&set_store_value(backgroundAudio,a.interruptedBy++,a),()=>{console.debug("lifecycle","destroyed",x),i!=null&&i.interruptsBackgroundAudio&&set_store_value(backgroundAudio,a.interruptedBy--,a),d&&clearTimeout(d),A&&A.$destroy(),w&&w.$destroy(),M&&M.$destroy()}));function E(B){binding_callbacks[B?"unshift":"push"](()=>{w=B,t(8,w)})}function g(B){binding_callbacks[B?"unshift":"push"](()=>{A=B,t(7,A)})}function q(B){i=B,t(1,i)}function k(B){binding_callbacks[B?"unshift":"push"](()=>{M=B,t(6,M)})}function L(B){i=B,t(1,i)}function S(B){binding_callbacks[B?"unshift":"push"](()=>{M=B,t(6,M)})}function R(B){r=B,t(0,r)}function D(B){m=B,t(2,m)}return s.$$set=B=>{"classes"in B&&t(0,r=B.classes),"engine"in B&&t(3,n=B.engine),"props"in B&&t(1,i=B.props),"channels"in B&&t(4,o=B.channels),"number"in B&&t(10,l=B.number),"isChangeAnimated"in B&&t(11,u=B.isChangeAnimated),"isNested"in B&&t(2,m=B.isNested),"isScheduled"in B&&t(12,c=B.isScheduled),"scheduleSignaler"in B&&t(13,h=B.scheduleSignaler)},s.$$.update=()=>{s.$$.dirty&2048&&u&&(t(5,p="5px"),d=setTimeout(()=>{t(5,p="0")},Math.random()*100+30))},[r,i,m,n,o,p,M,A,w,x,l,u,c,h,E,g,q,k,L,S,R,D]}class Content extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$d,safe_not_equal,{classes:0,engine:3,props:1,channels:4,number:10,isChangeAnimated:11,isNested:2,isScheduled:12,scheduleSignaler:13})}}function create_fragment$c(s){let e,t="MUTING";return{c(){e=element("div"),e.textContent=t,this.h()},l(a){e=claim_element(a,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-wcbtv4"&&(e.textContent=t),this.h()},h(){attr(e,"class","osd-mute font-vcr absolute right-8 bottom-5 text-5xl svelte-1c6cb18")},m(a,r){insert_hydration(a,e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}let Mute$1=class extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$c,safe_not_equal,{})}};function create_if_block_2$3(s){let e;return{c(){e=text(s[1])},l(t){e=claim_text(t,s[1])},m(t,a){insert_hydration(t,e,a)},p(t,a){a&2&&set_data(e,t[1])},d(t){t&&detach(e)}}}function create_if_block_1$4(s){let e;return{c(){e=element("br")},l(t){e=claim_element(t,"BR",{})},m(t,a){insert_hydration(t,e,a)},d(t){t&&detach(e)}}}function create_if_block$4(s){let e,t,a;return t=new OldSchoolTextScroller({props:{message:s[0],width:50,scrollPadding:5}}),{c(){e=text("♪ "),create_component(t.$$.fragment)},l(r){e=claim_text(r,"♪ "),claim_component(t.$$.fragment,r)},m(r,n){insert_hydration(r,e,n),mount_component(t,r,n),a=!0},p(r,n){const i={};n&1&&(i.message=r[0]),t.$set(i)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){r&&detach(e),destroy_component(t,r)}}}function create_fragment$b(s){let e,t,a,r,n=s[1]&&create_if_block_2$3(s),i=s[1]&&s[0]&&create_if_block_1$4(),o=s[0]&&create_if_block$4(s);return{c(){e=element("div"),n&&n.c(),t=space(),i&&i.c(),a=space(),o&&o.c(),this.h()},l(l){e=claim_element(l,"DIV",{class:!0});var u=children$1(e);n&&n.l(u),t=claim_space(u),i&&i.l(u),a=claim_space(u),o&&o.l(u),u.forEach(detach),this.h()},h(){attr(e,"class","font-home-video bg-black text-white absolute top-6 left-4 pr-2 pl-2")},m(l,u){insert_hydration(l,e,u),n&&n.m(e,null),append_hydration(e,t),i&&i.m(e,null),append_hydration(e,a),o&&o.m(e,null),r=!0},p(l,[u]){l[1]?n?n.p(l,u):(n=create_if_block_2$3(l),n.c(),n.m(e,t)):n&&(n.d(1),n=null),l[1]&&l[0]?i||(i=create_if_block_1$4(),i.c(),i.m(e,a)):i&&(i.d(1),i=null),l[0]?o?(o.p(l,u),u&1&&transition_in(o,1)):(o=create_if_block$4(l),o.c(),transition_in(o,1),o.m(e,null)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){l&&detach(e),n&&n.d(),i&&i.d(),o&&o.d()}}}function instance$a(s,e,t){let a,r;component_subscribe(s,nowPlaying,o=>t(3,r=o));let{channel:n=null}=e,i;return s.$$set=o=>{"channel"in o&&t(2,n=o.channel)},s.$$.update=()=>{var o;s.$$.dirty&8&&t(0,i=[r.title,r.artist].filter(l=>l).join(" - ")),s.$$.dirty&12&&t(1,a=r.stationName||((o=n==null?void 0:n.backgroundAudioOptions)==null?void 0:o.description))},[i,a,n,r]}let AudioInfo$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$b,safe_not_equal,{channel:2})}};class ChannelInfo extends SvelteComponent{constructor(e){super(),init(this,e,null,null,safe_not_equal,{})}}const muteIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAQAAADKpPKLAAAAAXNSR0IArs4c6QAAALNJREFUSIml1EEOwCAIBEBo+v8v04MxgoKUhSOWiRWUKAkRkewbHU/GVbAUrHNXEOEuIMaFIMoFIM65YIcjem05c8aJEDHHa8kcxoVRtgyO3Z3kyDADO/TIyYG/vJOLA0FLag4GF2m5BqgRPUYN0I8GuDelCc6z2zsOgroVlmxcvb0p4NU7OUuWQY/TZOPq+Vln6XxJovfPC2eHlfJfYI8MzhAnw6ag5KXLGHkdG4RM5rBOfkqWTDiJ0adSAAAAAElFTkSuQmCC";function create_fragment$a(s){let e,t=`<img src="${muteIcon}" alt="Muting"/>`,a,r;return{c(){e=element("div"),e.innerHTML=t,this.h()},l(n){e=claim_element(n,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-qrrp0b"&&(e.innerHTML=t),this.h()},h(){attr(e,"class","font-generic absolute right-10 top-10 text-md osd-volume bg-opacity-45 bg-black p-4 flex flex-row items-center gap-3")},m(n,i){insert_hydration(n,e,i),r=!0},p:noop$1,i(n){r||(add_render_callback(()=>{r&&(a||(a=create_bidirectional_transition(e,fade,{},!0)),a.run(1))}),r=!0)},o(n){a||(a=create_bidirectional_transition(e,fade,{},!1)),a.run(0),r=!1},d(n){n&&detach(e),n&&a&&a.end()}}}class Mute extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$a,safe_not_equal,{})}}const artworkIcon=""+new URL("../assets/UnknownArtwork.CbKZzPfz.png",import.meta.url).href;function create_else_block$2(s){let e,t="No audio info";return{c(){e=element("span"),e.textContent=t},l(a){e=claim_element(a,"SPAN",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1uoe9pv"&&(e.textContent=t)},m(a,r){insert_hydration(a,e,r)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e)}}}function create_if_block$3(s){let e,t,a,r,n,i,o,l,u,m,c;t=new OldSchoolTextScroller({props:{message:s[1].title||"Unknown",width:40,scrollPadding:25}}),n=new OldSchoolTextScroller({props:{message:s[1].artist||"Unknown Artist",width:40,scrollPadding:25}}),l=new OldSchoolTextScroller({props:{message:s[1].album||"Unknown Album",width:40,scrollPadding:25}});let h=s[3]&&create_if_block_1$3(s);return{c(){e=element("div"),create_component(t.$$.fragment),a=space(),r=element("div"),create_component(n.$$.fragment),i=space(),o=element("div"),create_component(l.$$.fragment),u=space(),h&&h.c(),m=empty(),this.h()},l(p){e=claim_element(p,"DIV",{class:!0});var d=children$1(e);claim_component(t.$$.fragment,d),d.forEach(detach),a=claim_space(p),r=claim_element(p,"DIV",{class:!0});var x=children$1(r);claim_component(n.$$.fragment,x),x.forEach(detach),i=claim_space(p),o=claim_element(p,"DIV",{class:!0});var M=children$1(o);claim_component(l.$$.fragment,M),M.forEach(detach),u=claim_space(p),h&&h.l(p),m=empty(),this.h()},h(){attr(e,"class","svelte-1ssrub"),attr(r,"class","svelte-1ssrub"),attr(o,"class","svelte-1ssrub")},m(p,d){insert_hydration(p,e,d),mount_component(t,e,null),insert_hydration(p,a,d),insert_hydration(p,r,d),mount_component(n,r,null),insert_hydration(p,i,d),insert_hydration(p,o,d),mount_component(l,o,null),insert_hydration(p,u,d),h&&h.m(p,d),insert_hydration(p,m,d),c=!0},p(p,d){const x={};d&2&&(x.message=p[1].title||"Unknown"),t.$set(x);const M={};d&2&&(M.message=p[1].artist||"Unknown Artist"),n.$set(M);const A={};d&2&&(A.message=p[1].album||"Unknown Album"),l.$set(A),p[3]?h?h.p(p,d):(h=create_if_block_1$3(p),h.c(),h.m(m.parentNode,m)):h&&(h.d(1),h=null)},i(p){c||(transition_in(t.$$.fragment,p),transition_in(n.$$.fragment,p),transition_in(l.$$.fragment,p),c=!0)},o(p){transition_out(t.$$.fragment,p),transition_out(n.$$.fragment,p),transition_out(l.$$.fragment,p),c=!1},d(p){p&&(detach(e),detach(a),detach(r),detach(i),detach(o),detach(u),detach(m)),destroy_component(t),destroy_component(n),destroy_component(l),h&&h.d(p)}}}function create_if_block_1$3(s){let e,t;return{c(){e=element("div"),t=text(s[3]),this.h()},l(a){e=claim_element(a,"DIV",{class:!0});var r=children$1(e);t=claim_text(r,s[3]),r.forEach(detach),this.h()},h(){attr(e,"class","svelte-1ssrub")},m(a,r){insert_hydration(a,e,r),append_hydration(e,t)},p(a,r){r&8&&set_data(t,a[3])},d(a){a&&detach(e)}}}function create_fragment$9(s){let e,t,a,r,n,i,o,l,u;const m=[create_if_block$3,create_else_block$2],c=[];function h(p,d){return p[1].hasData?0:1}return i=h(s),o=c[i]=m[i](s),{c(){e=element("div"),t=element("div"),a=element("div"),r=space(),n=element("div"),o.c(),this.h()},l(p){e=claim_element(p,"DIV",{style:!0,class:!0});var d=children$1(e);t=claim_element(d,"DIV",{class:!0});var x=children$1(t);a=claim_element(x,"DIV",{style:!0,class:!0}),children$1(a).forEach(detach),r=claim_space(x),n=claim_element(x,"DIV",{class:!0});var M=children$1(n);o.l(M),M.forEach(detach),x.forEach(detach),d.forEach(detach),this.h()},h(){set_style(a,"background-image","url("+(s[1].coverArt||artworkIcon)+")"),set_style(a,"width","100% height: 100%"),attr(a,"class","flex-1 bg-contain bg-right bg-no-repeat"),attr(n,"class","text-white h-full w-full pl-4 pr-10 flex-3 flex flex-col audio-info svelte-1ssrub"),attr(t,"class","flex pt-4 pb-2 h-full"),set_style(e,"background-image","linear-gradient(180deg, #"+s[2][0]+" 33%, #"+s[2][1]+" 100%)"),attr(e,"class","absolute flex flex-col flex-1 bg-blue-900 font-prevue-grid text-[1.4rem] left-0 right-0 top-0 osd-tuner h-1/3 svelte-1ssrub")},m(p,d){insert_hydration(p,e,d),append_hydration(e,t),append_hydration(t,a),append_hydration(t,r),append_hydration(t,n),c[i].m(n,null),s[6](e),u=!0},p(p,[d]){(!u||d&2)&&set_style(a,"background-image","url("+(p[1].coverArt||artworkIcon)+")");let x=i;i=h(p),i===x?c[i].p(p,d):(group_outros(),transition_out(c[x],1,1,()=>{c[x]=null}),check_outros(),o=c[i],o?o.p(p,d):(o=c[i]=m[i](p),o.c()),transition_in(o,1),o.m(n,null)),(!u||d&4)&&set_style(e,"background-image","linear-gradient(180deg, #"+p[2][0]+" 33%, #"+p[2][1]+" 100%)")},i(p){u||(transition_in(o),p&&add_render_callback(()=>{u&&(l||(l=create_bidirectional_transition(e,fly,{opacity:1,y:-200},!0)),l.run(1))}),u=!0)},o(p){transition_out(o),p&&(l||(l=create_bidirectional_transition(e,fly,{opacity:1,y:-200},!1)),l.run(0)),u=!1},d(p){p&&detach(e),c[i].d(),s[6](null),p&&l&&l.end()}}}function instance$9(s,e,t){let a,r,n;component_subscribe(s,nowPlaying,m=>t(1,n=m));let{channel:i=null}=e,o=defaultColor,l;function u(m){binding_callbacks[m?"unshift":"push"](()=>{l=m,t(0,l)})}return s.$$set=m=>{"channel"in m&&t(4,i=m.channel)},s.$$.update=()=>{var m;s.$$.dirty&18&&t(3,a=n.stationName||((m=i==null?void 0:i.backgroundAudioOptions)==null?void 0:m.description)),s.$$.dirty&33&&l&&(t(5,o=getComputedStyle(l).getPropertyValue("--osd-primary-color").trim()),o||t(5,o=defaultColor)),s.$$.dirty&32&&t(2,r=getColorScheme(o))},[l,n,r,a,i,o,u]}class AudioInfo extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{channel:4})}}const OsdThemes={default:{name:"Default Theme",description:"Late 1990s CRT television OSD. Simple and easy to read.",tuner:Tuner,volume:Volume,mute:Mute$1,audioInfo:AudioInfo$1,channelInfo:ChannelInfo},digital:{name:"Digital Cable Box",description:"Early 2000s digital cable box style OSD. Tuner and info look like the program guide. Volume looks like it's going through a receiver.",channelInfoReplacesTuner:!0,tuner:Tuner$1,volume:Volume$1,mute:Mute,audioInfo:AudioInfo,channelInfo:Tuner$1},web:{name:"Web Appliance",description:"Late 1990s web appliance style OSD. Tuner and info have clean gradient backgrounds. Volume has a colorful progress bar indicator.",tuner:Tuner,volume:Volume,mute:Mute$1,audioInfo:AudioInfo$1,channelInfo:ChannelInfo}},osdAlert=writable("");function create_fragment$8(s){let e,t;const a=s[1].default,r=create_slot(a,s,s[0],null);return{c(){e=element("div"),r&&r.c(),this.h()},l(n){e=claim_element(n,"DIV",{class:!0});var i=children$1(e);r&&r.l(i),i.forEach(detach),this.h()},h(){attr(e,"class","osd-mute font-vcr absolute left-8 bottom-5 text-5xl whitespace-pre-wrap svelte-1c6cb18")},m(n,i){insert_hydration(n,e,i),r&&r.m(e,null),t=!0},p(n,[i]){r&&r.p&&(!t||i&1)&&update_slot_base(r,a,n,n[0],t?get_slot_changes(a,n[0],i,null):get_all_dirty_from_scope(n[0]),null)},i(n){t||(transition_in(r,n),t=!0)},o(n){transition_out(r,n),t=!1},d(n){n&&detach(e),r&&r.d(n)}}}function instance$8(s,e,t){let{$$slots:a={},$$scope:r}=e;return s.$$set=n=>{"$$scope"in n&&t(0,r=n.$$scope)},[r,a]}class LowerMessage extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{})}}function create_if_block$2(s){let e,t;return e=new Layer({props:{classes:s[2],$$slots:{default:[create_default_slot$6]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&4&&(n.classes=a[2]),r&1114099&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_8$1(s){let e,t,a,r=s[8].isAudioInfoVisible&&create_if_block_10(s),n=s[8].isChannelInfoVisible&&create_if_block_9$1(s);return{c(){r&&r.c(),e=space(),n&&n.c(),t=empty()},l(i){r&&r.l(i),e=claim_space(i),n&&n.l(i),t=empty()},m(i,o){r&&r.m(i,o),insert_hydration(i,e,o),n&&n.m(i,o),insert_hydration(i,t,o),a=!0},p(i,o){i[8].isAudioInfoVisible?r?(r.p(i,o),o&256&&transition_in(r,1)):(r=create_if_block_10(i),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros()),i[8].isChannelInfoVisible?n?(n.p(i,o),o&256&&transition_in(n,1)):(n=create_if_block_9$1(i),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros())},i(i){a||(transition_in(r),transition_in(n),a=!0)},o(i){transition_out(r),transition_out(n),a=!1},d(i){i&&(detach(e),detach(t)),r&&r.d(i),n&&n.d(i)}}}function create_if_block_10(s){let e,t,a,r,n,i;var o=OsdThemes[s[4]].audioInfo;function l(u,m){return{props:{channel:u[0]}}}return o&&(e=construct_svelte_component(o,l(s))),{c(){t=element("div"),e&&create_component(e.$$.fragment),n=empty(),this.h()},l(u){t=claim_element(u,"DIV",{style:!0});var m=children$1(t);e&&claim_component(e.$$.fragment,m),n=empty(),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--osd-primary-color",a=s[13].primaryColor),set_style(t,"--osd-accent-color",r=s[13].accentColor)},m(u,m){insert_hydration(u,t,m),e&&mount_component(e,t,null),insert_hydration(u,n,m),i=!0},p(u,m){if(m&8192&&a!==(a=u[13].primaryColor)&&set_style(t,"--osd-primary-color",a),m&8192&&r!==(r=u[13].accentColor)&&set_style(t,"--osd-accent-color",r),m&16&&o!==(o=OsdThemes[u[4]].audioInfo)){if(e){group_outros();const c=e;transition_out(c.$$.fragment,1,0,()=>{destroy_component(c,1),detach(t)}),check_outros()}o?(insert_hydration(n.parentNode,t,n),e=construct_svelte_component(o,l(u)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t,null)):e=null}else if(o){const c={};m&1&&(c.channel=u[0]),e.$set(c)}},i(u){i||(e&&transition_in(e.$$.fragment,u),i=!0)},o(u){e&&transition_out(e.$$.fragment,u),i=!1},d(u){u&&detach(n),u&&e&&detach(t),e&&destroy_component(e,u)}}}function create_if_block_9$1(s){let e,t,a,r,n,i;var o=OsdThemes[s[4]].channelInfo;function l(u,m){return{props:{formattedChannelNumber:u[12],channel:u[0],isExpanded:!0}}}return o&&(e=construct_svelte_component(o,l(s))),{c(){t=element("div"),e&&create_component(e.$$.fragment),n=empty(),this.h()},l(u){t=claim_element(u,"DIV",{style:!0});var m=children$1(t);e&&claim_component(e.$$.fragment,m),n=empty(),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--osd-primary-color",a=s[13].primaryColor),set_style(t,"--osd-accent-color",r=s[13].accentColor)},m(u,m){insert_hydration(u,t,m),e&&mount_component(e,t,null),insert_hydration(u,n,m),i=!0},p(u,m){if(m&8192&&a!==(a=u[13].primaryColor)&&set_style(t,"--osd-primary-color",a),m&8192&&r!==(r=u[13].accentColor)&&set_style(t,"--osd-accent-color",r),m&16&&o!==(o=OsdThemes[u[4]].channelInfo)){if(e){group_outros();const c=e;transition_out(c.$$.fragment,1,0,()=>{destroy_component(c,1),detach(t)}),check_outros()}o?(insert_hydration(n.parentNode,t,n),e=construct_svelte_component(o,l(u)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t,null)):e=null}else if(o){const c={};m&4096&&(c.formattedChannelNumber=u[12]),m&1&&(c.channel=u[0]),e.$set(c)}},i(u){i||(e&&transition_in(e.$$.fragment,u),i=!0)},o(u){e&&transition_out(e.$$.fragment,u),i=!1},d(u){u&&detach(n),u&&e&&detach(t),e&&destroy_component(e,u)}}}function create_if_block_5$2(s){let e,t,a,r=s[1]&&create_if_block_7$1(s),n=!s[1]&&(s[4]===!1||!(OsdThemes[s[6]].channelInfoReplacesTuner&&s[8].isChannelInfoVisible))&&s[9]&&create_if_block_6$1(s);return{c(){r&&r.c(),e=space(),n&&n.c(),t=empty()},l(i){r&&r.l(i),e=claim_space(i),n&&n.l(i),t=empty()},m(i,o){r&&r.m(i,o),insert_hydration(i,e,o),n&&n.m(i,o),insert_hydration(i,t,o),a=!0},p(i,o){i[1]?r?(r.p(i,o),o&2&&transition_in(r,1)):(r=create_if_block_7$1(i),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros()),!i[1]&&(i[4]===!1||!(OsdThemes[i[6]].channelInfoReplacesTuner&&i[8].isChannelInfoVisible))&&i[9]?n?(n.p(i,o),o&850&&transition_in(n,1)):(n=create_if_block_6$1(i),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros())},i(i){a||(transition_in(r),transition_in(n),a=!0)},o(i){transition_out(r),transition_out(n),a=!1},d(i){i&&(detach(e),detach(t)),r&&r.d(i),n&&n.d(i)}}}function create_if_block_7$1(s){let e,t,a,r,n,i;var o=OsdThemes[s[6]].tuner;function l(u,m){return{props:{formattedChannelNumber:u[1],isManualInput:!0}}}return o&&(e=construct_svelte_component(o,l(s))),{c(){t=element("div"),e&&create_component(e.$$.fragment),n=empty(),this.h()},l(u){t=claim_element(u,"DIV",{style:!0});var m=children$1(t);e&&claim_component(e.$$.fragment,m),n=empty(),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--osd-primary-color",a=s[15].primaryColor),set_style(t,"--osd-accent-color",r=s[15].accentColor)},m(u,m){insert_hydration(u,t,m),e&&mount_component(e,t,null),insert_hydration(u,n,m),i=!0},p(u,m){if(m&32768&&a!==(a=u[15].primaryColor)&&set_style(t,"--osd-primary-color",a),m&32768&&r!==(r=u[15].accentColor)&&set_style(t,"--osd-accent-color",r),m&64&&o!==(o=OsdThemes[u[6]].tuner)){if(e){group_outros();const c=e;transition_out(c.$$.fragment,1,0,()=>{destroy_component(c,1),detach(t)}),check_outros()}o?(insert_hydration(n.parentNode,t,n),e=construct_svelte_component(o,l(u)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t,null)):e=null}else if(o){const c={};m&2&&(c.formattedChannelNumber=u[1]),e.$set(c)}},i(u){i||(e&&transition_in(e.$$.fragment,u),i=!0)},o(u){e&&transition_out(e.$$.fragment,u),i=!1},d(u){u&&detach(n),u&&e&&detach(t),e&&destroy_component(e,u)}}}function create_if_block_6$1(s){let e,t,a,r,n,i;var o=OsdThemes[s[6]].tuner;function l(u,m){return{props:{formattedChannelNumber:u[12],channel:u[0]}}}return o&&(e=construct_svelte_component(o,l(s))),{c(){t=element("div"),e&&create_component(e.$$.fragment),n=empty(),this.h()},l(u){t=claim_element(u,"DIV",{style:!0});var m=children$1(t);e&&claim_component(e.$$.fragment,m),n=empty(),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--osd-primary-color",a=s[15].primaryColor),set_style(t,"--osd-accent-color",r=s[15].accentColor)},m(u,m){insert_hydration(u,t,m),e&&mount_component(e,t,null),insert_hydration(u,n,m),i=!0},p(u,m){if(m&32768&&a!==(a=u[15].primaryColor)&&set_style(t,"--osd-primary-color",a),m&32768&&r!==(r=u[15].accentColor)&&set_style(t,"--osd-accent-color",r),m&64&&o!==(o=OsdThemes[u[6]].tuner)){if(e){group_outros();const c=e;transition_out(c.$$.fragment,1,0,()=>{destroy_component(c,1),detach(t)}),check_outros()}o?(insert_hydration(n.parentNode,t,n),e=construct_svelte_component(o,l(u)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t,null)):e=null}else if(o){const c={};m&4096&&(c.formattedChannelNumber=u[12]),m&1&&(c.channel=u[0]),e.$set(c)}},i(u){i||(e&&transition_in(e.$$.fragment,u),i=!0)},o(u){e&&transition_out(e.$$.fragment,u),i=!1},d(u){u&&detach(n),u&&e&&detach(t),e&&destroy_component(e,u)}}}function create_if_block_2$2(s){let e,t,a,r;const n=[create_if_block_3$2,create_if_block_4$2],i=[];function o(l,u){return l[8].isMuting?0:l[10]?1:-1}return~(e=o(s))&&(t=i[e]=n[e](s)),{c(){t&&t.c(),a=empty()},l(l){t&&t.l(l),a=empty()},m(l,u){~e&&i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,u){let m=e;e=o(l),e===m?~e&&i[e].p(l,u):(t&&(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros()),~e?(t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a)):t=null)},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),~e&&i[e].d(l)}}}function create_if_block_1$2(s){let e,t;return e=new LowerMessage({props:{$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&1048704&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_4$2(s){let e,t,a,r,n,i;var o=OsdThemes[s[5]].volume;function l(u,m){return{props:{volume:u[8].volume}}}return o&&(e=construct_svelte_component(o,l(s))),{c(){t=element("div"),e&&create_component(e.$$.fragment),n=empty(),this.h()},l(u){t=claim_element(u,"DIV",{style:!0});var m=children$1(t);e&&claim_component(e.$$.fragment,m),n=empty(),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--osd-primary-color",a=s[14].primaryColor),set_style(t,"--osd-accent-color",r=s[14].accentColor)},m(u,m){insert_hydration(u,t,m),e&&mount_component(e,t,null),insert_hydration(u,n,m),i=!0},p(u,m){if(m&16384&&a!==(a=u[14].primaryColor)&&set_style(t,"--osd-primary-color",a),m&16384&&r!==(r=u[14].accentColor)&&set_style(t,"--osd-accent-color",r),m&32&&o!==(o=OsdThemes[u[5]].volume)){if(e){group_outros();const c=e;transition_out(c.$$.fragment,1,0,()=>{destroy_component(c,1),detach(t)}),check_outros()}o?(insert_hydration(n.parentNode,t,n),e=construct_svelte_component(o,l(u)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t,null)):e=null}else if(o){const c={};m&256&&(c.volume=u[8].volume),e.$set(c)}},i(u){i||(e&&transition_in(e.$$.fragment,u),i=!0)},o(u){e&&transition_out(e.$$.fragment,u),i=!1},d(u){u&&detach(n),u&&e&&detach(t),e&&destroy_component(e,u)}}}function create_if_block_3$2(s){let e,t,a,r,n,i;var o=OsdThemes[s[5]].mute;function l(u,m){return{}}return o&&(e=construct_svelte_component(o,l())),{c(){t=element("div"),e&&create_component(e.$$.fragment),n=empty(),this.h()},l(u){t=claim_element(u,"DIV",{style:!0});var m=children$1(t);e&&claim_component(e.$$.fragment,m),n=empty(),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--osd-primary-color",a=s[14].primaryColor),set_style(t,"--osd-accent-color",r=s[14].accentColor)},m(u,m){insert_hydration(u,t,m),e&&mount_component(e,t,null),insert_hydration(u,n,m),i=!0},p(u,m){if(m&16384&&a!==(a=u[14].primaryColor)&&set_style(t,"--osd-primary-color",a),m&16384&&r!==(r=u[14].accentColor)&&set_style(t,"--osd-accent-color",r),m&32&&o!==(o=OsdThemes[u[5]].mute)){if(e){group_outros();const c=e;transition_out(c.$$.fragment,1,0,()=>{destroy_component(c,1),detach(t)}),check_outros()}o?(insert_hydration(n.parentNode,t,n),e=construct_svelte_component(o,l()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t,null)):e=null}},i(u){i||(e&&transition_in(e.$$.fragment,u),i=!0)},o(u){e&&transition_out(e.$$.fragment,u),i=!1},d(u){u&&detach(n),u&&e&&detach(t),e&&destroy_component(e,u)}}}function create_default_slot_1$1(s){let e;return{c(){e=text(s[7])},l(t){e=claim_text(t,s[7])},m(t,a){insert_hydration(t,e,a)},p(t,a){a&128&&set_data(e,t[7])},d(t){t&&detach(e)}}}function create_default_slot$6(s){let e,t,a,r,n,i,o=s[4]!==!1&&s[13]!==!1&&create_if_block_8$1(s),l=s[6]!==!1&&s[15]!==!1&&create_if_block_5$2(s);const u=[create_if_block_1$2,create_if_block_2$2],m=[];function c(h,p){return h[11]?0:h[5]!==!1&&h[14]!==!1?1:-1}return~(a=c(s))&&(r=m[a]=u[a](s)),{c(){o&&o.c(),e=space(),l&&l.c(),t=space(),r&&r.c(),n=empty()},l(h){o&&o.l(h),e=claim_space(h),l&&l.l(h),t=claim_space(h),r&&r.l(h),n=empty()},m(h,p){o&&o.m(h,p),insert_hydration(h,e,p),l&&l.m(h,p),insert_hydration(h,t,p),~a&&m[a].m(h,p),insert_hydration(h,n,p),i=!0},p(h,p){h[4]!==!1&&h[13]!==!1?o?(o.p(h,p),p&8208&&transition_in(o,1)):(o=create_if_block_8$1(h),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()),h[6]!==!1&&h[15]!==!1?l?(l.p(h,p),p&32832&&transition_in(l,1)):(l=create_if_block_5$2(h),l.c(),transition_in(l,1),l.m(t.parentNode,t)):l&&(group_outros(),transition_out(l,1,1,()=>{l=null}),check_outros());let d=a;a=c(h),a===d?~a&&m[a].p(h,p):(r&&(group_outros(),transition_out(m[d],1,1,()=>{m[d]=null}),check_outros()),~a?(r=m[a],r?r.p(h,p):(r=m[a]=u[a](h),r.c()),transition_in(r,1),r.m(n.parentNode,n)):r=null)},i(h){i||(transition_in(o),transition_in(l),transition_in(r),i=!0)},o(h){transition_out(o),transition_out(l),transition_out(r),i=!1},d(h){h&&(detach(e),detach(t),detach(n)),o&&o.d(h),l&&l.d(h),~a&&m[a].d(h)}}}function create_fragment$7(s){let e,t,a=s[3]!==!1&&create_if_block$2(s);return{c(){a&&a.c(),e=empty()},l(r){a&&a.l(r),e=empty()},m(r,n){a&&a.m(r,n),insert_hydration(r,e,n),t=!0},p(r,[n]){r[3]!==!1?a?(a.p(r,n),n&8&&transition_in(a,1)):(a=create_if_block$2(r),a.c(),transition_in(a,1),a.m(e.parentNode,e)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(r){t||(transition_in(a),t=!0)},o(r){transition_out(a),t=!1},d(r){r&&detach(e),a&&a.d(r)}}}let displayTimeout=3e3;function instance$7(s,e,t){let a,r,n,i,o,l,u,m;component_subscribe(s,osdAlert,L=>t(7,u=L)),component_subscribe(s,tvState,L=>t(8,m=L));let{channel:c=null}=e,{manualChannelInput:h=""}=e,p=!1,d=!1,x=!1,M,A,w,E=m.volume,{classes:g=""}=e,{osdSettings:q}=e,k;return s.$$set=L=>{"channel"in L&&t(0,c=L.channel),"manualChannelInput"in L&&t(1,h=L.manualChannelInput),"classes"in L&&t(2,g=L.classes),"osdSettings"in L&&t(3,q=L.osdSettings)},s.$$.update=()=>{var L,S,R;s.$$.dirty&8&&t(6,a=q!==!1&&q.tuner!==!1?((L=q==null?void 0:q.tuner)==null?void 0:L.theme)??(q==null?void 0:q.theme)??"default":!1),s.$$.dirty&8&&t(5,r=q!==!1&&q.receiver!==!1?((S=q==null?void 0:q.receiver)==null?void 0:S.theme)??(q==null?void 0:q.theme)??"default":!1),s.$$.dirty&8&&t(4,n=q!==!1&&q.info!==!1?((R=q==null?void 0:q.info)==null?void 0:R.theme)??(q==null?void 0:q.theme)??"default":!1),s.$$.dirty&8&&t(15,i=Object.assign({},q,q!==!1?(q==null?void 0:q.tuner)??{}:{})),s.$$.dirty&8&&t(14,o=Object.assign({},q,q!==!1?(q==null?void 0:q.receiver)??{}:{})),s.$$.dirty&8&&t(13,l=Object.assign({},q,q!==!1?(q==null?void 0:q.info)??{}:{})),s.$$.dirty&1&&c&&(c.number===0?t(12,k="MENU"):c.number<0?t(12,k=`LINE ${Math.abs(c.number)}`):t(12,k=c.number.toString().padStart(2,"0"))),s.$$.dirty&65537&&c&&c.number!==null&&(t(9,p=!0),M&&clearTimeout(M),t(16,M=setTimeout(()=>{t(9,p=!1)},displayTimeout))),s.$$.dirty&655616&&m.volume!==E&&(t(10,d=!0),A&&clearTimeout(A),t(17,A=setTimeout(()=>{t(10,d=!1)},displayTimeout)),t(19,E=m.volume)),s.$$.dirty&262272&&u&&(t(11,x=!0),w&&clearTimeout(w),t(18,w=setTimeout(()=>{t(11,x=!1)},displayTimeout))),s.$$.dirty&120&&(console.log("osdSettings",q),console.log("tunerTheme",a),console.log("volumeTheme",r),console.log("infoTheme",n))},[c,h,g,q,n,r,a,u,m,p,d,x,k,l,o,i,M,A,w,E]}class Osd extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{channel:0,manualChannelInput:1,classes:2,osdSettings:3})}}function create_default_slot$5(s){let e;return{c(){e=element("div"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","scanlines svelte-1qj1ft9")},m(t,a){insert_hydration(t,e,a)},p:noop$1,d(t){t&&detach(e)}}}function create_fragment$6(s){let e,t;return e=new Layer({props:{classes:s[0],$$slots:{default:[create_default_slot$5]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,[r]){const n={};r&1&&(n.classes=a[0]),r&2&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function instance$6(s,e,t){let{classes:a=""}=e;return s.$$set=r=>{"classes"in r&&t(0,a=r.classes)},[a]}class Scanlines extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{classes:0})}}let G=null;class H{}H.render=function(s,e){G(s,e)};self.QrCreator=H;(function(s){function e(o,l,u,m){var c={},h=s(u,l);h.u(o),h.J(),m=m||0;var p=h.h(),d=h.h()+2*m;return c.text=o,c.level=l,c.version=u,c.O=d,c.a=function(x,M){return x-=m,M-=m,0>x||x>=p||0>M||M>=p?!1:h.a(x,M)},c}function t(o,l,u,m,c,h,p,d,x,M){function A(w,E,g,q,k,L,S){w?(o.lineTo(E+L,g+S),o.arcTo(E,g,q,k,h)):o.lineTo(E,g)}p?o.moveTo(l+h,u):o.moveTo(l,u),A(d,m,u,m,c,-h,0),A(x,m,c,l,c,0,-h),A(M,l,c,l,u,h,0),A(p,l,u,m,u,0,h)}function a(o,l,u,m,c,h,p,d,x,M){function A(w,E,g,q){o.moveTo(w+g,E),o.lineTo(w,E),o.lineTo(w,E+q),o.arcTo(w,E,w+g,E,h)}p&&A(l,u,h,h),d&&A(m,u,-h,h),x&&A(m,c,-h,-h),M&&A(l,c,h,-h)}function r(o,l){var u=l.fill;if(typeof u=="string")o.fillStyle=u;else{var m=u.type,c=u.colorStops;if(u=u.position.map(p=>Math.round(p*l.size)),m==="linear-gradient")var h=o.createLinearGradient.apply(o,u);else if(m==="radial-gradient")h=o.createRadialGradient.apply(o,u);else throw Error("Unsupported fill");c.forEach(([p,d])=>{h.addColorStop(p,d)}),o.fillStyle=h}}function n(o,l){e:{var u=l.text,m=l.v,c=l.N,h=l.K,p=l.P;for(c=Math.max(1,c||1),h=Math.min(40,h||40);c<=h;c+=1)try{var d=e(u,m,c,p);break e}catch{}d=void 0}if(!d)return null;for(u=o.getContext("2d"),l.background&&(u.fillStyle=l.background,u.fillRect(l.left,l.top,l.size,l.size)),m=d.O,h=l.size/m,u.beginPath(),p=0;p<m;p+=1)for(c=0;c<m;c+=1){var x=u,M=l.left+c*h,A=l.top+p*h,w=p,E=c,g=d.a,q=M+h,k=A+h,L=w-1,S=w+1,R=E-1,D=E+1,B=Math.floor(Math.min(.5,Math.max(0,l.R))*h),N=g(w,E),Q=g(L,R),P=g(L,E);L=g(L,D);var U=g(w,D);D=g(S,D),E=g(S,E),S=g(S,R),w=g(w,R),M=Math.round(M),A=Math.round(A),q=Math.round(q),k=Math.round(k),N?t(x,M,A,q,k,B,!P&&!w,!P&&!U,!E&&!U,!E&&!w):a(x,M,A,q,k,B,P&&w&&Q,P&&U&&L,E&&U&&D,E&&w&&S)}return r(u,l),u.fill(),o}var i={minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:.5,quiet:0};G=function(o,l){var u={};Object.assign(u,i,o),u.N=u.minVersion,u.K=u.maxVersion,u.v=u.ecLevel,u.left=u.left,u.top=u.top,u.size=u.size,u.fill=u.fill,u.background=u.background,u.text=u.text,u.R=u.radius,u.P=u.quiet,l instanceof HTMLCanvasElement?((l.width!==u.size||l.height!==u.size)&&(l.width=u.size,l.height=u.size),l.getContext("2d").clearRect(0,0,l.width,l.height),n(l,u)):(o=document.createElement("canvas"),o.width=u.size,o.height=u.size,u=n(o,u),l.appendChild(u))}})(function(){function s(l){var u=t.s(l);return{S:function(){return 4},b:function(){return u.length},write:function(m){for(var c=0;c<u.length;c+=1)m.put(u[c],8)}}}function e(){var l=[],u=0,m={B:function(){return l},c:function(c){return(l[Math.floor(c/8)]>>>7-c%8&1)==1},put:function(c,h){for(var p=0;p<h;p+=1)m.m((c>>>h-p-1&1)==1)},f:function(){return u},m:function(c){var h=Math.floor(u/8);l.length<=h&&l.push(0),c&&(l[h]|=128>>>u%8),u+=1}};return m}function t(l,u){function m(w,E){for(var g=-1;7>=g;g+=1)if(!(-1>=w+g||d<=w+g))for(var q=-1;7>=q;q+=1)-1>=E+q||d<=E+q||(p[w+g][E+q]=0<=g&&6>=g&&(q==0||q==6)||0<=q&&6>=q&&(g==0||g==6)||2<=g&&4>=g&&2<=q&&4>=q)}function c(w,E){for(var g=d=4*l+17,q=Array(g),k=0;k<g;k+=1){q[k]=Array(g);for(var L=0;L<g;L+=1)q[k][L]=null}for(p=q,m(0,0),m(d-7,0),m(0,d-7),g=n.G(l),q=0;q<g.length;q+=1)for(k=0;k<g.length;k+=1){L=g[q];var S=g[k];if(p[L][S]==null)for(var R=-2;2>=R;R+=1)for(var D=-2;2>=D;D+=1)p[L+R][S+D]=R==-2||R==2||D==-2||D==2||R==0&&D==0}for(g=8;g<d-8;g+=1)p[g][6]==null&&(p[g][6]=g%2==0);for(g=8;g<d-8;g+=1)p[6][g]==null&&(p[6][g]=g%2==0);for(g=n.w(h<<3|E),q=0;15>q;q+=1)k=!w&&(g>>q&1)==1,p[6>q?q:8>q?q+1:d-15+q][8]=k,p[8][8>q?d-q-1:9>q?15-q:14-q]=k;if(p[d-8][8]=!w,7<=l){for(g=n.A(l),q=0;18>q;q+=1)k=!w&&(g>>q&1)==1,p[Math.floor(q/3)][q%3+d-8-3]=k;for(q=0;18>q;q+=1)k=!w&&(g>>q&1)==1,p[q%3+d-8-3][Math.floor(q/3)]=k}if(x==null){for(w=o.I(l,h),g=e(),q=0;q<M.length;q+=1)k=M[q],g.put(4,4),g.put(k.b(),n.f(4,l)),k.write(g);for(q=k=0;q<w.length;q+=1)k+=w[q].j;if(g.f()>8*k)throw Error("code length overflow. ("+g.f()+">"+8*k+")");for(g.f()+4<=8*k&&g.put(0,4);g.f()%8!=0;)g.m(!1);for(;!(g.f()>=8*k)&&(g.put(236,8),!(g.f()>=8*k));)g.put(17,8);var B=0;for(k=q=0,L=Array(w.length),S=Array(w.length),R=0;R<w.length;R+=1){var N=w[R].j,Q=w[R].o-N;for(q=Math.max(q,N),k=Math.max(k,Q),L[R]=Array(N),D=0;D<L[R].length;D+=1)L[R][D]=255&g.B()[D+B];for(B+=N,D=n.C(Q),N=a(L[R],D.b()-1).l(D),S[R]=Array(D.b()-1),D=0;D<S[R].length;D+=1)Q=D+N.b()-S[R].length,S[R][D]=0<=Q?N.c(Q):0}for(D=g=0;D<w.length;D+=1)g+=w[D].o;for(g=Array(g),D=B=0;D<q;D+=1)for(R=0;R<w.length;R+=1)D<L[R].length&&(g[B]=L[R][D],B+=1);for(D=0;D<k;D+=1)for(R=0;R<w.length;R+=1)D<S[R].length&&(g[B]=S[R][D],B+=1);x=g}for(w=x,g=-1,q=d-1,k=7,L=0,E=n.F(E),S=d-1;0<S;S-=2)for(S==6&&--S;;){for(R=0;2>R;R+=1)p[q][S-R]==null&&(D=!1,L<w.length&&(D=(w[L]>>>k&1)==1),E(q,S-R)&&(D=!D),p[q][S-R]=D,--k,k==-1&&(L+=1,k=7));if(q+=g,0>q||d<=q){q-=g,g=-g;break}}}var h=r[u],p=null,d=0,x=null,M=[],A={u:function(w){w=s(w),M.push(w),x=null},a:function(w,E){if(0>w||d<=w||0>E||d<=E)throw Error(w+","+E);return p[w][E]},h:function(){return d},J:function(){for(var w=0,E=0,g=0;8>g;g+=1){c(!0,g);var q=n.D(A);(g==0||w>q)&&(w=q,E=g)}c(!1,E)}};return A}function a(l,u){if(typeof l.length>"u")throw Error(l.length+"/"+u);var m=function(){for(var h=0;h<l.length&&l[h]==0;)h+=1;for(var p=Array(l.length-h+u),d=0;d<l.length-h;d+=1)p[d]=l[d+h];return p}(),c={c:function(h){return m[h]},b:function(){return m.length},multiply:function(h){for(var p=Array(c.b()+h.b()-1),d=0;d<c.b();d+=1)for(var x=0;x<h.b();x+=1)p[d+x]^=i.i(i.g(c.c(d))+i.g(h.c(x)));return a(p,0)},l:function(h){if(0>c.b()-h.b())return c;for(var p=i.g(c.c(0))-i.g(h.c(0)),d=Array(c.b()),x=0;x<c.b();x+=1)d[x]=c.c(x);for(x=0;x<h.b();x+=1)d[x]^=i.i(i.g(h.c(x))+p);return a(d,0).l(h)}};return c}t.s=function(l){for(var u=[],m=0;m<l.length;m++){var c=l.charCodeAt(m);128>c?u.push(c):2048>c?u.push(192|c>>6,128|c&63):55296>c||57344<=c?u.push(224|c>>12,128|c>>6&63,128|c&63):(m++,c=65536+((c&1023)<<10|l.charCodeAt(m)&1023),u.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63))}return u};var r={L:1,M:0,Q:3,H:2},n=function(){function l(c){for(var h=0;c!=0;)h+=1,c>>>=1;return h}var u=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],m={w:function(c){for(var h=c<<10;0<=l(h)-l(1335);)h^=1335<<l(h)-l(1335);return(c<<10|h)^21522},A:function(c){for(var h=c<<12;0<=l(h)-l(7973);)h^=7973<<l(h)-l(7973);return c<<12|h},G:function(c){return u[c-1]},F:function(c){switch(c){case 0:return function(h,p){return(h+p)%2==0};case 1:return function(h){return h%2==0};case 2:return function(h,p){return p%3==0};case 3:return function(h,p){return(h+p)%3==0};case 4:return function(h,p){return(Math.floor(h/2)+Math.floor(p/3))%2==0};case 5:return function(h,p){return h*p%2+h*p%3==0};case 6:return function(h,p){return(h*p%2+h*p%3)%2==0};case 7:return function(h,p){return(h*p%3+(h+p)%2)%2==0};default:throw Error("bad maskPattern:"+c)}},C:function(c){for(var h=a([1],0),p=0;p<c;p+=1)h=h.multiply(a([1,i.i(p)],0));return h},f:function(c,h){if(c!=4||1>h||40<h)throw Error("mode: "+c+"; type: "+h);return 10>h?8:16},D:function(c){for(var h=c.h(),p=0,d=0;d<h;d+=1)for(var x=0;x<h;x+=1){for(var M=0,A=c.a(d,x),w=-1;1>=w;w+=1)if(!(0>d+w||h<=d+w))for(var E=-1;1>=E;E+=1)0>x+E||h<=x+E||(w!=0||E!=0)&&A==c.a(d+w,x+E)&&(M+=1);5<M&&(p+=3+M-5)}for(d=0;d<h-1;d+=1)for(x=0;x<h-1;x+=1)M=0,c.a(d,x)&&(M+=1),c.a(d+1,x)&&(M+=1),c.a(d,x+1)&&(M+=1),c.a(d+1,x+1)&&(M+=1),(M==0||M==4)&&(p+=3);for(d=0;d<h;d+=1)for(x=0;x<h-6;x+=1)c.a(d,x)&&!c.a(d,x+1)&&c.a(d,x+2)&&c.a(d,x+3)&&c.a(d,x+4)&&!c.a(d,x+5)&&c.a(d,x+6)&&(p+=40);for(x=0;x<h;x+=1)for(d=0;d<h-6;d+=1)c.a(d,x)&&!c.a(d+1,x)&&c.a(d+2,x)&&c.a(d+3,x)&&c.a(d+4,x)&&!c.a(d+5,x)&&c.a(d+6,x)&&(p+=40);for(x=M=0;x<h;x+=1)for(d=0;d<h;d+=1)c.a(d,x)&&(M+=1);return p+=Math.abs(100*M/h/h-50)/5*10}};return m}(),i=function(){for(var l=Array(256),u=Array(256),m=0;8>m;m+=1)l[m]=1<<m;for(m=8;256>m;m+=1)l[m]=l[m-4]^l[m-5]^l[m-6]^l[m-8];for(m=0;255>m;m+=1)u[l[m]]=m;return{g:function(c){if(1>c)throw Error("glog("+c+")");return u[c]},i:function(c){for(;0>c;)c+=255;for(;256<=c;)c-=255;return l[c]}}}(),o=function(){function l(c,h){switch(h){case r.L:return u[4*(c-1)];case r.M:return u[4*(c-1)+1];case r.Q:return u[4*(c-1)+2];case r.H:return u[4*(c-1)+3]}}var u=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],m={I:function(c,h){var p=l(c,h);if(typeof p>"u")throw Error("bad rs block @ typeNumber:"+c+"/errorCorrectLevel:"+h);c=p.length/3,h=[];for(var d=0;d<c;d+=1)for(var x=p[3*d],M=p[3*d+1],A=p[3*d+2],w=0;w<x;w+=1){var E=A,g={};g.o=M,g.j=E,h.push(g)}return h}};return m}();return t}());const QrCreator$1=QrCreator;var keymaster={exports:{}};(function(s){(function(e){var t,a={},r={16:!1,18:!1,17:!1,91:!1},n="all",i={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},o={backspace:8,tab:9,clear:12,enter:13,return:13,pause:19,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,ins:45,insert:45,del:46,delete:46,home:36,end:35,divide:111,multiply:106,subtract:109,add:107,numpad0:"96",numpad1:"97",numpad2:"98",numpad3:"99",numpad4:"100",numpad5:"101",numpad6:"102",numpad7:"103",numpad8:"104",numpad9:"105",pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},l=function(P){return o[P]||i[P]||P.toUpperCase().charCodeAt(0)},u=[];for(t=1;t<20;t++)o["f"+t]=111+t;function m(P,U){for(var $=P.length;$--;)if(P[$]===U)return $;return-1}function c(P,U){if(P.length!=U.length)return!1;for(var $=0;$<P.length;$++)if(P[$]!==U[$])return!1;return!0}var h={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function p(P){for(t in r)r[t]=P[h[t]]}function d(P){var U,$,J,me,W,ee;if(U=P.keyCode,m(u,U)==-1&&u.push(U),(U==93||U==224)&&(U=91),U in r){r[U]=!0;for(J in i)i[J]==U&&(A[J]=!0);return}if(p(P),!!A.filter.call(this,P)&&U in a){for(ee=L(),me=0;me<a[U].length;me++)if($=a[U][me],$.scope==ee||$.scope=="all"){W=$.mods.length>0;for(J in r)(!r[J]&&m($.mods,+J)>-1||r[J]&&m($.mods,+J)==-1)&&(W=!1);($.mods.length==0&&!r[16]&&!r[18]&&!r[17]&&!r[91]||W)&&$.method(P,$)===!1&&(P.preventDefault?P.preventDefault():P.returnValue=!1,P.stopPropagation&&P.stopPropagation(),P.cancelBubble&&(P.cancelBubble=!0))}}}function x(P){var U=P.keyCode,$,J=m(u,U);if(J>=0&&u.splice(J,1),(U==93||U==224)&&(U=91),U in r){r[U]=!1;for($ in i)i[$]==U&&(A[$]=!1)}}function M(){for(t in r)r[t]=!1;for(t in i)A[t]=!1;u=[]}function A(P,U,$){var J,me;J=R(P),$===void 0&&($=U,U="all");for(var W=0;W<J.length;W++)me=[],P=J[W].split("+"),P.length>1&&(me=D(P),P=[P[P.length-1]]),P=P[0],P=l(P),P in a||(a[P]=[]),a[P].push({shortcut:J[W],scope:U,method:$,key:J[W],mods:me})}function w(P,U){var $,J,me=[],W,ee,ue;for($=R(P),ee=0;ee<$.length;ee++){if(J=$[ee].split("+"),J.length>1&&(me=D(J),P=J[J.length-1]),P=l(P),U===void 0&&(U=L()),!a[P])return;for(W=0;W<a[P].length;W++)ue=a[P][W],ue.scope===U&&c(ue.mods,me)&&(a[P][W]={})}}function E(P){return typeof P=="string"&&(P=l(P)),m(u,P)!=-1}function g(){return u.slice(0)}function q(P){var U=(P.target||P.srcElement).tagName;return!(U=="INPUT"||U=="SELECT"||U=="TEXTAREA")}for(t in i)A[t]=!1;function k(P){n=P||"all"}function L(){return n||"all"}function S(P){var U,$,J;for(U in a)for($=a[U],J=0;J<$.length;)$[J].scope===P?$.splice(J,1):J++}function R(P){var U;return P=P.replace(/\s/g,""),U=P.split(","),U[U.length-1]==""&&(U[U.length-2]+=","),U}function D(P){for(var U=P.slice(0,P.length-1),$=0;$<U.length;$++)U[$]=i[U[$]];return U}function B(P,U,$){P.addEventListener?P.addEventListener(U,$,!1):P.attachEvent&&P.attachEvent("on"+U,function(){$(window.event)})}typeof window<"u"&&window.document&&(B(window.document,"keydown",function(P){d(P)}),B(window.document,"keyup",x),B(window,"focus",M));var N=e.key;function Q(){var P=e.key;return e.key=N,P}e.key=A,e.key.setScope=k,e.key.getScope=L,e.key.deleteScope=S,e.key.filter=q,e.key.isPressed=E,e.key.getPressedKeyCodes=g,e.key.noConflict=Q,e.key.unbind=w,s.exports=A})(commonjsGlobal$1)})(keymaster);var keymasterExports=keymaster.exports;const Keymaster=getDefaultExportFromCjs$1(keymasterExports),ShadowMaskTypes=["none","aperture-grille","slot-mask","dot-mask"],BezelTypes=["none","cylindrical","flat"];var hammer={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(s){(function(e,t,a,r){var n=["","webkit","Moz","MS","ms","o"],i=t.createElement("div"),o="function",l=Math.round,u=Math.abs,m=Date.now;function c(te,ce,de){return setTimeout(E(te,de),ce)}function h(te,ce,de){return Array.isArray(te)?(p(te,de[ce],de),!0):!1}function p(te,ce,de){var ke;if(te)if(te.forEach)te.forEach(ce,de);else if(te.length!==r)for(ke=0;ke<te.length;)ce.call(de,te[ke],ke,te),ke++;else for(ke in te)te.hasOwnProperty(ke)&&ce.call(de,te[ke],ke,te)}function d(te,ce,de){var ke="DEPRECATED METHOD: "+ce+`
`+de+` AT 
`;return function(){var Pe=new Error("get-stack-trace"),He=Pe&&Pe.stack?Pe.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ye=e.console&&(e.console.warn||e.console.log);return Ye&&Ye.call(e.console,ke,He),te.apply(this,arguments)}}var x;typeof Object.assign!="function"?x=function(ce){if(ce===r||ce===null)throw new TypeError("Cannot convert undefined or null to object");for(var de=Object(ce),ke=1;ke<arguments.length;ke++){var Pe=arguments[ke];if(Pe!==r&&Pe!==null)for(var He in Pe)Pe.hasOwnProperty(He)&&(de[He]=Pe[He])}return de}:x=Object.assign;var M=d(function(ce,de,ke){for(var Pe=Object.keys(de),He=0;He<Pe.length;)(!ke||ke&&ce[Pe[He]]===r)&&(ce[Pe[He]]=de[Pe[He]]),He++;return ce},"extend","Use `assign`."),A=d(function(ce,de){return M(ce,de,!0)},"merge","Use `assign`.");function w(te,ce,de){var ke=ce.prototype,Pe;Pe=te.prototype=Object.create(ke),Pe.constructor=te,Pe._super=ke,de&&x(Pe,de)}function E(te,ce){return function(){return te.apply(ce,arguments)}}function g(te,ce){return typeof te==o?te.apply(ce&&ce[0]||r,ce):te}function q(te,ce){return te===r?ce:te}function k(te,ce,de){p(D(ce),function(ke){te.addEventListener(ke,de,!1)})}function L(te,ce,de){p(D(ce),function(ke){te.removeEventListener(ke,de,!1)})}function S(te,ce){for(;te;){if(te==ce)return!0;te=te.parentNode}return!1}function R(te,ce){return te.indexOf(ce)>-1}function D(te){return te.trim().split(/\s+/g)}function B(te,ce,de){if(te.indexOf&&!de)return te.indexOf(ce);for(var ke=0;ke<te.length;){if(de&&te[ke][de]==ce||!de&&te[ke]===ce)return ke;ke++}return-1}function N(te){return Array.prototype.slice.call(te,0)}function Q(te,ce,de){for(var ke=[],Pe=[],He=0;He<te.length;){var Ye=te[He][ce];B(Pe,Ye)<0&&ke.push(te[He]),Pe[He]=Ye,He++}return ke=ke.sort(function(Ct,Dt){return Ct[ce]>Dt[ce]}),ke}function P(te,ce){for(var de,ke,Pe=ce[0].toUpperCase()+ce.slice(1),He=0;He<n.length;){if(de=n[He],ke=de?de+Pe:ce,ke in te)return ke;He++}return r}var U=1;function $(){return U++}function J(te){var ce=te.ownerDocument||te;return ce.defaultView||ce.parentWindow||e}var me=/mobile|tablet|ip(ad|hone|od)|android/i,W="ontouchstart"in e,ee=P(e,"PointerEvent")!==r,ue=W&&me.test(navigator.userAgent),Z="touch",ie="pen",fe="mouse",ye="kinect",xe=25,ge=1,Ae=2,O=4,Y=8,T=1,I=2,X=4,le=8,se=16,_e=I|X,we=le|se,Ce=_e|we,Be=["x","y"],We=["clientX","clientY"];function re(te,ce){var de=this;this.manager=te,this.callback=ce,this.element=te.element,this.target=te.options.inputTarget,this.domHandler=function(ke){g(te.options.enable,[te])&&de.handler(ke)},this.init()}re.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(J(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&L(this.element,this.evEl,this.domHandler),this.evTarget&&L(this.target,this.evTarget,this.domHandler),this.evWin&&L(J(this.element),this.evWin,this.domHandler)}};function V(te){var ce,de=te.options.inputClass;return de?ce=de:ee?ce=Fe:ue?ce=yt:W?ce=Rt:ce=Ve,new ce(te,j)}function j(te,ce,de){var ke=de.pointers.length,Pe=de.changedPointers.length,He=ce&ge&&ke-Pe===0,Ye=ce&(O|Y)&&ke-Pe===0;de.isFirst=!!He,de.isFinal=!!Ye,He&&(te.session={}),de.eventType=ce,he(te,de),te.emit("hammer.input",de),te.recognize(de),te.session.prevInput=de}function he(te,ce){var de=te.session,ke=ce.pointers,Pe=ke.length;de.firstInput||(de.firstInput=Ie(ce)),Pe>1&&!de.firstMultiple?de.firstMultiple=Ie(ce):Pe===1&&(de.firstMultiple=!1);var He=de.firstInput,Ye=de.firstMultiple,kt=Ye?Ye.center:He.center,Ct=ce.center=Ze(ke);ce.timeStamp=m(),ce.deltaTime=ce.timeStamp-He.timeStamp,ce.angle=oe(kt,Ct),ce.distance=it(kt,Ct),Me(de,ce),ce.offsetDirection=et(ce.deltaX,ce.deltaY);var Dt=at(ce.deltaTime,ce.deltaX,ce.deltaY);ce.overallVelocityX=Dt.x,ce.overallVelocityY=Dt.y,ce.overallVelocity=u(Dt.x)>u(Dt.y)?Dt.x:Dt.y,ce.scale=Ye?Se(Ye.pointers,ke):1,ce.rotation=Ye?ve(Ye.pointers,ke):0,ce.maxPointers=de.prevInput?ce.pointers.length>de.prevInput.maxPointers?ce.pointers.length:de.prevInput.maxPointers:ce.pointers.length,Te(de,ce);var Jt=te.element;S(ce.srcEvent.target,Jt)&&(Jt=ce.srcEvent.target),ce.target=Jt}function Me(te,ce){var de=ce.center,ke=te.offsetDelta||{},Pe=te.prevDelta||{},He=te.prevInput||{};(ce.eventType===ge||He.eventType===O)&&(Pe=te.prevDelta={x:He.deltaX||0,y:He.deltaY||0},ke=te.offsetDelta={x:de.x,y:de.y}),ce.deltaX=Pe.x+(de.x-ke.x),ce.deltaY=Pe.y+(de.y-ke.y)}function Te(te,ce){var de=te.lastInterval||ce,ke=ce.timeStamp-de.timeStamp,Pe,He,Ye,kt;if(ce.eventType!=Y&&(ke>xe||de.velocity===r)){var Ct=ce.deltaX-de.deltaX,Dt=ce.deltaY-de.deltaY,Jt=at(ke,Ct,Dt);He=Jt.x,Ye=Jt.y,Pe=u(Jt.x)>u(Jt.y)?Jt.x:Jt.y,kt=et(Ct,Dt),te.lastInterval=ce}else Pe=de.velocity,He=de.velocityX,Ye=de.velocityY,kt=de.direction;ce.velocity=Pe,ce.velocityX=He,ce.velocityY=Ye,ce.direction=kt}function Ie(te){for(var ce=[],de=0;de<te.pointers.length;)ce[de]={clientX:l(te.pointers[de].clientX),clientY:l(te.pointers[de].clientY)},de++;return{timeStamp:m(),pointers:ce,center:Ze(ce),deltaX:te.deltaX,deltaY:te.deltaY}}function Ze(te){var ce=te.length;if(ce===1)return{x:l(te[0].clientX),y:l(te[0].clientY)};for(var de=0,ke=0,Pe=0;Pe<ce;)de+=te[Pe].clientX,ke+=te[Pe].clientY,Pe++;return{x:l(de/ce),y:l(ke/ce)}}function at(te,ce,de){return{x:ce/te||0,y:de/te||0}}function et(te,ce){return te===ce?T:u(te)>=u(ce)?te<0?I:X:ce<0?le:se}function it(te,ce,de){de||(de=Be);var ke=ce[de[0]]-te[de[0]],Pe=ce[de[1]]-te[de[1]];return Math.sqrt(ke*ke+Pe*Pe)}function oe(te,ce,de){de||(de=Be);var ke=ce[de[0]]-te[de[0]],Pe=ce[de[1]]-te[de[1]];return Math.atan2(Pe,ke)*180/Math.PI}function ve(te,ce){return oe(ce[1],ce[0],We)+oe(te[1],te[0],We)}function Se(te,ce){return it(ce[0],ce[1],We)/it(te[0],te[1],We)}var ze={mousedown:ge,mousemove:Ae,mouseup:O},Le="mousedown",Ge="mousemove mouseup";function Ve(){this.evEl=Le,this.evWin=Ge,this.pressed=!1,re.apply(this,arguments)}w(Ve,re,{handler:function(ce){var de=ze[ce.type];de&ge&&ce.button===0&&(this.pressed=!0),de&Ae&&ce.which!==1&&(de=O),this.pressed&&(de&O&&(this.pressed=!1),this.callback(this.manager,de,{pointers:[ce],changedPointers:[ce],pointerType:fe,srcEvent:ce}))}});var nt={pointerdown:ge,pointermove:Ae,pointerup:O,pointercancel:Y,pointerout:Y},qe={2:Z,3:ie,4:fe,5:ye},Ne="pointerdown",ae="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ne="MSPointerDown",ae="MSPointerMove MSPointerUp MSPointerCancel");function Fe(){this.evEl=Ne,this.evWin=ae,re.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}w(Fe,re,{handler:function(ce){var de=this.store,ke=!1,Pe=ce.type.toLowerCase().replace("ms",""),He=nt[Pe],Ye=qe[ce.pointerType]||ce.pointerType,kt=Ye==Z,Ct=B(de,ce.pointerId,"pointerId");He&ge&&(ce.button===0||kt)?Ct<0&&(de.push(ce),Ct=de.length-1):He&(O|Y)&&(ke=!0),!(Ct<0)&&(de[Ct]=ce,this.callback(this.manager,He,{pointers:de,changedPointers:[ce],pointerType:Ye,srcEvent:ce}),ke&&de.splice(Ct,1))}});var Qe={touchstart:ge,touchmove:Ae,touchend:O,touchcancel:Y},je="touchstart",dt="touchstart touchmove touchend touchcancel";function $e(){this.evTarget=je,this.evWin=dt,this.started=!1,re.apply(this,arguments)}w($e,re,{handler:function(ce){var de=Qe[ce.type];if(de===ge&&(this.started=!0),!!this.started){var ke=mt.call(this,ce,de);de&(O|Y)&&ke[0].length-ke[1].length===0&&(this.started=!1),this.callback(this.manager,de,{pointers:ke[0],changedPointers:ke[1],pointerType:Z,srcEvent:ce})}}});function mt(te,ce){var de=N(te.touches),ke=N(te.changedTouches);return ce&(O|Y)&&(de=Q(de.concat(ke),"identifier")),[de,ke]}var De={touchstart:ge,touchmove:Ae,touchend:O,touchcancel:Y},Oe="touchstart touchmove touchend touchcancel";function yt(){this.evTarget=Oe,this.targetIds={},re.apply(this,arguments)}w(yt,re,{handler:function(ce){var de=De[ce.type],ke=ot.call(this,ce,de);ke&&this.callback(this.manager,de,{pointers:ke[0],changedPointers:ke[1],pointerType:Z,srcEvent:ce})}});function ot(te,ce){var de=N(te.touches),ke=this.targetIds;if(ce&(ge|Ae)&&de.length===1)return ke[de[0].identifier]=!0,[de,de];var Pe,He,Ye=N(te.changedTouches),kt=[],Ct=this.target;if(He=de.filter(function(Dt){return S(Dt.target,Ct)}),ce===ge)for(Pe=0;Pe<He.length;)ke[He[Pe].identifier]=!0,Pe++;for(Pe=0;Pe<Ye.length;)ke[Ye[Pe].identifier]&&kt.push(Ye[Pe]),ce&(O|Y)&&delete ke[Ye[Pe].identifier],Pe++;if(kt.length)return[Q(He.concat(kt),"identifier"),kt]}var Je=2500,Bt=25;function Rt(){re.apply(this,arguments);var te=E(this.handler,this);this.touch=new yt(this.manager,te),this.mouse=new Ve(this.manager,te),this.primaryTouch=null,this.lastTouches=[]}w(Rt,re,{handler:function(ce,de,ke){var Pe=ke.pointerType==Z,He=ke.pointerType==fe;if(!(He&&ke.sourceCapabilities&&ke.sourceCapabilities.firesTouchEvents)){if(Pe)ut.call(this,de,ke);else if(He&&pt.call(this,ke))return;this.callback(ce,de,ke)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function ut(te,ce){te&ge?(this.primaryTouch=ce.changedPointers[0].identifier,lt.call(this,ce)):te&(O|Y)&&lt.call(this,ce)}function lt(te){var ce=te.changedPointers[0];if(ce.identifier===this.primaryTouch){var de={x:ce.clientX,y:ce.clientY};this.lastTouches.push(de);var ke=this.lastTouches,Pe=function(){var He=ke.indexOf(de);He>-1&&ke.splice(He,1)};setTimeout(Pe,Je)}}function pt(te){for(var ce=te.srcEvent.clientX,de=te.srcEvent.clientY,ke=0;ke<this.lastTouches.length;ke++){var Pe=this.lastTouches[ke],He=Math.abs(ce-Pe.x),Ye=Math.abs(de-Pe.y);if(He<=Bt&&Ye<=Bt)return!0}return!1}var Et=P(i.style,"touchAction"),vt=Et!==r,Vt="compute",Zt="auto",_t="manipulation",ht="none",ft="pan-x",qt="pan-y",zt=la();function oa(te,ce){this.manager=te,this.set(ce)}oa.prototype={set:function(te){te==Vt&&(te=this.compute()),vt&&this.manager.element.style&&zt[te]&&(this.manager.element.style[Et]=te),this.actions=te.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var te=[];return p(this.manager.recognizers,function(ce){g(ce.options.enable,[ce])&&(te=te.concat(ce.getTouchAction()))}),Na(te.join(" "))},preventDefaults:function(te){var ce=te.srcEvent,de=te.offsetDirection;if(this.manager.session.prevented){ce.preventDefault();return}var ke=this.actions,Pe=R(ke,ht)&&!zt[ht],He=R(ke,qt)&&!zt[qt],Ye=R(ke,ft)&&!zt[ft];if(Pe){var kt=te.pointers.length===1,Ct=te.distance<2,Dt=te.deltaTime<250;if(kt&&Ct&&Dt)return}if(!(Ye&&He)&&(Pe||He&&de&_e||Ye&&de&we))return this.preventSrc(ce)},preventSrc:function(te){this.manager.session.prevented=!0,te.preventDefault()}};function Na(te){if(R(te,ht))return ht;var ce=R(te,ft),de=R(te,qt);return ce&&de?ht:ce||de?ce?ft:qt:R(te,_t)?_t:Zt}function la(){if(!vt)return!1;var te={},ce=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(de){te[de]=ce?e.CSS.supports("touch-action",de):!0}),te}var va=1,gt=2,ra=4,Nt=8,Pt=Nt,da=16,jt=32;function Tt(te){this.options=x({},this.defaults,te||{}),this.id=$(),this.manager=null,this.options.enable=q(this.options.enable,!0),this.state=va,this.simultaneous={},this.requireFail=[]}Tt.prototype={defaults:{},set:function(te){return x(this.options,te),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(te){if(h(te,"recognizeWith",this))return this;var ce=this.simultaneous;return te=na(te,this),ce[te.id]||(ce[te.id]=te,te.recognizeWith(this)),this},dropRecognizeWith:function(te){return h(te,"dropRecognizeWith",this)?this:(te=na(te,this),delete this.simultaneous[te.id],this)},requireFailure:function(te){if(h(te,"requireFailure",this))return this;var ce=this.requireFail;return te=na(te,this),B(ce,te)===-1&&(ce.push(te),te.requireFailure(this)),this},dropRequireFailure:function(te){if(h(te,"dropRequireFailure",this))return this;te=na(te,this);var ce=B(this.requireFail,te);return ce>-1&&this.requireFail.splice(ce,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(te){return!!this.simultaneous[te.id]},emit:function(te){var ce=this,de=this.state;function ke(Pe){ce.manager.emit(Pe,te)}de<Nt&&ke(ce.options.event+Sa(de)),ke(ce.options.event),te.additionalEvent&&ke(te.additionalEvent),de>=Nt&&ke(ce.options.event+Sa(de))},tryEmit:function(te){if(this.canEmit())return this.emit(te);this.state=jt},canEmit:function(){for(var te=0;te<this.requireFail.length;){if(!(this.requireFail[te].state&(jt|va)))return!1;te++}return!0},recognize:function(te){var ce=x({},te);if(!g(this.options.enable,[this,ce])){this.reset(),this.state=jt;return}this.state&(Pt|da|jt)&&(this.state=va),this.state=this.process(ce),this.state&(gt|ra|Nt|da)&&this.tryEmit(ce)},process:function(te){},getTouchAction:function(){},reset:function(){}};function Sa(te){return te&da?"cancel":te&Nt?"end":te&ra?"move":te&gt?"start":""}function ca(te){return te==se?"down":te==le?"up":te==I?"left":te==X?"right":""}function na(te,ce){var de=ce.manager;return de?de.get(te):te}function Ft(){Tt.apply(this,arguments)}w(Ft,Tt,{defaults:{pointers:1},attrTest:function(te){var ce=this.options.pointers;return ce===0||te.pointers.length===ce},process:function(te){var ce=this.state,de=te.eventType,ke=ce&(gt|ra),Pe=this.attrTest(te);return ke&&(de&Y||!Pe)?ce|da:ke||Pe?de&O?ce|Nt:ce&gt?ce|ra:gt:jt}});function Ma(){Ft.apply(this,arguments),this.pX=null,this.pY=null}w(Ma,Ft,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ce},getTouchAction:function(){var te=this.options.direction,ce=[];return te&_e&&ce.push(qt),te&we&&ce.push(ft),ce},directionTest:function(te){var ce=this.options,de=!0,ke=te.distance,Pe=te.direction,He=te.deltaX,Ye=te.deltaY;return Pe&ce.direction||(ce.direction&_e?(Pe=He===0?T:He<0?I:X,de=He!=this.pX,ke=Math.abs(te.deltaX)):(Pe=Ye===0?T:Ye<0?le:se,de=Ye!=this.pY,ke=Math.abs(te.deltaY))),te.direction=Pe,de&&ke>ce.threshold&&Pe&ce.direction},attrTest:function(te){return Ft.prototype.attrTest.call(this,te)&&(this.state&gt||!(this.state&gt)&&this.directionTest(te))},emit:function(te){this.pX=te.deltaX,this.pY=te.deltaY;var ce=ca(te.direction);ce&&(te.additionalEvent=this.options.event+ce),this._super.emit.call(this,te)}});function Ta(){Ft.apply(this,arguments)}w(Ta,Ft,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ht]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.scale-1)>this.options.threshold||this.state&gt)},emit:function(te){if(te.scale!==1){var ce=te.scale<1?"in":"out";te.additionalEvent=this.options.event+ce}this._super.emit.call(this,te)}});function Xt(){Tt.apply(this,arguments),this._timer=null,this._input=null}w(Xt,Tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Zt]},process:function(te){var ce=this.options,de=te.pointers.length===ce.pointers,ke=te.distance<ce.threshold,Pe=te.deltaTime>ce.time;if(this._input=te,!ke||!de||te.eventType&(O|Y)&&!Pe)this.reset();else if(te.eventType&ge)this.reset(),this._timer=c(function(){this.state=Pt,this.tryEmit()},ce.time,this);else if(te.eventType&O)return Pt;return jt},reset:function(){clearTimeout(this._timer)},emit:function(te){this.state===Pt&&(te&&te.eventType&O?this.manager.emit(this.options.event+"up",te):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}});function za(){Ft.apply(this,arguments)}w(za,Ft,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ht]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.rotation)>this.options.threshold||this.state&gt)}});function ia(){Ft.apply(this,arguments)}w(ia,Ft,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:_e|we,pointers:1},getTouchAction:function(){return Ma.prototype.getTouchAction.call(this)},attrTest:function(te){var ce=this.options.direction,de;return ce&(_e|we)?de=te.overallVelocity:ce&_e?de=te.overallVelocityX:ce&we&&(de=te.overallVelocityY),this._super.attrTest.call(this,te)&&ce&te.offsetDirection&&te.distance>this.options.threshold&&te.maxPointers==this.options.pointers&&u(de)>this.options.velocity&&te.eventType&O},emit:function(te){var ce=ca(te.offsetDirection);ce&&this.manager.emit(this.options.event+ce,te),this.manager.emit(this.options.event,te)}});function sa(){Tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}w(sa,Tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_t]},process:function(te){var ce=this.options,de=te.pointers.length===ce.pointers,ke=te.distance<ce.threshold,Pe=te.deltaTime<ce.time;if(this.reset(),te.eventType&ge&&this.count===0)return this.failTimeout();if(ke&&Pe&&de){if(te.eventType!=O)return this.failTimeout();var He=this.pTime?te.timeStamp-this.pTime<ce.interval:!0,Ye=!this.pCenter||it(this.pCenter,te.center)<ce.posThreshold;this.pTime=te.timeStamp,this.pCenter=te.center,!Ye||!He?this.count=1:this.count+=1,this._input=te;var kt=this.count%ce.taps;if(kt===0)return this.hasRequireFailures()?(this._timer=c(function(){this.state=Pt,this.tryEmit()},ce.interval,this),gt):Pt}return jt},failTimeout:function(){return this._timer=c(function(){this.state=jt},this.options.interval,this),jt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Pt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ea(te,ce){return ce=ce||{},ce.recognizers=q(ce.recognizers,ea.defaults.preset),new ua(te,ce)}ea.VERSION="2.0.7",ea.defaults={domEvents:!1,touchAction:Vt,enable:!0,inputTarget:null,inputClass:null,preset:[[za,{enable:!1}],[Ta,{enable:!1},["rotate"]],[ia,{direction:_e}],[Ma,{direction:_e},["swipe"]],[sa],[sa,{event:"doubletap",taps:2},["tap"]],[Xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ga=1,ba=2;function ua(te,ce){this.options=x({},ea.defaults,ce||{}),this.options.inputTarget=this.options.inputTarget||te,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=te,this.input=V(this),this.touchAction=new oa(this,this.options.touchAction),nr(this,!0),p(this.options.recognizers,function(de){var ke=this.add(new de[0](de[1]));de[2]&&ke.recognizeWith(de[2]),de[3]&&ke.requireFailure(de[3])},this)}ua.prototype={set:function(te){return x(this.options,te),te.touchAction&&this.touchAction.update(),te.inputTarget&&(this.input.destroy(),this.input.target=te.inputTarget,this.input.init()),this},stop:function(te){this.session.stopped=te?ba:Ga},recognize:function(te){var ce=this.session;if(!ce.stopped){this.touchAction.preventDefaults(te);var de,ke=this.recognizers,Pe=ce.curRecognizer;(!Pe||Pe&&Pe.state&Pt)&&(Pe=ce.curRecognizer=null);for(var He=0;He<ke.length;)de=ke[He],ce.stopped!==ba&&(!Pe||de==Pe||de.canRecognizeWith(Pe))?de.recognize(te):de.reset(),!Pe&&de.state&(gt|ra|Nt)&&(Pe=ce.curRecognizer=de),He++}},get:function(te){if(te instanceof Tt)return te;for(var ce=this.recognizers,de=0;de<ce.length;de++)if(ce[de].options.event==te)return ce[de];return null},add:function(te){if(h(te,"add",this))return this;var ce=this.get(te.options.event);return ce&&this.remove(ce),this.recognizers.push(te),te.manager=this,this.touchAction.update(),te},remove:function(te){if(h(te,"remove",this))return this;if(te=this.get(te),te){var ce=this.recognizers,de=B(ce,te);de!==-1&&(ce.splice(de,1),this.touchAction.update())}return this},on:function(te,ce){if(te!==r&&ce!==r){var de=this.handlers;return p(D(te),function(ke){de[ke]=de[ke]||[],de[ke].push(ce)}),this}},off:function(te,ce){if(te!==r){var de=this.handlers;return p(D(te),function(ke){ce?de[ke]&&de[ke].splice(B(de[ke],ce),1):delete de[ke]}),this}},emit:function(te,ce){this.options.domEvents&&xr(te,ce);var de=this.handlers[te]&&this.handlers[te].slice();if(!(!de||!de.length)){ce.type=te,ce.preventDefault=function(){ce.srcEvent.preventDefault()};for(var ke=0;ke<de.length;)de[ke](ce),ke++}},destroy:function(){this.element&&nr(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function nr(te,ce){var de=te.element;if(de.style){var ke;p(te.options.cssProps,function(Pe,He){ke=P(de.style,He),ce?(te.oldCssProps[ke]=de.style[ke],de.style[ke]=Pe):de.style[ke]=te.oldCssProps[ke]||""}),ce||(te.oldCssProps={})}}function xr(te,ce){var de=t.createEvent("Event");de.initEvent(te,!0,!0),de.gesture=ce,ce.target.dispatchEvent(de)}x(ea,{INPUT_START:ge,INPUT_MOVE:Ae,INPUT_END:O,INPUT_CANCEL:Y,STATE_POSSIBLE:va,STATE_BEGAN:gt,STATE_CHANGED:ra,STATE_ENDED:Nt,STATE_RECOGNIZED:Pt,STATE_CANCELLED:da,STATE_FAILED:jt,DIRECTION_NONE:T,DIRECTION_LEFT:I,DIRECTION_RIGHT:X,DIRECTION_UP:le,DIRECTION_DOWN:se,DIRECTION_HORIZONTAL:_e,DIRECTION_VERTICAL:we,DIRECTION_ALL:Ce,Manager:ua,Input:re,TouchAction:oa,TouchInput:yt,MouseInput:Ve,PointerEventInput:Fe,TouchMouseInput:Rt,SingleTouchInput:$e,Recognizer:Tt,AttrRecognizer:Ft,Tap:sa,Pan:Ma,Swipe:ia,Pinch:Ta,Rotate:za,Press:Xt,on:k,off:L,each:p,merge:A,extend:M,assign:x,inherit:w,bindFn:E,prefixed:P});var wr=typeof e<"u"?e:typeof self<"u"?self:{};wr.Hammer=ea,s.exports?s.exports=ea:e[a]=ea})(window,document,"Hammer")})(hammer);var hammerExports=hammer.exports;const Hammer=getDefaultExportFromCjs$1(hammerExports),GoFullScreen="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAPBJREFUWIXtV8sShCAMa3f8/19mLwuDbB+J1uFiLjiCaQwUishm6K9tF77xQHF9iMGP4HDeZ38ZIfr2zx3PAcZGFCbnKmBWH4mw+tDxJ4csBxARuvS1lRgJ7glgRVwOLuIvwjlAJMIK5HGZyNLwTjZAHJEDJ7TGJYYqph0WwJAyYrsA2OqMHBQ5Bm3fil8BrwAqDUXwVHxEALsZIehT0A+VEKo6HFif5xbAiLfWhBZDE7m1FbucIqLwFFTPfUeWBRWTHnJEDqTFBBHcLVqQorSqQoaK0srgkIjoZlS96swYSFFaBaoojVZu5d1w/2G0HV8jXjddL9WrjAAAAABJRU5ErkJggg==",CancelFullScreen="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAOJJREFUWIXtluEOgzAIhGHx/V+Z/ZnGMPAOahuX7BIzXSv3lYKpyI/IPtes+bcFnmaMjJYZI5CyNAi4Qofva5Fhqi3602xOIlR9whOAbPKIskWlAOhFVmghlzVgZkOZUFW4AFiEXQjGnAKIICIgP85uHd2GbCYq5iUABqJqLkJ0wTl4ZR4LQgOggN12bWfAG6LxYYA9INqKaiZKRYiKrPPNoAHYCq9CUADePALx4ywEBOj0dgXiEqBrXoGAXXD3uYAGmHUq8oJbsGcgu4/eiX5TD/dsIkvOhN83Z4AFes6x/K83vmd3SWnwI/MAAAAASUVORK5CYII=";function create_if_block_4$1(s){let e,t;return e=new Layer({props:{$$slots:{default:[create_default_slot_1]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&16777238&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_else_block_1$1(s){let e,t="►REMOTE◄",a,r,n,i;return{c(){e=element("h1"),e.textContent=t,a=space(),r=element("img"),this.h()},l(o){e=claim_element(o,"H1",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-e6uw3x"&&(e.textContent=t),a=claim_space(o),r=claim_element(o,"IMG",{src:!0,alt:!0}),this.h()},h(){attr(e,"class","text-2xl"),src_url_equal(r.src,n=s[2])||attr(r,"src",n),attr(r,"alt",i="Control using your phone: enter code "+s[1])},m(o,l){insert_hydration(o,e,l),insert_hydration(o,a,l),insert_hydration(o,r,l)},p(o,l){l&4&&!src_url_equal(r.src,n=o[2])&&attr(r,"src",n),l&2&&i!==(i="Control using your phone: enter code "+o[1])&&attr(r,"alt",i)},d(o){o&&(detach(e),detach(a),detach(r))}}}function create_if_block_5$1(s){let e,t="►CONNECTED!◄",a,r,n="✔";return{c(){e=element("h1"),e.textContent=t,a=space(),r=element("h1"),r.textContent=n,this.h()},l(i){e=claim_element(i,"H1",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1i7oij1"&&(e.textContent=t),a=claim_space(i),r=claim_element(i,"H1",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-1ja45w8"&&(r.textContent=n),this.h()},h(){attr(e,"class","text-2xl"),attr(r,"class","text-5xl")},m(i,o){insert_hydration(i,e,o),insert_hydration(i,a,o),insert_hydration(i,r,o)},p:noop$1,d(i){i&&(detach(e),detach(a),detach(r))}}}function create_default_slot_1(s){let e,t,a,r;function n(l,u){return l[4]?create_if_block_5$1:create_else_block_1$1}let i=n(s),o=i(s);return{c(){e=element("div"),t=element("div"),o.c(),this.h()},l(l){e=claim_element(l,"DIV",{class:!0});var u=children$1(e);t=claim_element(u,"DIV",{class:!0});var m=children$1(t);o.l(m),m.forEach(detach),u.forEach(detach),this.h()},h(){attr(t,"class","osd font-vcr p-4 flex flex-col items-center justify-center text-center svelte-19wrl0t"),attr(e,"class","flex items-center justify-center h-full")},m(l,u){insert_hydration(l,e,u),append_hydration(e,t),o.m(t,null),r=!0},p(l,u){i===(i=n(l))&&o?o.p(l,u):(o.d(1),o=i(l),o&&(o.c(),o.m(t,null)))},i(l){r||(add_render_callback(()=>{r&&(a||(a=create_bidirectional_transition(e,fade,{},!0)),a.run(1))}),r=!0)},o(l){a||(a=create_bidirectional_transition(e,fade,{},!1)),a.run(0),r=!1},d(l){l&&detach(e),o.d(),l&&a&&a.end()}}}function create_if_block$1(s){let e,t;return e=new Layer({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r&16777281&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_3$1(s){let e,t="Swipe up/down to change channel";return{c(){e=element("p"),e.textContent=t},l(a){e=claim_element(a,"P",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-9uxwbg"&&(e.textContent=t)},m(a,r){insert_hydration(a,e,r)},d(a){a&&detach(e)}}}function create_if_block_2$1(s){let e,t="Swipe left/right to change volume";return{c(){e=element("p"),e.textContent=t},l(a){e=claim_element(a,"P",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-w1qh5h"&&(e.textContent=t)},m(a,r){insert_hydration(a,e,r)},d(a){a&&detach(e)}}}function create_else_block$1(s){let e,t,a;return{c(){e=element("button"),this.h()},l(r){e=claim_element(r,"BUTTON",{class:!0,style:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","border-black border-2 bg-[#ff0] w-[68px] h-[68px] cursor-pointer"),set_style(e,"background-size","64px 64px"),set_style(e,"background-repeat","no-repeat"),set_style(e,"background-image","url("+GoFullScreen+")")},m(r,n){insert_hydration(r,e,n),t||(a=listen(e,"click",s[10]),t=!0)},p:noop$1,d(r){r&&detach(e),t=!1,a()}}}function create_if_block_1$1(s){let e,t,a;return{c(){e=element("button"),this.h()},l(r){e=claim_element(r,"BUTTON",{class:!0,style:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","border-black border-2 bg-[#ff0] w-[68px] h-[68px] cursor-pointer"),set_style(e,"background-size","64px 64px"),set_style(e,"background-repeat","no-repeat"),set_style(e,"background-image","url("+CancelFullScreen+")")},m(r,n){insert_hydration(r,e,n),t||(a=listen(e,"click",s[9]),t=!0)},p:noop$1,d(r){r&&detach(e),t=!1,a()}}}function create_default_slot$4(s){var E,g;let e,t,a,r="►TOUCH◄",n,i,o,l,u="Press and hold to toggle this menu",m,c,h,p,d=((E=s[0].kiosk)==null?void 0:E.channelControls)!==!1&&create_if_block_3$1(),x=((g=s[0].kiosk)==null?void 0:g.volumeControls)!==!1&&create_if_block_2$1();function M(q,k){return q[6]?create_if_block_1$1:create_else_block$1}let A=M(s),w=A(s);return{c(){e=element("div"),t=element("div"),a=element("h1"),a.textContent=r,n=space(),d&&d.c(),i=space(),x&&x.c(),o=space(),l=element("p"),l.textContent=u,m=space(),c=element("div"),w.c(),this.h()},l(q){e=claim_element(q,"DIV",{class:!0});var k=children$1(e);t=claim_element(k,"DIV",{class:!0});var L=children$1(t);a=claim_element(L,"H1",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(a)!=="svelte-1gwnncw"&&(a.textContent=r),n=claim_space(L),d&&d.l(L),i=claim_space(L),x&&x.l(L),o=claim_space(L),l=claim_element(L,"P",{"data-svelte-h":!0}),get_svelte_dataset(l)!=="svelte-zqhyjt"&&(l.textContent=u),m=claim_space(L),c=claim_element(L,"DIV",{class:!0});var S=children$1(c);w.l(S),S.forEach(detach),L.forEach(detach),k.forEach(detach),this.h()},h(){attr(a,"class","text-2xl"),attr(c,"class","pt-4"),attr(t,"class","osd font-vcr p-4 flex flex-col items-center justify-center text-center svelte-19wrl0t"),attr(e,"class","flex items-center justify-center h-full pointer-events-auto cursor-tvs z-50")},m(q,k){insert_hydration(q,e,k),append_hydration(e,t),append_hydration(t,a),append_hydration(t,n),d&&d.m(t,null),append_hydration(t,i),x&&x.m(t,null),append_hydration(t,o),append_hydration(t,l),append_hydration(t,m),append_hydration(t,c),w.m(c,null),p=!0},p(q,k){var L,S;((L=q[0].kiosk)==null?void 0:L.channelControls)!==!1?d||(d=create_if_block_3$1(),d.c(),d.m(t,i)):d&&(d.d(1),d=null),((S=q[0].kiosk)==null?void 0:S.volumeControls)!==!1?x||(x=create_if_block_2$1(),x.c(),x.m(t,o)):x&&(x.d(1),x=null),A===(A=M(q))&&w?w.p(q,k):(w.d(1),w=A(q),w&&(w.c(),w.m(c,null)))},i(q){p||(add_render_callback(()=>{p&&(h||(h=create_bidirectional_transition(e,fade,{},!0)),h.run(1))}),p=!0)},o(q){h||(h=create_bidirectional_transition(e,fade,{},!1)),h.run(0),p=!1},d(q){q&&detach(e),d&&d.d(),x&&x.d(),w.d(),q&&h&&h.end()}}}function create_fragment$5(s){let e,t,a,r=s[3]&&create_if_block_4$1(s),n=s[5]&&create_if_block$1(s);return{c(){r&&r.c(),e=space(),n&&n.c(),t=empty()},l(i){r&&r.l(i),e=claim_space(i),n&&n.l(i),t=empty()},m(i,o){r&&r.m(i,o),insert_hydration(i,e,o),n&&n.m(i,o),insert_hydration(i,t,o),a=!0},p(i,[o]){i[3]?r?(r.p(i,o),o&8&&transition_in(r,1)):(r=create_if_block_4$1(i),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros()),i[5]?n?(n.p(i,o),o&32&&transition_in(n,1)):(n=create_if_block$1(i),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros())},i(i){a||(transition_in(r),transition_in(n),a=!0)},o(i){transition_out(r),transition_out(n),a=!1},d(i){i&&(detach(e),detach(t)),r&&r.d(i),n&&n.d(i)}}}let TAG="-- Remote --";function generateId(){return`TVS-${1e6+Math.floor(Math.random()*8999999)}`}function instance$5(s,e,t){let a,r,n;component_subscribe(s,osdAlert,B=>t(14,a=B)),component_subscribe(s,tvState,B=>t(8,r=B)),component_subscribe(s,inputMapping,B=>t(15,n=B));let{config:i}=e,o=null,l="",u="",m=!1,c=!1,h,p,d=!1;const x=createEventDispatcher(),M=[];onDestroy(()=>{console.debug(TAG,"Tearing down input..."),h&&clearTimeout(h),o&&o.destroy(),M.length>0&&M.forEach(B=>{Keymaster.unbind(B)}),p&&p.destroy()}),onMount(()=>{var B,N,Q;console.debug(TAG,"Setting up input..."),((B=i.remote)==null?void 0:B.enabled)!==!1&&A(),((N=i.kiosk)==null?void 0:N.keyboardControls)!==!1&&w(),((Q=i.kiosk)==null?void 0:Q.touchControls)!==!1&&q()});function A(){h&&clearTimeout(h),h=setTimeout(()=>{var B,N,Q,P,U,$;console.log(TAG,"Setting up PeerJS..."),(B=i.remote)!=null&&B.peerId?t(1,l=(N=i.remote)==null?void 0:N.peerId):sessionStorage.getItem("peer_id")===null?(t(1,l=generateId()),sessionStorage.setItem("peer_id",l)):t(1,l=sessionStorage.getItem("peer_id")),o=new $416260bce337df90$export$ecd1fc136c422448(l,(Q=i.remote)!=null&&Q.server?{host:(P=i.remote)==null?void 0:P.server,port:((U=i.remote)==null?void 0:U.port)||9e3,path:(($=i.remote)==null?void 0:$.path)||"/"}:null),o.on("open",()=>{console.debug(TAG,"Opened!")}),o.on("error",J=>{console.error(TAG,J),t(4,c=!1)}),o.on("close",()=>{console.debug(TAG,"Closed!"),t(4,c=!1)}),o.on("connection",function(J){console.debug(TAG,"Connected to",J.peer),t(4,c=!0),setTimeout(()=>{t(3,m=!1)},1e3),J.on("data",function(me){g(me)}),J.on("open",()=>{J.send(i)},200)})},600)}function w(){const B=i.kiosk||{};let N=JSON.parse(JSON.stringify(defaultInputMapping));if(i.inputMapping)for(let Q of Object.keys(i.inputMapping)){const P=N.findIndex(U=>U.shortcuts.find($=>$.command===Q));if(P){const U=N[P].shortcuts.findIndex($=>$.command===Q);N[P].shortcuts[U].keys=i.inputMapping[Q].split(",").map($=>$.toUpperCase().split("+").map(J=>J.trim()))}}set_store_value(inputMapping,n=N,n),console.debug("Setting up key bindings...",N);for(let Q of N)if(!Q.isManagedExternally&&B[Q.kioskGroup||""]!==!1){for(let P of Q.shortcuts)if(!P.kioskGroup||B[P.kioskGroup]!==!1)for(let U of P.keys)console.debug("Setting up key binding for",U.join("+"),P.command),E(U.join("+").toLowerCase(),P.command)}}function E(B,N){Keymaster(B,Q=>{if(Q.preventDefault(),B.startsWith("numpad")&&(B=B.replace("numpad","")),typeof N=="function"){N();return}else g(N)}),M.push(B)}function g(B){switch(B){case"mute":set_store_value(tvState,r.isMuting=!r.isMuting,r);break;case"turnOn":set_store_value(tvState,r.isOn=!0,r);break;case"turnOff":set_store_value(tvState,r.isOn=!1,r);break;case"power":set_store_value(tvState,r.isOn=!r.isOn,r);break;case"volumeUp":set_store_value(tvState,r.isMuting=!1,r),r.volume<50&&(r.volume+5>50?set_store_value(tvState,r.volume=50,r):set_store_value(tvState,r.volume+=5,r));break;case"volumeDown":set_store_value(tvState,r.isMuting=!1,r),r.volume>0&&(r.volume-5<0?set_store_value(tvState,r.volume=0,r):set_store_value(tvState,r.volume-=5,r));break;case"channelUp":case"channelDown":x("remote",{command:B});break;case"toggleRemotePairingCode":t(3,m=!m);break;case"info":r.isChannelInfoVisible?(set_store_value(tvState,r.isAudioInfoVisible=!1,r),set_store_value(tvState,r.isChannelInfoVisible=!1,r)):(set_store_value(tvState,r.isAudioInfoVisible=!0,r),set_store_value(tvState,r.isChannelInfoVisible=!0,r));break;case"toggleScanlines":set_store_value(tvState,r.areScanlinesHidden=!r.areScanlinesHidden,r),set_store_value(osdAlert,a="Scanlines "+(r.areScanlinesHidden?"hidden":"shown"),a);break;case"toggleNoise":set_store_value(tvState,r.isNoiseHidden=!r.isNoiseHidden,r),set_store_value(osdAlert,a="Picture noise "+(r.isNoiseHidden?"hidden":"shown"),a);break;case"toggleChangeChannelNoise":set_store_value(tvState,r.isChangeChannelNoiseMuted=!r.isChangeChannelNoiseMuted,r),set_store_value(osdAlert,a="Channel change noise "+(r.isChangeChannelNoiseMuted?"muted":"unmuted"),a);break;case"toggleBlur":set_store_value(tvState,r.isBlurHidden=!r.isBlurHidden,r),set_store_value(osdAlert,a="Blur "+(r.isBlurHidden?"disabled":"enabled"),a);break;case"toggleShadowMask":set_store_value(tvState,r.isShadowMaskHidden=!r.isShadowMaskHidden,r),set_store_value(osdAlert,a="Shadow mask "+(r.isShadowMaskHidden?"hidden":"shown"),a);break;case"toggleShadowMaskType":set_store_value(tvState,r.isShadowMaskHidden=!1,r);const N=ShadowMaskTypes.indexOf(r.shadowMaskType);N===ShadowMaskTypes.length-1?set_store_value(tvState,r.shadowMaskType=ShadowMaskTypes[0],r):set_store_value(tvState,r.shadowMaskType=ShadowMaskTypes[N+1],r),set_store_value(osdAlert,a="Shadow mask: "+r.shadowMaskType,a);break;case"toggleBezels":set_store_value(tvState,r.isBezelHidden=!r.isBezelHidden,r),set_store_value(osdAlert,a="Bezels "+(r.isBezelHidden?"hidden":"shown"),a);break;case"toggleBezelType":set_store_value(tvState,r.isBezelHidden=!1,r);const Q=BezelTypes.indexOf(r.bezelType);Q===BezelTypes.length-1?set_store_value(tvState,r.bezelType=BezelTypes[0],r):set_store_value(tvState,r.bezelType=BezelTypes[Q+1],r),set_store_value(osdAlert,a="Bezel: "+r.bezelType,a);break;case"toggleAutoScale":set_store_value(tvState,r.manualAutoScale=!r.manualAutoScale,r),set_store_value(tvState,r.autoScaleManuallySet=!0,r),set_store_value(osdAlert,a="Auto scale "+(r.manualAutoScale?"enabled":"disabled"),a);break;case"scaleUpX":set_store_value(tvState,r.scaleX+=1,r),set_store_value(osdAlert,a="Scale X: "+r.scaleX,a);break;case"scaleDownX":r.scaleX>0&&set_store_value(tvState,r.scaleX-=1,r),set_store_value(osdAlert,a="Scale X: "+r.scaleX,a);break;case"scaleUpY":set_store_value(tvState,r.scaleY+=1,r),set_store_value(osdAlert,a="Scale Y: "+r.scaleY,a);break;case"scaleDownY":r.scaleY>0&&set_store_value(tvState,r.scaleY-=1,r),set_store_value(osdAlert,a="Scale Y: "+r.scaleY,a);break;case"resetPicture":localStorage.removeItem("tv-state"),location.reload();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":x("remote",{command:"number",value:B});break;case"version":set_store_value(osdAlert,a="",a),set_store_value(osdAlert,a=`Television Simulator
`+version,a);break;case"help":window.location.href="./help";break;case"setup":window.location.href="./setup";break}}function q(){var B,N;p=new Hammer(document.body),p.get("swipe").set({direction:Hammer.DIRECTION_ALL}),((B=i.kiosk)==null?void 0:B.channelControls)!==!1&&(p.on("swipeup",function(Q){g("channelUp")}),p.on("swipedown",function(Q){g("channelDown")})),((N=i.kiosk)==null?void 0:N.volumeControls)!==!1&&(p.on("swipeleft",function(Q){g("volumeDown")}),p.on("swiperight",function(Q){g("volumeUp")})),p.on("press",function(Q){k()})}function k(){t(5,d=!d)}function L(){document.fullscreenElement?(document.exitFullscreen(),t(6,S=!1)):(document.body.requestFullscreen(),t(6,S=!0))}let S=!1;const R=()=>L(),D=()=>L();return s.$$set=B=>{"config"in B&&t(0,i=B.config)},s.$$.update=()=>{var B,N,Q;if(s.$$.dirty&259){const P=`${r.baseUrl||window.location.origin}/remote?id=${l}&server=${((B=i==null?void 0:i.remote)==null?void 0:B.server)??""}&port=${((N=i==null?void 0:i.remote)==null?void 0:N.port)??""}&path=${((Q=i==null?void 0:i.remote)==null?void 0:Q.path)??""}`,U=document.createElement("div");QrCreator$1.render({text:P,radius:0,ecLevel:"L",fill:"black",background:null,size:128},U);const $=U.firstChild;t(2,u=$.toDataURL())}},[i,l,u,m,c,d,S,L,r,R,D]}class Remote extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{config:0})}}function create_default_slot$3(s){let e;return{c(){e=element("canvas"),this.h()},l(t){e=claim_element(t,"CANVAS",{width:!0,height:!0,class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"width","320"),attr(e,"height","240"),attr(e,"class","w-full")},m(t,a){insert_hydration(t,e,a),s[2](e)},p:noop$1,d(t){t&&detach(e),s[2](null)}}}function create_fragment$4(s){let e,t;return e=new Layer({props:{classes:s[0],$$slots:{default:[create_default_slot$3]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,[r]){const n={};r&1&&(n.classes=a[0]),r&18&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function instance$4(s,e,t){let{classes:a=""}=e,r;function n(){if(r===null)return;const o=r==null?void 0:r.getContext("2d",{willReadFrequently:!0});if(o===null)return;const l=r.width,u=r.height,m=o.getImageData(0,0,l,u),c=m.data;for(let h=0;h<c.length;h+=4){const p=Math.floor(Math.random()*255),d=Math.floor(Math.random()*255),x=Math.floor(Math.random()*255);c[h]=p,c[h+1]=d,c[h+2]=x,c[h+3]=255}o.putImageData(m,0,0),requestAnimationFrame(n)}onMount(()=>{requestAnimationFrame(n)});function i(o){binding_callbacks[o?"unshift":"push"](()=>{r=o,t(1,r)})}return s.$$set=o=>{"classes"in o&&t(0,a=o.classes)},[a,r,i]}class Static extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{classes:0})}}function create_fragment$3(s){let e,t,a;return{c(){e=element("div"),this.h()},l(r){e=claim_element(r,"DIV",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class","h-full w-full absolute pointer-events-none")},m(r,n){insert_hydration(r,e,n),s[2](e),t||(a=[listen(window,"resize",s[1]),listen(e,"resize",s[1])],t=!0)},p:noop$1,i:noop$1,o:noop$1,d(r){r&&detach(e),s[2](null),t=!1,run_all(a)}}}function instance$3(s,e,t){let a,r;component_subscribe(s,containerHeight,u=>t(4,a=u)),component_subscribe(s,containerWidth,u=>t(5,r=u));let n,i;onMount(()=>{o(),i=new ResizeObserver(()=>{o()}),i.observe(n)}),onDestroy(()=>{i.disconnect()});function o(){set_store_value(containerWidth,r=n.clientWidth,r),set_store_value(containerHeight,a=n.clientHeight,a)}function l(u){binding_callbacks[u?"unshift":"push"](()=>{n=u,t(0,n)})}return[n,o,l]}class ResizeWatcher extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{})}}function create_default_slot$2(s){let e,t;return{c(){e=element("div"),this.h()},l(a){e=claim_element(a,"DIV",{class:!0}),children$1(e).forEach(detach),this.h()},h(){attr(e,"class",t="shadow-mask "+s[0]+" svelte-1iybivc")},m(a,r){insert_hydration(a,e,r)},p(a,r){r&1&&t!==(t="shadow-mask "+a[0]+" svelte-1iybivc")&&attr(e,"class",t)},d(a){a&&detach(e)}}}function create_fragment$2(s){let e,t;return e=new Layer({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,[r]){const n={};r&3&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function instance$2(s,e,t){let{type:a="inline"}=e;return s.$$set=r=>{"type"in r&&t(0,a=r.type)},[a]}class ShadowMask extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{type:0})}}const ALIAS=Symbol.for("yaml.alias"),DOC=Symbol.for("yaml.document"),MAP=Symbol.for("yaml.map"),PAIR=Symbol.for("yaml.pair"),SCALAR$1=Symbol.for("yaml.scalar"),SEQ=Symbol.for("yaml.seq"),NODE_TYPE=Symbol.for("yaml.node.type"),isAlias=s=>!!s&&typeof s=="object"&&s[NODE_TYPE]===ALIAS,isDocument=s=>!!s&&typeof s=="object"&&s[NODE_TYPE]===DOC,isMap=s=>!!s&&typeof s=="object"&&s[NODE_TYPE]===MAP,isPair=s=>!!s&&typeof s=="object"&&s[NODE_TYPE]===PAIR,isScalar=s=>!!s&&typeof s=="object"&&s[NODE_TYPE]===SCALAR$1,isSeq=s=>!!s&&typeof s=="object"&&s[NODE_TYPE]===SEQ;function isCollection(s){if(s&&typeof s=="object")switch(s[NODE_TYPE]){case MAP:case SEQ:return!0}return!1}function isNode(s){if(s&&typeof s=="object")switch(s[NODE_TYPE]){case ALIAS:case MAP:case SCALAR$1:case SEQ:return!0}return!1}const hasAnchor=s=>(isScalar(s)||isCollection(s))&&!!s.anchor,BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove node");function visit(s,e){const t=initVisitor(e);isDocument(s)?visit_(null,s.contents,t,Object.freeze([s]))===REMOVE&&(s.contents=null):visit_(null,s,t,Object.freeze([]))}visit.BREAK=BREAK;visit.SKIP=SKIP;visit.REMOVE=REMOVE;function visit_(s,e,t,a){const r=callVisitor(s,e,t,a);if(isNode(r)||isPair(r))return replaceNode(s,a,r),visit_(s,r,t,a);if(typeof r!="symbol"){if(isCollection(e)){a=Object.freeze(a.concat(e));for(let n=0;n<e.items.length;++n){const i=visit_(n,e.items[n],t,a);if(typeof i=="number")n=i-1;else{if(i===BREAK)return BREAK;i===REMOVE&&(e.items.splice(n,1),n-=1)}}}else if(isPair(e)){a=Object.freeze(a.concat(e));const n=visit_("key",e.key,t,a);if(n===BREAK)return BREAK;n===REMOVE&&(e.key=null);const i=visit_("value",e.value,t,a);if(i===BREAK)return BREAK;i===REMOVE&&(e.value=null)}}return r}function initVisitor(s){return typeof s=="object"&&(s.Collection||s.Node||s.Value)?Object.assign({Alias:s.Node,Map:s.Node,Scalar:s.Node,Seq:s.Node},s.Value&&{Map:s.Value,Scalar:s.Value,Seq:s.Value},s.Collection&&{Map:s.Collection,Seq:s.Collection},s):s}function callVisitor(s,e,t,a){var r,n,i,o,l;if(typeof t=="function")return t(s,e,a);if(isMap(e))return(r=t.Map)==null?void 0:r.call(t,s,e,a);if(isSeq(e))return(n=t.Seq)==null?void 0:n.call(t,s,e,a);if(isPair(e))return(i=t.Pair)==null?void 0:i.call(t,s,e,a);if(isScalar(e))return(o=t.Scalar)==null?void 0:o.call(t,s,e,a);if(isAlias(e))return(l=t.Alias)==null?void 0:l.call(t,s,e,a)}function replaceNode(s,e,t){const a=e[e.length-1];if(isCollection(a))a.items[s]=t;else if(isPair(a))s==="key"?a.key=t:a.value=t;else if(isDocument(a))a.contents=t;else{const r=isAlias(a)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const escapeChars={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},escapeTagName=s=>s.replace(/[!,[\]{}]/g,e=>escapeChars[e]);class Directives{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Directives.defaultYaml,e),this.tags=Object.assign({},Directives.defaultTags,t)}clone(){const e=new Directives(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Directives.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Directives.defaultTags),this.atNextDocument=!1);const a=e.trim().split(/[ \t]+/),r=a.shift();switch(r){case"%TAG":{if(a.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),a.length<2))return!1;const[n,i]=a;return this.tags[n]=i,!0}case"%YAML":{if(this.yaml.explicit=!0,a.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[n]=a;if(n==="1.1"||n==="1.2")return this.yaml.version=n,!0;{const i=/^\d+\.\d+$/.test(n);return t(6,`Unsupported YAML version ${n}`,i),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const i=e.slice(2,-1);return i==="!"||i==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),i)}const[,a,r]=e.match(/^(.*!)([^!]*)$/s);r||t(`The ${e} tag has no suffix`);const n=this.tags[a];if(n)try{return n+decodeURIComponent(r)}catch(i){return t(String(i)),null}return a==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,a]of Object.entries(this.tags))if(e.startsWith(a))return t+escapeTagName(e.substring(a.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],a=Object.entries(this.tags);let r;if(e&&a.length>0&&isNode(e.contents)){const n={};visit(e.contents,(i,o)=>{isNode(o)&&o.tag&&(n[o.tag]=!0)}),r=Object.keys(n)}else r=[];for(const[n,i]of a)n==="!!"&&i==="tag:yaml.org,2002:"||(!e||r.some(o=>o.startsWith(i)))&&t.push(`%TAG ${n} ${i}`);return t.join(`
`)}}Directives.defaultYaml={explicit:!1,version:"1.2"};Directives.defaultTags={"!!":"tag:yaml.org,2002:"};function anchorIsValid(s){if(/[\x00-\x19\s,[\]{}]/.test(s)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(s)}`;throw new Error(t)}return!0}function anchorNames(s){const e=new Set;return visit(s,{Value(t,a){a.anchor&&e.add(a.anchor)}}),e}function findNewAnchor(s,e){for(let t=1;;++t){const a=`${s}${t}`;if(!e.has(a))return a}}function createNodeAnchors(s,e){const t=[],a=new Map;let r=null;return{onAnchor:n=>{t.push(n),r||(r=anchorNames(s));const i=findNewAnchor(e,r);return r.add(i),i},setAnchors:()=>{for(const n of t){const i=a.get(n);if(typeof i=="object"&&i.anchor&&(isScalar(i.node)||isCollection(i.node)))i.node.anchor=i.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=n,o}}},sourceObjects:a}}function applyReviver(s,e,t,a){if(a&&typeof a=="object")if(Array.isArray(a))for(let r=0,n=a.length;r<n;++r){const i=a[r],o=applyReviver(s,a,String(r),i);o===void 0?delete a[r]:o!==i&&(a[r]=o)}else if(a instanceof Map)for(const r of Array.from(a.keys())){const n=a.get(r),i=applyReviver(s,a,r,n);i===void 0?a.delete(r):i!==n&&a.set(r,i)}else if(a instanceof Set)for(const r of Array.from(a)){const n=applyReviver(s,a,r,r);n===void 0?a.delete(r):n!==r&&(a.delete(r),a.add(n))}else for(const[r,n]of Object.entries(a)){const i=applyReviver(s,a,r,n);i===void 0?delete a[r]:i!==n&&(a[r]=i)}return s.call(e,t,a)}function toJS(s,e,t){if(Array.isArray(s))return s.map((a,r)=>toJS(a,String(r),t));if(s&&typeof s.toJSON=="function"){if(!t||!hasAnchor(s))return s.toJSON(e,t);const a={aliasCount:0,count:1,res:void 0};t.anchors.set(s,a),t.onCreate=n=>{a.res=n,delete t.onCreate};const r=s.toJSON(e,t);return t.onCreate&&t.onCreate(r),r}return typeof s=="bigint"&&!(t!=null&&t.keep)?Number(s):s}class NodeBase{constructor(e){Object.defineProperty(this,NODE_TYPE,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:a,onAnchor:r,reviver:n}={}){if(!isDocument(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof a=="number"?a:100},o=toJS(this,"",i);if(typeof r=="function")for(const{count:l,res:u}of i.anchors.values())r(u,l);return typeof n=="function"?applyReviver(n,{"":o},"",o):o}}class Alias extends NodeBase{constructor(e){super(ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return visit(e,{Node:(a,r)=>{if(r===this)return visit.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:a,doc:r,maxAliasCount:n}=t,i=this.resolve(r);if(!i){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let o=a.get(i);if(o||(toJS(i,null,t),o=a.get(i)),!o||o.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(n>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=getAliasCount(r,i,a)),o.count*o.aliasCount>n)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return o.res}toString(e,t,a){const r=`*${this.source}`;if(e){if(anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const n=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(n)}if(e.implicitKey)return`${r} `}return r}}function getAliasCount(s,e,t){if(isAlias(e)){const a=e.resolve(s),r=t&&a&&t.get(a);return r?r.count*r.aliasCount:0}else if(isCollection(e)){let a=0;for(const r of e.items){const n=getAliasCount(s,r,t);n>a&&(a=n)}return a}else if(isPair(e)){const a=getAliasCount(s,e.key,t),r=getAliasCount(s,e.value,t);return Math.max(a,r)}return 1}const isScalarValue=s=>!s||typeof s!="function"&&typeof s!="object";class Scalar extends NodeBase{constructor(e){super(SCALAR$1),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:toJS(this.value,e,t)}toString(){return String(this.value)}}Scalar.BLOCK_FOLDED="BLOCK_FOLDED";Scalar.BLOCK_LITERAL="BLOCK_LITERAL";Scalar.PLAIN="PLAIN";Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE";Scalar.QUOTE_SINGLE="QUOTE_SINGLE";const defaultTagPrefix="tag:yaml.org,2002:";function findTagObject(s,e,t){if(e){const a=t.filter(n=>n.tag===e),r=a.find(n=>!n.format)??a[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return t.find(a=>{var r;return((r=a.identify)==null?void 0:r.call(a,s))&&!a.format})}function createNode(s,e,t){var c,h,p;if(isDocument(s)&&(s=s.contents),isNode(s))return s;if(isPair(s)){const d=(h=(c=t.schema[MAP]).createNode)==null?void 0:h.call(c,t.schema,null,t);return d.items.push(s),d}(s instanceof String||s instanceof Number||s instanceof Boolean||typeof BigInt<"u"&&s instanceof BigInt)&&(s=s.valueOf());const{aliasDuplicateObjects:a,onAnchor:r,onTagObj:n,schema:i,sourceObjects:o}=t;let l;if(a&&s&&typeof s=="object"){if(l=o.get(s),l)return l.anchor||(l.anchor=r(s)),new Alias(l.anchor);l={anchor:null,node:null},o.set(s,l)}e!=null&&e.startsWith("!!")&&(e=defaultTagPrefix+e.slice(2));let u=findTagObject(s,e,i.tags);if(!u){if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),!s||typeof s!="object"){const d=new Scalar(s);return l&&(l.node=d),d}u=s instanceof Map?i[MAP]:Symbol.iterator in Object(s)?i[SEQ]:i[MAP]}n&&(n(u),delete t.onTagObj);const m=u!=null&&u.createNode?u.createNode(t.schema,s,t):typeof((p=u==null?void 0:u.nodeClass)==null?void 0:p.from)=="function"?u.nodeClass.from(t.schema,s,t):new Scalar(s);return e?m.tag=e:u.default||(m.tag=u.tag),l&&(l.node=m),m}function collectionFromPath(s,e,t){let a=t;for(let r=e.length-1;r>=0;--r){const n=e[r];if(typeof n=="number"&&Number.isInteger(n)&&n>=0){const i=[];i[n]=a,a=i}else a=new Map([[n,a]])}return createNode(a,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:s,sourceObjects:new Map})}const isEmptyPath=s=>s==null||typeof s=="object"&&!!s[Symbol.iterator]().next().done;class Collection extends NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(a=>isNode(a)||isPair(a)?a.clone(e):a),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(isEmptyPath(e))this.add(t);else{const[a,...r]=e,n=this.get(a,!0);if(isCollection(n))n.addIn(r,t);else if(n===void 0&&this.schema)this.set(a,collectionFromPath(this.schema,r,t));else throw new Error(`Expected YAML collection at ${a}. Remaining path: ${r}`)}}deleteIn(e){const[t,...a]=e;if(a.length===0)return this.delete(t);const r=this.get(t,!0);if(isCollection(r))return r.deleteIn(a);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${a}`)}getIn(e,t){const[a,...r]=e,n=this.get(a,!0);return r.length===0?!t&&isScalar(n)?n.value:n:isCollection(n)?n.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!isPair(t))return!1;const a=t.value;return a==null||e&&isScalar(a)&&a.value==null&&!a.commentBefore&&!a.comment&&!a.tag})}hasIn(e){const[t,...a]=e;if(a.length===0)return this.has(t);const r=this.get(t,!0);return isCollection(r)?r.hasIn(a):!1}setIn(e,t){const[a,...r]=e;if(r.length===0)this.set(a,t);else{const n=this.get(a,!0);if(isCollection(n))n.setIn(r,t);else if(n===void 0&&this.schema)this.set(a,collectionFromPath(this.schema,r,t));else throw new Error(`Expected YAML collection at ${a}. Remaining path: ${r}`)}}}Collection.maxFlowStringSingleLineLength=60;const stringifyComment=s=>s.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(s,e){return/^\n+$/.test(s)?s.substring(1):e?s.replace(/^(?! *$)/gm,e):s}const lineComment=(s,e,t)=>s.endsWith(`
`)?indentComment(t,e):t.includes(`
`)?`
`+indentComment(t,e):(s.endsWith(" ")?"":" ")+t,FOLD_FLOW="flow",FOLD_BLOCK="block",FOLD_QUOTED="quoted";function foldFlowLines(s,e,t="flow",{indentAtStart:a,lineWidth:r=80,minContentWidth:n=20,onFold:i,onOverflow:o}={}){if(!r||r<0)return s;const l=Math.max(1+n,1+r-e.length);if(s.length<=l)return s;const u=[],m={};let c=r-e.length;typeof a=="number"&&(a>r-Math.max(2,n)?u.push(0):c=r-a);let h,p,d=!1,x=-1,M=-1,A=-1;t===FOLD_BLOCK&&(x=consumeMoreIndentedLines(s,x,e.length),x!==-1&&(c=x+l));for(let E;E=s[x+=1];){if(t===FOLD_QUOTED&&E==="\\"){switch(M=x,s[x+1]){case"x":x+=3;break;case"u":x+=5;break;case"U":x+=9;break;default:x+=1}A=x}if(E===`
`)t===FOLD_BLOCK&&(x=consumeMoreIndentedLines(s,x,e.length)),c=x+e.length+l,h=void 0;else{if(E===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const g=s[x+1];g&&g!==" "&&g!==`
`&&g!=="	"&&(h=x)}if(x>=c)if(h)u.push(h),c=h+l,h=void 0;else if(t===FOLD_QUOTED){for(;p===" "||p==="	";)p=E,E=s[x+=1],d=!0;const g=x>A+1?x-2:M-1;if(m[g])return s;u.push(g),m[g]=!0,c=g+l,h=void 0}else d=!0}p=E}if(d&&o&&o(),u.length===0)return s;i&&i();let w=s.slice(0,u[0]);for(let E=0;E<u.length;++E){const g=u[E],q=u[E+1]||s.length;g===0?w=`
${e}${s.slice(0,q)}`:(t===FOLD_QUOTED&&m[g]&&(w+=`${s[g]}\\`),w+=`
${e}${s.slice(g+1,q)}`)}return w}function consumeMoreIndentedLines(s,e,t){let a=e,r=e+1,n=s[r];for(;n===" "||n==="	";)if(e<r+t)n=s[++e];else{do n=s[++e];while(n&&n!==`
`);a=e,r=e+1,n=s[r]}return a}const getFoldOptions=(s,e)=>({indentAtStart:e?s.indent.length:s.indentAtStart,lineWidth:s.options.lineWidth,minContentWidth:s.options.minContentWidth}),containsDocumentMarker=s=>/^(%|---|\.\.\.)/m.test(s);function lineLengthOverLimit(s,e,t){if(!e||e<0)return!1;const a=e-t,r=s.length;if(r<=a)return!1;for(let n=0,i=0;n<r;++n)if(s[n]===`
`){if(n-i>a)return!0;if(i=n+1,r-i<=a)return!1}return!0}function doubleQuotedString(s,e){const t=JSON.stringify(s);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:a}=e,r=e.options.doubleQuotedMinMultiLineLength,n=e.indent||(containsDocumentMarker(s)?"  ":"");let i="",o=0;for(let l=0,u=t[l];u;u=t[++l])if(u===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(i+=t.slice(o,l)+"\\ ",l+=1,o=l,u="\\"),u==="\\")switch(t[l+1]){case"u":{i+=t.slice(o,l);const m=t.substr(l+2,4);switch(m){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:m.substr(0,2)==="00"?i+="\\x"+m.substr(2):i+=t.substr(l,6)}l+=5,o=l+1}break;case"n":if(a||t[l+2]==='"'||t.length<r)l+=1;else{for(i+=t.slice(o,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)i+=`
`,l+=2;i+=n,t[l+2]===" "&&(i+="\\"),l+=1,o=l+1}break;default:l+=1}return i=o?i+t.slice(o):t,a?i:foldFlowLines(i,n,FOLD_QUOTED,getFoldOptions(e,!1))}function singleQuotedString(s,e){if(e.options.singleQuote===!1||e.implicitKey&&s.includes(`
`)||/[ \t]\n|\n[ \t]/.test(s))return doubleQuotedString(s,e);const t=e.indent||(containsDocumentMarker(s)?"  ":""),a="'"+s.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?a:foldFlowLines(a,t,FOLD_FLOW,getFoldOptions(e,!1))}function quotedString(s,e){const{singleQuote:t}=e.options;let a;if(t===!1)a=doubleQuotedString;else{const r=s.includes('"'),n=s.includes("'");r&&!n?a=singleQuotedString:n&&!r?a=doubleQuotedString:a=t?singleQuotedString:doubleQuotedString}return a(s,e)}let blockEndNewlines;try{blockEndNewlines=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{blockEndNewlines=/\n+(?!\n|$)/g}function blockString({comment:s,type:e,value:t},a,r,n){const{blockQuote:i,commentString:o,lineWidth:l}=a.options;if(!i||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return quotedString(t,a);const u=a.indent||(a.forceBlockIndent||containsDocumentMarker(t)?"  ":""),m=i==="literal"?!0:i==="folded"||e===Scalar.BLOCK_FOLDED?!1:e===Scalar.BLOCK_LITERAL?!0:!lineLengthOverLimit(t,l,u.length);if(!t)return m?`|
`:`>
`;let c,h;for(h=t.length;h>0;--h){const k=t[h-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let p=t.substring(h);const d=p.indexOf(`
`);d===-1?c="-":t===p||d!==p.length-1?(c="+",n&&n()):c="",p&&(t=t.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(blockEndNewlines,`$&${u}`));let x=!1,M,A=-1;for(M=0;M<t.length;++M){const k=t[M];if(k===" ")x=!0;else if(k===`
`)A=M;else break}let w=t.substring(0,A<M?A+1:M);w&&(t=t.substring(w.length),w=w.replace(/\n+/g,`$&${u}`));let g=(m?"|":">")+(x?u?"2":"1":"")+c;if(s&&(g+=" "+o(s.replace(/ ?[\r\n]+/g," ")),r&&r()),m)return t=t.replace(/\n+/g,`$&${u}`),`${g}
${u}${w}${t}${p}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const q=foldFlowLines(`${w}${t}${p}`,u,FOLD_BLOCK,getFoldOptions(a,!0));return`${g}
${u}${q}`}function plainString(s,e,t,a){const{type:r,value:n}=s,{actualString:i,implicitKey:o,indent:l,indentStep:u,inFlow:m}=e;if(o&&n.includes(`
`)||m&&/[[\]{},]/.test(n))return quotedString(n,e);if(!n||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(n))return o||m||!n.includes(`
`)?quotedString(n,e):blockString(s,e,t,a);if(!o&&!m&&r!==Scalar.PLAIN&&n.includes(`
`))return blockString(s,e,t,a);if(containsDocumentMarker(n)){if(l==="")return e.forceBlockIndent=!0,blockString(s,e,t,a);if(o&&l===u)return quotedString(n,e)}const c=n.replace(/\n+/g,`$&
${l}`);if(i){const h=x=>{var M;return x.default&&x.tag!=="tag:yaml.org,2002:str"&&((M=x.test)==null?void 0:M.test(c))},{compat:p,tags:d}=e.doc.schema;if(d.some(h)||p!=null&&p.some(h))return quotedString(n,e)}return o?c:foldFlowLines(c,l,FOLD_FLOW,getFoldOptions(e,!1))}function stringifyString(s,e,t,a){const{implicitKey:r,inFlow:n}=e,i=typeof s.value=="string"?s:Object.assign({},s,{value:String(s.value)});let{type:o}=s;o!==Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(o=Scalar.QUOTE_DOUBLE);const l=m=>{switch(m){case Scalar.BLOCK_FOLDED:case Scalar.BLOCK_LITERAL:return r||n?quotedString(i.value,e):blockString(i,e,t,a);case Scalar.QUOTE_DOUBLE:return doubleQuotedString(i.value,e);case Scalar.QUOTE_SINGLE:return singleQuotedString(i.value,e);case Scalar.PLAIN:return plainString(i,e,t,a);default:return null}};let u=l(o);if(u===null){const{defaultKeyType:m,defaultStringType:c}=e.options,h=r&&m||c;if(u=l(h),u===null)throw new Error(`Unsupported default string type ${h}`)}return u}function createStringifyContext(s,e){const t=Object.assign({blockQuote:!0,commentString:stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},s.schema.toStringOptions,e);let a;switch(t.collectionStyle){case"block":a=!1;break;case"flow":a=!0;break;default:a=null}return{anchors:new Set,doc:s,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:a,options:t}}function getTagObject(s,e){var r;if(e.tag){const n=s.filter(i=>i.tag===e.tag);if(n.length>0)return n.find(i=>i.format===e.format)??n[0]}let t,a;if(isScalar(e)){a=e.value;const n=s.filter(i=>{var o;return(o=i.identify)==null?void 0:o.call(i,a)});t=n.find(i=>i.format===e.format)??n.find(i=>!i.format)}else a=e,t=s.find(n=>n.nodeClass&&a instanceof n.nodeClass);if(!t){const n=((r=a==null?void 0:a.constructor)==null?void 0:r.name)??typeof a;throw new Error(`Tag not resolved for ${n} value`)}return t}function stringifyProps(s,e,{anchors:t,doc:a}){if(!a.directives)return"";const r=[],n=(isScalar(s)||isCollection(s))&&s.anchor;n&&anchorIsValid(n)&&(t.add(n),r.push(`&${n}`));const i=s.tag?s.tag:e.default?null:e.tag;return i&&r.push(a.directives.tagString(i)),r.join(" ")}function stringify(s,e,t,a){var l;if(isPair(s))return s.toString(e,t,a);if(isAlias(s)){if(e.doc.directives)return s.toString(e);if((l=e.resolvedAliases)!=null&&l.has(s))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(s):e.resolvedAliases=new Set([s]),s=s.resolve(e.doc)}let r;const n=isNode(s)?s:e.doc.createNode(s,{onTagObj:u=>r=u});r||(r=getTagObject(e.doc.schema.tags,n));const i=stringifyProps(n,r,e);i.length>0&&(e.indentAtStart=(e.indentAtStart??0)+i.length+1);const o=typeof r.stringify=="function"?r.stringify(n,e,t,a):isScalar(n)?stringifyString(n,e,t,a):n.toString(e,t,a);return i?isScalar(n)||o[0]==="{"||o[0]==="["?`${i} ${o}`:`${i}
${e.indent}${o}`:o}function stringifyPair({key:s,value:e},t,a,r){const{allNullValues:n,doc:i,indent:o,indentStep:l,options:{commentString:u,indentSeq:m,simpleKeys:c}}=t;let h=isNode(s)&&s.comment||null;if(c){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(isCollection(s)){const L="With simple keys, collection cannot be used as a key value";throw new Error(L)}}let p=!c&&(!s||h&&e==null&&!t.inFlow||isCollection(s)||(isScalar(s)?s.type===Scalar.BLOCK_FOLDED||s.type===Scalar.BLOCK_LITERAL:typeof s=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!p&&(c||!n),indent:o+l});let d=!1,x=!1,M=stringify(s,t,()=>d=!0,()=>x=!0);if(!p&&!t.inFlow&&M.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(t.inFlow){if(n||e==null)return d&&a&&a(),M===""?"?":p?`? ${M}`:M}else if(n&&!c||e==null&&p)return M=`? ${M}`,h&&!d?M+=lineComment(M,t.indent,u(h)):x&&r&&r(),M;d&&(h=null),p?(h&&(M+=lineComment(M,t.indent,u(h))),M=`? ${M}
${o}:`):(M=`${M}:`,h&&(M+=lineComment(M,t.indent,u(h))));let A,w,E;isNode(e)?(A=!!e.spaceBefore,w=e.commentBefore,E=e.comment):(A=!1,w=null,E=null,e&&typeof e=="object"&&(e=i.createNode(e))),t.implicitKey=!1,!p&&!h&&isScalar(e)&&(t.indentAtStart=M.length+1),x=!1,!m&&l.length>=2&&!t.inFlow&&!p&&isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let g=!1;const q=stringify(e,t,()=>g=!0,()=>x=!0);let k=" ";if(h||A||w){if(k=A?`
`:"",w){const L=u(w);k+=`
${indentComment(L,t.indent)}`}q===""&&!t.inFlow?k===`
`&&(k=`

`):k+=`
${t.indent}`}else if(!p&&isCollection(e)){const L=q[0],S=q.indexOf(`
`),R=S!==-1,D=t.inFlow??e.flow??e.items.length===0;if(R||!D){let B=!1;if(R&&(L==="&"||L==="!")){let N=q.indexOf(" ");L==="&"&&N!==-1&&N<S&&q[N+1]==="!"&&(N=q.indexOf(" ",N+1)),(N===-1||S<N)&&(B=!0)}B||(k=`
${t.indent}`)}}else(q===""||q[0]===`
`)&&(k="");return M+=k+q,t.inFlow?g&&a&&a():E&&!g?M+=lineComment(M,t.indent,u(E)):x&&r&&r(),M}function warn(s,e){(s==="debug"||s==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const MERGE_KEY="<<";function addPairToJSMap(s,e,{key:t,value:a}){if(s!=null&&s.doc.schema.merge&&isMergeKey(t))if(a=isAlias(a)?a.resolve(s.doc):a,isSeq(a))for(const r of a.items)mergeToJSMap(s,e,r);else if(Array.isArray(a))for(const r of a)mergeToJSMap(s,e,r);else mergeToJSMap(s,e,a);else{const r=toJS(t,"",s);if(e instanceof Map)e.set(r,toJS(a,r,s));else if(e instanceof Set)e.add(r);else{const n=stringifyKey(t,r,s),i=toJS(a,n,s);n in e?Object.defineProperty(e,n,{value:i,writable:!0,enumerable:!0,configurable:!0}):e[n]=i}}return e}const isMergeKey=s=>s===MERGE_KEY||isScalar(s)&&s.value===MERGE_KEY&&(!s.type||s.type===Scalar.PLAIN);function mergeToJSMap(s,e,t){const a=s&&isAlias(t)?t.resolve(s.doc):t;if(!isMap(a))throw new Error("Merge sources must be maps or map aliases");const r=a.toJSON(null,s,Map);for(const[n,i]of r)e instanceof Map?e.has(n)||e.set(n,i):e instanceof Set?e.add(n):Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{value:i,writable:!0,enumerable:!0,configurable:!0});return e}function stringifyKey(s,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(isNode(s)&&(t!=null&&t.doc)){const a=createStringifyContext(t.doc,{});a.anchors=new Set;for(const n of t.anchors.keys())a.anchors.add(n.anchor);a.inFlow=!0,a.inStringifyKey=!0;const r=s.toString(a);if(!t.mapKeyWarned){let n=JSON.stringify(r);n.length>40&&(n=n.substring(0,36)+'..."'),warn(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${n}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return r}return JSON.stringify(e)}function createPair(s,e,t){const a=createNode(s,void 0,t),r=createNode(e,void 0,t);return new Pair(a,r)}class Pair{constructor(e,t=null){Object.defineProperty(this,NODE_TYPE,{value:PAIR}),this.key=e,this.value=t}clone(e){let{key:t,value:a}=this;return isNode(t)&&(t=t.clone(e)),isNode(a)&&(a=a.clone(e)),new Pair(t,a)}toJSON(e,t){const a=t!=null&&t.mapAsMap?new Map:{};return addPairToJSMap(t,a,this)}toString(e,t,a){return e!=null&&e.doc?stringifyPair(this,e,t,a):JSON.stringify(this)}}function stringifyCollection(s,e,t){return(e.inFlow??s.flow?stringifyFlowCollection:stringifyBlockCollection)(s,e,t)}function stringifyBlockCollection({comment:s,items:e},t,{blockItemPrefix:a,flowChars:r,itemIndent:n,onChompKeep:i,onComment:o}){const{indent:l,options:{commentString:u}}=t,m=Object.assign({},t,{indent:n,type:null});let c=!1;const h=[];for(let d=0;d<e.length;++d){const x=e[d];let M=null;if(isNode(x))!c&&x.spaceBefore&&h.push(""),addCommentBefore(t,h,x.commentBefore,c),x.comment&&(M=x.comment);else if(isPair(x)){const w=isNode(x.key)?x.key:null;w&&(!c&&w.spaceBefore&&h.push(""),addCommentBefore(t,h,w.commentBefore,c))}c=!1;let A=stringify(x,m,()=>M=null,()=>c=!0);M&&(A+=lineComment(A,n,u(M))),c&&M&&(c=!1),h.push(a+A)}let p;if(h.length===0)p=r.start+r.end;else{p=h[0];for(let d=1;d<h.length;++d){const x=h[d];p+=x?`
${l}${x}`:`
`}}return s?(p+=`
`+indentComment(u(s),l),o&&o()):c&&i&&i(),p}function stringifyFlowCollection({items:s},e,{flowChars:t,itemIndent:a}){const{indent:r,indentStep:n,flowCollectionPadding:i,options:{commentString:o}}=e;a+=n;const l=Object.assign({},e,{indent:a,inFlow:!0,type:null});let u=!1,m=0;const c=[];for(let d=0;d<s.length;++d){const x=s[d];let M=null;if(isNode(x))x.spaceBefore&&c.push(""),addCommentBefore(e,c,x.commentBefore,!1),x.comment&&(M=x.comment);else if(isPair(x)){const w=isNode(x.key)?x.key:null;w&&(w.spaceBefore&&c.push(""),addCommentBefore(e,c,w.commentBefore,!1),w.comment&&(u=!0));const E=isNode(x.value)?x.value:null;E?(E.comment&&(M=E.comment),E.commentBefore&&(u=!0)):x.value==null&&(w!=null&&w.comment)&&(M=w.comment)}M&&(u=!0);let A=stringify(x,l,()=>M=null);d<s.length-1&&(A+=","),M&&(A+=lineComment(A,a,o(M))),!u&&(c.length>m||A.includes(`
`))&&(u=!0),c.push(A),m=c.length}const{start:h,end:p}=t;if(c.length===0)return h+p;if(!u){const d=c.reduce((x,M)=>x+M.length+2,2);u=e.options.lineWidth>0&&d>e.options.lineWidth}if(u){let d=h;for(const x of c)d+=x?`
${n}${r}${x}`:`
`;return`${d}
${r}${p}`}else return`${h}${i}${c.join(" ")}${i}${p}`}function addCommentBefore({indent:s,options:{commentString:e}},t,a,r){if(a&&r&&(a=a.replace(/^\n+/,"")),a){const n=indentComment(e(a),s);t.push(n.trimStart())}}function findPair(s,e){const t=isScalar(e)?e.value:e;for(const a of s)if(isPair(a)&&(a.key===e||a.key===t||isScalar(a.key)&&a.key.value===t))return a}class YAMLMap extends Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(MAP,e),this.items=[]}static from(e,t,a){const{keepUndefined:r,replacer:n}=a,i=new this(e),o=(l,u)=>{if(typeof n=="function")u=n.call(t,l,u);else if(Array.isArray(n)&&!n.includes(l))return;(u!==void 0||r)&&i.items.push(createPair(l,u,a))};if(t instanceof Map)for(const[l,u]of t)o(l,u);else if(t&&typeof t=="object")for(const l of Object.keys(t))o(l,t[l]);return typeof e.sortMapEntries=="function"&&i.items.sort(e.sortMapEntries),i}add(e,t){var i;let a;isPair(e)?a=e:!e||typeof e!="object"||!("key"in e)?a=new Pair(e,e==null?void 0:e.value):a=new Pair(e.key,e.value);const r=findPair(this.items,a.key),n=(i=this.schema)==null?void 0:i.sortMapEntries;if(r){if(!t)throw new Error(`Key ${a.key} already set`);isScalar(r.value)&&isScalarValue(a.value)?r.value.value=a.value:r.value=a.value}else if(n){const o=this.items.findIndex(l=>n(a,l)<0);o===-1?this.items.push(a):this.items.splice(o,0,a)}else this.items.push(a)}delete(e){const t=findPair(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const a=findPair(this.items,e),r=a==null?void 0:a.value;return(!t&&isScalar(r)?r.value:r)??void 0}has(e){return!!findPair(this.items,e)}set(e,t){this.add(new Pair(e,t),!0)}toJSON(e,t,a){const r=a?new a:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(r);for(const n of this.items)addPairToJSMap(t,r,n);return r}toString(e,t,a){if(!e)return JSON.stringify(this);for(const r of this.items)if(!isPair(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:a,onComment:t})}}const map={collection:"map",default:!0,nodeClass:YAMLMap,tag:"tag:yaml.org,2002:map",resolve(s,e){return isMap(s)||e("Expected a mapping for this tag"),s},createNode:(s,e,t)=>YAMLMap.from(s,e,t)};class YAMLSeq extends Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=asItemIndex(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const a=asItemIndex(e);if(typeof a!="number")return;const r=this.items[a];return!t&&isScalar(r)?r.value:r}has(e){const t=asItemIndex(e);return typeof t=="number"&&t<this.items.length}set(e,t){const a=asItemIndex(e);if(typeof a!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[a];isScalar(r)&&isScalarValue(t)?r.value=t:this.items[a]=t}toJSON(e,t){const a=[];t!=null&&t.onCreate&&t.onCreate(a);let r=0;for(const n of this.items)a.push(toJS(n,String(r++),t));return a}toString(e,t,a){return e?stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:a,onComment:t}):JSON.stringify(this)}static from(e,t,a){const{replacer:r}=a,n=new this(e);if(t&&Symbol.iterator in Object(t)){let i=0;for(let o of t){if(typeof r=="function"){const l=t instanceof Set?o:String(i++);o=r.call(t,l,o)}n.items.push(createNode(o,void 0,a))}}return n}}function asItemIndex(s){let e=isScalar(s)?s.value:s;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const seq={collection:"seq",default:!0,nodeClass:YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(s,e){return isSeq(s)||e("Expected a sequence for this tag"),s},createNode:(s,e,t)=>YAMLSeq.from(s,e,t)},string$1={identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify(s,e,t,a){return e=Object.assign({actualString:!0},e),stringifyString(s,e,t,a)}},nullTag={identify:s=>s==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Scalar(null),stringify:({source:s},e)=>typeof s=="string"&&nullTag.test.test(s)?s:e.options.nullStr},boolTag={identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:s=>new Scalar(s[0]==="t"||s[0]==="T"),stringify({source:s,value:e},t){if(s&&boolTag.test.test(s)){const a=s[0]==="t"||s[0]==="T";if(e===a)return s}return e?t.options.trueStr:t.options.falseStr}};function stringifyNumber({format:s,minFractionDigits:e,tag:t,value:a}){if(typeof a=="bigint")return String(a);const r=typeof a=="number"?a:Number(a);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let n=JSON.stringify(a);if(!s&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(n)){let i=n.indexOf(".");i<0&&(i=n.length,n+=".");let o=e-(n.length-i-1);for(;o-- >0;)n+="0"}return n}const floatNaN$1={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp$1={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():stringifyNumber(s)}},float$1={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(s){const e=new Scalar(parseFloat(s)),t=s.indexOf(".");return t!==-1&&s[s.length-1]==="0"&&(e.minFractionDigits=s.length-t-1),e},stringify:stringifyNumber},intIdentify$2=s=>typeof s=="bigint"||Number.isInteger(s),intResolve$1=(s,e,t,{intAsBigInt:a})=>a?BigInt(s):parseInt(s.substring(e),t);function intStringify$1(s,e,t){const{value:a}=s;return intIdentify$2(a)&&a>=0?t+a.toString(e):stringifyNumber(s)}const intOct$1={identify:s=>intIdentify$2(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(s,e,t)=>intResolve$1(s,2,8,t),stringify:s=>intStringify$1(s,8,"0o")},int$1={identify:intIdentify$2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(s,e,t)=>intResolve$1(s,0,10,t),stringify:stringifyNumber},intHex$1={identify:s=>intIdentify$2(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(s,e,t)=>intResolve$1(s,2,16,t),stringify:s=>intStringify$1(s,16,"0x")},schema$2=[map,seq,string$1,nullTag,boolTag,intOct$1,int$1,intHex$1,floatNaN$1,floatExp$1,float$1];function intIdentify$1(s){return typeof s=="bigint"||Number.isInteger(s)}const stringifyJSON=({value:s})=>JSON.stringify(s),jsonScalars=[{identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify:stringifyJSON},{identify:s=>s==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:s=>s==="true",stringify:stringifyJSON},{identify:intIdentify$1,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(s,e,{intAsBigInt:t})=>t?BigInt(s):parseInt(s,10),stringify:({value:s})=>intIdentify$1(s)?s.toString():JSON.stringify(s)},{identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:s=>parseFloat(s),stringify:stringifyJSON}],jsonError={default:!0,tag:"",test:/^/,resolve(s,e){return e(`Unresolved plain scalar ${JSON.stringify(s)}`),s}},schema$1=[map,seq].concat(jsonScalars,jsonError),binary={identify:s=>s instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(s,e){if(typeof Buffer=="function")return Buffer.from(s,"base64");if(typeof atob=="function"){const t=atob(s.replace(/[\n\r]/g,"")),a=new Uint8Array(t.length);for(let r=0;r<t.length;++r)a[r]=t.charCodeAt(r);return a}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),s},stringify({comment:s,type:e,value:t},a,r,n){const i=t;let o;if(typeof Buffer=="function")o=i instanceof Buffer?i.toString("base64"):Buffer.from(i.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Scalar.BLOCK_LITERAL),e!==Scalar.QUOTE_DOUBLE){const l=Math.max(a.options.lineWidth-a.indent.length,a.options.minContentWidth),u=Math.ceil(o.length/l),m=new Array(u);for(let c=0,h=0;c<u;++c,h+=l)m[c]=o.substr(h,l);o=m.join(e===Scalar.BLOCK_LITERAL?`
`:" ")}return stringifyString({comment:s,type:e,value:o},a,r,n)}};function resolvePairs(s,e){if(isSeq(s))for(let t=0;t<s.items.length;++t){let a=s.items[t];if(!isPair(a)){if(isMap(a)){a.items.length>1&&e("Each pair must have its own sequence indicator");const r=a.items[0]||new Pair(new Scalar(null));if(a.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${a.commentBefore}
${r.key.commentBefore}`:a.commentBefore),a.comment){const n=r.value??r.key;n.comment=n.comment?`${a.comment}
${n.comment}`:a.comment}a=r}s.items[t]=isPair(a)?a:new Pair(a)}}else e("Expected a sequence for this tag");return s}function createPairs(s,e,t){const{replacer:a}=t,r=new YAMLSeq(s);r.tag="tag:yaml.org,2002:pairs";let n=0;if(e&&Symbol.iterator in Object(e))for(let i of e){typeof a=="function"&&(i=a.call(e,String(n++),i));let o,l;if(Array.isArray(i))if(i.length===2)o=i[0],l=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){const u=Object.keys(i);if(u.length===1)o=u[0],l=i[o];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else o=i;r.items.push(createPair(o,l,t))}return r}const pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};class YAMLOMap extends YAMLSeq{constructor(){super(),this.add=YAMLMap.prototype.add.bind(this),this.delete=YAMLMap.prototype.delete.bind(this),this.get=YAMLMap.prototype.get.bind(this),this.has=YAMLMap.prototype.has.bind(this),this.set=YAMLMap.prototype.set.bind(this),this.tag=YAMLOMap.tag}toJSON(e,t){if(!t)return super.toJSON(e);const a=new Map;t!=null&&t.onCreate&&t.onCreate(a);for(const r of this.items){let n,i;if(isPair(r)?(n=toJS(r.key,"",t),i=toJS(r.value,n,t)):n=toJS(r,"",t),a.has(n))throw new Error("Ordered maps must not include duplicate keys");a.set(n,i)}return a}static from(e,t,a){const r=createPairs(e,t,a),n=new this;return n.items=r.items,n}}YAMLOMap.tag="tag:yaml.org,2002:omap";const omap={collection:"seq",identify:s=>s instanceof Map,nodeClass:YAMLOMap,default:!1,tag:"tag:yaml.org,2002:omap",resolve(s,e){const t=resolvePairs(s,e),a=[];for(const{key:r}of t.items)isScalar(r)&&(a.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):a.push(r.value));return Object.assign(new YAMLOMap,t)},createNode:(s,e,t)=>YAMLOMap.from(s,e,t)};function boolStringify({value:s,source:e},t){return e&&(s?trueTag:falseTag).test.test(e)?e:s?t.options.trueStr:t.options.falseStr}const trueTag={identify:s=>s===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Scalar(!0),stringify:boolStringify},falseTag={identify:s=>s===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Scalar(!1),stringify:boolStringify},floatNaN={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s.replace(/_/g,"")),stringify(s){const e=Number(s.value);return isFinite(e)?e.toExponential():stringifyNumber(s)}},float={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(s){const e=new Scalar(parseFloat(s.replace(/_/g,""))),t=s.indexOf(".");if(t!==-1){const a=s.substring(t+1).replace(/_/g,"");a[a.length-1]==="0"&&(e.minFractionDigits=a.length)}return e},stringify:stringifyNumber},intIdentify=s=>typeof s=="bigint"||Number.isInteger(s);function intResolve(s,e,t,{intAsBigInt:a}){const r=s[0];if((r==="-"||r==="+")&&(e+=1),s=s.substring(e).replace(/_/g,""),a){switch(t){case 2:s=`0b${s}`;break;case 8:s=`0o${s}`;break;case 16:s=`0x${s}`;break}const i=BigInt(s);return r==="-"?BigInt(-1)*i:i}const n=parseInt(s,t);return r==="-"?-1*n:n}function intStringify(s,e,t){const{value:a}=s;if(intIdentify(a)){const r=a.toString(e);return a<0?"-"+t+r.substr(1):t+r}return stringifyNumber(s)}const intBin={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(s,e,t)=>intResolve(s,2,2,t),stringify:s=>intStringify(s,2,"0b")},intOct={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(s,e,t)=>intResolve(s,1,8,t),stringify:s=>intStringify(s,8,"0")},int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(s,e,t)=>intResolve(s,0,10,t),stringify:stringifyNumber},intHex={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(s,e,t)=>intResolve(s,2,16,t),stringify:s=>intStringify(s,16,"0x")};class YAMLSet extends YAMLMap{constructor(e){super(e),this.tag=YAMLSet.tag}add(e){let t;isPair(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Pair(e.key,null):t=new Pair(e,null),findPair(this.items,t.key)||this.items.push(t)}get(e,t){const a=findPair(this.items,e);return!t&&isPair(a)?isScalar(a.key)?a.key.value:a.key:a}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const a=findPair(this.items,e);a&&!t?this.items.splice(this.items.indexOf(a),1):!a&&t&&this.items.push(new Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,a){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,a);throw new Error("Set items must all have null values")}static from(e,t,a){const{replacer:r}=a,n=new this(e);if(t&&Symbol.iterator in Object(t))for(let i of t)typeof r=="function"&&(i=r.call(t,i,i)),n.items.push(createPair(i,null,a));return n}}YAMLSet.tag="tag:yaml.org,2002:set";const set={collection:"map",identify:s=>s instanceof Set,nodeClass:YAMLSet,default:!1,tag:"tag:yaml.org,2002:set",createNode:(s,e,t)=>YAMLSet.from(s,e,t),resolve(s,e){if(isMap(s)){if(s.hasAllNullValues(!0))return Object.assign(new YAMLSet,s);e("Set items must all have null values")}else e("Expected a mapping for this tag");return s}};function parseSexagesimal(s,e){const t=s[0],a=t==="-"||t==="+"?s.substring(1):s,r=i=>e?BigInt(i):Number(i),n=a.replace(/_/g,"").split(":").reduce((i,o)=>i*r(60)+r(o),r(0));return t==="-"?r(-1)*n:n}function stringifySexagesimal(s){let{value:e}=s,t=i=>i;if(typeof e=="bigint")t=i=>BigInt(i);else if(isNaN(e)||!isFinite(e))return stringifyNumber(s);let a="";e<0&&(a="-",e*=t(-1));const r=t(60),n=[e%r];return e<60?n.unshift(0):(e=(e-n[0])/r,n.unshift(e%r),e>=60&&(e=(e-n[0])/r,n.unshift(e))),a+n.map(i=>String(i).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const intTime={identify:s=>typeof s=="bigint"||Number.isInteger(s),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(s,e,{intAsBigInt:t})=>parseSexagesimal(s,t),stringify:stringifySexagesimal},floatTime={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:s=>parseSexagesimal(s,!1),stringify:stringifySexagesimal},timestamp={identify:s=>s instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(s){const e=s.match(timestamp.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,a,r,n,i,o]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(t,a-1,r,n||0,i||0,o||0,l);const m=e[8];if(m&&m!=="Z"){let c=parseSexagesimal(m,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:s})=>s.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},schema=[map,seq,string$1,nullTag,trueTag,falseTag,intBin,intOct,int,intHex,floatNaN,floatExp,float,binary,omap,pairs,set,intTime,floatTime,timestamp],schemas=new Map([["core",schema$2],["failsafe",[map,seq,string$1]],["json",schema$1],["yaml11",schema],["yaml-1.1",schema]]),tagsByName={binary,bool:boolTag,float:float$1,floatExp:floatExp$1,floatNaN:floatNaN$1,floatTime,int:int$1,intHex:intHex$1,intOct:intOct$1,intTime,map,null:nullTag,omap,pairs,seq,set,timestamp},coreKnownTags={"tag:yaml.org,2002:binary":binary,"tag:yaml.org,2002:omap":omap,"tag:yaml.org,2002:pairs":pairs,"tag:yaml.org,2002:set":set,"tag:yaml.org,2002:timestamp":timestamp};function getTags(s,e){let t=schemas.get(e);if(!t)if(Array.isArray(s))t=[];else{const a=Array.from(schemas.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${a} or define customTags array`)}if(Array.isArray(s))for(const a of s)t=t.concat(a);else typeof s=="function"&&(t=s(t.slice()));return t.map(a=>{if(typeof a!="string")return a;const r=tagsByName[a];if(r)return r;const n=Object.keys(tagsByName).map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${n}`)})}const sortMapEntriesByKey=(s,e)=>s.key<e.key?-1:s.key>e.key?1:0;class Schema{constructor({compat:e,customTags:t,merge:a,resolveKnownTags:r,schema:n,sortMapEntries:i,toStringDefaults:o}){this.compat=Array.isArray(e)?getTags(e,"compat"):e?getTags(null,e):null,this.merge=!!a,this.name=typeof n=="string"&&n||"core",this.knownTags=r?coreKnownTags:{},this.tags=getTags(t,this.name),this.toStringOptions=o??null,Object.defineProperty(this,MAP,{value:map}),Object.defineProperty(this,SCALAR$1,{value:string$1}),Object.defineProperty(this,SEQ,{value:seq}),this.sortMapEntries=typeof i=="function"?i:i===!0?sortMapEntriesByKey:null}clone(){const e=Object.create(Schema.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function stringifyDocument(s,e){var l;const t=[];let a=e.directives===!0;if(e.directives!==!1&&s.directives){const u=s.directives.toString(s);u?(t.push(u),a=!0):s.directives.docStart&&(a=!0)}a&&t.push("---");const r=createStringifyContext(s,e),{commentString:n}=r.options;if(s.commentBefore){t.length!==1&&t.unshift("");const u=n(s.commentBefore);t.unshift(indentComment(u,""))}let i=!1,o=null;if(s.contents){if(isNode(s.contents)){if(s.contents.spaceBefore&&a&&t.push(""),s.contents.commentBefore){const c=n(s.contents.commentBefore);t.push(indentComment(c,""))}r.forceBlockIndent=!!s.comment,o=s.contents.comment}const u=o?void 0:()=>i=!0;let m=stringify(s.contents,r,()=>o=null,u);o&&(m+=lineComment(m,"",n(o))),(m[0]==="|"||m[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${m}`:t.push(m)}else t.push(stringify(s.contents,r));if((l=s.directives)!=null&&l.docEnd)if(s.comment){const u=n(s.comment);u.includes(`
`)?(t.push("..."),t.push(indentComment(u,""))):t.push(`... ${u}`)}else t.push("...");else{let u=s.comment;u&&i&&(u=u.replace(/^\n+/,"")),u&&((!i||o)&&t[t.length-1]!==""&&t.push(""),t.push(indentComment(n(u),"")))}return t.join(`
`)+`
`}class Document{constructor(e,t,a){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,NODE_TYPE,{value:DOC});let r=null;typeof t=="function"||Array.isArray(t)?r=t:a===void 0&&t&&(a=t,t=void 0);const n=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},a);this.options=n;let{version:i}=n;a!=null&&a._directives?(this.directives=a._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new Directives({version:i}),this.setSchema(i,a),this.contents=e===void 0?null:this.createNode(e,r,a)}clone(){const e=Object.create(Document.prototype,{[NODE_TYPE]:{value:DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){assertCollection(this.contents)&&this.contents.add(e)}addIn(e,t){assertCollection(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const a=anchorNames(this);e.anchor=!t||a.has(t)?findNewAnchor(t||"a",a):t}return new Alias(e.anchor)}createNode(e,t,a){let r;if(typeof t=="function")e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const M=w=>typeof w=="number"||w instanceof String||w instanceof Number,A=t.filter(M).map(String);A.length>0&&(t=t.concat(A)),r=t}else a===void 0&&t&&(a=t,t=void 0);const{aliasDuplicateObjects:n,anchorPrefix:i,flow:o,keepUndefined:l,onTagObj:u,tag:m}=a??{},{onAnchor:c,setAnchors:h,sourceObjects:p}=createNodeAnchors(this,i||"a"),d={aliasDuplicateObjects:n??!0,keepUndefined:l??!1,onAnchor:c,onTagObj:u,replacer:r,schema:this.schema,sourceObjects:p},x=createNode(e,m,d);return o&&isCollection(x)&&(x.flow=!0),h(),x}createPair(e,t,a={}){const r=this.createNode(e,null,a),n=this.createNode(t,null,a);return new Pair(r,n)}delete(e){return assertCollection(this.contents)?this.contents.delete(e):!1}deleteIn(e){return isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):assertCollection(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return isEmptyPath(e)?!t&&isScalar(this.contents)?this.contents.value:this.contents:isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return isEmptyPath(e)?this.contents!==void 0:isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=collectionFromPath(this.schema,[e],t):assertCollection(this.contents)&&this.contents.set(e,t)}setIn(e,t){isEmptyPath(e)?this.contents=t:this.contents==null?this.contents=collectionFromPath(this.schema,Array.from(e),t):assertCollection(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let a;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Directives({version:"1.1"}),a={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Directives({version:e}),a={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,a=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(a)this.schema=new Schema(Object.assign(a,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:a,maxAliasCount:r,onAnchor:n,reviver:i}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:a===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=toJS(this.contents,t??"",o);if(typeof n=="function")for(const{count:u,res:m}of o.anchors.values())n(m,u);return typeof i=="function"?applyReviver(i,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return stringifyDocument(this,e)}}function assertCollection(s){if(isCollection(s))return!0;throw new Error("Expected a YAML collection as document contents")}class YAMLError extends Error{constructor(e,t,a,r){super(),this.name=e,this.code=a,this.message=r,this.pos=t}}class YAMLParseError extends YAMLError{constructor(e,t,a){super("YAMLParseError",e,t,a)}}class YAMLWarning extends YAMLError{constructor(e,t,a){super("YAMLWarning",e,t,a)}}const prettifyError=(s,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(o=>e.linePos(o));const{line:a,col:r}=t.linePos[0];t.message+=` at line ${a}, column ${r}`;let n=r-1,i=s.substring(e.lineStarts[a-1],e.lineStarts[a]).replace(/[\n\r]+$/,"");if(n>=60&&i.length>80){const o=Math.min(n-39,i.length-79);i="…"+i.substring(o),n-=o-1}if(i.length>80&&(i=i.substring(0,79)+"…"),a>1&&/^ *$/.test(i.substring(0,n))){let o=s.substring(e.lineStarts[a-2],e.lineStarts[a-1]);o.length>80&&(o=o.substring(0,79)+`…
`),i=o+i}if(/[^ ]/.test(i)){let o=1;const l=t.linePos[1];l&&l.line===a&&l.col>r&&(o=Math.max(1,Math.min(l.col-r,80-n)));const u=" ".repeat(n)+"^".repeat(o);t.message+=`:

${i}
${u}
`}};function resolveProps(s,{flow:e,indicator:t,next:a,offset:r,onError:n,startOnNewline:i}){let o=!1,l=i,u=i,m="",c="",h=!1,p=!1,d=!1,x=null,M=null,A=null,w=null,E=null;for(const k of s)switch(d&&(k.type!=="space"&&k.type!=="newline"&&k.type!=="comma"&&n(k.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),k.type){case"space":!e&&l&&t!=="doc-start"&&k.source[0]==="	"&&n(k,"TAB_AS_INDENT","Tabs are not allowed as indentation"),u=!0;break;case"comment":{u||n(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const L=k.source.substring(1)||" ";m?m+=c+L:m=L,c="",l=!1;break}case"newline":l?m?m+=k.source:o=!0:c+=k.source,l=!0,h=!0,(x||M)&&(p=!0),u=!0;break;case"anchor":x&&n(k,"MULTIPLE_ANCHORS","A node can have at most one anchor"),k.source.endsWith(":")&&n(k.offset+k.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),x=k,E===null&&(E=k.offset),l=!1,u=!1,d=!0;break;case"tag":{M&&n(k,"MULTIPLE_TAGS","A node can have at most one tag"),M=k,E===null&&(E=k.offset),l=!1,u=!1,d=!0;break}case t:(x||M)&&n(k,"BAD_PROP_ORDER",`Anchors and tags must be after the ${k.source} indicator`),w&&n(k,"UNEXPECTED_TOKEN",`Unexpected ${k.source} in ${e??"collection"}`),w=k,l=!1,u=!1;break;case"comma":if(e){A&&n(k,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),A=k,l=!1,u=!1;break}default:n(k,"UNEXPECTED_TOKEN",`Unexpected ${k.type} token`),l=!1,u=!1}const g=s[s.length-1],q=g?g.offset+g.source.length:r;return d&&a&&a.type!=="space"&&a.type!=="newline"&&a.type!=="comma"&&(a.type!=="scalar"||a.source!=="")&&n(a.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:A,found:w,spaceBefore:o,comment:m,hasNewline:h,hasNewlineAfterProp:p,anchor:x,tag:M,end:q,start:E??q}}function containsNewline(s){if(!s)return null;switch(s.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(s.source.includes(`
`))return!0;if(s.end){for(const e of s.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of s.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(containsNewline(e.key)||containsNewline(e.value))return!0}return!1;default:return!0}}function flowIndentCheck(s,e,t){if((e==null?void 0:e.type)==="flow-collection"){const a=e.end[0];a.indent===s&&(a.source==="]"||a.source==="}")&&containsNewline(e)&&t(a,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mapIncludes(s,e,t){const{uniqueKeys:a}=s.options;if(a===!1)return!1;const r=typeof a=="function"?a:(n,i)=>n===i||isScalar(n)&&isScalar(i)&&n.value===i.value&&!(n.value==="<<"&&s.schema.merge);return e.some(n=>r(n.key,t))}const startColMsg="All mapping items must start at the same column";function resolveBlockMap({composeNode:s,composeEmptyNode:e},t,a,r,n){var m;const i=(n==null?void 0:n.nodeClass)??YAMLMap,o=new i(t.schema);t.atRoot&&(t.atRoot=!1);let l=a.offset,u=null;for(const c of a.items){const{start:h,key:p,sep:d,value:x}=c,M=resolveProps(h,{indicator:"explicit-key-ind",next:p??(d==null?void 0:d[0]),offset:l,onError:r,startOnNewline:!0}),A=!M.found;if(A){if(p&&(p.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==a.indent&&r(l,"BAD_INDENT",startColMsg)),!M.anchor&&!M.tag&&!d){u=M.end,M.comment&&(o.comment?o.comment+=`
`+M.comment:o.comment=M.comment);continue}(M.hasNewlineAfterProp||containsNewline(p))&&r(p??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((m=M.found)==null?void 0:m.indent)!==a.indent&&r(l,"BAD_INDENT",startColMsg);const w=M.end,E=p?s(t,p,M,r):e(t,w,h,null,M,r);t.schema.compat&&flowIndentCheck(a.indent,p,r),mapIncludes(t,o.items,E)&&r(w,"DUPLICATE_KEY","Map keys must be unique");const g=resolveProps(d??[],{indicator:"map-value-ind",next:x,offset:E.range[2],onError:r,startOnNewline:!p||p.type==="block-scalar"});if(l=g.end,g.found){A&&((x==null?void 0:x.type)==="block-map"&&!g.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&M.start<g.found.offset-1024&&r(E.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const q=x?s(t,x,g,r):e(t,l,d,null,g,r);t.schema.compat&&flowIndentCheck(a.indent,x,r),l=q.range[2];const k=new Pair(E,q);t.options.keepSourceTokens&&(k.srcToken=c),o.items.push(k)}else{A&&r(E.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),g.comment&&(E.comment?E.comment+=`
`+g.comment:E.comment=g.comment);const q=new Pair(E);t.options.keepSourceTokens&&(q.srcToken=c),o.items.push(q)}}return u&&u<l&&r(u,"IMPOSSIBLE","Map comment with trailing content"),o.range=[a.offset,l,u??l],o}function resolveBlockSeq({composeNode:s,composeEmptyNode:e},t,a,r,n){const i=(n==null?void 0:n.nodeClass)??YAMLSeq,o=new i(t.schema);t.atRoot&&(t.atRoot=!1);let l=a.offset,u=null;for(const{start:m,value:c}of a.items){const h=resolveProps(m,{indicator:"seq-item-ind",next:c,offset:l,onError:r,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||c)c&&c.type==="block-seq"?r(h.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{u=h.end,h.comment&&(o.comment=h.comment);continue}const p=c?s(t,c,h,r):e(t,h.end,m,null,h,r);t.schema.compat&&flowIndentCheck(a.indent,c,r),l=p.range[2],o.items.push(p)}return o.range=[a.offset,l,u??l],o}function resolveEnd(s,e,t,a){let r="";if(s){let n=!1,i="";for(const o of s){const{source:l,type:u}=o;switch(u){case"space":n=!0;break;case"comment":{t&&!n&&a(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const m=l.substring(1)||" ";r?r+=i+m:r=m,i="";break}case"newline":r&&(i+=l),n=!0;break;default:a(o,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=l.length}}return{comment:r,offset:e}}const blockMsg="Block collections are not allowed within flow collections",isBlock=s=>s&&(s.type==="block-map"||s.type==="block-seq");function resolveFlowCollection({composeNode:s,composeEmptyNode:e},t,a,r,n){const i=a.start.source==="{",o=i?"flow map":"flow sequence",l=(n==null?void 0:n.nodeClass)??(i?YAMLMap:YAMLSeq),u=new l(t.schema);u.flow=!0;const m=t.atRoot;m&&(t.atRoot=!1);let c=a.offset+a.start.source.length;for(let M=0;M<a.items.length;++M){const A=a.items[M],{start:w,key:E,sep:g,value:q}=A,k=resolveProps(w,{flow:o,indicator:"explicit-key-ind",next:E??(g==null?void 0:g[0]),offset:c,onError:r,startOnNewline:!1});if(!k.found){if(!k.anchor&&!k.tag&&!g&&!q){M===0&&k.comma?r(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):M<a.items.length-1&&r(k.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),k.comment&&(u.comment?u.comment+=`
`+k.comment:u.comment=k.comment),c=k.end;continue}!i&&t.options.strict&&containsNewline(E)&&r(E,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(M===0)k.comma&&r(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(k.comma||r(k.start,"MISSING_CHAR",`Missing , between ${o} items`),k.comment){let L="";e:for(const S of w)switch(S.type){case"comma":case"space":break;case"comment":L=S.source.substring(1);break e;default:break e}if(L){let S=u.items[u.items.length-1];isPair(S)&&(S=S.value??S.key),S.comment?S.comment+=`
`+L:S.comment=L,k.comment=k.comment.substring(L.length+1)}}if(!i&&!g&&!k.found){const L=q?s(t,q,k,r):e(t,k.end,g,null,k,r);u.items.push(L),c=L.range[2],isBlock(q)&&r(L.range,"BLOCK_IN_FLOW",blockMsg)}else{const L=k.end,S=E?s(t,E,k,r):e(t,L,w,null,k,r);isBlock(E)&&r(S.range,"BLOCK_IN_FLOW",blockMsg);const R=resolveProps(g??[],{flow:o,indicator:"map-value-ind",next:q,offset:S.range[2],onError:r,startOnNewline:!1});if(R.found){if(!i&&!k.found&&t.options.strict){if(g)for(const N of g){if(N===R.found)break;if(N.type==="newline"){r(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}k.start<R.found.offset-1024&&r(R.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else q&&("source"in q&&q.source&&q.source[0]===":"?r(q,"MISSING_CHAR",`Missing space after : in ${o}`):r(R.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const D=q?s(t,q,R,r):R.found?e(t,R.end,g,null,R,r):null;D?isBlock(q)&&r(D.range,"BLOCK_IN_FLOW",blockMsg):R.comment&&(S.comment?S.comment+=`
`+R.comment:S.comment=R.comment);const B=new Pair(S,D);if(t.options.keepSourceTokens&&(B.srcToken=A),i){const N=u;mapIncludes(t,N.items,S)&&r(L,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(B)}else{const N=new YAMLMap(t.schema);N.flow=!0,N.items.push(B),u.items.push(N)}c=D?D.range[2]:R.end}}const h=i?"}":"]",[p,...d]=a.end;let x=c;if(p&&p.source===h)x=p.offset+p.source.length;else{const M=o[0].toUpperCase()+o.substring(1),A=m?`${M} must end with a ${h}`:`${M} in block collection must be sufficiently indented and end with a ${h}`;r(c,m?"MISSING_CHAR":"BAD_INDENT",A),p&&p.source.length!==1&&d.unshift(p)}if(d.length>0){const M=resolveEnd(d,x,t.options.strict,r);M.comment&&(u.comment?u.comment+=`
`+M.comment:u.comment=M.comment),u.range=[a.offset,x,M.offset]}else u.range=[a.offset,x,x];return u}function resolveCollection(s,e,t,a,r,n){const i=t.type==="block-map"?resolveBlockMap(s,e,t,a,n):t.type==="block-seq"?resolveBlockSeq(s,e,t,a,n):resolveFlowCollection(s,e,t,a,n),o=i.constructor;return r==="!"||r===o.tagName?(i.tag=o.tagName,i):(r&&(i.tag=r),i)}function composeCollection(s,e,t,a,r){var c;const n=a?e.directives.tagName(a.source,h=>r(a,"TAG_RESOLVE_FAILED",h)):null,i=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!a||!n||n==="!"||n===YAMLMap.tagName&&i==="map"||n===YAMLSeq.tagName&&i==="seq"||!i)return resolveCollection(s,e,t,r,n);let o=e.schema.tags.find(h=>h.tag===n&&h.collection===i);if(!o){const h=e.schema.knownTags[n];if(h&&h.collection===i)e.schema.tags.push(Object.assign({},h,{default:!1})),o=h;else return h!=null&&h.collection?r(a,"BAD_COLLECTION_TYPE",`${h.tag} used for ${i} collection, but expects ${h.collection}`,!0):r(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,!0),resolveCollection(s,e,t,r,n)}const l=resolveCollection(s,e,t,r,n,o),u=((c=o.resolve)==null?void 0:c.call(o,l,h=>r(a,"TAG_RESOLVE_FAILED",h),e.options))??l,m=isNode(u)?u:new Scalar(u);return m.range=l.range,m.tag=n,o!=null&&o.format&&(m.format=o.format),m}function resolveBlockScalar(s,e,t){const a=s.offset,r=parseBlockScalarHeader(s,e,t);if(!r)return{value:"",type:null,comment:"",range:[a,a,a]};const n=r.mode===">"?Scalar.BLOCK_FOLDED:Scalar.BLOCK_LITERAL,i=s.source?splitLines(s.source):[];let o=i.length;for(let x=i.length-1;x>=0;--x){const M=i[x][1];if(M===""||M==="\r")o=x;else break}if(o===0){const x=r.chomp==="+"&&i.length>0?`
`.repeat(Math.max(1,i.length-1)):"";let M=a+r.length;return s.source&&(M+=s.source.length),{value:x,type:n,comment:r.comment,range:[a,M,M]}}let l=s.indent+r.indent,u=s.offset+r.length,m=0;for(let x=0;x<o;++x){const[M,A]=i[x];if(A===""||A==="\r")r.indent===0&&M.length>l&&(l=M.length);else{M.length<l&&t(u+M.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(l=M.length),m=x;break}u+=M.length+A.length+1}for(let x=i.length-1;x>=o;--x)i[x][0].length>l&&(o=x+1);let c="",h="",p=!1;for(let x=0;x<m;++x)c+=i[x][0].slice(l)+`
`;for(let x=m;x<o;++x){let[M,A]=i[x];u+=M.length+A.length+1;const w=A[A.length-1]==="\r";if(w&&(A=A.slice(0,-1)),A&&M.length<l){const g=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;t(u-A.length-(w?2:1),"BAD_INDENT",g),M=""}n===Scalar.BLOCK_LITERAL?(c+=h+M.slice(l)+A,h=`
`):M.length>l||A[0]==="	"?(h===" "?h=`
`:!p&&h===`
`&&(h=`

`),c+=h+M.slice(l)+A,h=`
`,p=!0):A===""?h===`
`?c+=`
`:h=`
`:(c+=h+A,h=" ",p=!1)}switch(r.chomp){case"-":break;case"+":for(let x=o;x<i.length;++x)c+=`
`+i[x][0].slice(l);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const d=a+r.length+s.source.length;return{value:c,type:n,comment:r.comment,range:[a,d,d]}}function parseBlockScalarHeader({offset:s,props:e},t,a){if(e[0].type!=="block-scalar-header")return a(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],n=r[0];let i=0,o="",l=-1;for(let h=1;h<r.length;++h){const p=r[h];if(!o&&(p==="-"||p==="+"))o=p;else{const d=Number(p);!i&&d?i=d:l===-1&&(l=s+h)}}l!==-1&&a(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let u=!1,m="",c=r.length;for(let h=1;h<e.length;++h){const p=e[h];switch(p.type){case"space":u=!0;case"newline":c+=p.source.length;break;case"comment":t&&!u&&a(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=p.source.length,m=p.source.substring(1);break;case"error":a(p,"UNEXPECTED_TOKEN",p.message),c+=p.source.length;break;default:{const d=`Unexpected token in block scalar header: ${p.type}`;a(p,"UNEXPECTED_TOKEN",d);const x=p.source;x&&typeof x=="string"&&(c+=x.length)}}}return{mode:n,indent:i,chomp:o,comment:m,length:c}}function splitLines(s){const e=s.split(/\n( *)/),t=e[0],a=t.match(/^( *)/),n=[a!=null&&a[1]?[a[1],t.slice(a[1].length)]:["",t]];for(let i=1;i<e.length;i+=2)n.push([e[i],e[i+1]]);return n}function resolveFlowScalar(s,e,t){const{offset:a,type:r,source:n,end:i}=s;let o,l;const u=(h,p,d)=>t(a+h,p,d);switch(r){case"scalar":o=Scalar.PLAIN,l=plainValue(n,u);break;case"single-quoted-scalar":o=Scalar.QUOTE_SINGLE,l=singleQuotedValue(n,u);break;case"double-quoted-scalar":o=Scalar.QUOTE_DOUBLE,l=doubleQuotedValue(n,u);break;default:return t(s,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[a,a+n.length,a+n.length]}}const m=a+n.length,c=resolveEnd(i,m,e,t);return{value:l,type:o,comment:c.comment,range:[a,m,c.offset]}}function plainValue(s,e){let t="";switch(s[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${s[0]}`;break}case"@":case"`":{t=`reserved character ${s[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),foldLines(s)}function singleQuotedValue(s,e){return(s[s.length-1]!=="'"||s.length===1)&&e(s.length,"MISSING_CHAR","Missing closing 'quote"),foldLines(s.slice(1,-1)).replace(/''/g,"'")}function foldLines(s){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let a=e.exec(s);if(!a)return s;let r=a[1],n=" ",i=e.lastIndex;for(t.lastIndex=i;a=t.exec(s);)a[1]===""?n===`
`?r+=n:n=`
`:(r+=n+a[1],n=" "),i=t.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=i,a=o.exec(s),r+n+((a==null?void 0:a[1])??"")}function doubleQuotedValue(s,e){let t="";for(let a=1;a<s.length-1;++a){const r=s[a];if(!(r==="\r"&&s[a+1]===`
`))if(r===`
`){const{fold:n,offset:i}=foldNewline(s,a);t+=n,a=i}else if(r==="\\"){let n=s[++a];const i=escapeCodes[n];if(i)t+=i;else if(n===`
`)for(n=s[a+1];n===" "||n==="	";)n=s[++a+1];else if(n==="\r"&&s[a+1]===`
`)for(n=s[++a+1];n===" "||n==="	";)n=s[++a+1];else if(n==="x"||n==="u"||n==="U"){const o={x:2,u:4,U:8}[n];t+=parseCharCode(s,a+1,o,e),a+=o}else{const o=s.substr(a-1,2);e(a-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),t+=o}}else if(r===" "||r==="	"){const n=a;let i=s[a+1];for(;i===" "||i==="	";)i=s[++a+1];i!==`
`&&!(i==="\r"&&s[a+2]===`
`)&&(t+=a>n?s.slice(n,a+1):r)}else t+=r}return(s[s.length-1]!=='"'||s.length===1)&&e(s.length,"MISSING_CHAR",'Missing closing "quote'),t}function foldNewline(s,e){let t="",a=s[e+1];for(;(a===" "||a==="	"||a===`
`||a==="\r")&&!(a==="\r"&&s[e+2]!==`
`);)a===`
`&&(t+=`
`),e+=1,a=s[e+1];return t||(t=" "),{fold:t,offset:e}}const escapeCodes={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function parseCharCode(s,e,t,a){const r=s.substr(e,t),i=r.length===t&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(i)){const o=s.substr(e-2,t+2);return a(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(i)}function composeScalar(s,e,t,a){const{value:r,type:n,comment:i,range:o}=e.type==="block-scalar"?resolveBlockScalar(e,s.options.strict,a):resolveFlowScalar(e,s.options.strict,a),l=t?s.directives.tagName(t.source,c=>a(t,"TAG_RESOLVE_FAILED",c)):null,u=t&&l?findScalarTagByName(s.schema,r,l,t,a):e.type==="scalar"?findScalarTagByTest(s,r,e,a):s.schema[SCALAR$1];let m;try{const c=u.resolve(r,h=>a(t??e,"TAG_RESOLVE_FAILED",h),s.options);m=isScalar(c)?c:new Scalar(c)}catch(c){const h=c instanceof Error?c.message:String(c);a(t??e,"TAG_RESOLVE_FAILED",h),m=new Scalar(r)}return m.range=o,m.source=r,n&&(m.type=n),l&&(m.tag=l),u.format&&(m.format=u.format),i&&(m.comment=i),m}function findScalarTagByName(s,e,t,a,r){var o;if(t==="!")return s[SCALAR$1];const n=[];for(const l of s.tags)if(!l.collection&&l.tag===t)if(l.default&&l.test)n.push(l);else return l;for(const l of n)if((o=l.test)!=null&&o.test(e))return l;const i=s.knownTags[t];return i&&!i.collection?(s.tags.push(Object.assign({},i,{default:!1,test:void 0})),i):(r(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),s[SCALAR$1])}function findScalarTagByTest({directives:s,schema:e},t,a,r){const n=e.tags.find(i=>{var o;return i.default&&((o=i.test)==null?void 0:o.test(t))})||e[SCALAR$1];if(e.compat){const i=e.compat.find(o=>{var l;return o.default&&((l=o.test)==null?void 0:l.test(t))})??e[SCALAR$1];if(n.tag!==i.tag){const o=s.tagString(n.tag),l=s.tagString(i.tag),u=`Value may be parsed as either ${o} or ${l}`;r(a,"TAG_RESOLVE_FAILED",u,!0)}}return n}function emptyScalarPosition(s,e,t){if(e){t===null&&(t=e.length);for(let a=t-1;a>=0;--a){let r=e[a];switch(r.type){case"space":case"comment":case"newline":s-=r.source.length;continue}for(r=e[++a];(r==null?void 0:r.type)==="space";)s+=r.source.length,r=e[++a];break}}return s}const CN={composeNode,composeEmptyNode};function composeNode(s,e,t,a){const{spaceBefore:r,comment:n,anchor:i,tag:o}=t;let l,u=!0;switch(e.type){case"alias":l=composeAlias(s,e,a),(i||o)&&a(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=composeScalar(s,e,o,a),i&&(l.anchor=i.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=composeCollection(CN,s,e,o,a),i&&(l.anchor=i.source.substring(1));break;default:{const m=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;a(e,"UNEXPECTED_TOKEN",m),l=composeEmptyNode(s,e.offset,void 0,null,t,a),u=!1}}return i&&l.anchor===""&&a(i,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),n&&(e.type==="scalar"&&e.source===""?l.comment=n:l.commentBefore=n),s.options.keepSourceTokens&&u&&(l.srcToken=e),l}function composeEmptyNode(s,e,t,a,{spaceBefore:r,comment:n,anchor:i,tag:o,end:l},u){const m={type:"scalar",offset:emptyScalarPosition(e,t,a),indent:-1,source:""},c=composeScalar(s,m,o,u);return i&&(c.anchor=i.source.substring(1),c.anchor===""&&u(i,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(c.spaceBefore=!0),n&&(c.comment=n,c.range[2]=l),c}function composeAlias({options:s},{offset:e,source:t,end:a},r){const n=new Alias(t.substring(1));n.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),n.source.endsWith(":")&&r(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const i=e+t.length,o=resolveEnd(a,i,s.strict,r);return n.range=[e,i,o.offset],o.comment&&(n.comment=o.comment),n}function composeDoc(s,e,{offset:t,start:a,value:r,end:n},i){const o=Object.assign({_directives:e},s),l=new Document(void 0,o),u={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},m=resolveProps(a,{indicator:"doc-start",next:r??(n==null?void 0:n[0]),offset:t,onError:i,startOnNewline:!0});m.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!m.hasNewline&&i(m.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?composeNode(u,r,m,i):composeEmptyNode(u,m.end,a,null,m,i);const c=l.contents.range[2],h=resolveEnd(n,c,!1,i);return h.comment&&(l.comment=h.comment),l.range=[t,c,h.offset],l}function getErrorPos(s){if(typeof s=="number")return[s,s+1];if(Array.isArray(s))return s.length===2?s:[s[0],s[1]];const{offset:e,source:t}=s;return[e,e+(typeof t=="string"?t.length:1)]}function parsePrelude(s){var r;let e="",t=!1,a=!1;for(let n=0;n<s.length;++n){const i=s[n];switch(i[0]){case"#":e+=(e===""?"":a?`

`:`
`)+(i.substring(1)||" "),t=!0,a=!1;break;case"%":((r=s[n+1])==null?void 0:r[0])!=="#"&&(n+=1),t=!1;break;default:t||(a=!0),t=!1}}return{comment:e,afterEmptyLine:a}}class Composer{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,a,r,n)=>{const i=getErrorPos(t);n?this.warnings.push(new YAMLWarning(i,a,r)):this.errors.push(new YAMLParseError(i,a,r))},this.directives=new Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:a,afterEmptyLine:r}=parsePrelude(this.prelude);if(a){const n=e.contents;if(t)e.comment=e.comment?`${e.comment}
${a}`:a;else if(r||e.directives.docStart||!n)e.commentBefore=a;else if(isCollection(n)&&!n.flow&&n.items.length>0){let i=n.items[0];isPair(i)&&(i=i.key);const o=i.commentBefore;i.commentBefore=o?`${a}
${o}`:a}else{const i=n.commentBefore;n.commentBefore=i?`${a}
${i}`:a}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,a=-1){for(const r of e)yield*this.next(r);yield*this.end(t,a)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,a,r)=>{const n=getErrorPos(e);n[0]+=t,this.onError(n,"BAD_DIRECTIVE",a,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,a=new YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(a):this.doc.errors.push(a);break}case"doc-end":{if(!this.doc){const a="Unexpected doc-end without preceding document";this.errors.push(new YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",a));break}this.doc.directives.docEnd=!0;const t=resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const a=this.doc.comment;this.doc.comment=a?`${a}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const a=Object.assign({_directives:this.directives},this.options),r=new Document(void 0,a);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}}const BOM="\uFEFF",DOCUMENT="",FLOW_END="",SCALAR="";function tokenType(s){switch(s){case BOM:return"byte-order-mark";case DOCUMENT:return"doc-mode";case FLOW_END:return"flow-error-end";case SCALAR:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(s[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function isEmpty(s){switch(s){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const hexDigits="0123456789ABCDEFabcdef".split(""),tagChars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),invalidFlowScalarChars=",[]{}".split(""),invalidAnchorChars=` ,[]{}
\r	`.split(""),isNotAnchorChar=s=>!s||invalidAnchorChars.includes(s);class Lexer{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let a=this.next??"stream";for(;a&&(t||this.hasChars(1));)a=yield*this.parseNext(a)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let a=0;for(;t===" ";)t=this.buffer[++a+e];if(t==="\r"){const r=this.buffer[a+e+1];if(r===`
`||!r&&!this.atEnd)return e+a+1}return t===`
`||a>=this.indentNext||!t&&!this.atEnd?e+a:-1}if(t==="-"||t==="."){const a=this.buffer.substr(e,3);if((a==="---"||a==="...")&&isEmpty(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length;const a=e.indexOf("#");if(a!==-1){const n=e[a-1];(n===" "||n==="	")&&(t=a-1)}for(;;){const n=e[t-1];if(n===" "||n==="	")t-=1;else break}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if(t==="---"&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!isEmpty(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&isEmpty(t)){const a=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=a,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,a=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=a=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((a!==-1&&a<this.indentNext&&r[0]!=="#"||a===0&&(r.startsWith("---")||r.startsWith("..."))&&isEmpty(r[3]))&&!(a===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield FLOW_END,yield*this.parseLineStart();let n=0;for(;r[n]===",";)n+=yield*this.pushCount(1),n+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(n+=yield*this.pushIndicators(),r[n]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-n),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const i=this.charAt(1);if(this.flowKey||isEmpty(i)||i===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let n=0;for(;this.buffer[t-1-n]==="\\";)n+=1;if(n%2===0)break;t=this.buffer.indexOf('"',t+1)}const a=this.buffer.substring(0,t);let r=a.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){const n=this.continueScalar(r+1);if(n===-1)break;r=a.indexOf(`
`,n)}r!==-1&&(t=r-(a[r-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>isEmpty(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,a;e:for(let r=this.pos;a=this.buffer[r];++r)switch(a){case" ":t+=1;break;case`
`:e=r,t=0;break;case"\r":{const n=this.buffer[r+1];if(!n&&!this.atEnd)return this.setNext("block-scalar");if(n===`
`)break}default:break e}if(!a&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,n=this.buffer[r];n==="\r"&&(n=this.buffer[--r]);const i=r;for(;n===" "||n==="	";)n=this.buffer[--r];if(n===`
`&&r>=this.pos&&r+1+t>i)e=r;else break}while(!0);return yield SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,a=this.pos-1,r;for(;r=this.buffer[++a];)if(r===":"){const n=this.buffer[a+1];if(isEmpty(n)||e&&n===",")break;t=a}else if(isEmpty(r)){let n=this.buffer[a+1];if(r==="\r"&&(n===`
`?(a+=1,r=`
`,n=this.buffer[a+1]):t=a),n==="#"||e&&invalidFlowScalarChars.includes(n))break;if(r===`
`){const i=this.continueScalar(a+1);if(i===-1)break;a=Math.max(a,i-2)}}else{if(e&&invalidFlowScalarChars.includes(r))break;t=a}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield SCALAR,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const a=this.buffer.slice(this.pos,e);return a?(yield a,this.pos+=a.length,a.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(isEmpty(t)||e&&invalidFlowScalarChars.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!isEmpty(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(tagChars.includes(t))t=this.buffer[++e];else if(t==="%"&&hexDigits.includes(this.buffer[e+1])&&hexDigits.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,a;do a=this.buffer[++t];while(a===" "||e&&a==="	");const r=t-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,a=this.buffer[t];for(;!e(a);)a=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class LineCounter{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,a=this.lineStarts.length;for(;t<a;){const n=t+a>>1;this.lineStarts[n]<e?t=n+1:a=n}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}}function includesToken(s,e){for(let t=0;t<s.length;++t)if(s[t].type===e)return!0;return!1}function findNonEmptyIndex(s){for(let e=0;e<s.length;++e)switch(s[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function isFlowToken(s){switch(s==null?void 0:s.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function getPrevProps(s){switch(s.type){case"document":return s.start;case"block-map":{const e=s.items[s.items.length-1];return e.sep??e.start}case"block-seq":return s.items[s.items.length-1].start;default:return[]}}function getFirstKeyStartProps(s){var t;if(s.length===0)return[];let e=s.length;e:for(;--e>=0;)switch(s[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=s[++e])==null?void 0:t.type)==="space";);return s.splice(e,s.length)}function fixFlowSeqItems(s){if(s.start.type==="flow-seq-start")for(const e of s.items)e.sep&&!e.value&&!includesToken(e.start,"explicit-key-ind")&&!includesToken(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,isFlowToken(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Parser{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Lexer,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const a of this.lexer.lex(e,t))yield*this.next(a);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=tokenType(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const a=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:a,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(!t)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else{const a=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in a?a.indent:0:t.type==="flow-collection"&&a.type==="document"&&(t.indent=0),t.type==="flow-collection"&&fixFlowSeqItems(t),a.type){case"document":a.value=t;break;case"block-scalar":a.props.push(t);break;case"block-map":{const r=a.items[a.items.length-1];if(r.value){a.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!includesToken(r.start,"explicit-key-ind");return}break}case"block-seq":{const r=a.items[a.items.length-1];r.value?a.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{const r=a.items[a.items.length-1];!r||r.value?a.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((a.type==="document"||a.type==="block-map"||a.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&findNonEmptyIndex(r.start)===-1&&(t.indent===0||r.start.every(n=>n.type!=="comment"||n.indent<t.indent))&&(a.type==="document"?a.end=r.start:a.items.push({start:r.start}),t.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{findNonEmptyIndex(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=getPrevProps(this.peek(2)),a=getFirstKeyStartProps(t);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const n={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:a,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=n}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var a;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const r="end"in t.value?t.value.end:void 0,n=Array.isArray(r)?r[r.length-1]:void 0;(n==null?void 0:n.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2],n=(a=r==null?void 0:r.value)==null?void 0:a.end;if(Array.isArray(n)){Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent&&t.sep&&this.type!=="seq-item-ind";let n=[];if(r&&t.sep&&!t.value){const i=[];for(let o=0;o<t.sep.length;++o){const l=t.sep[o];switch(l.type){case"newline":i.push(o);break;case"space":break;case"comment":l.indent>e.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(n=t.sep.splice(i[1]))}switch(this.type){case"anchor":case"tag":r||t.value?(n.push(this.sourceToken),e.items.push({start:n}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!includesToken(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):r||t.value?(n.push(this.sourceToken),e.items.push({start:n})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(includesToken(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(includesToken(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]});else if(isFlowToken(t.key)&&!includesToken(t.sep,"newline")){const i=getFirstKeyStartProps(t.start),o=t.key,l=t.sep;l.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:o,sep:l}]})}else n.length>0?t.sep=t.sep.concat(n,this.sourceToken):t.sep.push(this.sourceToken);else if(includesToken(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const i=getFirstKeyStartProps(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||r?e.items.push({start:n,key:null,sep:[this.sourceToken]}):includesToken(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);r||t.value?(e.items.push({start:n,key:i,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(i):(Object.assign(t,{key:i,sep:[]}),this.onKeyLine=!0);return}default:{const i=this.startBlockValue(e);if(i){r&&i.type!=="block-seq"&&includesToken(t.start,"explicit-key-ind")&&e.items.push({start:n}),this.stack.push(i);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var a;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const r="end"in t.value?t.value.end:void 0,n=Array.isArray(r)?r[r.length-1]:void 0;(n==null?void 0:n.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const r=e.items[e.items.length-2],n=(a=r==null?void 0:r.value)==null?void 0:a.end;if(Array.isArray(n)){Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||includesToken(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let a;do yield*this.pop(),a=this.peek(1);while(a&&a.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const a=this.startBlockValue(e);a?this.stack.push(a):(yield*this.pop(),yield*this.step())}else{const a=this.peek(2);if(a.type==="block-map"&&(this.type==="map-value-ind"&&a.indent===e.indent||this.type==="newline"&&!a.items[a.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&a.type!=="flow-collection"){const r=getPrevProps(a),n=getFirstKeyStartProps(r);fixFlowSeqItems(e);const i=e.end.splice(1,e.end.length);i.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=getPrevProps(e),a=getFirstKeyStartProps(t);return a.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a}]}}case"map-value-ind":{this.onKeyLine=!0;const t=getPrevProps(e),a=getFirstKeyStartProps(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(a=>a.type==="newline"||a.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function parseOptions(s){const e=s.prettyErrors!==!1;return{lineCounter:s.lineCounter||e&&new LineCounter||null,prettyErrors:e}}function parseDocument(s,e={}){const{lineCounter:t,prettyErrors:a}=parseOptions(e),r=new Parser(t==null?void 0:t.addNewLine),n=new Composer(e);let i=null;for(const o of n.compose(r.parse(s),!0,s.length))if(!i)i=o;else if(i.options.logLevel!=="silent"){i.errors.push(new YAMLParseError(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return a&&t&&(i.errors.forEach(prettifyError(s,t)),i.warnings.forEach(prettifyError(s,t))),i}function parse(s,e,t){let a;const r=parseDocument(s,t);if(!r)return null;if(r.warnings.forEach(n=>warn(r.options.logLevel,n)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:a},t))}async function loadConfigFromUrl(s){try{const t=await(await fetch(s??"/config.tvs.yml")).text();return loadConfigFromYaml(t)}catch(e){return console.error(e),{config:null,channels:null}}}function loadConfigFromYaml(s){try{const e=parse(s),t={};for(const a of e.channels){const r=determineChannelNumber(a);t[r]=transformChannel(a)}return delete e.channels,console.debug("Config:",e),console.debug("Channels:",t),{config:e,channels:t}}catch(e){return console.error(e),{config:null,channels:null}}}function determineChannelNumber(s){const e=new Error("Unable to determine channel number; channels must be objects with a number or a key as the channel number",s);if(typeof s!="object")throw e;if(s.number)return s.number;const t=Object.keys(s);if(t.length===1)return parseInt(t[0]);for(const a of t)if(!Number.isNaN(parseInt(a)))return parseInt(a);throw e}function transformChannel(s){var t,a;let e=s.engine?[s.engine]:Object.keys(s).filter(r=>Object.keys(Components).includes(r));return s.hasContent=e.length===1,s.hasContent&&(s.engine=e[0],(t=Components[s.engine])!=null&&t.isContainer?s.props=s[s.engine].map(transformChannel):(a=Components[s.engine])!=null&&a.isLayout?s.props={a:transformChannel(s[s.engine].a),b:transformChannel(s[s.engine].b)}:s.props=s[s.engine]),delete s[s.engine],s}async function setUpIpcConfigLoading(s){window.electron&&window.electron.receivedConfigurationFromFilesystem?(console.debug("Setting up IPC for config loading"),window.electron.receivedConfigurationFromFilesystem(async e=>{console.log("Received config from main process",e);const t=loadConfigFromYaml(e);await s(t)}),window.electron.tvIsReady()):console.debug("Not running in Electron; skipping IPC setup.")}function shouldStartMuted(s){return window.electron&&s!==!0?!1:!s}function sendConfigToStandaloneApp(s){window.electron&&window.electron.sendConfigToStandaloneApp&&window.electron.sendConfigToStandaloneApp(s)}function setUpDragAndDrop(){window.electron&&window.electron.sendDroppedFilePathToMain?(window.removeEventListener("dragover",fileDragged),window.addEventListener("dragover",fileDragged),window.removeEventListener("drop",fileDropped),window.addEventListener("drop",fileDropped)):console.debug("Not running in Electron; skipping drag and drop setup.")}function fileDragged(s){s.preventDefault(),s.stopPropagation()}function fileDropped(s){if(s.preventDefault(),!s.dataTransfer||s.dataTransfer.files.length>1||s.dataTransfer.files.length===0)return;const e=s.dataTransfer.files[0];e&&e.path.endsWith(".tvs.yml")&&window.electron.sendDroppedFilePathToMain(e.path)}const screen1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%20640%20480'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cpath%20d='M640,0L640,480L-6,480L0,0L640,0ZM320,473.536C318.641,473.536%20318,474.197%20318,475C318,475.803%20318.641,476.445%20320,476.445C321.359,476.445%20322,475.803%20322,475C322,474.197%20321.359,473.536%20320,473.536ZM631.279,238.27C630.88,238.27%20630.557,239.045%20630.557,240C630.557,240.955%20630.88,241.73%20631.279,241.73C631.677,241.73%20632,240.955%20632,240C632,239.045%20631.677,238.27%20631.279,238.27ZM320,8C191.492,8%2095.117,12.878%2049.784,19.545C37.985,21.28%2027.729,32.194%2026.042,44C20.709,81.333%2010,135.788%2010,240C10,344.212%2018.593,398.667%2023.926,436C25.612,447.806%2035.746,458.265%2047.545,460C92.878,466.667%20176.254,472%20320,472C463.746,472%20544.667,466.667%20590,460C601.799,458.265%20610.239,447.806%20611.926,436C617.259,398.667%20630,343.788%20630,240C630,136.212%20619.376,81.333%20614.042,44C612.356,32.194%20601.799,21.735%20590,20C544.667,13.333%20464.169,8%20320,8ZM8.779,238.27C8.38,238.27%208.057,239.045%208.057,240C8.057,240.955%208.38,241.73%208.779,241.73C9.177,241.73%209.5,240.955%209.5,240C9.5,239.045%209.177,238.27%208.779,238.27ZM633.279,238.27C632.88,238.27%20632.557,239.045%20632.557,240C632.557,240.955%20632.88,241.73%20633.279,241.73C633.677,241.73%20634,240.955%20634,240C634,239.045%20633.677,238.27%20633.279,238.27ZM6.779,238.27C6.38,238.27%206.057,239.045%206.057,240C6.057,240.955%206.38,241.73%206.779,241.73C7.177,241.73%207.5,240.955%207.5,240C7.5,239.045%207.177,238.27%206.779,238.27ZM320,3.536C318.641,3.536%20318,4.197%20318,5C318,5.803%20318.641,6.445%20320,6.445C321.359,6.445%20322,5.803%20322,5C322,4.197%20321.359,3.536%20320,3.536Z'/%3e%3c/svg%3e",screen2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%20640%20480'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1.01754,0,0,1,-5.61404,0)'%3e%3cpath%20d='M643.655,488L-3.655,488L-3.655,-8L643.655,-8L643.655,488ZM624,12L16,12L16,468L624,468L624,12Z'/%3e%3c/g%3e%3c/svg%3e";function create_default_slot$1(s){let e,t;return{c(){e=element("img"),this.h()},l(a){e=claim_element(a,"IMG",{src:!0,alt:!0,style:!0}),this.h()},h(){src_url_equal(e.src,t=s[0])||attr(e,"src",t),attr(e,"alt","Bezels"),set_style(e,"transform","scaleX(1.01) scaleY(1.01)")},m(a,r){insert_hydration(a,e,r)},p(a,r){r&1&&!src_url_equal(e.src,t=a[0])&&attr(e,"src",t)},d(a){a&&detach(e)}}}function create_fragment$1(s){let e,t;return e=new Layer({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,[r]){const n={};r&5&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function instance$1(s,e,t){let{type:a="cylindrical"}=e,r;return s.$$set=n=>{"type"in n&&t(1,a=n.type)},s.$$.update=()=>{if(s.$$.dirty&2)switch(a){case"cylindrical":t(0,r=screen1);break;case"flat":t(0,r=screen2);break}},[r,a]}class Bezels extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{type:1})}}function create_if_block_9(s){let e,t;return{c(){e=element("base"),this.h()},l(a){e=claim_element(a,"BASE",{href:!0}),this.h()},h(){attr(e,"href",t=s[0].baseDirectory)},m(a,r){insert_hydration(a,e,r)},p(a,r){r[0]&1&&t!==(t=a[0].baseDirectory)&&attr(e,"href",t)},d(a){a&&detach(e)}}}function create_else_block_2(s){let e,t,a,r,n,i,o,l,u;t=new Layer({props:{classes:"shadow-2xl shadow-black"}});const m=[s[19]];let c={};for(let h=0;h<m.length;h+=1)c=assign(c,m[h]);return n=new Content({props:c}),l=new Scanlines({}),{c(){e=element("div"),a=element("div"),create_component(t.$$.fragment),r=space(),i=element("div"),create_component(n.$$.fragment),o=space(),create_component(l.$$.fragment),this.h()},l(h){e=claim_element(h,"DIV",{class:!0,style:!0});var p=children$1(e);a=claim_element(p,"DIV",{style:!0});var d=children$1(a);claim_component(t.$$.fragment,d),r=claim_space(p),i=claim_element(p,"DIV",{style:!0});var x=children$1(i);claim_component(n.$$.fragment,x),o=claim_space(p),claim_component(l.$$.fragment,p),p.forEach(detach),this.h()},h(){set_style(a,"display","contents"),set_style(a,"--background","black"),set_style(i,"display","contents"),set_style(i,"--pointer-events","auto"),attr(e,"class","tv flex items-center justify-center cursor-none relative svelte-1pfvzk1"),set_style(e,"width","640px"),set_style(e,"height","480px")},m(h,p){insert_hydration(h,e,p),append_hydration(e,a),mount_component(t,a,null),append_hydration(e,r),append_hydration(e,i),mount_component(n,i,null),append_hydration(e,o),mount_component(l,e,null),u=!0},p(h,p){const d=p[0]&524288?get_spread_update(m,[get_spread_object(h[19])]):{};n.$set(d)},i(h){u||(transition_in(t.$$.fragment,h),transition_in(n.$$.fragment,h),transition_in(l.$$.fragment,h),u=!0)},o(h){transition_out(t.$$.fragment,h),transition_out(n.$$.fragment,h),transition_out(l.$$.fragment,h),u=!1},d(h){h&&detach(e),destroy_component(t),destroy_component(n),destroy_component(l)}}}function create_if_block(s){var me;let e,t,a,r,n,i,o,l,u,m,c,h,p,d,x,M,A,w,E,g,q,k;t=new Layer({props:{classes:"shadow-2xl shadow-black"}});const L=[create_if_block_5,create_else_block_1],S=[];function R(W,ee){return W[4]?0:1}n=R(s),i=S[n]=L[n](s);function D(W){s[25](W)}function B(W){s[26](W)}function N(W){s[27](W)}let Q={classes:s[15]};s[2]!==void 0&&(Q.channel=s[2]),s[5]!==void 0&&(Q.manualChannelInput=s[5]),s[6]!==void 0&&(Q.osdSettings=s[6]),l=new Osd({props:Q}),binding_callbacks.push(()=>bind$1(l,"channel",D)),binding_callbacks.push(()=>bind$1(l,"manualChannelInput",B)),binding_callbacks.push(()=>bind$1(l,"osdSettings",N)),p=new Remote({props:{config:s[0]}}),p.$on("remote",s[20]);let P=s[9]&&create_if_block_4(s),U=s[10]&&create_if_block_3(s),$=s[8]&&(((me=s[2])==null?void 0:me.number)??0)>0&&create_if_block_2(s),J=s[12]&&create_if_block_1(s);return q=new ResizeWatcher({}),{c(){e=element("div"),a=element("div"),create_component(t.$$.fragment),r=space(),i.c(),o=space(),create_component(l.$$.fragment),h=space(),d=element("div"),create_component(p.$$.fragment),M=space(),P&&P.c(),A=space(),U&&U.c(),w=space(),$&&$.c(),E=space(),J&&J.c(),g=space(),create_component(q.$$.fragment),this.h()},l(W){e=claim_element(W,"DIV",{class:!0,style:!0});var ee=children$1(e);a=claim_element(ee,"DIV",{style:!0});var ue=children$1(a);claim_component(t.$$.fragment,ue),r=claim_space(ee),i.l(ee),o=claim_space(ee),claim_component(l.$$.fragment,ee),h=claim_space(ee),d=claim_element(ee,"DIV",{style:!0});var Z=children$1(d);claim_component(p.$$.fragment,Z),M=claim_space(ee),P&&P.l(ee),A=claim_space(ee),U&&U.l(ee),w=claim_space(ee),$&&$.l(ee),E=claim_space(ee),J&&J.l(ee),ee.forEach(detach),g=claim_space(W),claim_component(q.$$.fragment,W),this.h()},h(){var W,ee,ue,Z,ie;set_style(a,"display","contents"),set_style(a,"--background","black"),set_style(d,"display","contents"),set_style(d,"--osd-primary-color",x=((W=s[0])==null?void 0:W.osd)&&s[0].osd.primaryColor||(((ee=s[0])==null?void 0:ee.osd)!==!1&&((ue=s[0].osd)==null?void 0:ue.tuner)!==!1?(ie=(Z=s[0].osd)==null?void 0:Z.tuner)==null?void 0:ie.primaryColor:"yellow")),attr(e,"class","tv flex items-center justify-center cursor-none relative overflow-hidden svelte-1pfvzk1"),set_style(e,"width",s[3].screenWidth+"px"),set_style(e,"height",s[3].screenHeight+"px"),set_style(e,"--warmupDuration",s[16]+"s")},m(W,ee){insert_hydration(W,e,ee),append_hydration(e,a),mount_component(t,a,null),append_hydration(e,r),S[n].m(e,null),append_hydration(e,o),mount_component(l,e,null),append_hydration(e,h),append_hydration(e,d),mount_component(p,d,null),append_hydration(e,M),P&&P.m(e,null),append_hydration(e,A),U&&U.m(e,null),append_hydration(e,w),$&&$.m(e,null),append_hydration(e,E),J&&J.m(e,null),s[28](e),insert_hydration(W,g,ee),mount_component(q,W,ee),k=!0},p(W,ee){var fe,ye,xe,ge,Ae,O;let ue=n;n=R(W),n===ue?S[n].p(W,ee):(group_outros(),transition_out(S[ue],1,1,()=>{S[ue]=null}),check_outros(),i=S[n],i?i.p(W,ee):(i=S[n]=L[n](W),i.c()),transition_in(i,1),i.m(e,o));const Z={};ee[0]&32768&&(Z.classes=W[15]),!u&&ee[0]&4&&(u=!0,Z.channel=W[2],add_flush_callback(()=>u=!1)),!m&&ee[0]&32&&(m=!0,Z.manualChannelInput=W[5],add_flush_callback(()=>m=!1)),!c&&ee[0]&64&&(c=!0,Z.osdSettings=W[6],add_flush_callback(()=>c=!1)),l.$set(Z),ee[0]&1&&x!==(x=((fe=W[0])==null?void 0:fe.osd)&&W[0].osd.primaryColor||(((ye=W[0])==null?void 0:ye.osd)!==!1&&((xe=W[0].osd)==null?void 0:xe.tuner)!==!1?(Ae=(ge=W[0].osd)==null?void 0:ge.tuner)==null?void 0:Ae.primaryColor:"yellow"))&&set_style(d,"--osd-primary-color",x);const ie={};ee[0]&1&&(ie.config=W[0]),p.$set(ie),W[9]?P?(P.p(W,ee),ee[0]&512&&transition_in(P,1)):(P=create_if_block_4(W),P.c(),transition_in(P,1),P.m(e,A)):P&&(group_outros(),transition_out(P,1,1,()=>{P=null}),check_outros()),W[10]?U?(U.p(W,ee),ee[0]&1024&&transition_in(U,1)):(U=create_if_block_3(W),U.c(),transition_in(U,1),U.m(e,w)):U&&(group_outros(),transition_out(U,1,1,()=>{U=null}),check_outros()),W[8]&&(((O=W[2])==null?void 0:O.number)??0)>0?$?($.p(W,ee),ee[0]&260&&transition_in($,1)):($=create_if_block_2(W),$.c(),transition_in($,1),$.m(e,E)):$&&(group_outros(),transition_out($,1,1,()=>{$=null}),check_outros()),W[12]?J?(J.p(W,ee),ee[0]&4096&&transition_in(J,1)):(J=create_if_block_1(W),J.c(),transition_in(J,1),J.m(e,null)):J&&(group_outros(),transition_out(J,1,1,()=>{J=null}),check_outros()),(!k||ee[0]&8)&&set_style(e,"width",W[3].screenWidth+"px"),(!k||ee[0]&8)&&set_style(e,"height",W[3].screenHeight+"px"),(!k||ee[0]&65536)&&set_style(e,"--warmupDuration",W[16]+"s")},i(W){k||(transition_in(t.$$.fragment,W),transition_in(i),transition_in(l.$$.fragment,W),transition_in(p.$$.fragment,W),transition_in(P),transition_in(U),transition_in($),transition_in(J),transition_in(q.$$.fragment,W),k=!0)},o(W){transition_out(t.$$.fragment,W),transition_out(i),transition_out(l.$$.fragment,W),transition_out(p.$$.fragment,W),transition_out(P),transition_out(U),transition_out($),transition_out(J),transition_out(q.$$.fragment,W),k=!1},d(W){W&&(detach(e),detach(g)),destroy_component(t),S[n].d(),destroy_component(l),destroy_component(p),P&&P.d(),U&&U.d(),$&&$.d(),J&&J.d(),s[28](null),destroy_component(q,W)}}}function create_else_block_1(s){let e,t,a;const r=[{classes:s[15]},s[19]];let n={};for(let i=0;i<r.length;i+=1)n=assign(n,r[i]);return e=new Content({props:n}),{c(){t=element("div"),create_component(e.$$.fragment),this.h()},l(i){t=claim_element(i,"DIV",{style:!0});var o=children$1(t);claim_component(e.$$.fragment,o),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--pointer-events","auto")},m(i,o){insert_hydration(i,t,o),mount_component(e,t,null),a=!0},p(i,o){const l=o[0]&557056?get_spread_update(r,[o[0]&32768&&{classes:i[15]},o[0]&524288&&get_spread_object(i[19])]):{};e.$set(l)},i(i){a||(transition_in(e.$$.fragment,i),a=!0)},o(i){transition_out(e.$$.fragment,i),a=!1},d(i){i&&e&&detach(t),destroy_component(e,i)}}}function create_if_block_5(s){let e,t,a,r;const n=[create_if_block_6,create_else_block],i=[];function o(l,u){return l[2]&&l[2].hasContent?0:1}return e=o(s),t=i[e]=n[e](s),{c(){t.c(),a=empty()},l(l){t.l(l),a=empty()},m(l,u){i[e].m(l,u),insert_hydration(l,a,u),r=!0},p(l,u){let m=e;e=o(l),e===m?i[e].p(l,u):(group_outros(),transition_out(i[m],1,1,()=>{i[m]=null}),check_outros(),t=i[e],t?t.p(l,u):(t=i[e]=n[e](l),t.c()),transition_in(t,1),t.m(a.parentNode,a))},i(l){r||(transition_in(t),r=!0)},o(l){transition_out(t),r=!1},d(l){l&&detach(a),i[e].d(l)}}}function create_else_block(s){let e,t,a,r,n;return e=new Static({props:{classes:s[15]}}),r=new WhiteNoise({props:{playContinuously:!0}}),{c(){t=element("div"),create_component(e.$$.fragment),a=space(),create_component(r.$$.fragment),this.h()},l(i){t=claim_element(i,"DIV",{style:!0});var o=children$1(t);claim_component(e.$$.fragment,o),a=claim_space(i),claim_component(r.$$.fragment,i),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--blend-mode","luminosity"),set_style(t,"--opacity","1"),set_style(t,"--filter","grayscale()")},m(i,o){insert_hydration(i,t,o),mount_component(e,t,null),insert_hydration(i,a,o),mount_component(r,i,o),n=!0},p(i,o){const l={};o[0]&32768&&(l.classes=i[15]),e.$set(l)},i(i){n||(transition_in(e.$$.fragment,i),transition_in(r.$$.fragment,i),n=!0)},o(i){transition_out(e.$$.fragment,i),transition_out(r.$$.fragment,i),n=!1},d(i){i&&detach(a),i&&e&&detach(t),destroy_component(e,i),destroy_component(r,i)}}}function create_if_block_6(s){var u,m,c;let e=(u=s[2])==null?void 0:u.number,t,a,r,n,i=create_key_block_2(s),o=s[2].backgroundAudio&&create_if_block_8(s),l=s[7]&&((m=s[2])==null?void 0:m.number)&&((c=s[2])==null?void 0:c.number)>0&&create_if_block_7(s);return{c(){i.c(),t=space(),o&&o.c(),a=space(),l&&l.c(),r=empty()},l(h){i.l(h),t=claim_space(h),o&&o.l(h),a=claim_space(h),l&&l.l(h),r=empty()},m(h,p){i.m(h,p),insert_hydration(h,t,p),o&&o.m(h,p),insert_hydration(h,a,p),l&&l.m(h,p),insert_hydration(h,r,p),n=!0},p(h,p){var d,x,M;p[0]&4&&safe_not_equal(e,e=(d=h[2])==null?void 0:d.number)?(group_outros(),transition_out(i,1,1,noop$1),check_outros(),i=create_key_block_2(h),i.c(),transition_in(i,1),i.m(t.parentNode,t)):i.p(h,p),h[2].backgroundAudio?o?(o.p(h,p),p[0]&4&&transition_in(o,1)):(o=create_if_block_8(h),o.c(),transition_in(o,1),o.m(a.parentNode,a)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()),h[7]&&((x=h[2])!=null&&x.number)&&((M=h[2])==null?void 0:M.number)>0?l?(l.p(h,p),p[0]&132&&transition_in(l,1)):(l=create_if_block_7(h),l.c(),transition_in(l,1),l.m(r.parentNode,r)):l&&(group_outros(),transition_out(l,1,1,()=>{l=null}),check_outros())},i(h){n||(transition_in(i),transition_in(o),transition_in(l),n=!0)},o(h){transition_out(i),transition_out(o),transition_out(l),n=!1},d(h){h&&(detach(t),detach(a),detach(r)),i.d(h),o&&o.d(h),l&&l.d(h)}}}function create_default_slot(s){let e,t,a,r;const n=[s[2],{channels:s[4]},{isChangeAnimated:!0}];let i={};for(let o=0;o<n.length;o+=1)i=assign(i,n[o]);return e=new Content({props:i}),{c(){t=element("div"),create_component(e.$$.fragment),this.h()},l(o){t=claim_element(o,"DIV",{style:!0});var l=children$1(t);claim_component(e.$$.fragment,l),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--filter",a="blur("+s[14]+"px)"),set_style(t,"--pointer-events","auto")},m(o,l){insert_hydration(o,t,l),mount_component(e,t,null),r=!0},p(o,l){l[0]&16384&&a!==(a="blur("+o[14]+"px)")&&set_style(t,"--filter",a);const u=l[0]&20?get_spread_update(n,[l[0]&4&&get_spread_object(o[2]),l[0]&16&&{channels:o[4]},n[2]]):{};e.$set(u)},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){o&&e&&detach(t),destroy_component(e,o)}}}function create_key_block_2(s){let e,t;return e=new Layer({props:{classes:s[15],$$slots:{default:[create_default_slot]},$$scope:{ctx:s}}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r[0]&32768&&(n.classes=a[15]),r[0]&16404|r[1]&512&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_8(s){var n;let e=(n=s[2])==null?void 0:n.number,t,a,r=create_key_block_1(s);return{c(){r.c(),t=empty()},l(i){r.l(i),t=empty()},m(i,o){r.m(i,o),insert_hydration(i,t,o),a=!0},p(i,o){var l;o[0]&4&&safe_not_equal(e,e=(l=i[2])==null?void 0:l.number)?(group_outros(),transition_out(r,1,1,noop$1),check_outros(),r=create_key_block_1(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r.p(i,o)},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r.d(i)}}}function create_key_block_1(s){let e,t;return e=new BackgroundAudio({props:{props:s[2].backgroundAudioOptions,src:s[2].backgroundAudio}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r[0]&4&&(n.props=a[2].backgroundAudioOptions),r[0]&4&&(n.src=a[2].backgroundAudio),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_7(s){let e,t,a;return e=new Static({props:{classes:s[15]}}),{c(){t=element("div"),create_component(e.$$.fragment),this.h()},l(r){t=claim_element(r,"DIV",{style:!0});var n=children$1(t);claim_component(e.$$.fragment,n),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--blend-mode",s[17]),set_style(t,"--opacity",s[18])},m(r,n){insert_hydration(r,t,n),mount_component(e,t,null),a=!0},p(r,n){n[0]&131072&&set_style(t,"--blend-mode",r[17]),n[0]&262144&&set_style(t,"--opacity",r[18]);const i={};n[0]&32768&&(i.classes=r[15]),e.$set(i)},i(r){a||(transition_in(e.$$.fragment,r),a=!0)},o(r){transition_out(e.$$.fragment,r),a=!1},d(r){r&&e&&detach(t),destroy_component(e,r)}}}function create_if_block_4(s){let e,t;return e=new Scanlines({props:{classes:s[15]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r[0]&32768&&(n.classes=a[15]),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_3(s){let e,t,a;return e=new ShadowMask({props:{type:s[11]}}),{c(){t=element("div"),create_component(e.$$.fragment),this.h()},l(r){t=claim_element(r,"DIV",{style:!0});var n=children$1(t);claim_component(e.$$.fragment,n),this.h()},h(){set_style(t,"display","contents"),set_style(t,"--blend-mode","overlay")},m(r,n){insert_hydration(r,t,n),mount_component(e,t,null),a=!0},p(r,n){const i={};n[0]&2048&&(i.type=r[11]),e.$set(i)},i(r){a||(transition_in(e.$$.fragment,r),a=!0)},o(r){transition_out(e.$$.fragment,r),a=!1},d(r){r&&e&&detach(t),destroy_component(e,r)}}}function create_if_block_2(s){var n;let e=(n=s[2])==null?void 0:n.number,t,a,r=create_key_block();return{c(){r.c(),t=empty()},l(i){r.l(i),t=empty()},m(i,o){r.m(i,o),insert_hydration(i,t,o),a=!0},p(i,o){var l;o[0]&4&&safe_not_equal(e,e=(l=i[2])==null?void 0:l.number)?(group_outros(),transition_out(r,1,1,noop$1),check_outros(),r=create_key_block(),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r.p(i,o)},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r.d(i)}}}function create_key_block(s){let e,t;return e=new WhiteNoise({props:{playBlip:!0}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p:noop$1,i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_if_block_1(s){let e,t;return e=new Bezels({props:{type:s[13]}}),{c(){create_component(e.$$.fragment)},l(a){claim_component(e.$$.fragment,a)},m(a,r){mount_component(e,a,r),t=!0},p(a,r){const n={};r[0]&8192&&(n.type=a[13]),e.$set(n)},i(a){t||(transition_in(e.$$.fragment,a),t=!0)},o(a){transition_out(e.$$.fragment,a),t=!1},d(a){destroy_component(e,a)}}}function create_fragment(s){var c;let e,t,a,r,n,i,o=((c=s[0])==null?void 0:c.baseDirectory)&&create_if_block_9(s);const l=[create_if_block,create_else_block_2],u=[];function m(h,p){return h[0]?0:1}return a=m(s),r=u[a]=l[a](s),{c(){o&&o.c(),e=empty(),t=space(),r.c(),n=empty()},l(h){const p=head_selector("svelte-jm8ow3",document.head);o&&o.l(p),e=empty(),p.forEach(detach),t=claim_space(h),r.l(h),n=empty()},m(h,p){o&&o.m(document.head,null),append_hydration(document.head,e),insert_hydration(h,t,p),u[a].m(h,p),insert_hydration(h,n,p),i=!0},p(h,p){var x;(x=h[0])!=null&&x.baseDirectory?o?o.p(h,p):(o=create_if_block_9(h),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null);let d=a;a=m(h),a===d?u[a].p(h,p):(group_outros(),transition_out(u[d],1,1,()=>{u[d]=null}),check_outros(),r=u[a],r?r.p(h,p):(r=u[a]=l[a](h),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(h){i||(transition_in(r),i=!0)},o(h){transition_out(r),i=!1},d(h){h&&(detach(t),detach(n)),o&&o.d(h),detach(e),u[a].d(h)}}}function instance(s,e,t){let a,r,n,i,o,l;component_subscribe(s,isOn,xe=>t(33,n=xe)),component_subscribe(s,tvState,xe=>t(3,i=xe)),component_subscribe(s,containerHeight,xe=>t(23,o=xe)),component_subscribe(s,containerWidth,xe=>t(24,l=xe)),component_subscribe(s,loadTime,xe=>t(34,xe));let{configUrl:u}=e,m,c,h,p="",d,x,M;const A={name:"MENU",number:0,abbr:"MENU",hasContent:!0};let w;onMount(async()=>{if(u){const xe=await loadConfigFromUrl(u);xe.config&&(t(0,m=xe.config),t(6,M=xe.config.osd!==!1?xe.config.osd||{}:!1),t(4,c=xe.channels??[A]))}g(),E()}),onDestroy(()=>{d&&clearTimeout(d),W&&clearTimeout(W)});function E(){setUpIpcConfigLoading(async xe=>{xe&&xe.config&&(t(0,m=xe.config),t(4,c=xe.channels??[A])),g()}),setUpDragAndDrop()}function g(){m&&c&&(h=Object.keys(c).map(xe=>parseInt(xe)).sort(function(xe,ge){return xe-ge}),h.length>0?t(2,w=m.defaultChannel&&c[m.defaultChannel]||c[h[0]]):t(2,w=A)),sendConfigToStandaloneApp(m),i.autoScaleManuallySet||set_store_value(tvState,i.manualAutoScale=typeof(m==null?void 0:m.autoScale)=="boolean"?m==null?void 0:m.autoScale:!0,i),set_store_value(tvState,i.isMuting=shouldStartMuted(m==null?void 0:m.startUnmuted),i),set_store_value(tvState,i.border=(m==null?void 0:m.border)||"",i),set_store_value(tvState,i.applicationTitle=(m==null?void 0:m.applicationTitle)||"Television Simulator '99",i),m.warmup===!1||m.warmup===0?t(16,ee=0):t(16,ee=(m==null?void 0:m.warmup)||7),isOn.subscribe(ue)}function q(){if(!w){t(2,w=c[h[0]]);return}if(h.indexOf(w.number)===h.length-1)t(2,w=c[h[0]]);else{const ge=h[h.indexOf(w==null?void 0:w.number)+1];t(2,w=c[ge])}}function k(){if(!w){t(2,w=c[h[0]]);return}if(h.indexOf(w.number)===0)t(2,w=c[h[h.length-1]]);else{const ge=h[h.indexOf(w==null?void 0:w.number)-1];t(2,w=c[ge])}}function L(xe){if(n)t(15,me=""),clearTimeout(W);else return;switch(xe.detail.command){case"channelUp":q();break;case"channelDown":k();break;case"number":t(5,p+=xe.detail.value),clearTimeout(d),d=setTimeout(()=>{const ge=parseInt(p);h.indexOf(ge)>-1&&t(2,w=c[ge]),t(5,p="")},1e3);break}}let S,R,D,B,N,Q,P,U,$=1,J=!1,me,W,ee;function ue(){if(!ee||!J){n?t(15,me=""):t(15,me="tv-immediately-off"),J=!0;return}clearTimeout(W),n?(t(15,me="tv-on"),W=setTimeout(()=>{t(15,me="")},ee*1e3)):t(15,me="tv-off"),J=!0}function Z(xe){w=xe,t(2,w)}function ie(xe){p=xe,t(5,p)}function fe(xe){M=xe,t(6,M)}function ye(xe){binding_callbacks[xe?"unshift":"push"](()=>{x=xe,t(1,x),t(3,i),t(24,l),t(23,o),t(22,$),t(0,m)})}return s.$$set=xe=>{"configUrl"in xe&&t(21,u=xe.configUrl)},s.$$.update=()=>{s.$$.dirty[0]&13&&(i.isNoiseHidden||typeof(w==null?void 0:w.noise)=="boolean"&&!w.noise||!(w!=null&&w.noise)&&typeof(m==null?void 0:m.noise)=="boolean"&&!m.noise?t(7,S=!1):t(7,S=!0)),s.$$.dirty[0]&9&&(i.isChangeChannelNoiseMuted||typeof(m==null?void 0:m.changeChannelNoise)=="boolean"&&!m.changeChannelNoise?t(8,R=!1):t(8,R=!0)),s.$$.dirty[0]&9&&(i.areScanlinesHidden||typeof(m==null?void 0:m.scanlines)=="boolean"&&!m.scanlines?t(9,D=!1):t(9,D=!0)),s.$$.dirty[0]&9&&(i.isShadowMaskHidden||i.shadowMaskType==="none"?t(10,B=!1):i.shadowMaskType?(t(10,B=!0),t(11,N=i.shadowMaskType)):typeof(m==null?void 0:m.shadowMask)=="string"&&m.shadowMask!=="none"&&ShadowMaskTypes.includes(m.shadowMask)&&(t(10,B=!0),t(11,N=m.shadowMask))),s.$$.dirty[0]&9&&(i.isBezelHidden||i.bezelType==="none"?t(12,Q=!1):i.bezelType?(t(12,Q=!0),t(13,P=i.bezelType)):typeof(m==null?void 0:m.bezel)=="string"&&m.bezel!=="none"&&BezelTypes.includes(m.bezel)&&(t(12,Q=!0),t(13,P=m.bezel))),s.$$.dirty[0]&13&&(i.isBlurHidden||typeof(w==null?void 0:w.blur)=="boolean"&&!w.blur||!(w!=null&&w.blur)&&typeof(m==null?void 0:m.blur)=="boolean"&&!m.blur?t(14,U=0):t(14,U=(w==null?void 0:w.blur)||(m==null?void 0:m.blur)||1)),s.$$.dirty[0]&5&&t(18,a=(w==null?void 0:w.noise)||(m==null?void 0:m.noise)||.25),s.$$.dirty[0]&5&&t(17,r=(w==null?void 0:w.noiseBlendMode)||(m==null?void 0:m.noiseBlendMode)||"screen"),s.$$.dirty[0]&29360139&&x&&(i.autoScaleManuallySet?i.manualAutoScale?(t(22,$=Math.min(l/i.screenWidth,o/i.screenHeight)),t(1,x.style.zoom=`${$}`,x)):t(1,x.style.zoom="",x):i.autoScaleManuallySet&&i.manualAutoScale||!(typeof(m==null?void 0:m.autoScale)=="boolean"&&!m.autoScale)?(t(22,$=Math.min(l/i.screenWidth,o/i.screenHeight)),t(1,x.style.zoom=`${$}`,x)):t(1,x.style.zoom="",x))},[m,x,w,i,c,p,M,S,R,D,B,N,Q,P,U,me,ee,r,a,A,L,u,$,o,l,Z,ie,fe,ye]}class Tv extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{configUrl:21},null,[-1,-1])}}export{Tv as T};
